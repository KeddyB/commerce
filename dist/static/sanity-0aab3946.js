function p0(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function nd(e){return p0(e)&&typeof e._ref=="string"}function PMe(e){return p0(e)&&nd(e.asset)&&e.asset._ref.startsWith("image-")}function jve(e){return p0(e)&&typeof e._ref=="string"&&typeof e._dataset=="string"&&typeof e._projectId=="string"}function RMe(e){return p0(e)&&typeof e._id=="string"&&typeof e._type=="string"}function xF(e){return p0(e)&&typeof e._type=="string"}function jl(e){return p0(e)&&typeof e._key=="string"}function $Me(e){return e.level==="error"}const MMe=/_key\s*==\s*['"](.*)['"]/,FMe=/^\d*:\d*$/;function Cl(e){return typeof e=="number"||typeof e=="string"&&/^\[\d+\]$/.test(e)}function Mr(e){return typeof e=="string"?MMe.test(e.trim()):typeof e=="object"&&"_key"in e}function Pp(e){if(typeof e=="string"&&FMe.test(e))return!0;if(!Array.isArray(e)||e.length!==2)return!1;const[t,n]=e;return(typeof t=="number"||t==="")&&(typeof n=="number"||n==="")}function A2(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Uf(e){return A2(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>A2(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>A2(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function Ks(e){return A2(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function LMe(e){return Uf(e)&&"listItem"in e&&typeof e.listItem=="string"&&"level"in e&&Number.isInteger(e.level)}function lm(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Ka(e){return lm(e)?e.jsonType==="object":!1}function Fl(e){return lm(e)?e.jsonType==="array":!1}function wF(e){return Fl(e)&&e.of.every(t=>Ka(t))}function BMe(e){return Fl(e)&&e.of.every(t=>Ave(t))}function ow(e){return lm(e)?e.jsonType==="boolean":!1}function Tve(e){return lm(e)?e.jsonType==="string":!1}function Rp(e){return lm(e)?e.jsonType==="number":!1}function Ave(e){return ow(e)||Tve(e)||Rp(e)}function Du(e){return lm(e)&&(e.name==="reference"||Du(e.type))}function CF(e){return lm(e)&&(e.name==="crossDatasetReference"||CF(e.type))}function _F(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function Dve(e,t){return e}function NMe(e,t){return e}function zMe(e){return e.level==="error"}function VMe(e){return e.level==="warning"}var ws=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function HMe(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Ive={exports:{}},q5={},Ove={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iw=Symbol.for("react.element"),UMe=Symbol.for("react.portal"),WMe=Symbol.for("react.fragment"),qMe=Symbol.for("react.strict_mode"),YMe=Symbol.for("react.profiler"),GMe=Symbol.for("react.provider"),KMe=Symbol.for("react.context"),ZMe=Symbol.for("react.forward_ref"),XMe=Symbol.for("react.suspense"),QMe=Symbol.for("react.memo"),JMe=Symbol.for("react.lazy"),zz=Symbol.iterator;function e4e(e){return e===null||typeof e!="object"?null:(e=zz&&e[zz]||e["@@iterator"],typeof e=="function"?e:null)}var Pve={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rve=Object.assign,$ve={};function m0(e,t,n){this.props=e,this.context=t,this.refs=$ve,this.updater=n||Pve}m0.prototype.isReactComponent={};m0.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};m0.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Mve(){}Mve.prototype=m0.prototype;function SF(e,t,n){this.props=e,this.context=t,this.refs=$ve,this.updater=n||Pve}var EF=SF.prototype=new Mve;EF.constructor=SF;Rve(EF,m0.prototype);EF.isPureReactComponent=!0;var Vz=Array.isArray,Fve=Object.prototype.hasOwnProperty,kF={current:null},Lve={key:!0,ref:!0,__self:!0,__source:!0};function Bve(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Fve.call(t,r)&&!Lve.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:iw,type:e,key:i,ref:s,props:o,_owner:kF.current}}function t4e(e,t){return{$$typeof:iw,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jF(e){return typeof e=="object"&&e!==null&&e.$$typeof===iw}function n4e(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hz=/\/+/g;function ID(e,t){return typeof e=="object"&&e!==null&&e.key!=null?n4e(""+e.key):t.toString(36)}function D2(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case iw:case UMe:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+ID(s,0):r,Vz(o)?(n="",e!=null&&(n=e.replace(Hz,"$&/")+"/"),D2(o,t,n,"",function(u){return u})):o!=null&&(jF(o)&&(o=t4e(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Hz,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Vz(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+ID(i,a);s+=D2(i,t,n,c,o)}else if(c=e4e(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+ID(i,a++),s+=D2(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function RC(e,t,n){if(e==null)return e;var r=[],o=0;return D2(e,r,"","",function(i){return t.call(n,i,o++)}),r}function r4e(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ts={current:null},I2={transition:null},o4e={ReactCurrentDispatcher:ts,ReactCurrentBatchConfig:I2,ReactCurrentOwner:kF};qt.Children={map:RC,forEach:function(e,t,n){RC(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return RC(e,function(){t++}),t},toArray:function(e){return RC(e,function(t){return t})||[]},only:function(e){if(!jF(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qt.Component=m0;qt.Fragment=WMe;qt.Profiler=YMe;qt.PureComponent=SF;qt.StrictMode=qMe;qt.Suspense=XMe;qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o4e;qt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Rve({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=kF.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Fve.call(t,c)&&!Lve.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:iw,type:e.type,key:o,ref:i,props:r,_owner:s}};qt.createContext=function(e){return e={$$typeof:KMe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:GMe,_context:e},e.Consumer=e};qt.createElement=Bve;qt.createFactory=function(e){var t=Bve.bind(null,e);return t.type=e,t};qt.createRef=function(){return{current:null}};qt.forwardRef=function(e){return{$$typeof:ZMe,render:e}};qt.isValidElement=jF;qt.lazy=function(e){return{$$typeof:JMe,_payload:{_status:-1,_result:e},_init:r4e}};qt.memo=function(e,t){return{$$typeof:QMe,type:e,compare:t===void 0?null:t}};qt.startTransition=function(e){var t=I2.transition;I2.transition={};try{e()}finally{I2.transition=t}};qt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};qt.useCallback=function(e,t){return ts.current.useCallback(e,t)};qt.useContext=function(e){return ts.current.useContext(e)};qt.useDebugValue=function(){};qt.useDeferredValue=function(e){return ts.current.useDeferredValue(e)};qt.useEffect=function(e,t){return ts.current.useEffect(e,t)};qt.useId=function(){return ts.current.useId()};qt.useImperativeHandle=function(e,t,n){return ts.current.useImperativeHandle(e,t,n)};qt.useInsertionEffect=function(e,t){return ts.current.useInsertionEffect(e,t)};qt.useLayoutEffect=function(e,t){return ts.current.useLayoutEffect(e,t)};qt.useMemo=function(e,t){return ts.current.useMemo(e,t)};qt.useReducer=function(e,t,n){return ts.current.useReducer(e,t,n)};qt.useRef=function(e){return ts.current.useRef(e)};qt.useState=function(e){return ts.current.useState(e)};qt.useSyncExternalStore=function(e,t,n){return ts.current.useSyncExternalStore(e,t,n)};qt.useTransition=function(){return ts.current.useTransition()};qt.version="18.2.0";Ove.exports=qt;var h=Ove.exports;const re=Ie(h);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i4e=h,s4e=Symbol.for("react.element"),a4e=Symbol.for("react.fragment"),l4e=Object.prototype.hasOwnProperty,c4e=i4e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u4e={key:!0,ref:!0,__self:!0,__source:!0};function Nve(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)l4e.call(t,r)&&!u4e.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:s4e,type:e,key:i,ref:s,props:o,_owner:c4e.current}}q5.Fragment=a4e;q5.jsx=Nve;q5.jsxs=Nve;Ive.exports=q5;var l=Ive.exports;const d4e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f4e=/_key\s*==\s*['"](.*)['"]/,zve=[],Vve="$";function cm(e,t,n){const r=typeof t=="string"?Tl(t):t;if(!Array.isArray(r))throw new Error("Path must be an array or a string");let o=e;for(let i=0;i<r.length;i++){const s=r[i];if(Cl(s)){if(!Array.isArray(o))return n;o=o[s]}if(Mr(s)){if(!Array.isArray(o))return n;o=o.find(a=>a._key===s._key)}if(typeof s=="string"&&(o=typeof o=="object"&&o!==null?o[s]:void 0),typeof o>"u")return n}return o}const OD=new Map;function um(e){if(e.length===0)return zve;const t=Nr(e);return OD.has(t)?OD.get(t):(OD.set(t,e),Object.freeze(e),e)}function wn(e,t){return e.length===t.length&&e.every((n,r)=>Y5(n,t[r]))}function h4e(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++)if(!Y5(e[r],t[r]))return r;return n}function Y5(e,t){return Mr(e)&&Mr(t)?e._key===t._key:Cl(e)?Number(e)===Number(t):Pp(e)&&Pp(t)?e[0]===t[0]&&e[1]===t[1]:e===t}function Si(e,t){return e.every((n,r)=>Y5(n,t[r]))}function Uy(e,t){if(e.length===0||t.length===0)return t;const[n,...r]=e,[o,...i]=t;return Y5(n,o)?um(Uy(r,i)):t}function TF(e,t){return Si(e,t)?Uy(e,t):zve}function Nr(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Mr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function AP(e,t){if(t.length===0)return t;const[n,...r]=t;if(typeof n=="number"){if(!Array.isArray(e)||!(n in e))return[];const i=e[n];return[typeof(i==null?void 0:i._key)=="string"?{_key:i._key}:n,...AP(i,r)]}const o=cm(e,[n]);return[n,...AP(o,r)]}function p4e(e,t){if(!Array.isArray(t))throw new Error("Path is not an array");return um(AP(e,t))}function Tl(e){if(typeof e!="string")throw new Error("Path is not a string");const t=e.match(d4e);if(!t)throw new Error("Invalid path string");return t.map(m4e)}function m4e(e){return Cl(e)?g4e(e):Mr(e)?v4e(e):Pp(e)?y4e(e):e}function g4e(e){return Number(e.replace(/[^\d]/g,""))}function v4e(e){return{_key:e.match(f4e)[1]}}function y4e(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}var b4e=typeof Element<"u",x4e=typeof Map=="function",w4e=typeof Set=="function",C4e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function O2(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,o;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!O2(e[r],t[r]))return!1;return!0}var i;if(x4e&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;for(i=e.entries();!(r=i.next()).done;)if(!O2(r.value[1],t.get(r.value[0])))return!1;return!0}if(w4e&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(i=e.entries();!(r=i.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(C4e&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,o[r]))return!1;if(b4e&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((o[r]==="_owner"||o[r]==="__v"||o[r]==="__o")&&e.$$typeof)&&!O2(e[o[r]],t[o[r]]))return!1;return!0}return e!==e&&t!==t}var _4e=function(t,n){try{return O2(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const AF=Ie(_4e);function S4e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Za=S4e;const sw=Ie(Za);var E4e=typeof ws=="object"&&ws&&ws.Object===Object&&ws,Hve=E4e,k4e=Hve,j4e=typeof self=="object"&&self&&self.Object===Object&&self,T4e=k4e||j4e||Function("return this")(),Ll=T4e,A4e=Ll,D4e=function(){return A4e.Date.now()},I4e=D4e,O4e=/\s/;function P4e(e){for(var t=e.length;t--&&O4e.test(e.charAt(t)););return t}var R4e=P4e,$4e=R4e,M4e=/^\s+/;function F4e(e){return e&&e.slice(0,$4e(e)+1).replace(M4e,"")}var Uve=F4e,L4e=Ll,B4e=L4e.Symbol,g0=B4e,Uz=g0,Wve=Object.prototype,N4e=Wve.hasOwnProperty,z4e=Wve.toString,S1=Uz?Uz.toStringTag:void 0;function V4e(e){var t=N4e.call(e,S1),n=e[S1];try{e[S1]=void 0;var r=!0}catch{}var o=z4e.call(e);return r&&(t?e[S1]=n:delete e[S1]),o}var H4e=V4e,U4e=Object.prototype,W4e=U4e.toString;function q4e(e){return W4e.call(e)}var Y4e=q4e,Wz=g0,G4e=H4e,K4e=Y4e,Z4e="[object Null]",X4e="[object Undefined]",qz=Wz?Wz.toStringTag:void 0;function Q4e(e){return e==null?e===void 0?X4e:Z4e:qz&&qz in Object(e)?G4e(e):K4e(e)}var Wf=Q4e;function J4e(e){return e!=null&&typeof e=="object"}var Xa=J4e,eFe=Wf,tFe=Xa,nFe="[object Symbol]";function rFe(e){return typeof e=="symbol"||tFe(e)&&eFe(e)==nFe}var dm=rFe,oFe=Uve,Yz=Za,iFe=dm,Gz=0/0,sFe=/^[-+]0x[0-9a-f]+$/i,aFe=/^0b[01]+$/i,lFe=/^0o[0-7]+$/i,cFe=parseInt;function uFe(e){if(typeof e=="number")return e;if(iFe(e))return Gz;if(Yz(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Yz(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=oFe(e);var n=aFe.test(e);return n||lFe.test(e)?cFe(e.slice(2),n?2:8):sFe.test(e)?Gz:+e}var qve=uFe,dFe=Za,PD=I4e,Kz=qve,fFe="Expected a function",hFe=Math.max,pFe=Math.min;function mFe(e,t,n){var r,o,i,s,a,c,u=0,d=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(fFe);t=Kz(t)||0,dFe(n)&&(d=!!n.leading,f="maxWait"in n,i=f?hFe(Kz(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p);function m(S){var E=r,j=o;return r=o=void 0,u=S,s=e.apply(j,E),s}function v(S){return u=S,a=setTimeout(x,t),d?m(S):s}function g(S){var E=S-c,j=S-u,k=t-E;return f?pFe(k,i-j):k}function b(S){var E=S-c,j=S-u;return c===void 0||E>=t||E<0||f&&j>=i}function x(){var S=PD();if(b(S))return y(S);a=setTimeout(x,g(S))}function y(S){return a=void 0,p&&r?m(S):(r=o=void 0,s)}function w(){a!==void 0&&clearTimeout(a),u=0,r=c=o=a=void 0}function C(){return a===void 0?s:y(PD())}function _(){var S=PD(),E=b(S);if(r=arguments,o=this,c=S,E){if(a===void 0)return v(c);if(f)return clearTimeout(a),a=setTimeout(x,t),m(c)}return a===void 0&&(a=setTimeout(x,t)),s}return _.cancel=w,_.flush=C,_}var Yve=mFe;const aw=Ie(Yve);function DF(){var e=Object.create(null),t=0;function n(o){var i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(var i in e)e[i](o)}return{publish:r,subscribe:n}}var Gve={exports:{}},kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IF=Symbol.for("react.element"),OF=Symbol.for("react.portal"),G5=Symbol.for("react.fragment"),K5=Symbol.for("react.strict_mode"),Z5=Symbol.for("react.profiler"),X5=Symbol.for("react.provider"),Q5=Symbol.for("react.context"),gFe=Symbol.for("react.server_context"),J5=Symbol.for("react.forward_ref"),ej=Symbol.for("react.suspense"),tj=Symbol.for("react.suspense_list"),nj=Symbol.for("react.memo"),rj=Symbol.for("react.lazy"),vFe=Symbol.for("react.offscreen"),Kve;Kve=Symbol.for("react.module.reference");function Qa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case IF:switch(e=e.type,e){case G5:case Z5:case K5:case ej:case tj:return e;default:switch(e=e&&e.$$typeof,e){case gFe:case Q5:case J5:case rj:case nj:case X5:return e;default:return t}}case OF:return t}}}kn.ContextConsumer=Q5;kn.ContextProvider=X5;kn.Element=IF;kn.ForwardRef=J5;kn.Fragment=G5;kn.Lazy=rj;kn.Memo=nj;kn.Portal=OF;kn.Profiler=Z5;kn.StrictMode=K5;kn.Suspense=ej;kn.SuspenseList=tj;kn.isAsyncMode=function(){return!1};kn.isConcurrentMode=function(){return!1};kn.isContextConsumer=function(e){return Qa(e)===Q5};kn.isContextProvider=function(e){return Qa(e)===X5};kn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===IF};kn.isForwardRef=function(e){return Qa(e)===J5};kn.isFragment=function(e){return Qa(e)===G5};kn.isLazy=function(e){return Qa(e)===rj};kn.isMemo=function(e){return Qa(e)===nj};kn.isPortal=function(e){return Qa(e)===OF};kn.isProfiler=function(e){return Qa(e)===Z5};kn.isStrictMode=function(e){return Qa(e)===K5};kn.isSuspense=function(e){return Qa(e)===ej};kn.isSuspenseList=function(e){return Qa(e)===tj};kn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===G5||e===Z5||e===K5||e===ej||e===tj||e===vFe||typeof e=="object"&&e!==null&&(e.$$typeof===rj||e.$$typeof===nj||e.$$typeof===X5||e.$$typeof===Q5||e.$$typeof===J5||e.$$typeof===Kve||e.getModuleId!==void 0)};kn.typeOf=Qa;Gve.exports=kn;var kr=Gve.exports;const yFe=Ie(kr);var DP=function(e,t){return DP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},DP(e,t)};function aa(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");DP(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var ko=function(){return ko=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ko.apply(this,arguments)};function bFe(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(d){try{u(r.next(d))}catch(f){s(f)}}function c(d){try{u(r.throw(d))}catch(f){s(f)}}function u(d){d.done?i(d.value):o(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function Zve(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(u[0]===6&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],o=0}finally{r=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function $p(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ha(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function ni(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Kg(e){return this instanceof Kg?(this.v=e,this):new Kg(e)}function xFe(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(p){r[p]&&(o[p]=function(m){return new Promise(function(v,g){i.push([p,m,v,g])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(v){f(i[0][3],v)}}function c(p){p.value instanceof Kg?Promise.resolve(p.value.v).then(u,d):f(i[0][2],p)}function u(p){a("next",p)}function d(p){a("throw",p)}function f(p,m){p(m),i.shift(),i.length&&a(i[0][0],i[0][1])}}function wFe(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof $p=="function"?$p(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(a,c){s=e[i](s),o(a,c,s.done,s.value)})}}function o(i,s,a,c){Promise.resolve(c).then(function(u){i({value:u,done:a})},s)}}var rr="-ms-",Wy="-moz-",bn="-webkit-",Xve="comm",oj="rule",PF="decl",CFe="@import",Qve="@keyframes",_Fe="@layer",SFe=Math.abs,RF=String.fromCharCode,IP=Object.assign;function EFe(e,t){return Mo(e,0)^45?(((t<<2^Mo(e,0))<<2^Mo(e,1))<<2^Mo(e,2))<<2^Mo(e,3):0}function Jve(e){return e.trim()}function su(e,t){return(e=t.exec(e))?e[0]:e}function jt(e,t,n){return e.replace(t,n)}function P2(e,t){return e.indexOf(t)}function Mo(e,t){return e.charCodeAt(t)|0}function Av(e,t,n){return e.slice(t,n)}function oc(e){return e.length}function e0e(e){return e.length}function gy(e,t){return t.push(e),e}function kFe(e,t){return e.map(t).join("")}function Zz(e,t){return e.filter(function(n){return!su(n,t)})}var ij=1,Dv=1,t0e=0,Ua=0,co=0,v0="";function sj(e,t,n,r,o,i,s,a){return{value:e,root:t,parent:n,type:r,props:o,children:i,line:ij,column:Dv,length:s,return:"",siblings:a}}function Sd(e,t){return IP(sj("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function Um(e){for(;e.root;)e=Sd(e.root,{children:[e]});gy(e,e.siblings)}function jFe(){return co}function TFe(){return co=Ua>0?Mo(v0,--Ua):0,Dv--,co===10&&(Dv=1,ij--),co}function _l(){return co=Ua<t0e?Mo(v0,Ua++):0,Dv++,co===10&&(Dv=1,ij++),co}function gp(){return Mo(v0,Ua)}function R2(){return Ua}function aj(e,t){return Av(v0,e,t)}function OP(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function AFe(e){return ij=Dv=1,t0e=oc(v0=e),Ua=0,[]}function DFe(e){return v0="",e}function RD(e){return Jve(aj(Ua-1,PP(e===91?e+2:e===40?e+1:e)))}function IFe(e){for(;(co=gp())&&co<33;)_l();return OP(e)>2||OP(co)>3?"":" "}function OFe(e,t){for(;--t&&_l()&&!(co<48||co>102||co>57&&co<65||co>70&&co<97););return aj(e,R2()+(t<6&&gp()==32&&_l()==32))}function PP(e){for(;_l();)switch(co){case e:return Ua;case 34:case 39:e!==34&&e!==39&&PP(co);break;case 40:e===41&&PP(e);break;case 92:_l();break}return Ua}function PFe(e,t){for(;_l()&&e+co!==47+10;)if(e+co===42+42&&gp()===47)break;return"/*"+aj(t,Ua-1)+"*"+RF(e===47?e:_l())}function RFe(e){for(;!OP(gp());)_l();return aj(e,Ua)}function $Fe(e){return DFe($2("",null,null,null,[""],e=AFe(e),0,[0],e))}function $2(e,t,n,r,o,i,s,a,c){for(var u=0,d=0,f=s,p=0,m=0,v=0,g=1,b=1,x=1,y=0,w="",C=o,_=i,S=r,E=w;b;)switch(v=y,y=_l()){case 40:if(v!=108&&Mo(E,f-1)==58){P2(E+=jt(RD(y),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:E+=RD(y);break;case 9:case 10:case 13:case 32:E+=IFe(v);break;case 92:E+=OFe(R2()-1,7);continue;case 47:switch(gp()){case 42:case 47:gy(MFe(PFe(_l(),R2()),t,n,c),c);break;default:E+="/"}break;case 123*g:a[u++]=oc(E)*x;case 125*g:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+d:x==-1&&(E=jt(E,/\f/g,"")),m>0&&oc(E)-f&&gy(m>32?Qz(E+";",r,n,f-1,c):Qz(jt(E," ","")+";",r,n,f-2,c),c);break;case 59:E+=";";default:if(gy(S=Xz(E,t,n,u,d,o,a,w,C=[],_=[],f,i),i),y===123)if(d===0)$2(E,t,S,S,C,i,f,a,_);else switch(p===99&&Mo(E,3)===110?100:p){case 100:case 108:case 109:case 115:$2(e,S,S,r&&gy(Xz(e,S,S,0,0,o,a,w,o,C=[],f,_),_),o,_,f,a,r?C:_);break;default:$2(E,S,S,S,[""],_,0,a,_)}}u=d=m=0,g=x=1,w=E="",f=s;break;case 58:f=1+oc(E),m=v;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&TFe()==125)continue}switch(E+=RF(y),y*g){case 38:x=d>0?1:(E+="\f",-1);break;case 44:a[u++]=(oc(E)-1)*x,x=1;break;case 64:gp()===45&&(E+=RD(_l())),p=gp(),d=f=oc(w=E+=RFe(R2())),y++;break;case 45:v===45&&oc(E)==2&&(g=0)}}return i}function Xz(e,t,n,r,o,i,s,a,c,u,d,f){for(var p=o-1,m=o===0?i:[""],v=e0e(m),g=0,b=0,x=0;g<r;++g)for(var y=0,w=Av(e,p+1,p=SFe(b=s[g])),C=e;y<v;++y)(C=Jve(b>0?m[y]+" "+w:jt(w,/&\f/g,m[y])))&&(c[x++]=C);return sj(e,t,n,o===0?oj:a,c,u,d,f)}function MFe(e,t,n,r){return sj(e,t,n,Xve,RF(jFe()),Av(e,2,-2),0,r)}function Qz(e,t,n,r,o){return sj(e,t,n,PF,Av(e,0,r),Av(e,r+1,-1),r,o)}function n0e(e,t,n){switch(EFe(e,t)){case 5103:return bn+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return bn+e+e;case 4789:return Wy+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return bn+e+Wy+e+rr+e+e;case 5936:switch(Mo(e,t+11)){case 114:return bn+e+rr+jt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return bn+e+rr+jt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return bn+e+rr+jt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return bn+e+rr+e+e;case 6165:return bn+e+rr+"flex-"+e+e;case 5187:return bn+e+jt(e,/(\w+).+(:[^]+)/,bn+"box-$1$2"+rr+"flex-$1$2")+e;case 5443:return bn+e+rr+"flex-item-"+jt(e,/flex-|-self/g,"")+(su(e,/flex-|baseline/)?"":rr+"grid-row-"+jt(e,/flex-|-self/g,""))+e;case 4675:return bn+e+rr+"flex-line-pack"+jt(e,/align-content|flex-|-self/g,"")+e;case 5548:return bn+e+rr+jt(e,"shrink","negative")+e;case 5292:return bn+e+rr+jt(e,"basis","preferred-size")+e;case 6060:return bn+"box-"+jt(e,"-grow","")+bn+e+rr+jt(e,"grow","positive")+e;case 4554:return bn+jt(e,/([^-])(transform)/g,"$1"+bn+"$2")+e;case 6187:return jt(jt(jt(e,/(zoom-|grab)/,bn+"$1"),/(image-set)/,bn+"$1"),e,"")+e;case 5495:case 3959:return jt(e,/(image-set\([^]*)/,bn+"$1$`$1");case 4968:return jt(jt(e,/(.+:)(flex-)?(.*)/,bn+"box-pack:$3"+rr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+bn+e+e;case 4200:if(!su(e,/flex-|baseline/))return rr+"grid-column-align"+Av(e,t)+e;break;case 2592:case 3360:return rr+jt(e,"template-","")+e;case 4384:case 3616:return n&&n.some(function(r,o){return t=o,su(r.props,/grid-\w+-end/)})?~P2(e+(n=n[t].value),"span")?e:rr+jt(e,"-start","")+e+rr+"grid-row-span:"+(~P2(n,"span")?su(n,/\d+/):+su(n,/\d+/)-+su(e,/\d+/))+";":rr+jt(e,"-start","")+e;case 4896:case 4128:return n&&n.some(function(r){return su(r.props,/grid-\w+-start/)})?e:rr+jt(jt(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return jt(e,/(.+)-inline(.+)/,bn+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(oc(e)-1-t>6)switch(Mo(e,t+1)){case 109:if(Mo(e,t+4)!==45)break;case 102:return jt(e,/(.+:)(.+)-([^]+)/,"$1"+bn+"$2-$3$1"+Wy+(Mo(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~P2(e,"stretch")?n0e(jt(e,"stretch","fill-available"),t,n)+e:e}break;case 5152:case 5920:return jt(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,o,i,s,a,c,u){return rr+o+":"+i+u+(s?rr+o+"-span:"+(a?c:+c-+i)+u:"")+e});case 4949:if(Mo(e,t+6)===121)return jt(e,":",":"+bn)+e;break;case 6444:switch(Mo(e,Mo(e,14)===45?18:11)){case 120:return jt(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+bn+(Mo(e,14)===45?"inline-":"")+"box$3$1"+bn+"$2$3$1"+rr+"$2box$3")+e;case 100:return jt(e,":",":"+rr)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return jt(e,"scroll-","scroll-snap-")+e}return e}function JS(e,t){for(var n="",r=0;r<e.length;r++)n+=t(e[r],r,e,t)||"";return n}function FFe(e,t,n,r){switch(e.type){case _Fe:if(e.children.length)break;case CFe:case PF:return e.return=e.return||e.value;case Xve:return"";case Qve:return e.return=e.value+"{"+JS(e.children,r)+"}";case oj:if(!oc(e.value=e.props.join(",")))return""}return oc(n=JS(e.children,r))?e.return=e.value+"{"+n+"}":""}function LFe(e){var t=e0e(e);return function(n,r,o,i){for(var s="",a=0;a<t;a++)s+=e[a](n,r,o,i)||"";return s}}function BFe(e){return function(t){t.root||(t=t.return)&&e(t)}}function NFe(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case PF:e.return=n0e(e.value,e.length,n);return;case Qve:return JS([Sd(e,{value:jt(e.value,"@","@"+bn)})],r);case oj:if(e.length)return kFe(n=e.props,function(o){switch(su(o,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Um(Sd(e,{props:[jt(o,/:(read-\w+)/,":"+Wy+"$1")]})),Um(Sd(e,{props:[o]})),IP(e,{props:Zz(n,r)});break;case"::placeholder":Um(Sd(e,{props:[jt(o,/:(plac\w+)/,":"+bn+"input-$1")]})),Um(Sd(e,{props:[jt(o,/:(plac\w+)/,":"+Wy+"$1")]})),Um(Sd(e,{props:[jt(o,/:(plac\w+)/,rr+"input-$1")]})),Um(Sd(e,{props:[o]})),IP(e,{props:Zz(n,r)});break}return""})}}var zFe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Iv=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",$F=typeof window<"u"&&"HTMLElement"in window,VFe=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),HFe={},lj=Object.freeze([]),Ov=Object.freeze({});function r0e(e,t,n){return n===void 0&&(n=Ov),e.theme!==n.theme&&e.theme||t||n.theme}var o0e=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),UFe=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,WFe=/(^-|-$)/g;function Jz(e){return e.replace(UFe,"-").replace(WFe,"")}var qFe=/(a)(d)/gi,eV=function(e){return String.fromCharCode(e+(e>25?39:97))};function RP(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=eV(t%52)+n;return(eV(t%52)+n).replace(qFe,"$1-$2")}var $D,_g=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},i0e=function(e){return _g(5381,e)};function MF(e){return RP(i0e(e)>>>0)}function YFe(e){return e.displayName||e.name||"Component"}function MD(e){return typeof e=="string"&&!0}var s0e=typeof Symbol=="function"&&Symbol.for,a0e=s0e?Symbol.for("react.memo"):60115,GFe=s0e?Symbol.for("react.forward_ref"):60112,KFe={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ZFe={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l0e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},XFe=(($D={})[GFe]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},$D[a0e]=l0e,$D);function tV(e){return("type"in(t=e)&&t.type.$$typeof)===a0e?l0e:"$$typeof"in e?XFe[e.$$typeof]:KFe;var t}var QFe=Object.defineProperty,JFe=Object.getOwnPropertyNames,nV=Object.getOwnPropertySymbols,e6e=Object.getOwnPropertyDescriptor,t6e=Object.getPrototypeOf,rV=Object.prototype;function c0e(e,t,n){if(typeof t!="string"){if(rV){var r=t6e(t);r&&r!==rV&&c0e(e,r,n)}var o=JFe(t);nV&&(o=o.concat(nV(t)));for(var i=tV(e),s=tV(t),a=0;a<o.length;++a){var c=o[a];if(!(c in ZFe||n&&n[c]||s&&c in s||i&&c in i)){var u=e6e(t,c);try{QFe(e,c,u)}catch{}}}}return e}function Mp(e){return typeof e=="function"}function FF(e){return typeof e=="object"&&"styledComponentId"in e}function ep(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function eE(e,t){if(e.length===0)return"";for(var n=e[0],r=1;r<e.length;r++)n+=t?t+e[r]:e[r];return n}function Rb(e){return e!==null&&typeof e=="object"&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function $P(e,t,n){if(n===void 0&&(n=!1),!n&&!Rb(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)e[r]=$P(e[r],t[r]);else if(Rb(t))for(var r in t)e[r]=$P(e[r],t[r]);return e}function LF(e,t){Object.defineProperty(e,"toString",{value:t})}function Sf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var n6e=function(){function e(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return e.prototype.indexOfGroup=function(t){for(var n=0,r=0;r<t;r++)n+=this.groupSizes[r];return n},e.prototype.insertRules=function(t,n){if(t>=this.groupSizes.length){for(var r=this.groupSizes,o=r.length,i=o;t>=i;)if((i<<=1)<0)throw Sf(16,"".concat(t));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var s=o;s<i;s++)this.groupSizes[s]=0}for(var a=this.indexOfGroup(t+1),c=(s=0,n.length);s<c;s++)this.tag.insertRule(a,n[s])&&(this.groupSizes[t]++,a++)},e.prototype.clearGroup=function(t){if(t<this.length){var n=this.groupSizes[t],r=this.indexOfGroup(t),o=r+n;this.groupSizes[t]=0;for(var i=r;i<o;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(t){var n="";if(t>=this.length||this.groupSizes[t]===0)return n;for(var r=this.groupSizes[t],o=this.indexOfGroup(t),i=o+r,s=o;s<i;s++)n+="".concat(this.tag.getRule(s)).concat(`/*!sc*/
`);return n},e}(),M2=new Map,tE=new Map,F2=1,$C=function(e){if(M2.has(e))return M2.get(e);for(;tE.has(F2);)F2++;var t=F2++;return M2.set(e,t),tE.set(t,e),t},r6e=function(e,t){F2=t+1,M2.set(e,t),tE.set(t,e)},o6e="style[".concat(Iv,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),i6e=new RegExp("^".concat(Iv,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),s6e=function(e,t,n){for(var r,o=n.split(","),i=0,s=o.length;i<s;i++)(r=o[i])&&e.registerName(t,r)},a6e=function(e,t){for(var n,r=((n=t.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),o=[],i=0,s=r.length;i<s;i++){var a=r[i].trim();if(a){var c=a.match(i6e);if(c){var u=0|parseInt(c[1],10),d=c[2];u!==0&&(r6e(d,u),s6e(e,d,c[3]),e.getTag().insertRules(u,o)),o.length=0}else o.push(a)}}};function l6e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var u0e=function(e){var t=document.head,n=e||t,r=document.createElement("style"),o=function(a){var c=Array.from(a.querySelectorAll("style[".concat(Iv,"]")));return c[c.length-1]}(n),i=o!==void 0?o.nextSibling:null;r.setAttribute(Iv,"active"),r.setAttribute("data-styled-version","6.1.1");var s=l6e();return s&&r.setAttribute("nonce",s),n.insertBefore(r,i),r},c6e=function(){function e(t){this.element=u0e(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,o=0,i=r.length;o<i;o++){var s=r[o];if(s.ownerNode===n)return s}throw Sf(17)}(this.element),this.length=0}return e.prototype.insertRule=function(t,n){try{return this.sheet.insertRule(n,t),this.length++,!0}catch{return!1}},e.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},e.prototype.getRule=function(t){var n=this.sheet.cssRules[t];return n&&n.cssText?n.cssText:""},e}(),u6e=function(){function e(t){this.element=u0e(t),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(t,n){if(t<=this.length&&t>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[t]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},e.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},e}(),d6e=function(){function e(t){this.rules=[],this.length=0}return e.prototype.insertRule=function(t,n){return t<=this.length&&(this.rules.splice(t,0,n),this.length++,!0)},e.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},e.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},e}(),oV=$F,f6e={isServer:!$F,useCSSOMInjection:!VFe},nE=function(){function e(t,n,r){t===void 0&&(t=Ov),n===void 0&&(n={});var o=this;this.options=ko(ko({},f6e),t),this.gs=n,this.names=new Map(r),this.server=!!t.isServer,!this.server&&$F&&oV&&(oV=!1,function(i){for(var s=document.querySelectorAll(o6e),a=0,c=s.length;a<c;a++){var u=s[a];u&&u.getAttribute(Iv)!=="active"&&(a6e(i,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),LF(this,function(){return function(i){for(var s=i.getTag(),a=s.length,c="",u=function(f){var p=function(x){return tE.get(x)}(f);if(p===void 0)return"continue";var m=i.names.get(p),v=s.getGroup(f);if(m===void 0||v.length===0)return"continue";var g="".concat(Iv,".g").concat(f,'[id="').concat(p,'"]'),b="";m!==void 0&&m.forEach(function(x){x.length>0&&(b+="".concat(x,","))}),c+="".concat(v).concat(g,'{content:"').concat(b,'"}').concat(`/*!sc*/
`)},d=0;d<a;d++)u(d);return c}(o)})}return e.registerId=function(t){return $C(t)},e.prototype.reconstructWithOptions=function(t,n){return n===void 0&&(n=!0),new e(ko(ko({},this.options),t),this.gs,n&&this.names||void 0)},e.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(t=function(n){var r=n.useCSSOMInjection,o=n.target;return n.isServer?new d6e(o):r?new c6e(o):new u6e(o)}(this.options),new n6e(t)));var t},e.prototype.hasNameForId=function(t,n){return this.names.has(t)&&this.names.get(t).has(n)},e.prototype.registerName=function(t,n){if($C(t),this.names.has(t))this.names.get(t).add(n);else{var r=new Set;r.add(n),this.names.set(t,r)}},e.prototype.insertRules=function(t,n,r){this.registerName(t,n),this.getTag().insertRules($C(t),r)},e.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},e.prototype.clearRules=function(t){this.getTag().clearGroup($C(t)),this.clearNames(t)},e.prototype.clearTag=function(){this.tag=void 0},e}(),h6e=/&/g,p6e=/^\s*\/\/.*$/gm;function d0e(e,t){return e.map(function(n){return n.type==="rule"&&(n.value="".concat(t," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(t," ")),n.props=n.props.map(function(r){return"".concat(t," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=d0e(n.children,t)),n})}function m6e(e){var t,n,r,o=e===void 0?Ov:e,i=o.options,s=i===void 0?Ov:i,a=o.plugins,c=a===void 0?lj:a,u=function(p,m,v){return v===n||v.startsWith(n)&&v.endsWith(n)&&v.replaceAll(n,"").length>0?".".concat(t):p},d=c.slice();d.push(function(p){p.type===oj&&p.value.includes("&")&&(p.props[0]=p.props[0].replace(h6e,n).replace(r,u))}),s.prefix&&d.push(NFe),d.push(FFe);var f=function(p,m,v,g){m===void 0&&(m=""),v===void 0&&(v=""),g===void 0&&(g="&"),t=g,n=m,r=new RegExp("\\".concat(n,"\\b"),"g");var b=p.replace(p6e,""),x=$Fe(v||m?"".concat(v," ").concat(m," { ").concat(b," }"):b);s.namespace&&(x=d0e(x,s.namespace));var y=[];return JS(x,LFe(d.concat(BFe(function(w){return y.push(w)})))),y};return f.hash=c.length?c.reduce(function(p,m){return m.name||Sf(15),_g(p,m.name)},5381).toString():"",f}var g6e=new nE,MP=m6e(),f0e=re.createContext({shouldForwardProp:void 0,styleSheet:g6e,stylis:MP});f0e.Consumer;re.createContext(void 0);function FP(){return h.useContext(f0e)}var h0e=function(){function e(t,n){var r=this;this.inject=function(o,i){i===void 0&&(i=MP);var s=r.name+i.hash;o.hasNameForId(r.id,s)||o.insertRules(r.id,s,i(r.rules,s,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=n,LF(this,function(){throw Sf(12,String(r.name))})}return e.prototype.getName=function(t){return t===void 0&&(t=MP),this.name+t.hash},e}(),v6e=function(e){return e>="A"&&e<="Z"};function iV(e){for(var t="",n=0;n<e.length;n++){var r=e[n];if(n===1&&r==="-"&&e[0]==="-")return e;v6e(r)?t+="-"+r.toLowerCase():t+=r}return t.startsWith("ms-")?"-"+t:t}var p0e=function(e){return e==null||e===!1||e===""},m0e=function(e){var t,n,r=[];for(var o in e){var i=e[o];e.hasOwnProperty(o)&&!p0e(i)&&(Array.isArray(i)&&i.isCss||Mp(i)?r.push("".concat(iV(o),":"),i,";"):Rb(i)?r.push.apply(r,ni(ni(["".concat(o," {")],m0e(i),!1),["}"],!1)):r.push("".concat(iV(o),": ").concat((t=o,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||t in zFe||t.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function af(e,t,n,r){if(p0e(e))return[];if(FF(e))return[".".concat(e.styledComponentId)];if(Mp(e)){if(!Mp(i=e)||i.prototype&&i.prototype.isReactComponent||!t)return[e];var o=e(t);return af(o,t,n,r)}var i;return e instanceof h0e?n?(e.inject(n,r),[e.getName(r)]):[e]:Rb(e)?m0e(e):Array.isArray(e)?Array.prototype.concat.apply(lj,e.map(function(s){return af(s,t,n,r)})):[e.toString()]}function g0e(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Mp(n)&&!FF(n))return!1}return!0}var y6e=i0e("6.1.1"),b6e=function(){function e(t,n,r){this.rules=t,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&g0e(t),this.componentId=n,this.baseHash=_g(y6e,n),this.baseStyle=r,nE.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,r){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))o=ep(o,this.staticRulesId);else{var i=eE(af(this.rules,t,n,r)),s=RP(_g(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,s)){var a=r(i,".".concat(s),void 0,this.componentId);n.insertRules(this.componentId,s,a)}o=ep(o,s),this.staticRulesId=s}else{for(var c=_g(this.baseHash,r.hash),u="",d=0;d<this.rules.length;d++){var f=this.rules[d];if(typeof f=="string")u+=f;else if(f){var p=eE(af(f,t,n,r));c=_g(c,p+d),u+=p}}if(u){var m=RP(c>>>0);n.hasNameForId(this.componentId,m)||n.insertRules(this.componentId,m,r(u,".".concat(m),void 0,this.componentId)),o=ep(o,m)}}return o},e}(),Pv=re.createContext(void 0);Pv.Consumer;function v0e(){var e=h.useContext(Pv);if(!e)throw Sf(18);return e}function x6e(e){var t=re.useContext(Pv),n=h.useMemo(function(){return function(r,o){if(!r)throw Sf(14);if(Mp(r)){var i=r(o);return i}if(Array.isArray(r)||typeof r!="object")throw Sf(8);return o?ko(ko({},o),r):r}(e.theme,t)},[e.theme,t]);return e.children?re.createElement(Pv.Provider,{value:n},e.children):null}var FD={};function w6e(e,t,n){var r=FF(e),o=e,i=!MD(e),s=t.attrs,a=s===void 0?lj:s,c=t.componentId,u=c===void 0?function(C,_){var S=typeof C!="string"?"sc":Jz(C);FD[S]=(FD[S]||0)+1;var E="".concat(S,"-").concat(MF("6.1.1"+S+FD[S]));return _?"".concat(_,"-").concat(E):E}(t.displayName,t.parentComponentId):c,d=t.displayName,f=d===void 0?function(C){return MD(C)?"styled.".concat(C):"Styled(".concat(YFe(C),")")}(e):d,p=t.displayName&&t.componentId?"".concat(Jz(t.displayName),"-").concat(t.componentId):t.componentId||u,m=r&&o.attrs?o.attrs.concat(a).filter(Boolean):a,v=t.shouldForwardProp;if(r&&o.shouldForwardProp){var g=o.shouldForwardProp;if(t.shouldForwardProp){var b=t.shouldForwardProp;v=function(C,_){return g(C,_)&&b(C,_)}}else v=g}var x=new b6e(n,p,r?o.componentStyle:void 0);function y(C,_){return function(S,E,j){var k=S.attrs,T=S.componentStyle,A=S.defaultProps,D=S.foldedComponentIds,I=S.styledComponentId,O=S.target,$=re.useContext(Pv),R=FP(),z=S.shouldForwardProp||R.shouldForwardProp,B=function(N,G,q){for(var Z,ie=ko(ko({},G),{className:void 0,theme:q}),ne=0;ne<N.length;ne+=1){var Y=Mp(Z=N[ne])?Z(ie):Z;for(var X in Y)ie[X]=X==="className"?ep(ie[X],Y[X]):X==="style"?ko(ko({},ie[X]),Y[X]):Y[X]}return G.className&&(ie.className=ep(ie.className,G.className)),ie}(k,E,r0e(E,$,A)||Ov),U=B.as||O,W={};for(var V in B)B[V]===void 0||V[0]==="$"||V==="as"||V==="theme"||(V==="forwardedAs"?W.as=B.forwardedAs:z&&!z(V,U)||(W[V]=B[V]));var K=function(N,G){var q=FP(),Z=N.generateAndInjectStyles(G,q.styleSheet,q.stylis);return Z}(T,B),te=ep(D,I);return K&&(te+=" "+K),B.className&&(te+=" "+B.className),W[MD(U)&&!o0e.has(U)?"class":"className"]=te,W.ref=j,h.createElement(U,W)}(w,C,_)}y.displayName=f;var w=re.forwardRef(y);return w.attrs=m,w.componentStyle=x,w.displayName=f,w.shouldForwardProp=v,w.foldedComponentIds=r?ep(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=p,w.target=r?o.target:e,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=r?function(_){for(var S=[],E=1;E<arguments.length;E++)S[E-1]=arguments[E];for(var j=0,k=S;j<k.length;j++)$P(_,k[j],!0);return _}({},o.defaultProps,C):C}}),LF(w,function(){return".".concat(w.styledComponentId)}),i&&c0e(w,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function sV(e,t){for(var n=[e[0]],r=0,o=t.length;r<o;r+=1)n.push(t[r],e[r+1]);return n}var aV=function(e){return Object.assign(e,{isCss:!0})};function de(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Mp(e)||Rb(e)){var r=e;return aV(af(sV(lj,ni([r],t,!0))))}var o=e;return t.length===0&&o.length===1&&typeof o[0]=="string"?af(o):aV(af(sV(o,t)))}function LP(e,t,n){if(n===void 0&&(n=Ov),!t)throw Sf(1,t);var r=function(o){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return e(t,n,de.apply(void 0,ni([o],i,!1)))};return r.attrs=function(o){return LP(e,t,ko(ko({},n),{attrs:Array.prototype.concat(n.attrs,o).filter(Boolean)}))},r.withConfig=function(o){return LP(e,t,ko(ko({},n),o))},r}var y0e=function(e){return LP(w6e,e)},P=y0e;o0e.forEach(function(e){P[e]=y0e(e)});var C6e=function(){function e(t,n){this.rules=t,this.componentId=n,this.isStatic=g0e(t),nE.registerId(this.componentId+1)}return e.prototype.createStyles=function(t,n,r,o){var i=o(eE(af(this.rules,n,r,o)),""),s=this.componentId+t;r.insertRules(s,s,i)},e.prototype.removeStyles=function(t,n){n.clearRules(this.componentId+t)},e.prototype.renderStyles=function(t,n,r,o){t>2&&nE.registerId(this.componentId+t),this.removeStyles(t,r),this.createStyles(t,n,r,o)},e}();function b0e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=de.apply(void 0,ni([e],t,!1)),o="sc-global-".concat(MF(JSON.stringify(r))),i=new C6e(r,o),s=function(c){var u=FP(),d=re.useContext(Pv),f=re.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&a(f,c,u.styleSheet,d,u.stylis),re.useLayoutEffect(function(){if(!u.styleSheet.server)return a(f,c,u.styleSheet,d,u.stylis),function(){return i.removeStyles(f,u.styleSheet)}},[f,c,u.styleSheet,d,u.stylis]),null};function a(c,u,d,f,p){if(i.isStatic)i.renderStyles(c,HFe,d,p);else{var m=ko(ko({},u),{theme:r0e(u,f,s.defaultProps)});i.renderStyles(c,m,d,p)}}return re.memo(s)}function fm(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=eE(de.apply(void 0,ni([e],t,!1))),o=MF(r);return new h0e(o,r)}const _6e="#101112",S6e="#fff",L2={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},vy={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},E6e={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},k6e={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},BP={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},j6e={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},NP={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},zP={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},T6e={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},fe={gray:L2,blue:vy,purple:E6e,magenta:k6e,red:BP,orange:j6e,yellow:NP,green:zP,cyan:T6e},x0e=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],rc={title:"Black",hex:_6e},Sa={title:"White",hex:S6e},Ef=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),VP=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Zs=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),l.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),I6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lw=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),C0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),R6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),M6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),_0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),l.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),S0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),B6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),N6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),l.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),cj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),Sg=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ea=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ja=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ic=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Di=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fj=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),A0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Z6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X6e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vp=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Iu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),I0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J6e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),eLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),nLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),rLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),oLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),iLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),sLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),aLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),BF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("circle",{cx:12.5,cy:12.5,r:1.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),uLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 8.5L12.5 13L8 8.5M17 12.5L12.5 17L8 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 17L8 12.5L12.5 8M16.5 17L12 12.5L16.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 8L17 12.5L12.5 17M8.5 8L13 12.5L8.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.5L12.5 8L17 12.5M8 16.5L12.5 12L17 16.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),P0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),l.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),l.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),hLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ou=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),l.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),Io=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),gLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),vLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),bLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),xLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),la=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),VF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),l.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),CLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),M0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_Le=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),SLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),l.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),l.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),ELe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Rv=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Al=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ALe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ILe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),hm=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),F0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),OLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),B0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),N0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),PLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qf=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),HF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$Le=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),jf=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),MLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),FLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),LLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),BLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),z0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),l.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),l.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),l.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),zLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),H0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),VLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),HLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ULe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),WLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),l.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),l.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),YLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),GLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),KLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),b0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ZLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),XLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),QLe=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Pu=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),qF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),JLe=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),e8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),YF=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),t8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),r8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ei=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),GF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),uw=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),G0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),K0e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),c8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),u8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),l.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),l.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),cg=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),l.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),KF=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x0=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),d8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),f8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),h8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),p8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),g8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),b8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),x8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),w8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),yo=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),C8e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),_8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),S8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),E8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),qy=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),X0e=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),l.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),rE=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Sl=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oE=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),mj=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:[l.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),T8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gj=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),Br=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D8e=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:n,...t,children:l.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),I8e={"access-denied":Ef,activity:A6e,"add-circle":VP,add:Zs,api:D6e,archive:I6e,"arrow-down":w0e,"arrow-left":lw,"arrow-right":C0e,"arrow-top-right":O6e,"arrow-up":P6e,"bar-chart":R6e,basket:$6e,bell:M6e,bill:F6e,"binary-document":y0,"block-content":_0e,"block-element":S0e,blockquote:L6e,bold:E0e,bolt:B6e,book:N6e,bottle:z6e,"bulb-filled":V6e,"bulb-outline":cj,calendar:Sg,case:H6e,"chart-upward":U6e,"checkmark-circle":uj,checkmark:ea,"chevron-down":Ja,"chevron-left":dj,"chevron-right":Ic,"chevron-up":k0e,circle:W6e,clipboard:q6e,"clipboard-image":Y6e,clock:j0e,"close-circle":G6e,close:Di,"code-block":K6e,code:T0e,cog:fj,collapse:A0e,"color-wheel":Z6e,comment:D0e,component:X6e,compose:vp,controls:hj,copy:Iu,"credit-card":Q6e,crop:I0e,cube:J6e,dashboard:eLe,database:tLe,desktop:O0e,document:kf,"document-pdf":nLe,"document-remove":rLe,"document-sheet":oLe,"document-text":iLe,"document-video":sLe,"document-word":aLe,"document-zip":lLe,documents:BF,dot:cLe,"double-chevron-down":uLe,"double-chevron-left":dLe,"double-chevron-right":NF,"double-chevron-up":fLe,download:zF,"drag-handle":P0e,drop:hLe,"earth-americas":R0e,"earth-globe":pLe,edit:Ou,"ellipsis-horizontal":mLe,"ellipsis-vertical":Io,enter:gLe,"enter-right":vLe,envelope:yLe,equal:bLe,"error-filled":xLe,"error-outline":la,expand:$0e,"eye-closed":wLe,"eye-open":VF,filter:CLe,folder:M0e,generate:_Le,groq:SLe,"heart-filled":ELe,heart:kLe,"help-circle":Rv,home:jLe,"ice-cream":TLe,image:Al,"image-remove":ALe,images:DLe,"info-filled":ILe,"info-outline":hm,"inline-element":F0e,inline:OLe,"insert-above":L0e,"insert-below":B0e,italic:N0e,joystick:PLe,json:RLe,launch:qf,leave:HF,lemon:$Le,link:jf,"link-removed":MLe,lock:FLe,"logo-js":LLe,"logo-ts":BLe,"master-detail":z0e,menu:UF,"mobile-device":NLe,moon:WF,number:V0e,"ok-hand":zLe,olist:H0e,overage:VLe,package:HLe,"panel-left":ULe,"panel-right":WLe,pause:qLe,pin:YLe,"pin-removed":GLe,play:U0e,plug:W0e,presentation:KLe,publish:b0,"read-only":cw,redo:ZLe,refresh:XLe,"remove-circle":QLe,remove:q0e,reset:Pu,restore:qF,retrieve:JLe,retry:e8e,revert:YF,robot:t8e,rocket:n8e,schema:r8e,search:ei,select:Bl,share:o8e,sort:GF,sparkle:i8e,sparkles:s8e,spinner:uw,"split-horizontal":a8e,"split-vertical":Y0e,square:l8e,"stack-compact":G0e,stack:K0e,star:c8e,stop:u8e,strikethrough:Z0e,string:cg,sun:KF,sync:x0,"tablet-device":d8e,tag:f8e,tags:h8e,terminal:p8e,text:m8e,"th-large":g8e,"th-list":v8e,tiers:y8e,"toggle-arrow-right":pj,token:b8e,transfer:x8e,translate:w8e,trash:yo,"trend-upward":C8e,"triangle-outline":_8e,trolley:S8e,truncate:E8e,twitter:k8e,ulist:qy,underline:X0e,undo:rE,unknown:Sl,unlock:j8e,unpublish:oE,upload:mj,user:T8e,users:gj,"warning-filled":A8e,"warning-outline":Br,wrench:D8e};h.forwardRef(function(t,n){const{symbol:r,...o}=t,i=I8e[r];return i?h.createElement(i,{...o,ref:n}):null});var Q0e={exports:{}},O8e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",P8e=O8e,R8e=P8e;function J0e(){}function e1e(){}e1e.resetWarningCache=J0e;var $8e=function(){function e(r,o,i,s,a,c){if(c!==R8e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:e1e,resetWarningCache:J0e};return n.PropTypes=n,n};Q0e.exports=$8e();var t1e=Q0e.exports;const KRn=Ie(t1e);var M8e=L8e,F8e=Object.prototype.hasOwnProperty;function L8e(){for(var e={},t=0;t<arguments.length;t++){var n=arguments[t];for(var r in n)F8e.call(n,r)&&(e[r]=n[r])}return e}var n1e=r1e,ZF=r1e.prototype;ZF.space=null;ZF.normal={};ZF.property={};function r1e(e,t,n){this.property=e,this.normal=t,n&&(this.space=n)}var lV=M8e,B8e=n1e,N8e=z8e;function z8e(e){for(var t=e.length,n=[],r=[],o=-1,i,s;++o<t;)i=e[o],n.push(i.property),r.push(i.normal),s=i.space;return new B8e(lV.apply(null,n),lV.apply(null,r),s)}var XF=V8e;function V8e(e){return e.toLowerCase()}var o1e=i1e,el=i1e.prototype;el.space=null;el.attribute=null;el.property=null;el.boolean=!1;el.booleanish=!1;el.overloadedBoolean=!1;el.number=!1;el.commaSeparated=!1;el.spaceSeparated=!1;el.commaOrSpaceSeparated=!1;el.mustUseProperty=!1;el.defined=!1;function i1e(e,t){this.property=e,this.attribute=t}var Oc={},H8e=0;Oc.boolean=pm();Oc.booleanish=pm();Oc.overloadedBoolean=pm();Oc.number=pm();Oc.spaceSeparated=pm();Oc.commaSeparated=pm();Oc.commaOrSpaceSeparated=pm();function pm(){return Math.pow(2,++H8e)}var s1e=o1e,cV=Oc,a1e=QF;QF.prototype=new s1e;QF.prototype.defined=!0;var l1e=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],U8e=l1e.length;function QF(e,t,n,r){var o=-1,i;for(uV(this,"space",r),s1e.call(this,e,t);++o<U8e;)i=l1e[o],uV(this,i,(n&cV[i])===cV[i])}function uV(e,t,n){n&&(e[t]=n)}var dV=XF,W8e=n1e,q8e=a1e,dw=Y8e;function Y8e(e){var t=e.space,n=e.mustUseProperty||[],r=e.attributes||{},o=e.properties,i=e.transform,s={},a={},c,u;for(c in o)u=new q8e(c,i(r,c),o[c],t),n.indexOf(c)!==-1&&(u.mustUseProperty=!0),s[c]=u,a[dV(c)]=c,a[dV(u.attribute)]=c;return new W8e(s,a,t)}var G8e=dw,K8e=G8e({space:"xlink",transform:Z8e,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function Z8e(e,t){return"xlink:"+t.slice(5).toLowerCase()}var X8e=dw,Q8e=X8e({space:"xml",transform:J8e,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function J8e(e,t){return"xml:"+t.slice(3).toLowerCase()}var e9e=t9e;function t9e(e,t){return t in e?e[t]:t}var n9e=e9e,c1e=r9e;function r9e(e,t){return n9e(e,t.toLowerCase())}var o9e=dw,i9e=c1e,s9e=o9e({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:i9e,properties:{xmlns:null,xmlnsXLink:null}}),JF=Oc,a9e=dw,cs=JF.booleanish,ma=JF.number,vh=JF.spaceSeparated,l9e=a9e({transform:c9e,properties:{ariaActiveDescendant:null,ariaAtomic:cs,ariaAutoComplete:null,ariaBusy:cs,ariaChecked:cs,ariaColCount:ma,ariaColIndex:ma,ariaColSpan:ma,ariaControls:vh,ariaCurrent:null,ariaDescribedBy:vh,ariaDetails:null,ariaDisabled:cs,ariaDropEffect:vh,ariaErrorMessage:null,ariaExpanded:cs,ariaFlowTo:vh,ariaGrabbed:cs,ariaHasPopup:null,ariaHidden:cs,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:vh,ariaLevel:ma,ariaLive:null,ariaModal:cs,ariaMultiLine:cs,ariaMultiSelectable:cs,ariaOrientation:null,ariaOwns:vh,ariaPlaceholder:null,ariaPosInSet:ma,ariaPressed:cs,ariaReadOnly:cs,ariaRelevant:null,ariaRequired:cs,ariaRoleDescription:vh,ariaRowCount:ma,ariaRowIndex:ma,ariaRowSpan:ma,ariaSelected:cs,ariaSetSize:ma,ariaSort:null,ariaValueMax:ma,ariaValueMin:ma,ariaValueNow:ma,ariaValueText:null,role:null}});function c9e(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}var w0=Oc,u9e=dw,d9e=c1e,$t=w0.boolean,f9e=w0.overloadedBoolean,E1=w0.booleanish,nr=w0.number,zi=w0.spaceSeparated,MC=w0.commaSeparated,h9e=u9e({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:d9e,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:MC,acceptCharset:zi,accessKey:zi,action:null,allow:null,allowFullScreen:$t,allowPaymentRequest:$t,allowUserMedia:$t,alt:null,as:null,async:$t,autoCapitalize:null,autoComplete:zi,autoFocus:$t,autoPlay:$t,capture:$t,charSet:null,checked:$t,cite:null,className:zi,cols:nr,colSpan:null,content:null,contentEditable:E1,controls:$t,controlsList:zi,coords:nr|MC,crossOrigin:null,data:null,dateTime:null,decoding:null,default:$t,defer:$t,dir:null,dirName:null,disabled:$t,download:f9e,draggable:E1,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:$t,formTarget:null,headers:zi,height:nr,hidden:$t,high:nr,href:null,hrefLang:null,htmlFor:zi,httpEquiv:zi,id:null,imageSizes:null,imageSrcSet:MC,inputMode:null,integrity:null,is:null,isMap:$t,itemId:null,itemProp:zi,itemRef:zi,itemScope:$t,itemType:zi,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:$t,low:nr,manifest:null,max:null,maxLength:nr,media:null,method:null,min:null,minLength:nr,multiple:$t,muted:$t,name:null,nonce:null,noModule:$t,noValidate:$t,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:$t,optimum:nr,pattern:null,ping:zi,placeholder:null,playsInline:$t,poster:null,preload:null,readOnly:$t,referrerPolicy:null,rel:zi,required:$t,reversed:$t,rows:nr,rowSpan:nr,sandbox:zi,scope:null,scoped:$t,seamless:$t,selected:$t,shape:null,size:nr,sizes:null,slot:null,span:nr,spellCheck:E1,src:null,srcDoc:null,srcLang:null,srcSet:MC,start:nr,step:null,style:null,tabIndex:nr,target:null,title:null,translate:null,type:null,typeMustMatch:$t,useMap:null,value:E1,width:nr,wrap:null,align:null,aLink:null,archive:zi,axis:null,background:null,bgColor:null,border:nr,borderColor:null,bottomMargin:nr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:$t,declare:$t,event:null,face:null,frame:null,frameBorder:null,hSpace:nr,leftMargin:nr,link:null,longDesc:null,lowSrc:null,marginHeight:nr,marginWidth:nr,noResize:$t,noHref:$t,noShade:$t,noWrap:$t,object:null,profile:null,prompt:null,rev:null,rightMargin:nr,rules:null,scheme:null,scrolling:E1,standby:null,summary:null,text:null,topMargin:nr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:nr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:$t,disableRemotePlayback:$t,prefix:null,property:null,results:nr,security:null,unselectable:null}}),p9e=N8e,m9e=K8e,g9e=Q8e,v9e=s9e,y9e=l9e,b9e=h9e,x9e=p9e([g9e,m9e,v9e,y9e,b9e]),w9e=XF,C9e=a1e,_9e=o1e,e6="data",S9e=j9e,E9e=/^data[-\w.:]+$/i,u1e=/-[a-z]/g,k9e=/[A-Z]/g;function j9e(e,t){var n=w9e(t),r=t,o=_9e;return n in e.normal?e.property[e.normal[n]]:(n.length>4&&n.slice(0,4)===e6&&E9e.test(t)&&(t.charAt(4)==="-"?r=T9e(t):t=A9e(t),o=C9e),new o(r,t))}function T9e(e){var t=e.slice(5).replace(u1e,I9e);return e6+t.charAt(0).toUpperCase()+t.slice(1)}function A9e(e){var t=e.slice(4);return u1e.test(t)?e:(t=t.replace(k9e,D9e),t.charAt(0)!=="-"&&(t="-"+t),e6+t)}function D9e(e){return"-"+e.toLowerCase()}function I9e(e){return e.charAt(1).toUpperCase()}var O9e=P9e,fV=/[#.]/g;function P9e(e,t){for(var n=e||"",r=t||"div",o={},i=0,s,a,c;i<n.length;)fV.lastIndex=i,c=fV.exec(n),s=n.slice(i,c?c.index:n.length),s&&(a?a==="#"?o.id=s:o.className?o.className.push(s):o.className=[s]:r=s,i+=s.length),c&&(a=c[0],i++);return{type:"element",tagName:r,properties:o,children:[]}}var t6={};t6.parse=M9e;t6.stringify=F9e;var hV="",R9e=" ",$9e=/[ \t\n\r\f]+/g;function M9e(e){var t=String(e||hV).trim();return t===hV?[]:t.split($9e)}function F9e(e){return e.join(R9e).trim()}var n6={};n6.parse=L9e;n6.stringify=B9e;var HP=",",pV=" ",yy="";function L9e(e){for(var t=[],n=String(e||yy),r=n.indexOf(HP),o=0,i=!1,s;!i;)r===-1&&(r=n.length,i=!0),s=n.slice(o,r).trim(),(s||!i)&&t.push(s),o=r+1,r=n.indexOf(HP,o);return t}function B9e(e,t){var n=t||{},r=n.padLeft===!1?yy:pV,o=n.padRight?pV:yy;return e[e.length-1]===yy&&(e=e.concat(yy)),e.join(o+HP+r).trim()}var N9e=S9e,mV=XF,z9e=O9e,gV=t6.parse,vV=n6.parse,V9e=U9e,H9e={}.hasOwnProperty;function U9e(e,t,n){var r=n?K9e(n):null;return o;function o(s,a){var c=z9e(s,t),u=Array.prototype.slice.call(arguments,2),d=c.tagName.toLowerCase(),f;if(c.tagName=r&&H9e.call(r,d)?r[d]:d,a&&W9e(a,c)&&(u.unshift(a),a=null),a)for(f in a)i(c.properties,f,a[f]);return d1e(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function i(s,a,c){var u,d,f;c==null||c!==c||(u=N9e(e,a),d=u.property,f=c,typeof f=="string"&&(u.spaceSeparated?f=gV(f):u.commaSeparated?f=vV(f):u.commaOrSpaceSeparated&&(f=gV(vV(f).join(" ")))),d==="style"&&typeof c!="string"&&(f=G9e(f)),d==="className"&&s.className&&(f=s.className.concat(f)),s[d]=Y9e(u,d,f))}}function W9e(e,t){return typeof e=="string"||"length"in e||q9e(t.tagName,e)}function q9e(e,t){var n=t.type;return e==="input"||!n||typeof n!="string"?!1:typeof t.children=="object"&&"length"in t.children?!0:(n=n.toLowerCase(),e==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in t)}function d1e(e,t){var n,r;if(typeof t=="string"||typeof t=="number"){e.push({type:"text",value:String(t)});return}if(typeof t=="object"&&"length"in t){for(n=-1,r=t.length;++n<r;)d1e(e,t[n]);return}if(typeof t!="object"||!("type"in t))throw new Error("Expected node, nodes, or string, got `"+t+"`");e.push(t)}function Y9e(e,t,n){var r,o,i;if(typeof n!="object"||!("length"in n))return yV(e,t,n);for(o=n.length,r=-1,i=[];++r<o;)i[r]=yV(e,t,n[r]);return i}function yV(e,t,n){var r=n;return e.number||e.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(e.boolean||e.overloadedBoolean)&&typeof r=="string"&&(r===""||mV(n)===mV(t))&&(r=!0),r}function G9e(e){var t=[],n;for(n in e)t.push([n,e[n]].join(": "));return t.join("; ")}function K9e(e){for(var t=e.length,n=-1,r={},o;++n<t;)o=e[n],r[o.toLowerCase()]=o;return r}var Z9e=x9e,X9e=V9e,f1e=X9e(Z9e,"div");f1e.displayName="html";var Q9e=f1e,J9e=Q9e;const e7e="Æ",t7e="&",n7e="Á",r7e="Â",o7e="À",i7e="Å",s7e="Ã",a7e="Ä",l7e="©",c7e="Ç",u7e="Ð",d7e="É",f7e="Ê",h7e="È",p7e="Ë",m7e=">",g7e="Í",v7e="Î",y7e="Ì",b7e="Ï",x7e="<",w7e="Ñ",C7e="Ó",_7e="Ô",S7e="Ò",E7e="Ø",k7e="Õ",j7e="Ö",T7e='"',A7e="®",D7e="Þ",I7e="Ú",O7e="Û",P7e="Ù",R7e="Ü",$7e="Ý",M7e="á",F7e="â",L7e="´",B7e="æ",N7e="à",z7e="&",V7e="å",H7e="ã",U7e="ä",W7e="¦",q7e="ç",Y7e="¸",G7e="¢",K7e="©",Z7e="¤",X7e="°",Q7e="÷",J7e="é",eBe="ê",tBe="è",nBe="ð",rBe="ë",oBe="½",iBe="¼",sBe="¾",aBe=">",lBe="í",cBe="î",uBe="¡",dBe="ì",fBe="¿",hBe="ï",pBe="«",mBe="<",gBe="¯",vBe="µ",yBe="·",bBe=" ",xBe="¬",wBe="ñ",CBe="ó",_Be="ô",SBe="ò",EBe="ª",kBe="º",jBe="ø",TBe="õ",ABe="ö",DBe="¶",IBe="±",OBe="£",PBe='"',RBe="»",$Be="®",MBe="§",FBe="­",LBe="¹",BBe="²",NBe="³",zBe="ß",VBe="þ",HBe="×",UBe="ú",WBe="û",qBe="ù",YBe="¨",GBe="ü",KBe="ý",ZBe="¥",XBe="ÿ",QBe={AElig:e7e,AMP:t7e,Aacute:n7e,Acirc:r7e,Agrave:o7e,Aring:i7e,Atilde:s7e,Auml:a7e,COPY:l7e,Ccedil:c7e,ETH:u7e,Eacute:d7e,Ecirc:f7e,Egrave:h7e,Euml:p7e,GT:m7e,Iacute:g7e,Icirc:v7e,Igrave:y7e,Iuml:b7e,LT:x7e,Ntilde:w7e,Oacute:C7e,Ocirc:_7e,Ograve:S7e,Oslash:E7e,Otilde:k7e,Ouml:j7e,QUOT:T7e,REG:A7e,THORN:D7e,Uacute:I7e,Ucirc:O7e,Ugrave:P7e,Uuml:R7e,Yacute:$7e,aacute:M7e,acirc:F7e,acute:L7e,aelig:B7e,agrave:N7e,amp:z7e,aring:V7e,atilde:H7e,auml:U7e,brvbar:W7e,ccedil:q7e,cedil:Y7e,cent:G7e,copy:K7e,curren:Z7e,deg:X7e,divide:Q7e,eacute:J7e,ecirc:eBe,egrave:tBe,eth:nBe,euml:rBe,frac12:oBe,frac14:iBe,frac34:sBe,gt:aBe,iacute:lBe,icirc:cBe,iexcl:uBe,igrave:dBe,iquest:fBe,iuml:hBe,laquo:pBe,lt:mBe,macr:gBe,micro:vBe,middot:yBe,nbsp:bBe,not:xBe,ntilde:wBe,oacute:CBe,ocirc:_Be,ograve:SBe,ordf:EBe,ordm:kBe,oslash:jBe,otilde:TBe,ouml:ABe,para:DBe,plusmn:IBe,pound:OBe,quot:PBe,raquo:RBe,reg:$Be,sect:MBe,shy:FBe,sup1:LBe,sup2:BBe,sup3:NBe,szlig:zBe,thorn:VBe,times:HBe,uacute:UBe,ucirc:WBe,ugrave:qBe,uml:YBe,uuml:GBe,yacute:KBe,yen:ZBe,yuml:XBe},JBe={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var h1e=eNe;function eNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=48&&t<=57}var tNe=nNe;function nNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}var rNe=oNe;function oNe(e){var t=typeof e=="string"?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}var iNe=rNe,sNe=h1e,aNe=lNe;function lNe(e){return iNe(e)||sNe(e)}var FC,cNe=59,uNe=dNe;function dNe(e){var t="&"+e+";",n;return FC=FC||document.createElement("i"),FC.innerHTML=t,n=FC.textContent,n.charCodeAt(n.length-1)===cNe&&e!=="semi"||n===t?!1:n}var bV=QBe,xV=JBe,fNe=h1e,hNe=tNe,p1e=aNe,pNe=uNe,mNe=TNe,gNe={}.hasOwnProperty,Wm=String.fromCharCode,vNe=Function.prototype,wV={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},yNe=9,CV=10,bNe=12,xNe=32,_V=38,wNe=59,CNe=60,_Ne=61,SNe=35,ENe=88,kNe=120,jNe=65533,ug="named",r6="hexadecimal",o6="decimal",i6={};i6[r6]=16;i6[o6]=10;var vj={};vj[ug]=p1e;vj[o6]=fNe;vj[r6]=hNe;var m1e=1,g1e=2,v1e=3,y1e=4,b1e=5,UP=6,x1e=7,Yf={};Yf[m1e]="Named character references must be terminated by a semicolon";Yf[g1e]="Numeric character references must be terminated by a semicolon";Yf[v1e]="Named character references cannot be empty";Yf[y1e]="Numeric character references cannot be empty";Yf[b1e]="Named character references must be known";Yf[UP]="Numeric character references cannot be disallowed";Yf[x1e]="Numeric character references cannot be outside the permissible Unicode range";function TNe(e,t){var n={},r,o;t||(t={});for(o in wV)r=t[o],n[o]=r??wV[o];return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),ANe(e,n)}function ANe(e,t){var n=t.additional,r=t.nonTerminated,o=t.text,i=t.reference,s=t.warning,a=t.textContext,c=t.referenceContext,u=t.warningContext,d=t.position,f=t.indent||[],p=e.length,m=0,v=-1,g=d.column||1,b=d.line||1,x="",y=[],w,C,_,S,E,j,k,T,A,D,I,O,$,R,z,B,U,W,V;for(typeof n=="string"&&(n=n.charCodeAt(0)),B=K(),T=s?te:vNe,m--,p++;++m<p;)if(E===CV&&(g=f[v]||1),E=e.charCodeAt(m),E===_V){if(k=e.charCodeAt(m+1),k===yNe||k===CV||k===bNe||k===xNe||k===_V||k===CNe||k!==k||n&&k===n){x+=Wm(E),g++;continue}for($=m+1,O=$,V=$,k===SNe?(V=++O,k=e.charCodeAt(V),k===ENe||k===kNe?(R=r6,V=++O):R=o6):R=ug,w="",I="",S="",z=vj[R],V--;++V<p&&(k=e.charCodeAt(V),!!z(k));)S+=Wm(k),R===ug&&gNe.call(bV,S)&&(w=S,I=bV[S]);_=e.charCodeAt(V)===wNe,_&&(V++,C=R===ug?pNe(S):!1,C&&(w=S,I=C)),W=1+V-$,!_&&!r||(S?R===ug?(_&&!I?T(b1e,1):(w!==S&&(V=O+w.length,W=1+V-O,_=!1),_||(A=w?m1e:v1e,t.attribute?(k=e.charCodeAt(V),k===_Ne?(T(A,W),I=null):p1e(k)?I=null:T(A,W)):T(A,W))),j=I):(_||T(g1e,W),j=parseInt(S,i6[R]),DNe(j)?(T(x1e,W),j=Wm(jNe)):j in xV?(T(UP,W),j=xV[j]):(D="",INe(j)&&T(UP,W),j>65535&&(j-=65536,D+=Wm(j>>>10|55296),j=56320|j&1023),j=D+Wm(j))):R!==ug&&T(y1e,W)),j?(N(),B=K(),m=V-1,g+=V-$+1,y.push(j),U=K(),U.offset++,i&&i.call(c,j,{start:B,end:U},e.slice($-1,V)),B=U):(S=e.slice($-1,V),x+=S,g+=S.length,m=V-1)}else E===10&&(b++,v++,g=0),E===E?(x+=Wm(E),g++):N();return y.join("");function K(){return{line:b,column:g,offset:m+(d.offset||0)}}function te(G,q){var Z=K();Z.column+=q,Z.offset+=q,s.call(u,Yf[G],Z,G)}function N(){x&&(y.push(x),o&&o.call(a,x,{start:B,end:K()}),x="")}}function DNe(e){return e>=55296&&e<=57343||e>1114111}function INe(e){return e>=1&&e<=8||e===11||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534}var w1e={exports:{}};(function(e){var t=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,i=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function y(w){return w instanceof c?new c(w.type,y(w.content),w.alias):Array.isArray(w)?w.map(y):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(y){return Object.prototype.toString.call(y).slice(8,-1)},objId:function(y){return y.__id||Object.defineProperty(y,"__id",{value:++i}),y.__id},clone:function y(w,C){C=C||{};var _,S;switch(a.util.type(w)){case"Object":if(S=a.util.objId(w),C[S])return C[S];_={},C[S]=_;for(var E in w)w.hasOwnProperty(E)&&(_[E]=y(w[E],C));return _;case"Array":return S=a.util.objId(w),C[S]?C[S]:(_=[],C[S]=_,w.forEach(function(j,k){_[k]=y(j,C)}),_);default:return w}},getLanguage:function(y){for(;y;){var w=o.exec(y.className);if(w)return w[1].toLowerCase();y=y.parentElement}return"none"},setLanguage:function(y,w){y.className=y.className.replace(RegExp(o,"gi"),""),y.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(_){var y=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(_.stack)||[])[1];if(y){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==y)return w[C]}return null}},isActive:function(y,w,C){for(var _="no-"+w;y;){var S=y.classList;if(S.contains(w))return!0;if(S.contains(_))return!1;y=y.parentElement}return!!C}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(y,w){var C=a.util.clone(a.languages[y]);for(var _ in w)C[_]=w[_];return C},insertBefore:function(y,w,C,_){_=_||a.languages;var S=_[y],E={};for(var j in S)if(S.hasOwnProperty(j)){if(j==w)for(var k in C)C.hasOwnProperty(k)&&(E[k]=C[k]);C.hasOwnProperty(j)||(E[j]=S[j])}var T=_[y];return _[y]=E,a.languages.DFS(a.languages,function(A,D){D===T&&A!=y&&(this[A]=E)}),E},DFS:function y(w,C,_,S){S=S||{};var E=a.util.objId;for(var j in w)if(w.hasOwnProperty(j)){C.call(w,j,w[j],_||j);var k=w[j],T=a.util.type(k);T==="Object"&&!S[E(k)]?(S[E(k)]=!0,y(k,C,null,S)):T==="Array"&&!S[E(k)]&&(S[E(k)]=!0,y(k,C,j,S))}}},plugins:{},highlightAll:function(y,w){a.highlightAllUnder(document,y,w)},highlightAllUnder:function(y,w,C){var _={callback:C,container:y,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",_),_.elements=Array.prototype.slice.apply(_.container.querySelectorAll(_.selector)),a.hooks.run("before-all-elements-highlight",_);for(var S=0,E;E=_.elements[S++];)a.highlightElement(E,w===!0,_.callback)},highlightElement:function(y,w,C){var _=a.util.getLanguage(y),S=a.languages[_];a.util.setLanguage(y,_);var E=y.parentElement;E&&E.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(E,_);var j=y.textContent,k={element:y,language:_,grammar:S,code:j};function T(D){k.highlightedCode=D,a.hooks.run("before-insert",k),k.element.innerHTML=k.highlightedCode,a.hooks.run("after-highlight",k),a.hooks.run("complete",k),C&&C.call(k.element)}if(a.hooks.run("before-sanity-check",k),E=k.element.parentElement,E&&E.nodeName.toLowerCase()==="pre"&&!E.hasAttribute("tabindex")&&E.setAttribute("tabindex","0"),!k.code){a.hooks.run("complete",k),C&&C.call(k.element);return}if(a.hooks.run("before-highlight",k),!k.grammar){T(a.util.encode(k.code));return}if(w&&r.Worker){var A=new Worker(a.filename);A.onmessage=function(D){T(D.data)},A.postMessage(JSON.stringify({language:k.language,code:k.code,immediateClose:!0}))}else T(a.highlight(k.code,k.grammar,k.language))},highlight:function(y,w,C){var _={code:y,grammar:w,language:C};if(a.hooks.run("before-tokenize",_),!_.grammar)throw new Error('The language "'+_.language+'" has no grammar.');return _.tokens=a.tokenize(_.code,_.grammar),a.hooks.run("after-tokenize",_),c.stringify(a.util.encode(_.tokens),_.language)},tokenize:function(y,w){var C=w.rest;if(C){for(var _ in C)w[_]=C[_];delete w.rest}var S=new f;return p(S,S.head,y),d(y,S,w,S.head,0),v(S)},hooks:{all:{},add:function(y,w){var C=a.hooks.all;C[y]=C[y]||[],C[y].push(w)},run:function(y,w){var C=a.hooks.all[y];if(!(!C||!C.length))for(var _=0,S;S=C[_++];)S(w)}},Token:c};r.Prism=a;function c(y,w,C,_){this.type=y,this.content=w,this.alias=C,this.length=(_||"").length|0}c.stringify=function y(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var _="";return w.forEach(function(T){_+=y(T,C)}),_}var S={type:w.type,content:y(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},E=w.alias;E&&(Array.isArray(E)?Array.prototype.push.apply(S.classes,E):S.classes.push(E)),a.hooks.run("wrap",S);var j="";for(var k in S.attributes)j+=" "+k+'="'+(S.attributes[k]||"").replace(/"/g,"&quot;")+'"';return"<"+S.tag+' class="'+S.classes.join(" ")+'"'+j+">"+S.content+"</"+S.tag+">"};function u(y,w,C,_){y.lastIndex=w;var S=y.exec(C);if(S&&_&&S[1]){var E=S[1].length;S.index+=E,S[0]=S[0].slice(E)}return S}function d(y,w,C,_,S,E){for(var j in C)if(!(!C.hasOwnProperty(j)||!C[j])){var k=C[j];k=Array.isArray(k)?k:[k];for(var T=0;T<k.length;++T){if(E&&E.cause==j+","+T)return;var A=k[T],D=A.inside,I=!!A.lookbehind,O=!!A.greedy,$=A.alias;if(O&&!A.pattern.global){var R=A.pattern.toString().match(/[imsuy]*$/)[0];A.pattern=RegExp(A.pattern.source,R+"g")}for(var z=A.pattern||A,B=_.next,U=S;B!==w.tail&&!(E&&U>=E.reach);U+=B.value.length,B=B.next){var W=B.value;if(w.length>y.length)return;if(!(W instanceof c)){var V=1,K;if(O){if(K=u(z,U,y,I),!K||K.index>=y.length)break;var q=K.index,te=K.index+K[0].length,N=U;for(N+=B.value.length;q>=N;)B=B.next,N+=B.value.length;if(N-=B.value.length,U=N,B.value instanceof c)continue;for(var G=B;G!==w.tail&&(N<te||typeof G.value=="string");G=G.next)V++,N+=G.value.length;V--,W=y.slice(U,N),K.index-=U}else if(K=u(z,0,W,I),!K)continue;var q=K.index,Z=K[0],ie=W.slice(0,q),ne=W.slice(q+Z.length),Y=U+W.length;E&&Y>E.reach&&(E.reach=Y);var X=B.prev;ie&&(X=p(w,X,ie),U+=ie.length),m(w,X,V);var ae=new c(j,D?a.tokenize(Z,D):Z,$,Z);if(B=p(w,X,ae),ne&&p(w,B,ne),V>1){var he={cause:j+","+T,reach:Y};d(y,w,C,B.prev,U,he),E&&he.reach>E.reach&&(E.reach=he.reach)}}}}}}function f(){var y={value:null,prev:null,next:null},w={value:null,prev:y,next:null};y.next=w,this.head=y,this.tail=w,this.length=0}function p(y,w,C){var _=w.next,S={value:C,prev:w,next:_};return w.next=S,_.prev=S,y.length++,S}function m(y,w,C){for(var _=w.next,S=0;S<C&&_!==y.tail;S++)_=_.next;w.next=_,_.prev=w,y.length-=S}function v(y){for(var w=[],C=y.head.next;C!==y.tail;)w.push(C.value),C=C.next;return w}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(y){var w=JSON.parse(y.data),C=w.language,_=w.code,S=w.immediateClose;r.postMessage(a.highlight(_,a.languages[C],C)),S&&r.close()},!1)),a;var g=a.util.currentScript();g&&(a.filename=g.src,g.hasAttribute("data-manual")&&(a.manual=!0));function b(){a.manual||a.highlightAll()}if(!a.manual){var x=document.readyState;x==="loading"||x==="interactive"&&g&&g.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return a}(t);e.exports&&(e.exports=n),typeof ws<"u"&&(ws.Prism=n)})(w1e);var ONe=w1e.exports,PNe=s6;s6.displayName="markup";s6.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function s6(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var o={};o["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(t,n){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+t+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:e.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}var RNe=a6;a6.displayName="css";a6.aliases=[];function a6(e){(function(t){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var r=t.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(e)}var $Ne=l6;l6.displayName="clike";l6.aliases=[];function l6(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var C1e=c6;c6.displayName="javascript";c6.aliases=["js"];function c6(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}const MNe=Ie(C1e);var by=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof ws=="object"?ws:{},FNe=JNe();by.Prism={manual:!0,disableWorkerMessageHandler:!0};var LNe=J9e,BNe=mNe,_1e=ONe,NNe=PNe,zNe=RNe,VNe=$Ne,HNe=C1e;FNe();var u6={}.hasOwnProperty;function S1e(){}S1e.prototype=_1e;var po=new S1e,UNe=po;po.highlight=qNe;po.register=fw;po.alias=WNe;po.registered=YNe;po.listLanguages=GNe;fw(NNe);fw(zNe);fw(VNe);fw(HNe);po.util.encode=XNe;po.Token.stringify=KNe;function fw(e){if(typeof e!="function"||!e.displayName)throw new Error("Expected `function` for `grammar`, got `"+e+"`");po.languages[e.displayName]===void 0&&e(po)}function WNe(e,t){var n=po.languages,r=e,o,i,s,a;t&&(r={},r[e]=t);for(o in r)for(i=r[o],i=typeof i=="string"?[i]:i,s=i.length,a=-1;++a<s;)n[i[a]]=n[o]}function qNe(e,t){var n=_1e.highlight,r;if(typeof e!="string")throw new Error("Expected `string` for `value`, got `"+e+"`");if(po.util.type(t)==="Object")r=t,t=null;else{if(typeof t!="string")throw new Error("Expected `string` for `name`, got `"+t+"`");if(u6.call(po.languages,t))r=po.languages[t];else throw new Error("Unknown language: `"+t+"` is not registered")}return n.call(this,e,r,t)}function YNe(e){if(typeof e!="string")throw new Error("Expected `string` for `language`, got `"+e+"`");return u6.call(po.languages,e)}function GNe(){var e=po.languages,t=[],n;for(n in e)u6.call(e,n)&&typeof e[n]=="object"&&t.push(n);return t}function KNe(e,t,n){var r;return typeof e=="string"?{type:"text",value:e}:po.util.type(e)==="Array"?ZNe(e,t):(r={type:e.type,content:po.Token.stringify(e.content,t,n),tag:"span",classes:["token",e.type],attributes:{},language:t,parent:n},e.alias&&(r.classes=r.classes.concat(e.alias)),po.hooks.run("wrap",r),LNe(r.tag+"."+r.classes.join("."),QNe(r.attributes),r.content))}function ZNe(e,t){for(var n=[],r=e.length,o=-1,i;++o<r;)i=e[o],i!==""&&i!==null&&i!==void 0&&n.push(i);for(o=-1,r=n.length;++o<r;)i=n[o],n[o]=po.Token.stringify(i,t,n);return n}function XNe(e){return e}function QNe(e){var t;for(t in e)e[t]=BNe(e[t]);return e}function JNe(){var e="Prism"in by,t=e?by.Prism:void 0;return n;function n(){e?by.Prism=t:delete by.Prism,e=void 0,t=void 0}}var E1e={},eze=h;function tze(e,t,n){if(e.tagName){var r=e.properties&&Array.isArray(e.properties.className)?e.properties.className.join(" "):e.properties.className;return eze.createElement(e.tagName,Object.assign({key:"fract-".concat(n,"-").concat(t)},e.properties,{className:r}),e.children&&e.children.map(k1e(n+1)))}return e.value}function k1e(e){return function(n,r){return tze(n,r,e)}}E1e.depth=k1e;var j1e=T1e;function T1e(e){if(e==null)return ize;if(typeof e=="string")return oze(e);if(typeof e=="object")return"length"in e?rze(e):nze(e);if(typeof e=="function")return e;throw new Error("Expected function, string, or object as test")}function nze(e){return t;function t(n){var r;for(r in e)if(n[r]!==e[r])return!1;return!0}}function rze(e){for(var t=[],n=-1;++n<e.length;)t[n]=T1e(e[n]);return r;function r(){for(var o=-1;++o<t.length;)if(t[o].apply(this,arguments))return!0;return!1}}function oze(e){return t;function t(n){return!!(n&&n.type===e)}}function ize(){return!0}var sze=j1e,aze=cze,lze={}.hasOwnProperty;function cze(e,t,n){var r=sze(n||t),o=t.cascade==null?!0:t.cascade;return i(e,null,null);function i(s,a,c){var u,d,f,p,m;if(!r(s,a,c))return null;if(s.children){for(u=[],d=-1;++d<s.children.length;)f=i(s.children[d],d,s),f&&u.push(f);if(o&&s.children.length&&!u.length)return null}p={};for(m in s)lze.call(s,m)&&(p[m]=m==="children"?u:s[m]);return p}}var uze=dze;function dze(e){return e}var fze=yj,hze=j1e,pze=uze,A1e=!0,D1e="skip",WP=!1;yj.CONTINUE=A1e;yj.SKIP=D1e;yj.EXIT=WP;function yj(e,t,n,r){var o,i;typeof t=="function"&&typeof n!="function"&&(r=n,n=t,t=null),i=hze(t),o=r?-1:1,s(e,null,[])();function s(a,c,u){var d=typeof a=="object"&&a!==null?a:{},f;return typeof d.type=="string"&&(f=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0,p.displayName="node ("+pze(d.type+(f?"<"+f+">":""))+")"),p;function p(){var m=u.concat(a),v=[],g,b;if((!t||i(a,c,u[u.length-1]||null))&&(v=mze(n(a,u)),v[0]===WP))return v;if(a.children&&v[0]!==D1e)for(b=(r?a.children.length:-1)+o;b>-1&&b<a.children.length;){if(g=s(a.children[b],b,m)(),g[0]===WP)return g;b=typeof g[1]=="number"?g[1]:b+o}return v}}}function mze(e){return e!==null&&typeof e=="object"&&"length"in e?e:typeof e=="number"?[A1e,e]:[e]}var gze=typeof WeakMap=="function"?hw:pw;function hw(){this.map=new WeakMap}hw.prototype.has=function(e){return this.map.has(e)};hw.prototype.set=function(e,t){return this.map.set(e,t),this};hw.prototype.get=function(e){return this.map.get(e)};hw.prototype.clear=function(){};function pw(){this.keys=[],this.values=[]}pw.prototype.has=function(e){return this.keys.indexOf(e)!==-1};pw.prototype.set=function(e,t){var n=this.keys.indexOf(e);return n===-1?(this.keys.push(e),this.values.push(t)):this.values[n]=t,this};pw.prototype.get=function(e){var t=this.keys.indexOf(e);return t===-1?void 0:this.values[t]};pw.prototype.clear=function(){this.keys=[],this.values=[]};var vze=aze,SV=fze,LD=gze;function I1e(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return e.reduce(function(n,r){var o=t.lineNumber;if(r.type==="text"){if(r.value.indexOf(`
`)===-1)return r.lineStart=o,r.lineEnd=o,n.nodes.push(r),n;for(var i=r.value.split(`
`),s=0;s<i.length;s++){var a=s===0?t.lineNumber:++t.lineNumber;n.nodes.push({type:"text",value:s===i.length-1?i[s]:"".concat(i[s],`
`),lineStart:a,lineEnd:a})}return n.lineNumber=t.lineNumber,n}if(r.children){var c=I1e(r.children,t),u=c.nodes[0],d=c.nodes[c.nodes.length-1];return r.lineStart=u?u.lineStart:o,r.lineEnd=d?d.lineEnd:o,r.children=c.nodes,n.lineNumber=c.lineNumber,n.nodes.push(r),n}return n.nodes.push(r),n},{nodes:[],lineNumber:t.lineNumber})}function yze(e,t){var n={type:"root",children:t},r=new LD,o=new LD,i=new LD,s=[];function a(f,p,m){s.push(p),m.forEach(function(y){f.has(y)||(f.set(y,Object.assign({},y,{children:[]})),y!==n&&s.push(y))});for(var v=m.length;v--;){var g=f.get(m[v]),b=m[v+1],x=f.get(b)||p;g.children.indexOf(x)===-1&&g.children.push(x)}}SV(n,function(f,p){if(!f.children){if(f.lineStart<e){a(r,f,p);return}if(f.lineStart===e){a(o,f,p);return}f.lineEnd>e&&s.some(function(m){return p.indexOf(m)!==-1})&&a(i,f,p)}});var c=vze(n,function(f){return s.indexOf(f)===-1}),u=function(p){var m=p.get(n);return m?(SV(m,function(v,g){if(v.children){v.lineStart=0,v.lineEnd=0;return}g.forEach(function(b){b.lineStart=Math.max(b.lineStart,v.lineStart),b.lineEnd=Math.max(b.lineEnd,v.lineEnd)})}),m.children):[]},d=[].concat(u(r),u(o),u(i),c?c.children:[]);return r.clear(),o.clear(),i.clear(),d}function bze(e,t,n){var r=t.className||"refractor-marker";return{type:"element",tagName:t.component||"div",properties:t.component?Object.assign({},n,{className:r}):{className:r},children:e,lineStart:t.line,lineEnd:e[e.length-1].lineEnd,isMarker:!0}}function xze(e,t,n){if(t.length===0||e.length===0)return e;for(var r=t.reduce(function(f,p){return yze(p.line,f)},e),o=[],i=0,s=0;s<t.length;s++){for(var a=t[s],c=r[i];c&&c.lineEnd<a.line;c=r[++i])o.push(c);for(var u=[],d=r[i];d&&d.lineEnd===a.line;d=r[++i])u.push(d);u.length>0&&o.push(bze(u,a,n))}for(;i<r.length;)o.push(r[i++]);return o}function wze(e,t){var n=t.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,i){return o.line-i.line}),r=I1e(e).nodes;return xze(r,n,t)}var Cze=wze,_ze=h,Ps=t1e,d6=UNe,Sze=E1e,Eze=Cze,EV=_ze.createElement;function mw(e){var t="language-".concat(e.language),n={className:t},r={className:[e.className,t].filter(Boolean).join(" ")};e.inline&&(n.style={display:"inline"},n.className=e.className);var o=d6.highlight(e.value,e.language);e.markers&&e.markers.length>0&&(o=Eze(o,{markers:e.markers}));var i=o.length===0?e.value:o.map(Sze.depth(0)),s=EV("code",n,i);return e.inline?s:EV("pre",r,s)}mw.propTypes={className:Ps.string,inline:Ps.bool,language:Ps.string.isRequired,value:Ps.string.isRequired,markers:Ps.arrayOf(Ps.oneOfType([Ps.number,Ps.shape({line:Ps.number.isRequired,className:Ps.string,component:Ps.oneOfType([Ps.node,Ps.func])})]))};mw.defaultProps={className:"refractor",inline:!1};mw.registerLanguage=function(e){return d6.register(e)};mw.hasLanguage=function(e){return d6.registered(e)};var kze=mw;const Fp=Ie(kze),jze=["top","right","bottom","left"],$v=Math.min,yp=Math.max,iE=Math.round,LC=Math.floor,Tf=e=>({x:e,y:e}),Tze={left:"right",right:"left",bottom:"top",top:"bottom"},Aze={start:"end",end:"start"};function qP(e,t,n){return yp(e,$v(t,n))}function C0(e,t){return typeof e=="function"?e(t):e}function Lp(e){return e.split("-")[0]}function gw(e){return e.split("-")[1]}function O1e(e){return e==="x"?"y":"x"}function f6(e){return e==="y"?"height":"width"}function bj(e){return["top","bottom"].includes(Lp(e))?"y":"x"}function h6(e){return O1e(bj(e))}function Dze(e,t,n){n===void 0&&(n=!1);const r=gw(e),o=h6(e),i=f6(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=sE(s)),[s,sE(s)]}function Ize(e){const t=sE(e);return[YP(e),t,YP(t)]}function YP(e){return e.replace(/start|end/g,t=>Aze[t])}function Oze(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function Pze(e,t,n,r){const o=gw(e);let i=Oze(Lp(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(YP)))),i}function sE(e){return e.replace(/left|right|bottom|top/g,t=>Tze[t])}function Rze(e){return{top:0,right:0,bottom:0,left:0,...e}}function P1e(e){return typeof e!="number"?Rze(e):{top:e,right:e,bottom:e,left:e}}function aE(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function kV(e,t,n){let{reference:r,floating:o}=e;const i=bj(t),s=h6(t),a=f6(s),c=Lp(t),u=i==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[a]/2-o[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(gw(t)){case"start":m[s]-=p*(n&&u?-1:1);break;case"end":m[s]+=p*(n&&u?-1:1);break}return m}const $ze=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,a=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=kV(u,r,c),p=r,m={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:x}=a[g],{x:y,y:w,data:C,reset:_}=await x({x:d,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});if(d=y??d,f=w??f,m={...m,[b]:{...m[b],...C}},_&&v<=50){v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):_.rects),{x:d,y:f}=kV(u,p,c)),g=-1;continue}}return{x:d,y:f,placement:p,strategy:o,middlewareData:m}};async function $b(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=C0(t,e),v=P1e(m),b=a[p?f==="floating"?"reference":"floating":f],x=aE(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),C=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},_=aE(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:y,offsetParent:w,strategy:c}):y);return{top:(x.top-_.top+v.top)/C.y,bottom:(_.bottom-x.bottom+v.bottom)/C.y,left:(x.left-_.left+v.left)/C.x,right:(_.right-x.right+v.right)/C.x}}const jV=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=C0(e,t)||{};if(u==null)return{};const f=P1e(d),p={x:n,y:r},m=h6(o),v=f6(m),g=await s.getDimensions(u),b=m==="y",x=b?"top":"left",y=b?"bottom":"right",w=b?"clientHeight":"clientWidth",C=i.reference[v]+i.reference[m]-p[m]-i.floating[v],_=p[m]-i.reference[m],S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let E=S?S[w]:0;(!E||!await(s.isElement==null?void 0:s.isElement(S)))&&(E=a.floating[w]||i.floating[v]);const j=C/2-_/2,k=E/2-g[v]/2-1,T=$v(f[x],k),A=$v(f[y],k),D=T,I=E-g[v]-A,O=E/2-g[v]/2+j,$=qP(D,O,I),R=!c.arrow&&gw(o)!=null&&O!=$&&i.reference[v]/2-(O<D?T:A)-g[v]/2<0,z=R?O<D?O-D:O-I:0;return{[m]:p[m]+z,data:{[m]:$,centerOffset:O-$-z,...R&&{alignmentOffset:z}},reset:R}}}),R1e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=C0(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=Lp(o),y=Lp(a)===a,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=p||(y||!g?[sE(a)]:Ize(a));!p&&v!=="none"&&C.push(...Pze(a,g,v,w));const _=[a,...C],S=await $b(t,b),E=[];let j=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&E.push(S[x]),f){const D=Dze(o,s,w);E.push(S[D[0]],S[D[1]])}if(j=[...j,{placement:o,overflows:E}],!E.every(D=>D<=0)){var k,T;const D=(((k=i.flip)==null?void 0:k.index)||0)+1,I=_[D];if(I)return{data:{index:D,overflows:j},reset:{placement:I}};let O=(T=j.filter($=>$.overflows[0]<=0).sort(($,R)=>$.overflows[1]-R.overflows[1])[0])==null?void 0:T.placement;if(!O)switch(m){case"bestFit":{var A;const $=(A=j.map(R=>[R.placement,R.overflows.filter(z=>z>0).reduce((z,B)=>z+B,0)]).sort((R,z)=>R[1]-z[1])[0])==null?void 0:A[0];$&&(O=$);break}case"initialPlacement":O=a;break}if(o!==O)return{reset:{placement:O}}}return{}}}};function TV(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function AV(e){return jze.some(t=>e[t]>=0)}const Mze=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...o}=C0(e,t);switch(r){case"referenceHidden":{const i=await $b(t,{...o,elementContext:"reference"}),s=TV(i,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:AV(s)}}}case"escaped":{const i=await $b(t,{...o,altBoundary:!0}),s=TV(i,n.floating);return{data:{escapedOffsets:s,escaped:AV(s)}}}default:return{}}}}};async function Fze(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=Lp(n),a=gw(n),c=bj(n)==="y",u=["left","top"].includes(s)?-1:1,d=i&&c?-1:1,f=C0(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),c?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const $1e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await Fze(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},M1e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x,y}=b;return{x,y}}},...c}=C0(e,t),u={x:n,y:r},d=await $b(t,c),f=bj(Lp(o)),p=O1e(f);let m=u[p],v=u[f];if(i){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",y=m+d[b],w=m-d[x];m=qP(y,m,w)}if(s){const b=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=v+d[b],w=v-d[x];v=qP(y,v,w)}const g=a.fn({...t,[p]:m,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r}}}}};function Af(e){return F1e(e)?(e.nodeName||"").toLowerCase():"#document"}function Xs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function rd(e){var t;return(t=(F1e(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function F1e(e){return e instanceof Node||e instanceof Xs(e).Node}function Ru(e){return e instanceof Element||e instanceof Xs(e).Element}function Ec(e){return e instanceof HTMLElement||e instanceof Xs(e).HTMLElement}function DV(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xs(e).ShadowRoot}function vw(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Wa(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Lze(e){return["table","td","th"].includes(Af(e))}function p6(e){const t=m6(),n=Wa(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Bze(e){let t=Mv(e);for(;Ec(t)&&!xj(t);){if(p6(t))return t;t=Mv(t)}return null}function m6(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function xj(e){return["html","body","#document"].includes(Af(e))}function Wa(e){return Xs(e).getComputedStyle(e)}function wj(e){return Ru(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Mv(e){if(Af(e)==="html")return e;const t=e.assignedSlot||e.parentNode||DV(e)&&e.host||rd(e);return DV(t)?t.host:t}function L1e(e){const t=Mv(e);return xj(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ec(t)&&vw(t)?t:L1e(t)}function Mb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=L1e(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=Xs(o);return i?t.concat(s,s.visualViewport||[],vw(o)?o:[],s.frameElement&&n?Mb(s.frameElement):[]):t.concat(o,Mb(o,[],n))}function B1e(e){const t=Wa(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Ec(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,a=iE(n)!==i||iE(r)!==s;return a&&(n=i,r=s),{width:n,height:r,$:a}}function g6(e){return Ru(e)?e:e.contextElement}function Zg(e){const t=g6(e);if(!Ec(t))return Tf(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=B1e(t);let s=(i?iE(n.width):n.width)/r,a=(i?iE(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Nze=Tf(0);function N1e(e){const t=Xs(e);return!m6()||!t.visualViewport?Nze:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function zze(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xs(e)?!1:t}function Bp(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=g6(e);let s=Tf(1);t&&(r?Ru(r)&&(s=Zg(r)):s=Zg(e));const a=zze(i,n,r)?N1e(i):Tf(0);let c=(o.left+a.x)/s.x,u=(o.top+a.y)/s.y,d=o.width/s.x,f=o.height/s.y;if(i){const p=Xs(i),m=r&&Ru(r)?Xs(r):r;let v=p.frameElement;for(;v&&r&&m!==p;){const g=Zg(v),b=v.getBoundingClientRect(),x=Wa(v),y=b.left+(v.clientLeft+parseFloat(x.paddingLeft))*g.x,w=b.top+(v.clientTop+parseFloat(x.paddingTop))*g.y;c*=g.x,u*=g.y,d*=g.x,f*=g.y,c+=y,u+=w,v=Xs(v).frameElement}}return aE({width:d,height:f,x:c,y:u})}function Vze(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Ec(n),i=rd(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},a=Tf(1);const c=Tf(0);if((o||!o&&r!=="fixed")&&((Af(n)!=="body"||vw(i))&&(s=wj(n)),Ec(n))){const u=Bp(n);a=Zg(n),c.x=u.x+n.clientLeft,c.y=u.y+n.clientTop}return{width:t.width*a.x,height:t.height*a.y,x:t.x*a.x-s.scrollLeft*a.x+c.x,y:t.y*a.y-s.scrollTop*a.y+c.y}}function Hze(e){return Array.from(e.getClientRects())}function z1e(e){return Bp(rd(e)).left+wj(e).scrollLeft}function Uze(e){const t=rd(e),n=wj(e),r=e.ownerDocument.body,o=yp(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=yp(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+z1e(e);const a=-n.scrollTop;return Wa(r).direction==="rtl"&&(s+=yp(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:a}}function Wze(e,t){const n=Xs(e),r=rd(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,c=0;if(o){i=o.width,s=o.height;const u=m6();(!u||u&&t==="fixed")&&(a=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:a,y:c}}function qze(e,t){const n=Bp(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Ec(e)?Zg(e):Tf(1),s=e.clientWidth*i.x,a=e.clientHeight*i.y,c=o*i.x,u=r*i.y;return{width:s,height:a,x:c,y:u}}function IV(e,t,n){let r;if(t==="viewport")r=Wze(e,n);else if(t==="document")r=Uze(rd(e));else if(Ru(t))r=qze(t,n);else{const o=N1e(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return aE(r)}function V1e(e,t){const n=Mv(e);return n===t||!Ru(n)||xj(n)?!1:Wa(n).position==="fixed"||V1e(n,t)}function Yze(e,t){const n=t.get(e);if(n)return n;let r=Mb(e,[],!1).filter(a=>Ru(a)&&Af(a)!=="body"),o=null;const i=Wa(e).position==="fixed";let s=i?Mv(e):e;for(;Ru(s)&&!xj(s);){const a=Wa(s),c=p6(s);!c&&a.position==="fixed"&&(o=null),(i?!c&&!o:!c&&a.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||vw(s)&&!c&&V1e(e,s))?r=r.filter(d=>d!==s):o=a,s=Mv(s)}return t.set(e,r),r}function Gze(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Yze(t,this._c):[].concat(n),r],a=s[0],c=s.reduce((u,d)=>{const f=IV(t,d,o);return u.top=yp(f.top,u.top),u.right=$v(f.right,u.right),u.bottom=$v(f.bottom,u.bottom),u.left=yp(f.left,u.left),u},IV(t,a,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kze(e){return B1e(e)}function Zze(e,t,n){const r=Ec(t),o=rd(t),i=n==="fixed",s=Bp(e,!0,i,t);let a={scrollLeft:0,scrollTop:0};const c=Tf(0);if(r||!r&&!i)if((Af(t)!=="body"||vw(o))&&(a=wj(t)),r){const u=Bp(t,!0,i,t);c.x=u.x+t.clientLeft,c.y=u.y+t.clientTop}else o&&(c.x=z1e(o));return{x:s.left+a.scrollLeft-c.x,y:s.top+a.scrollTop-c.y,width:s.width,height:s.height}}function OV(e,t){return!Ec(e)||Wa(e).position==="fixed"?null:t?t(e):e.offsetParent}function H1e(e,t){const n=Xs(e);if(!Ec(e))return n;let r=OV(e,t);for(;r&&Lze(r)&&Wa(r).position==="static";)r=OV(r,t);return r&&(Af(r)==="html"||Af(r)==="body"&&Wa(r).position==="static"&&!p6(r))?n:r||Bze(e)||n}const Xze=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||H1e,i=this.getDimensions;return{reference:Zze(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function Qze(e){return Wa(e).direction==="rtl"}const Jze={convertOffsetParentRelativeRectToViewportRelativeRect:Vze,getDocumentElement:rd,getClippingRect:Gze,getOffsetParent:H1e,getElementRects:Xze,getClientRects:Hze,getDimensions:Kze,getScale:Zg,isElement:Ru,isRTL:Qze};function eVe(e,t){let n=null,r;const o=rd(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const m=LC(d),v=LC(o.clientWidth-(u+f)),g=LC(o.clientHeight-(d+p)),b=LC(u),y={rootMargin:-m+"px "+-v+"px "+-g+"px "+-b+"px",threshold:yp(0,$v(1,c))||1};let w=!0;function C(_){const S=_[0].intersectionRatio;if(S!==c){if(!w)return s();S?s(!1,S):r=setTimeout(()=>{s(!1,1e-7)},100)}w=!1}try{n=new IntersectionObserver(C,{...y,root:o.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(e)}return s(!0),i}function U1e(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=g6(e),d=o||i?[...u?Mb(u):[],...Mb(t)]:[];d.forEach(x=>{o&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=u&&a?eVe(u,n):null;let p=-1,m=null;s&&(m=new ResizeObserver(x=>{let[y]=x;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{m&&m.observe(t)})),n()}),u&&!c&&m.observe(u),m.observe(t));let v,g=c?Bp(e):null;c&&b();function b(){const x=Bp(e);g&&(x.x!==g.x||x.y!==g.y||x.width!==g.width||x.height!==g.height)&&n(),g=x,v=requestAnimationFrame(b)}return n(),()=>{d.forEach(x=>{o&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),f&&f(),m&&m.disconnect(),m=null,c&&cancelAnimationFrame(v)}}const tVe=(e,t,n)=>{const r=new Map,o={platform:Jze,...n},i={...o.platform,_c:r};return $ze(e,t,{...o,platform:i})};var W1e={exports:{}},ca={},q1e={exports:{}},Y1e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,U){var W=B.length;B.push(U);e:for(;0<W;){var V=W-1>>>1,K=B[V];if(0<o(K,U))B[V]=U,B[W]=K,W=V;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var U=B[0],W=B.pop();if(W!==U){B[0]=W;e:for(var V=0,K=B.length,te=K>>>1;V<te;){var N=2*(V+1)-1,G=B[N],q=N+1,Z=B[q];if(0>o(G,W))q<K&&0>o(Z,G)?(B[V]=Z,B[q]=W,V=q):(B[V]=G,B[N]=W,V=N);else if(q<K&&0>o(Z,W))B[V]=Z,B[q]=W,V=q;else break e}}return U}function o(B,U){var W=B.sortIndex-U.sortIndex;return W!==0?W:B.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var c=[],u=[],d=1,f=null,p=3,m=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=B)r(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(u)}}function C(B){if(g=!1,w(B),!v)if(n(c)!==null)v=!0,R(_);else{var U=n(u);U!==null&&z(C,U.startTime-B)}}function _(B,U){v=!1,g&&(g=!1,x(j),j=-1),m=!0;var W=p;try{for(w(U),f=n(c);f!==null&&(!(f.expirationTime>U)||B&&!A());){var V=f.callback;if(typeof V=="function"){f.callback=null,p=f.priorityLevel;var K=V(f.expirationTime<=U);U=e.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&r(c),w(U)}else r(c);f=n(c)}if(f!==null)var te=!0;else{var N=n(u);N!==null&&z(C,N.startTime-U),te=!1}return te}finally{f=null,p=W,m=!1}}var S=!1,E=null,j=-1,k=5,T=-1;function A(){return!(e.unstable_now()-T<k)}function D(){if(E!==null){var B=e.unstable_now();T=B;var U=!0;try{U=E(!0,B)}finally{U?I():(S=!1,E=null)}}else S=!1}var I;if(typeof y=="function")I=function(){y(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,$=O.port2;O.port1.onmessage=D,I=function(){$.postMessage(null)}}else I=function(){b(D,0)};function R(B){E=B,S||(S=!0,I())}function z(B,U){j=b(function(){B(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,R(_))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(B){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var W=p;p=U;try{return B()}finally{p=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,U){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var W=p;p=B;try{return U()}finally{p=W}},e.unstable_scheduleCallback=function(B,U,W){var V=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?V+W:V):W=V,B){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,B={id:d++,callback:U,priorityLevel:B,startTime:W,expirationTime:K,sortIndex:-1},W>V?(B.sortIndex=W,t(u,B),n(c)===null&&B===n(u)&&(g?(x(j),j=-1):g=!0,z(C,W-V))):(B.sortIndex=K,t(c,B),v||m||(v=!0,R(_))),B},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(B){var U=p;return function(){var W=p;p=U;try{return B.apply(this,arguments)}finally{p=W}}}})(Y1e);q1e.exports=Y1e;var nVe=q1e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1e=h,ta=nVe;function ke(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K1e=new Set,Fb={};function mm(e,t){Fv(e,t),Fv(e+"Capture",t)}function Fv(e,t){for(Fb[e]=t,e=0;e<t.length;e++)K1e.add(t[e])}var $u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),GP=Object.prototype.hasOwnProperty,rVe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,PV={},RV={};function oVe(e){return GP.call(RV,e)?!0:GP.call(PV,e)?!1:rVe.test(e)?RV[e]=!0:(PV[e]=!0,!1)}function iVe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sVe(e,t,n,r){if(t===null||typeof t>"u"||iVe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ns(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ri[e]=new ns(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ri[t]=new ns(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ri[e]=new ns(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ri[e]=new ns(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ri[e]=new ns(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ri[e]=new ns(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ri[e]=new ns(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ri[e]=new ns(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ri[e]=new ns(e,5,!1,e.toLowerCase(),null,!1,!1)});var v6=/[\-:]([a-z])/g;function y6(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v6,y6);ri[t]=new ns(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v6,y6);ri[t]=new ns(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v6,y6);ri[t]=new ns(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ri[e]=new ns(e,1,!1,e.toLowerCase(),null,!1,!1)});ri.xlinkHref=new ns("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ri[e]=new ns(e,1,!1,e.toLowerCase(),null,!0,!0)});function b6(e,t,n,r){var o=ri.hasOwnProperty(t)?ri[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sVe(t,n,o,r)&&(n=null),r||o===null?oVe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var od=G1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,BC=Symbol.for("react.element"),Eg=Symbol.for("react.portal"),kg=Symbol.for("react.fragment"),x6=Symbol.for("react.strict_mode"),KP=Symbol.for("react.profiler"),Z1e=Symbol.for("react.provider"),X1e=Symbol.for("react.context"),w6=Symbol.for("react.forward_ref"),ZP=Symbol.for("react.suspense"),XP=Symbol.for("react.suspense_list"),C6=Symbol.for("react.memo"),Td=Symbol.for("react.lazy"),Q1e=Symbol.for("react.offscreen"),$V=Symbol.iterator;function k1(e){return e===null||typeof e!="object"?null:(e=$V&&e[$V]||e["@@iterator"],typeof e=="function"?e:null)}var Fr=Object.assign,BD;function xy(e){if(BD===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);BD=t&&t[1]||""}return`
`+BD+e}var ND=!1;function zD(e,t){if(!e||ND)return"";ND=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=a);break}}}finally{ND=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?xy(e):""}function aVe(e){switch(e.tag){case 5:return xy(e.type);case 16:return xy("Lazy");case 13:return xy("Suspense");case 19:return xy("SuspenseList");case 0:case 2:case 15:return e=zD(e.type,!1),e;case 11:return e=zD(e.type.render,!1),e;case 1:return e=zD(e.type,!0),e;default:return""}}function QP(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kg:return"Fragment";case Eg:return"Portal";case KP:return"Profiler";case x6:return"StrictMode";case ZP:return"Suspense";case XP:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X1e:return(e.displayName||"Context")+".Consumer";case Z1e:return(e._context.displayName||"Context")+".Provider";case w6:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C6:return t=e.displayName||null,t!==null?t:QP(e.type)||"Memo";case Td:t=e._payload,e=e._init;try{return QP(e(t))}catch{}}return null}function lVe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return QP(t);case 8:return t===x6?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Df(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function J1e(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cVe(e){var t=J1e(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function NC(e){e._valueTracker||(e._valueTracker=cVe(e))}function eye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=J1e(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lE(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function JP(e,t){var n=t.checked;return Fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function MV(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Df(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function tye(e,t){t=t.checked,t!=null&&b6(e,"checked",t,!1)}function eR(e,t){tye(e,t);var n=Df(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?tR(e,t.type,n):t.hasOwnProperty("defaultValue")&&tR(e,t.type,Df(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function FV(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function tR(e,t,n){(t!=="number"||lE(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var wy=Array.isArray;function Xg(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Df(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function nR(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ke(91));return Fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function LV(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ke(92));if(wy(n)){if(1<n.length)throw Error(ke(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Df(n)}}function nye(e,t){var n=Df(t.value),r=Df(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function BV(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rye(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rR(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rye(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zC,oye=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zC=zC||document.createElement("div"),zC.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zC.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lb(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uVe=["Webkit","ms","Moz","O"];Object.keys(Yy).forEach(function(e){uVe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yy[t]=Yy[e]})});function iye(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yy.hasOwnProperty(e)&&Yy[e]?(""+t).trim():t+"px"}function sye(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=iye(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var dVe=Fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oR(e,t){if(t){if(dVe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ke(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ke(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ke(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ke(62))}}function iR(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sR=null;function _6(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var aR=null,Qg=null,Jg=null;function NV(e){if(e=xw(e)){if(typeof aR!="function")throw Error(ke(280));var t=e.stateNode;t&&(t=kj(t),aR(e.stateNode,e.type,t))}}function aye(e){Qg?Jg?Jg.push(e):Jg=[e]:Qg=e}function lye(){if(Qg){var e=Qg,t=Jg;if(Jg=Qg=null,NV(e),t)for(e=0;e<t.length;e++)NV(t[e])}}function cye(e,t){return e(t)}function uye(){}var VD=!1;function dye(e,t,n){if(VD)return e(t,n);VD=!0;try{return cye(e,t,n)}finally{VD=!1,(Qg!==null||Jg!==null)&&(uye(),lye())}}function Bb(e,t){var n=e.stateNode;if(n===null)return null;var r=kj(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ke(231,t,typeof n));return n}var lR=!1;if($u)try{var j1={};Object.defineProperty(j1,"passive",{get:function(){lR=!0}}),window.addEventListener("test",j1,j1),window.removeEventListener("test",j1,j1)}catch{lR=!1}function fVe(e,t,n,r,o,i,s,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Gy=!1,cE=null,uE=!1,cR=null,hVe={onError:function(e){Gy=!0,cE=e}};function pVe(e,t,n,r,o,i,s,a,c){Gy=!1,cE=null,fVe.apply(hVe,arguments)}function mVe(e,t,n,r,o,i,s,a,c){if(pVe.apply(this,arguments),Gy){if(Gy){var u=cE;Gy=!1,cE=null}else throw Error(ke(198));uE||(uE=!0,cR=u)}}function gm(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function fye(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function zV(e){if(gm(e)!==e)throw Error(ke(188))}function gVe(e){var t=e.alternate;if(!t){if(t=gm(e),t===null)throw Error(ke(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return zV(o),e;if(i===r)return zV(o),t;i=i.sibling}throw Error(ke(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?e:t}function hye(e){return e=gVe(e),e!==null?pye(e):null}function pye(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pye(e);if(t!==null)return t;e=e.sibling}return null}var mye=ta.unstable_scheduleCallback,VV=ta.unstable_cancelCallback,vVe=ta.unstable_shouldYield,yVe=ta.unstable_requestPaint,Xr=ta.unstable_now,bVe=ta.unstable_getCurrentPriorityLevel,S6=ta.unstable_ImmediatePriority,gye=ta.unstable_UserBlockingPriority,dE=ta.unstable_NormalPriority,xVe=ta.unstable_LowPriority,vye=ta.unstable_IdlePriority,Cj=null,yc=null;function wVe(e){if(yc&&typeof yc.onCommitFiberRoot=="function")try{yc.onCommitFiberRoot(Cj,e,void 0,(e.current.flags&128)===128)}catch{}}var El=Math.clz32?Math.clz32:SVe,CVe=Math.log,_Ve=Math.LN2;function SVe(e){return e>>>=0,e===0?32:31-(CVe(e)/_Ve|0)|0}var VC=64,HC=4194304;function Cy(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fE(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Cy(a):(i&=s,i!==0&&(r=Cy(i)))}else s=n&~o,s!==0?r=Cy(s):i!==0&&(r=Cy(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-El(t),o=1<<n,r|=e[n],t&=~o;return r}function EVe(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kVe(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-El(i),a=1<<s,c=o[s];c===-1?(!(a&n)||a&r)&&(o[s]=EVe(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function uR(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function HD(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yw(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-El(t),e[t]=n}function jVe(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-El(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function E6(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-El(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Sn=0;function yye(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var bye,k6,xye,wye,Cye,dR=!1,UC=[],lf=null,cf=null,uf=null,Nb=new Map,zb=new Map,Fd=[],TVe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HV(e,t){switch(e){case"focusin":case"focusout":lf=null;break;case"dragenter":case"dragleave":cf=null;break;case"mouseover":case"mouseout":uf=null;break;case"pointerover":case"pointerout":Nb.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zb.delete(t.pointerId)}}function T1(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=xw(t),t!==null&&k6(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function AVe(e,t,n,r,o){switch(t){case"focusin":return lf=T1(lf,e,t,n,r,o),!0;case"dragenter":return cf=T1(cf,e,t,n,r,o),!0;case"mouseover":return uf=T1(uf,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Nb.set(i,T1(Nb.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,zb.set(i,T1(zb.get(i)||null,e,t,n,r,o)),!0}return!1}function _ye(e){var t=tp(e.target);if(t!==null){var n=gm(t);if(n!==null){if(t=n.tag,t===13){if(t=fye(n),t!==null){e.blockedOn=t,Cye(e.priority,function(){xye(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function B2(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fR(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);sR=r,n.target.dispatchEvent(r),sR=null}else return t=xw(n),t!==null&&k6(t),e.blockedOn=n,!1;t.shift()}return!0}function UV(e,t,n){B2(e)&&n.delete(t)}function DVe(){dR=!1,lf!==null&&B2(lf)&&(lf=null),cf!==null&&B2(cf)&&(cf=null),uf!==null&&B2(uf)&&(uf=null),Nb.forEach(UV),zb.forEach(UV)}function A1(e,t){e.blockedOn===t&&(e.blockedOn=null,dR||(dR=!0,ta.unstable_scheduleCallback(ta.unstable_NormalPriority,DVe)))}function Vb(e){function t(o){return A1(o,e)}if(0<UC.length){A1(UC[0],e);for(var n=1;n<UC.length;n++){var r=UC[n];r.blockedOn===e&&(r.blockedOn=null)}}for(lf!==null&&A1(lf,e),cf!==null&&A1(cf,e),uf!==null&&A1(uf,e),Nb.forEach(t),zb.forEach(t),n=0;n<Fd.length;n++)r=Fd[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fd.length&&(n=Fd[0],n.blockedOn===null);)_ye(n),n.blockedOn===null&&Fd.shift()}var ev=od.ReactCurrentBatchConfig;function IVe(e,t,n,r){var o=Sn,i=ev.transition;ev.transition=null;try{Sn=1,j6(e,t,n,r)}finally{Sn=o,ev.transition=i}}function OVe(e,t,n,r){var o=Sn,i=ev.transition;ev.transition=null;try{Sn=4,j6(e,t,n,r)}finally{Sn=o,ev.transition=i}}function j6(e,t,n,r){var o=fR(e,t,n,r);if(o===null)JD(e,t,r,hE,n),HV(e,r);else if(AVe(o,e,t,n,r))r.stopPropagation();else if(HV(e,r),t&4&&-1<TVe.indexOf(e)){for(;o!==null;){var i=xw(o);if(i!==null&&bye(i),i=fR(e,t,n,r),i===null&&JD(e,t,r,hE,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else JD(e,t,r,null,n)}var hE=null;function fR(e,t,n,r){if(hE=null,e=_6(r),e=tp(e),e!==null)if(t=gm(e),t===null)e=null;else if(n=t.tag,n===13){if(e=fye(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hE=e,null}function Sye(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bVe()){case S6:return 1;case gye:return 4;case dE:case xVe:return 16;case vye:return 536870912;default:return 16}default:return 16}}var Vd=null,T6=null,N2=null;function Eye(){if(N2)return N2;var e,t=T6,n=t.length,r,o="value"in Vd?Vd.value:Vd.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return N2=o.slice(e,1<r?1-r:void 0)}function z2(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function WC(){return!0}function WV(){return!1}function ua(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?WC:WV,this.isPropagationStopped=WV,this}return Fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=WC)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=WC)},persist:function(){},isPersistent:WC}),t}var _0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},A6=ua(_0),bw=Fr({},_0,{view:0,detail:0}),PVe=ua(bw),UD,WD,D1,_j=Fr({},bw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D6,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==D1&&(D1&&e.type==="mousemove"?(UD=e.screenX-D1.screenX,WD=e.screenY-D1.screenY):WD=UD=0,D1=e),UD)},movementY:function(e){return"movementY"in e?e.movementY:WD}}),qV=ua(_j),RVe=Fr({},_j,{dataTransfer:0}),$Ve=ua(RVe),MVe=Fr({},bw,{relatedTarget:0}),qD=ua(MVe),FVe=Fr({},_0,{animationName:0,elapsedTime:0,pseudoElement:0}),LVe=ua(FVe),BVe=Fr({},_0,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NVe=ua(BVe),zVe=Fr({},_0,{data:0}),YV=ua(zVe),VVe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HVe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UVe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function WVe(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=UVe[e])?!!t[e]:!1}function D6(){return WVe}var qVe=Fr({},bw,{key:function(e){if(e.key){var t=VVe[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=z2(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HVe[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D6,charCode:function(e){return e.type==="keypress"?z2(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?z2(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YVe=ua(qVe),GVe=Fr({},_j,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GV=ua(GVe),KVe=Fr({},bw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D6}),ZVe=ua(KVe),XVe=Fr({},_0,{propertyName:0,elapsedTime:0,pseudoElement:0}),QVe=ua(XVe),JVe=Fr({},_j,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),eHe=ua(JVe),tHe=[9,13,27,32],I6=$u&&"CompositionEvent"in window,Ky=null;$u&&"documentMode"in document&&(Ky=document.documentMode);var nHe=$u&&"TextEvent"in window&&!Ky,kye=$u&&(!I6||Ky&&8<Ky&&11>=Ky),KV=String.fromCharCode(32),ZV=!1;function jye(e,t){switch(e){case"keyup":return tHe.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tye(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jg=!1;function rHe(e,t){switch(e){case"compositionend":return Tye(t);case"keypress":return t.which!==32?null:(ZV=!0,KV);case"textInput":return e=t.data,e===KV&&ZV?null:e;default:return null}}function oHe(e,t){if(jg)return e==="compositionend"||!I6&&jye(e,t)?(e=Eye(),N2=T6=Vd=null,jg=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kye&&t.locale!=="ko"?null:t.data;default:return null}}var iHe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XV(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iHe[e.type]:t==="textarea"}function Aye(e,t,n,r){aye(r),t=pE(t,"onChange"),0<t.length&&(n=new A6("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Zy=null,Hb=null;function sHe(e){Nye(e,0)}function Sj(e){var t=Dg(e);if(eye(t))return e}function aHe(e,t){if(e==="change")return t}var Dye=!1;if($u){var YD;if($u){var GD="oninput"in document;if(!GD){var QV=document.createElement("div");QV.setAttribute("oninput","return;"),GD=typeof QV.oninput=="function"}YD=GD}else YD=!1;Dye=YD&&(!document.documentMode||9<document.documentMode)}function JV(){Zy&&(Zy.detachEvent("onpropertychange",Iye),Hb=Zy=null)}function Iye(e){if(e.propertyName==="value"&&Sj(Hb)){var t=[];Aye(t,Hb,e,_6(e)),dye(sHe,t)}}function lHe(e,t,n){e==="focusin"?(JV(),Zy=t,Hb=n,Zy.attachEvent("onpropertychange",Iye)):e==="focusout"&&JV()}function cHe(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sj(Hb)}function uHe(e,t){if(e==="click")return Sj(t)}function dHe(e,t){if(e==="input"||e==="change")return Sj(t)}function fHe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kc=typeof Object.is=="function"?Object.is:fHe;function Ub(e,t){if(kc(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!GP.call(t,o)||!kc(e[o],t[o]))return!1}return!0}function eH(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tH(e,t){var n=eH(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eH(n)}}function Oye(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Oye(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Pye(){for(var e=window,t=lE();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lE(e.document)}return t}function O6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hHe(e){var t=Pye(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Oye(n.ownerDocument.documentElement,n)){if(r!==null&&O6(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=tH(n,i);var s=tH(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pHe=$u&&"documentMode"in document&&11>=document.documentMode,Tg=null,hR=null,Xy=null,pR=!1;function nH(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pR||Tg==null||Tg!==lE(r)||(r=Tg,"selectionStart"in r&&O6(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xy&&Ub(Xy,r)||(Xy=r,r=pE(hR,"onSelect"),0<r.length&&(t=new A6("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Tg)))}function qC(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ag={animationend:qC("Animation","AnimationEnd"),animationiteration:qC("Animation","AnimationIteration"),animationstart:qC("Animation","AnimationStart"),transitionend:qC("Transition","TransitionEnd")},KD={},Rye={};$u&&(Rye=document.createElement("div").style,"AnimationEvent"in window||(delete Ag.animationend.animation,delete Ag.animationiteration.animation,delete Ag.animationstart.animation),"TransitionEvent"in window||delete Ag.transitionend.transition);function Ej(e){if(KD[e])return KD[e];if(!Ag[e])return e;var t=Ag[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rye)return KD[e]=t[n];return e}var $ye=Ej("animationend"),Mye=Ej("animationiteration"),Fye=Ej("animationstart"),Lye=Ej("transitionend"),Bye=new Map,rH="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gf(e,t){Bye.set(e,t),mm(t,[e])}for(var ZD=0;ZD<rH.length;ZD++){var XD=rH[ZD],mHe=XD.toLowerCase(),gHe=XD[0].toUpperCase()+XD.slice(1);Gf(mHe,"on"+gHe)}Gf($ye,"onAnimationEnd");Gf(Mye,"onAnimationIteration");Gf(Fye,"onAnimationStart");Gf("dblclick","onDoubleClick");Gf("focusin","onFocus");Gf("focusout","onBlur");Gf(Lye,"onTransitionEnd");Fv("onMouseEnter",["mouseout","mouseover"]);Fv("onMouseLeave",["mouseout","mouseover"]);Fv("onPointerEnter",["pointerout","pointerover"]);Fv("onPointerLeave",["pointerout","pointerover"]);mm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mm("onBeforeInput",["compositionend","keypress","textInput","paste"]);mm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _y="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vHe=new Set("cancel close invalid load scroll toggle".split(" ").concat(_y));function oH(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,mVe(r,t,void 0,e),e.currentTarget=null}function Nye(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;oH(o,a,u),i=c}else for(s=0;s<r.length;s++){if(a=r[s],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;oH(o,a,u),i=c}}}if(uE)throw e=cR,uE=!1,cR=null,e}function or(e,t){var n=t[yR];n===void 0&&(n=t[yR]=new Set);var r=e+"__bubble";n.has(r)||(zye(t,e,2,!1),n.add(r))}function QD(e,t,n){var r=0;t&&(r|=4),zye(n,e,r,t)}var YC="_reactListening"+Math.random().toString(36).slice(2);function Wb(e){if(!e[YC]){e[YC]=!0,K1e.forEach(function(n){n!=="selectionchange"&&(vHe.has(n)||QD(n,!1,e),QD(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[YC]||(t[YC]=!0,QD("selectionchange",!1,t))}}function zye(e,t,n,r){switch(Sye(t)){case 1:var o=IVe;break;case 4:o=OVe;break;default:o=j6}n=o.bind(null,t,n,e),o=void 0,!lR||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function JD(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;a!==null;){if(s=tp(a),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}a=a.parentNode}}r=r.return}dye(function(){var u=i,d=_6(n),f=[];e:{var p=Bye.get(e);if(p!==void 0){var m=A6,v=e;switch(e){case"keypress":if(z2(n)===0)break e;case"keydown":case"keyup":m=YVe;break;case"focusin":v="focus",m=qD;break;case"focusout":v="blur",m=qD;break;case"beforeblur":case"afterblur":m=qD;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=qV;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$Ve;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ZVe;break;case $ye:case Mye:case Fye:m=LVe;break;case Lye:m=QVe;break;case"scroll":m=PVe;break;case"wheel":m=eHe;break;case"copy":case"cut":case"paste":m=NVe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=GV}var g=(t&4)!==0,b=!g&&e==="scroll",x=g?p!==null?p+"Capture":null:p;g=[];for(var y=u,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=Bb(y,x),C!=null&&g.push(qb(y,C,w)))),b)break;y=y.return}0<g.length&&(p=new m(p,v,null,n,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==sR&&(v=n.relatedTarget||n.fromElement)&&(tp(v)||v[Mu]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=u,v=v?tp(v):null,v!==null&&(b=gm(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=u),m!==v)){if(g=qV,C="onMouseLeave",x="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=GV,C="onPointerLeave",x="onPointerEnter",y="pointer"),b=m==null?p:Dg(m),w=v==null?p:Dg(v),p=new g(C,y+"leave",m,n,d),p.target=b,p.relatedTarget=w,C=null,tp(d)===u&&(g=new g(x,y+"enter",v,n,d),g.target=w,g.relatedTarget=b,C=g),b=C,m&&v)t:{for(g=m,x=v,y=0,w=g;w;w=qm(w))y++;for(w=0,C=x;C;C=qm(C))w++;for(;0<y-w;)g=qm(g),y--;for(;0<w-y;)x=qm(x),w--;for(;y--;){if(g===x||x!==null&&g===x.alternate)break t;g=qm(g),x=qm(x)}g=null}else g=null;m!==null&&iH(f,p,m,g,!1),v!==null&&b!==null&&iH(f,b,v,g,!0)}}e:{if(p=u?Dg(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var _=aHe;else if(XV(p))if(Dye)_=dHe;else{_=cHe;var S=lHe}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(_=uHe);if(_&&(_=_(e,u))){Aye(f,_,n,d);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&tR(p,"number",p.value)}switch(S=u?Dg(u):window,e){case"focusin":(XV(S)||S.contentEditable==="true")&&(Tg=S,hR=u,Xy=null);break;case"focusout":Xy=hR=Tg=null;break;case"mousedown":pR=!0;break;case"contextmenu":case"mouseup":case"dragend":pR=!1,nH(f,n,d);break;case"selectionchange":if(pHe)break;case"keydown":case"keyup":nH(f,n,d)}var E;if(I6)e:{switch(e){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else jg?jye(e,n)&&(j="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(kye&&n.locale!=="ko"&&(jg||j!=="onCompositionStart"?j==="onCompositionEnd"&&jg&&(E=Eye()):(Vd=d,T6="value"in Vd?Vd.value:Vd.textContent,jg=!0)),S=pE(u,j),0<S.length&&(j=new YV(j,e,null,n,d),f.push({event:j,listeners:S}),E?j.data=E:(E=Tye(n),E!==null&&(j.data=E)))),(E=nHe?rHe(e,n):oHe(e,n))&&(u=pE(u,"onBeforeInput"),0<u.length&&(d=new YV("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=E))}Nye(f,t)})}function qb(e,t,n){return{instance:e,listener:t,currentTarget:n}}function pE(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Bb(e,n),i!=null&&r.unshift(qb(e,i,o)),i=Bb(e,t),i!=null&&r.push(qb(e,i,o))),e=e.return}return r}function qm(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function iH(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,o?(c=Bb(n,i),c!=null&&s.unshift(qb(n,c,a))):o||(c=Bb(n,i),c!=null&&s.push(qb(n,c,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var yHe=/\r\n?/g,bHe=/\u0000|\uFFFD/g;function sH(e){return(typeof e=="string"?e:""+e).replace(yHe,`
`).replace(bHe,"")}function GC(e,t,n){if(t=sH(t),sH(e)!==t&&n)throw Error(ke(425))}function mE(){}var mR=null;function gR(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vR=typeof setTimeout=="function"?setTimeout:void 0,xHe=typeof clearTimeout=="function"?clearTimeout:void 0,aH=typeof Promise=="function"?Promise:void 0,wHe=typeof queueMicrotask=="function"?queueMicrotask:typeof aH<"u"?function(e){return aH.resolve(null).then(e).catch(CHe)}:vR;function CHe(e){setTimeout(function(){throw e})}function eI(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Vb(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Vb(t)}function pu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function lH(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var S0=Math.random().toString(36).slice(2),lc="__reactFiber$"+S0,Yb="__reactProps$"+S0,Mu="__reactContainer$"+S0,yR="__reactEvents$"+S0,_He="__reactListeners$"+S0,SHe="__reactHandles$"+S0;function tp(e){var t=e[lc];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mu]||n[lc]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=lH(e);e!==null;){if(n=e[lc])return n;e=lH(e)}return t}e=n,n=e.parentNode}return null}function xw(e){return e=e[lc]||e[Mu],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dg(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ke(33))}function kj(e){return e[Yb]||null}var bR=[],Ig=-1;function Kf(e){return{current:e}}function ar(e){0>Ig||(e.current=bR[Ig],bR[Ig]=null,Ig--)}function Gn(e,t){Ig++,bR[Ig]=e.current,e.current=t}var If={},Ii=Kf(If),Ss=Kf(!1),Np=If;function Lv(e,t){var n=e.type.contextTypes;if(!n)return If;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Es(e){return e=e.childContextTypes,e!=null}function gE(){ar(Ss),ar(Ii)}function cH(e,t,n){if(Ii.current!==If)throw Error(ke(168));Gn(Ii,t),Gn(Ss,n)}function Vye(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(ke(108,lVe(e)||"Unknown",o));return Fr({},n,r)}function vE(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||If,Np=Ii.current,Gn(Ii,e),Gn(Ss,Ss.current),!0}function uH(e,t,n){var r=e.stateNode;if(!r)throw Error(ke(169));n?(e=Vye(e,t,Np),r.__reactInternalMemoizedMergedChildContext=e,ar(Ss),ar(Ii),Gn(Ii,e)):ar(Ss),Gn(Ss,n)}var uu=null,jj=!1,tI=!1;function Hye(e){uu===null?uu=[e]:uu.push(e)}function EHe(e){jj=!0,Hye(e)}function Zf(){if(!tI&&uu!==null){tI=!0;var e=0,t=Sn;try{var n=uu;for(Sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}uu=null,jj=!1}catch(o){throw uu!==null&&(uu=uu.slice(e+1)),mye(S6,Zf),o}finally{Sn=t,tI=!1}}return null}var kHe=od.ReactCurrentBatchConfig;function fl(e,t){if(e&&e.defaultProps){t=Fr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var yE=Kf(null),bE=null,Og=null,P6=null;function R6(){P6=Og=bE=null}function $6(e){var t=yE.current;ar(yE),e._currentValue=t}function xR(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tv(e,t){bE=e,P6=Og=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ys=!0),e.firstContext=null)}function qa(e){var t=e._currentValue;if(P6!==e)if(e={context:e,memoizedValue:t,next:null},Og===null){if(bE===null)throw Error(ke(308));Og=e,bE.dependencies={lanes:0,firstContext:e}}else Og=Og.next=e;return t}var pc=null,Ad=!1;function M6(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uye(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _u(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function df(e,t){var n=e.updateQueue;n!==null&&(n=n.shared,mo!==null&&e.mode&1&&!(tn&2)?(e=n.interleaved,e===null?(t.next=t,pc===null?pc=[n]:pc.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(e=n.pending,e===null?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function V2(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,E6(e,n)}}function dH(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xE(e,t,n,r){var o=e.updateQueue;Ad=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var c=a,u=c.next;c.next=null,s===null?i=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==s&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=o.baseState;s=0,d=u=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(p=t,m=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(m,f,p);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(m,f,p):v,p==null)break e;f=Fr({},f,p);break e;case 2:Ad=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=o.effects,p===null?o.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=p;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;p=a,a=p.next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}while(1);if(d===null&&(c=f),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Hv|=s,e.lanes=s,e.memoizedState=f}}function fH(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(ke(191,o));o.call(r)}}}var Wye=new G1e.Component().refs;function wR(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Fr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Tj={isMounted:function(e){return(e=e._reactInternals)?gm(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xi(),o=hf(e),i=_u(r,o);i.payload=t,n!=null&&(i.callback=n),df(e,i),t=Ba(e,o,r),t!==null&&V2(t,e,o)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xi(),o=hf(e),i=_u(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),df(e,i),t=Ba(e,o,r),t!==null&&V2(t,e,o)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xi(),r=hf(e),o=_u(n,r);o.tag=2,t!=null&&(o.callback=t),df(e,o),t=Ba(e,r,n),t!==null&&V2(t,e,r)}};function hH(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Ub(n,r)||!Ub(o,i):!0}function qye(e,t,n){var r=!1,o=If,i=t.contextType;return typeof i=="object"&&i!==null?i=qa(i):(o=Es(t)?Np:Ii.current,r=t.contextTypes,i=(r=r!=null)?Lv(e,o):If),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Tj,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function pH(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Tj.enqueueReplaceState(t,t.state,null)}function CR(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Wye,M6(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=qa(i):(i=Es(t)?Np:Ii.current,o.context=Lv(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(wR(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Tj.enqueueReplaceState(o,o.state,null),xE(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}var Pg=[],Rg=0,wE=null,CE=0,ka=[],ja=0,zp=null,mu=1,gu="";function Ah(e,t){Pg[Rg++]=CE,Pg[Rg++]=wE,wE=e,CE=t}function Yye(e,t,n){ka[ja++]=mu,ka[ja++]=gu,ka[ja++]=zp,zp=e;var r=mu;e=gu;var o=32-El(r)-1;r&=~(1<<o),n+=1;var i=32-El(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,mu=1<<32-El(t)+o|n<<o|r,gu=i+e}else mu=1<<i|n<<o|r,gu=e}function F6(e){e.return!==null&&(Ah(e,1),Yye(e,1,0))}function L6(e){for(;e===wE;)wE=Pg[--Rg],Pg[Rg]=null,CE=Pg[--Rg],Pg[Rg]=null;for(;e===zp;)zp=ka[--ja],ka[ja]=null,gu=ka[--ja],ka[ja]=null,mu=ka[--ja],ka[ja]=null}var Qs=null,ys=null,_r=!1,hl=null;function Gye(e,t){var n=Pa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function mH(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qs=e,ys=pu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qs=e,ys=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=zp!==null?{id:mu,overflow:gu}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Pa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Qs=e,ys=null,!0):!1;default:return!1}}function _R(e){return(e.mode&1)!==0&&(e.flags&128)===0}function SR(e){if(_r){var t=ys;if(t){var n=t;if(!mH(e,t)){if(_R(e))throw Error(ke(418));t=pu(n.nextSibling);var r=Qs;t&&mH(e,t)?Gye(r,n):(e.flags=e.flags&-4097|2,_r=!1,Qs=e)}}else{if(_R(e))throw Error(ke(418));e.flags=e.flags&-4097|2,_r=!1,Qs=e}}}function gH(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qs=e}function I1(e){if(e!==Qs)return!1;if(!_r)return gH(e),_r=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!gR(e.type,e.memoizedProps)),t&&(t=ys)){if(_R(e)){for(e=ys;e;)e=pu(e.nextSibling);throw Error(ke(418))}for(;t;)Gye(e,t),t=pu(t.nextSibling)}if(gH(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ke(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ys=pu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ys=null}}else ys=Qs?pu(e.stateNode.nextSibling):null;return!0}function Bv(){ys=Qs=null,_r=!1}function B6(e){hl===null?hl=[e]:hl.push(e)}function O1(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;a===Wye&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,e))}return e}function KC(e,t){throw e=Object.prototype.toString.call(t),Error(ke(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vH(e){var t=e._init;return t(e._payload)}function Kye(e){function t(x,y){if(e){var w=x.deletions;w===null?(x.deletions=[y],x.flags|=16):w.push(y)}}function n(x,y){if(!e)return null;for(;y!==null;)t(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function o(x,y){return x=Of(x,y),x.index=0,x.sibling=null,x}function i(x,y,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<y?(x.flags|=2,y):w):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,y,w,C){return y===null||y.tag!==6?(y=aI(w,x.mode,C),y.return=x,y):(y=o(y,w),y.return=x,y)}function c(x,y,w,C){var _=w.type;return _===kg?d(x,y,w.props.children,C,w.key):y!==null&&(y.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Td&&vH(_)===y.type)?(C=o(y,w.props),C.ref=O1(x,y,w),C.return=x,C):(C=Y2(w.type,w.key,w.props,null,x.mode,C),C.ref=O1(x,y,w),C.return=x,C)}function u(x,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=lI(w,x.mode,C),y.return=x,y):(y=o(y,w.children||[]),y.return=x,y)}function d(x,y,w,C,_){return y===null||y.tag!==7?(y=wp(w,x.mode,C,_),y.return=x,y):(y=o(y,w),y.return=x,y)}function f(x,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=aI(""+y,x.mode,w),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case BC:return w=Y2(y.type,y.key,y.props,null,x.mode,w),w.ref=O1(x,null,y),w.return=x,w;case Eg:return y=lI(y,x.mode,w),y.return=x,y;case Td:var C=y._init;return f(x,C(y._payload),w)}if(wy(y)||k1(y))return y=wp(y,x.mode,w,null),y.return=x,y;KC(x,y)}return null}function p(x,y,w,C){var _=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:a(x,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case BC:return w.key===_?c(x,y,w,C):null;case Eg:return w.key===_?u(x,y,w,C):null;case Td:return _=w._init,p(x,y,_(w._payload),C)}if(wy(w)||k1(w))return _!==null?null:d(x,y,w,C,null);KC(x,w)}return null}function m(x,y,w,C,_){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,a(y,x,""+C,_);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case BC:return x=x.get(C.key===null?w:C.key)||null,c(y,x,C,_);case Eg:return x=x.get(C.key===null?w:C.key)||null,u(y,x,C,_);case Td:var S=C._init;return m(x,y,w,S(C._payload),_)}if(wy(C)||k1(C))return x=x.get(w)||null,d(y,x,C,_,null);KC(y,C)}return null}function v(x,y,w,C){for(var _=null,S=null,E=y,j=y=0,k=null;E!==null&&j<w.length;j++){E.index>j?(k=E,E=null):k=E.sibling;var T=p(x,E,w[j],C);if(T===null){E===null&&(E=k);break}e&&E&&T.alternate===null&&t(x,E),y=i(T,y,j),S===null?_=T:S.sibling=T,S=T,E=k}if(j===w.length)return n(x,E),_r&&Ah(x,j),_;if(E===null){for(;j<w.length;j++)E=f(x,w[j],C),E!==null&&(y=i(E,y,j),S===null?_=E:S.sibling=E,S=E);return _r&&Ah(x,j),_}for(E=r(x,E);j<w.length;j++)k=m(E,x,j,w[j],C),k!==null&&(e&&k.alternate!==null&&E.delete(k.key===null?j:k.key),y=i(k,y,j),S===null?_=k:S.sibling=k,S=k);return e&&E.forEach(function(A){return t(x,A)}),_r&&Ah(x,j),_}function g(x,y,w,C){var _=k1(w);if(typeof _!="function")throw Error(ke(150));if(w=_.call(w),w==null)throw Error(ke(151));for(var S=_=null,E=y,j=y=0,k=null,T=w.next();E!==null&&!T.done;j++,T=w.next()){E.index>j?(k=E,E=null):k=E.sibling;var A=p(x,E,T.value,C);if(A===null){E===null&&(E=k);break}e&&E&&A.alternate===null&&t(x,E),y=i(A,y,j),S===null?_=A:S.sibling=A,S=A,E=k}if(T.done)return n(x,E),_r&&Ah(x,j),_;if(E===null){for(;!T.done;j++,T=w.next())T=f(x,T.value,C),T!==null&&(y=i(T,y,j),S===null?_=T:S.sibling=T,S=T);return _r&&Ah(x,j),_}for(E=r(x,E);!T.done;j++,T=w.next())T=m(E,x,j,T.value,C),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?j:T.key),y=i(T,y,j),S===null?_=T:S.sibling=T,S=T);return e&&E.forEach(function(D){return t(x,D)}),_r&&Ah(x,j),_}function b(x,y,w,C){if(typeof w=="object"&&w!==null&&w.type===kg&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case BC:e:{for(var _=w.key,S=y;S!==null;){if(S.key===_){if(_=w.type,_===kg){if(S.tag===7){n(x,S.sibling),y=o(S,w.props.children),y.return=x,x=y;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Td&&vH(_)===S.type){n(x,S.sibling),y=o(S,w.props),y.ref=O1(x,S,w),y.return=x,x=y;break e}n(x,S);break}else t(x,S);S=S.sibling}w.type===kg?(y=wp(w.props.children,x.mode,C,w.key),y.return=x,x=y):(C=Y2(w.type,w.key,w.props,null,x.mode,C),C.ref=O1(x,y,w),C.return=x,x=C)}return s(x);case Eg:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(x,y.sibling),y=o(y,w.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else t(x,y);y=y.sibling}y=lI(w,x.mode,C),y.return=x,x=y}return s(x);case Td:return S=w._init,b(x,y,S(w._payload),C)}if(wy(w))return v(x,y,w,C);if(k1(w))return g(x,y,w,C);KC(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(x,y.sibling),y=o(y,w),y.return=x,x=y):(n(x,y),y=aI(w,x.mode,C),y.return=x,x=y),s(x)):n(x,y)}return b}var Nv=Kye(!0),Zye=Kye(!1),ww={},bc=Kf(ww),Gb=Kf(ww),Kb=Kf(ww);function np(e){if(e===ww)throw Error(ke(174));return e}function N6(e,t){switch(Gn(Kb,t),Gn(Gb,e),Gn(bc,ww),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rR(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rR(t,e)}ar(bc),Gn(bc,t)}function zv(){ar(bc),ar(Gb),ar(Kb)}function Xye(e){np(Kb.current);var t=np(bc.current),n=rR(t,e.type);t!==n&&(Gn(Gb,e),Gn(bc,n))}function z6(e){Gb.current===e&&(ar(bc),ar(Gb))}var Or=Kf(0);function _E(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nI=[];function V6(){for(var e=0;e<nI.length;e++)nI[e]._workInProgressVersionPrimary=null;nI.length=0}var H2=od.ReactCurrentDispatcher,Fa=od.ReactCurrentBatchConfig,Vv=0,Ur=null,xi=null,Fo=null,SE=!1,Qy=!1,Zb=0,jHe=0;function hi(){throw Error(ke(321))}function H6(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kc(e[n],t[n]))return!1;return!0}function U6(e,t,n,r,o,i){if(Vv=i,Ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H2.current=e===null||e.memoizedState===null?IHe:OHe,e=n(r,o),Qy){i=0;do{if(Qy=!1,Zb=0,25<=i)throw Error(ke(301));i+=1,Fo=xi=null,t.updateQueue=null,H2.current=PHe,e=n(r,o)}while(Qy)}if(H2.current=EE,t=xi!==null&&xi.next!==null,Vv=0,Fo=xi=Ur=null,SE=!1,t)throw Error(ke(300));return e}function W6(){var e=Zb!==0;return Zb=0,e}function au(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fo===null?Ur.memoizedState=Fo=e:Fo=Fo.next=e,Fo}function Pc(){if(xi===null){var e=Ur.alternate;e=e!==null?e.memoizedState:null}else e=xi.next;var t=Fo===null?Ur.memoizedState:Fo.next;if(t!==null)Fo=t,xi=e;else{if(e===null)throw Error(ke(310));xi=e,e={memoizedState:xi.memoizedState,baseState:xi.baseState,baseQueue:xi.baseQueue,queue:xi.queue,next:null},Fo===null?Ur.memoizedState=Fo=e:Fo=Fo.next=e}return Fo}function bp(e,t){return typeof t=="function"?t(e):t}function ZC(e){var t=Pc(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=xi,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,c=null,u=i;do{var d=u.lane;if((Vv&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,s=r):c=c.next=f,Ur.lanes|=d,Hv|=d}u=u.next}while(u!==null&&u!==i);c===null?s=r:c.next=a,kc(r,t.memoizedState)||(Ys=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Ur.lanes|=i,Hv|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function XC(e){var t=Pc(),n=t.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);kc(i,t.memoizedState)||(Ys=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Qye(){}function Jye(e,t){var n=Ur,r=Pc(),o=t(),i=!kc(r.memoizedState,o);if(i&&(r.memoizedState=o,Ys=!0),r=r.queue,Qb(nbe.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Fo!==null&&Fo.memoizedState.tag&1){if(n.flags|=2048,Xb(9,tbe.bind(null,n,r,o,t),void 0,null),mo===null)throw Error(ke(349));Vv&30||ebe(n,t,o)}return o}function ebe(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tbe(e,t,n,r){t.value=n,t.getSnapshot=r,rbe(t)&&Ba(e,1,-1)}function nbe(e,t,n){return n(function(){rbe(t)&&Ba(e,1,-1)})}function rbe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kc(e,n)}catch{return!0}}function rI(e){var t=au();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bp,lastRenderedState:e},t.queue=e,e=e.dispatch=DHe.bind(null,Ur,e),[t.memoizedState,e]}function Xb(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ur.updateQueue,t===null?(t={lastEffect:null,stores:null},Ur.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function obe(){return Pc().memoizedState}function U2(e,t,n,r){var o=au();Ur.flags|=e,o.memoizedState=Xb(1|t,n,void 0,r===void 0?null:r)}function Aj(e,t,n,r){var o=Pc();r=r===void 0?null:r;var i=void 0;if(xi!==null){var s=xi.memoizedState;if(i=s.destroy,r!==null&&H6(r,s.deps)){o.memoizedState=Xb(t,n,i,r);return}}Ur.flags|=e,o.memoizedState=Xb(1|t,n,i,r)}function oI(e,t){return U2(8390656,8,e,t)}function Qb(e,t){return Aj(2048,8,e,t)}function ibe(e,t){return Aj(4,2,e,t)}function sbe(e,t){return Aj(4,4,e,t)}function abe(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lbe(e,t,n){return n=n!=null?n.concat([e]):null,Aj(4,4,abe.bind(null,t,e),n)}function q6(){}function cbe(e,t){var n=Pc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&H6(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ube(e,t){var n=Pc();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&H6(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function THe(e,t){var n=Sn;Sn=n!==0&&4>n?n:4,e(!0);var r=Fa.transition;Fa.transition={};try{e(!1),t()}finally{Sn=n,Fa.transition=r}}function dbe(){return Pc().memoizedState}function AHe(e,t,n){var r=hf(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fbe(e)?hbe(t,n):(pbe(e,t,n),n=Xi(),e=Ba(e,r,n),e!==null&&mbe(e,t,r))}function DHe(e,t,n){var r=hf(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fbe(e))hbe(t,o);else{pbe(e,t,o);var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,kc(a,s))return}catch{}finally{}n=Xi(),e=Ba(e,r,n),e!==null&&mbe(e,t,r)}}function fbe(e){var t=e.alternate;return e===Ur||t!==null&&t===Ur}function hbe(e,t){Qy=SE=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pbe(e,t,n){mo!==null&&e.mode&1&&!(tn&2)?(e=t.interleaved,e===null?(n.next=n,pc===null?pc=[t]:pc.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(e=t.pending,e===null?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function mbe(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,E6(e,n)}}var EE={readContext:qa,useCallback:hi,useContext:hi,useEffect:hi,useImperativeHandle:hi,useInsertionEffect:hi,useLayoutEffect:hi,useMemo:hi,useReducer:hi,useRef:hi,useState:hi,useDebugValue:hi,useDeferredValue:hi,useTransition:hi,useMutableSource:hi,useSyncExternalStore:hi,useId:hi,unstable_isNewReconciler:!1},IHe={readContext:qa,useCallback:function(e,t){return au().memoizedState=[e,t===void 0?null:t],e},useContext:qa,useEffect:oI,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,U2(4194308,4,abe.bind(null,t,e),n)},useLayoutEffect:function(e,t){return U2(4194308,4,e,t)},useInsertionEffect:function(e,t){return U2(4,2,e,t)},useMemo:function(e,t){var n=au();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=au();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=AHe.bind(null,Ur,e),[r.memoizedState,e]},useRef:function(e){var t=au();return e={current:e},t.memoizedState=e},useState:rI,useDebugValue:q6,useDeferredValue:function(e){var t=rI(e),n=t[0],r=t[1];return oI(function(){var o=Fa.transition;Fa.transition={};try{r(e)}finally{Fa.transition=o}},[e]),n},useTransition:function(){var e=rI(!1),t=e[0];return e=THe.bind(null,e[1]),au().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ur,o=au();if(_r){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=t(),mo===null)throw Error(ke(349));Vv&30||ebe(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,oI(nbe.bind(null,r,i,e),[e]),r.flags|=2048,Xb(9,tbe.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=au(),t=mo.identifierPrefix;if(_r){var n=gu,r=mu;n=(r&~(1<<32-El(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zb++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=jHe++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OHe={readContext:qa,useCallback:cbe,useContext:qa,useEffect:Qb,useImperativeHandle:lbe,useInsertionEffect:ibe,useLayoutEffect:sbe,useMemo:ube,useReducer:ZC,useRef:obe,useState:function(){return ZC(bp)},useDebugValue:q6,useDeferredValue:function(e){var t=ZC(bp),n=t[0],r=t[1];return Qb(function(){var o=Fa.transition;Fa.transition={};try{r(e)}finally{Fa.transition=o}},[e]),n},useTransition:function(){var e=ZC(bp)[0],t=Pc().memoizedState;return[e,t]},useMutableSource:Qye,useSyncExternalStore:Jye,useId:dbe,unstable_isNewReconciler:!1},PHe={readContext:qa,useCallback:cbe,useContext:qa,useEffect:Qb,useImperativeHandle:lbe,useInsertionEffect:ibe,useLayoutEffect:sbe,useMemo:ube,useReducer:XC,useRef:obe,useState:function(){return XC(bp)},useDebugValue:q6,useDeferredValue:function(e){var t=XC(bp),n=t[0],r=t[1];return Qb(function(){var o=Fa.transition;Fa.transition={};try{r(e)}finally{Fa.transition=o}},[e]),n},useTransition:function(){var e=XC(bp)[0],t=Pc().memoizedState;return[e,t]},useMutableSource:Qye,useSyncExternalStore:Jye,useId:dbe,unstable_isNewReconciler:!1};function Y6(e,t){try{var n="",r=t;do n+=aVe(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o}}function ER(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var RHe=typeof WeakMap=="function"?WeakMap:Map;function gbe(e,t,n){n=_u(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){TE||(TE=!0,RR=r),ER(e,t)},n}function vbe(e,t,n){n=_u(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){ER(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ER(e,t),typeof r!="function"&&(ff===null?ff=new Set([this]):ff.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function yH(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new RHe;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=GHe.bind(null,e,t,n),t.then(e,e))}function bH(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xH(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_u(-1,1),t.tag=2,df(n,t))),n.lanes|=1),e)}var ybe,kR,bbe,xbe;ybe=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};kR=function(){};bbe=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,np(bc.current);var i=null;switch(n){case"input":o=JP(e,o),r=JP(e,r),i=[];break;case"select":o=Fr({},o,{value:void 0}),r=Fr({},r,{value:void 0}),i=[];break;case"textarea":o=nR(e,o),r=nR(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=mE)}oR(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fb.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&a[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fb.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&or("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};xbe=function(e,t,n,r){n!==r&&(t.flags|=4)};function P1(e,t){if(!_r)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function $He(e,t,n){var r=t.pendingProps;switch(L6(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pi(t),null;case 1:return Es(t.type)&&gE(),pi(t),null;case 3:return r=t.stateNode,zv(),ar(Ss),ar(Ii),V6(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(I1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hl!==null&&(FR(hl),hl=null))),kR(e,t),pi(t),null;case 5:z6(t);var o=np(Kb.current);if(n=t.type,e!==null&&t.stateNode!=null)bbe(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ke(166));return pi(t),null}if(e=np(bc.current),I1(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[lc]=t,r[Yb]=i,e=(t.mode&1)!==0,n){case"dialog":or("cancel",r),or("close",r);break;case"iframe":case"object":case"embed":or("load",r);break;case"video":case"audio":for(o=0;o<_y.length;o++)or(_y[o],r);break;case"source":or("error",r);break;case"img":case"image":case"link":or("error",r),or("load",r);break;case"details":or("toggle",r);break;case"input":MV(r,i),or("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},or("invalid",r);break;case"textarea":LV(r,i),or("invalid",r)}oR(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(GC(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(GC(r.textContent,a,e),o=["children",""+a]):Fb.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&or("scroll",r)}switch(n){case"input":NC(r),FV(r,i,!0);break;case"textarea":NC(r),BV(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=mE)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rye(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[lc]=t,e[Yb]=r,ybe(e,t,!1,!1),t.stateNode=e;e:{switch(s=iR(n,r),n){case"dialog":or("cancel",e),or("close",e),o=r;break;case"iframe":case"object":case"embed":or("load",e),o=r;break;case"video":case"audio":for(o=0;o<_y.length;o++)or(_y[o],e);o=r;break;case"source":or("error",e),o=r;break;case"img":case"image":case"link":or("error",e),or("load",e),o=r;break;case"details":or("toggle",e),o=r;break;case"input":MV(e,r),o=JP(e,r),or("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Fr({},r,{value:void 0}),or("invalid",e);break;case"textarea":LV(e,r),o=nR(e,r),or("invalid",e);break;default:o=r}oR(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?sye(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&oye(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Lb(e,c):typeof c=="number"&&Lb(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fb.hasOwnProperty(i)?c!=null&&i==="onScroll"&&or("scroll",e):c!=null&&b6(e,i,c,s))}switch(n){case"input":NC(e),FV(e,r,!1);break;case"textarea":NC(e),BV(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Df(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Xg(e,!!r.multiple,i,!1):r.defaultValue!=null&&Xg(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=mE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pi(t),null;case 6:if(e&&t.stateNode!=null)xbe(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ke(166));if(n=np(Kb.current),np(bc.current),I1(t)){if(r=t.stateNode,n=t.memoizedProps,r[lc]=t,(i=r.nodeValue!==n)&&(e=Qs,e!==null))switch(s=(e.mode&1)!==0,e.tag){case 3:GC(r.nodeValue,n,s);break;case 5:e.memoizedProps[void 0]!==!0&&GC(r.nodeValue,n,s)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[lc]=t,t.stateNode=r}return pi(t),null;case 13:if(ar(Or),r=t.memoizedState,_r&&ys!==null&&t.mode&1&&!(t.flags&128)){for(r=ys;r;)r=pu(r.nextSibling);return Bv(),t.flags|=98560,t}if(r!==null&&r.dehydrated!==null){if(r=I1(t),e===null){if(!r)throw Error(ke(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ke(317));r[lc]=t}else Bv(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;return pi(t),null}return hl!==null&&(FR(hl),hl=null),t.flags&128?(t.lanes=n,t):(r=r!==null,n=!1,e===null?I1(t):n=e.memoizedState!==null,r&&!n&&(t.child.flags|=8192,t.mode&1&&(e===null||Or.current&1?jo===0&&(jo=3):J6())),t.updateQueue!==null&&(t.flags|=4),pi(t),null);case 4:return zv(),kR(e,t),e===null&&Wb(t.stateNode.containerInfo),pi(t),null;case 10:return $6(t.type._context),pi(t),null;case 17:return Es(t.type)&&gE(),pi(t),null;case 19:if(ar(Or),i=t.memoizedState,i===null)return pi(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)P1(i,!1);else{if(jo!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=_E(e),s!==null){for(t.flags|=128,P1(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Gn(Or,Or.current&1|2),t.child}e=e.sibling}i.tail!==null&&Xr()>Uv&&(t.flags|=128,r=!0,P1(i,!1),t.lanes=4194304)}else{if(!r)if(e=_E(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),P1(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!_r)return pi(t),null}else 2*Xr()-i.renderingStartTime>Uv&&n!==1073741824&&(t.flags|=128,r=!0,P1(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xr(),t.sibling=null,n=Or.current,Gn(Or,r?n&1|2:n&1),t):(pi(t),null);case 22:case 23:return Q6(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Fs&1073741824&&(pi(t),t.subtreeFlags&6&&(t.flags|=8192)):pi(t),null;case 24:return null;case 25:return null}throw Error(ke(156,t.tag))}var MHe=od.ReactCurrentOwner,Ys=!1;function qi(e,t,n,r){t.child=e===null?Zye(t,null,n,r):Nv(t,e.child,n,r)}function wH(e,t,n,r,o){n=n.render;var i=t.ref;return tv(t,o),r=U6(e,t,n,r,i,o),n=W6(),e!==null&&!Ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fu(e,t,o)):(_r&&n&&F6(t),t.flags|=1,qi(e,t,r,o),t.child)}function CH(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!eL(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,wbe(e,t,i,r,o)):(e=Y2(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ub,n(s,r)&&e.ref===t.ref)return Fu(e,t,o)}return t.flags|=1,e=Of(i,r),e.ref=t.ref,e.return=t,t.child=e}function wbe(e,t,n,r,o){if(e!==null&&Ub(e.memoizedProps,r)&&e.ref===t.ref)if(Ys=!1,(e.lanes&o)!==0)e.flags&131072&&(Ys=!0);else return t.lanes=e.lanes,Fu(e,t,o);return jR(e,t,n,r,o)}function Cbe(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null},Gn($g,Fs),Fs|=n;else if(n&1073741824)t.memoizedState={baseLanes:0,cachePool:null},r=i!==null?i.baseLanes:n,Gn($g,Fs),Fs|=r;else return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Gn($g,Fs),Fs|=e,null;else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Gn($g,Fs),Fs|=r;return qi(e,t,o,n),t.child}function _be(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function jR(e,t,n,r,o){var i=Es(n)?Np:Ii.current;return i=Lv(t,i),tv(t,o),n=U6(e,t,n,r,i,o),r=W6(),e!==null&&!Ys?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fu(e,t,o)):(_r&&r&&F6(t),t.flags|=1,qi(e,t,n,o),t.child)}function _H(e,t,n,r,o){if(Es(n)){var i=!0;vE(t)}else i=!1;if(tv(t,o),t.stateNode===null)e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),qye(t,n,r),CR(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=qa(u):(u=Es(n)?Np:Ii.current,u=Lv(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||c!==u)&&pH(t,s,r,u),Ad=!1;var p=t.memoizedState;s.state=p,xE(t,r,s,o),c=t.memoizedState,a!==r||p!==c||Ss.current||Ad?(typeof d=="function"&&(wR(t,n,d,r),c=t.memoizedState),(a=Ad||hH(t,n,a,r,p,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Uye(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:fl(t.type,a),s.props=u,f=t.pendingProps,p=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=qa(c):(c=Es(n)?Np:Ii.current,c=Lv(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||p!==c)&&pH(t,s,r,c),Ad=!1,p=t.memoizedState,s.state=p,xE(t,r,s,o);var v=t.memoizedState;a!==f||p!==v||Ss.current||Ad?(typeof m=="function"&&(wR(t,n,m,r),v=t.memoizedState),(u=Ad||hH(t,n,u,r,p,v,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return TR(e,t,n,r,i,o)}function TR(e,t,n,r,o,i){_be(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&uH(t,n,!1),Fu(e,t,i);r=t.stateNode,MHe.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Nv(t,e.child,null,i),t.child=Nv(t,null,a,i)):qi(e,t,a,i),t.memoizedState=r.state,o&&uH(t,n,!0),t.child}function Sbe(e){var t=e.stateNode;t.pendingContext?cH(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cH(e,t.context,!1),N6(e,t.containerInfo)}function SH(e,t,n,r,o){return Bv(),B6(o),t.flags|=256,qi(e,t,n,r),t.child}var QC={dehydrated:null,treeContext:null,retryLane:0};function JC(e){return{baseLanes:e,cachePool:null}}function Ebe(e,t,n){var r=t.pendingProps,o=Or.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Gn(Or,o&1),e===null)return SR(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=IE(o,r,0,null),e=wp(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=JC(n),t.memoizedState=QC,e):AR(t,o));if(o=e.memoizedState,o!==null){if(a=o.dehydrated,a!==null){if(s)return t.flags&256?(t.flags&=-257,e_(e,t,n,Error(ke(422)))):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=IE({mode:"visible",children:r.children},o,0,null),i=wp(i,o,n,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Nv(t,e.child,null,n),t.child.memoizedState=JC(n),t.memoizedState=QC,i);if(!(t.mode&1))t=e_(e,t,n,null);else if(a.data==="$!")t=e_(e,t,n,Error(ke(419)));else if(r=(n&e.childLanes)!==0,Ys||r){if(r=mo,r!==null){switch(n&-n){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}r=i&(r.suspendedLanes|n)?0:i,r!==0&&r!==o.retryLane&&(o.retryLane=r,Ba(e,r,-1))}J6(),t=e_(e,t,n,Error(ke(421)))}else a.data==="$?"?(t.flags|=128,t.child=e.child,t=KHe.bind(null,e),a._reactRetry=t,t=null):(n=o.treeContext,ys=pu(a.nextSibling),Qs=t,_r=!0,hl=null,n!==null&&(ka[ja++]=mu,ka[ja++]=gu,ka[ja++]=zp,mu=n.id,gu=n.overflow,zp=t),t=AR(t,t.pendingProps.children),t.flags|=4096);return t}return i?(r=kH(e,t,r.children,r.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?JC(n):{baseLanes:o.baseLanes|n,cachePool:null},i.childLanes=e.childLanes&~n,t.memoizedState=QC,r):(n=EH(e,t,r.children,n),t.memoizedState=null,n)}return i?(r=kH(e,t,r.children,r.fallback,n),i=t.child,o=e.child.memoizedState,i.memoizedState=o===null?JC(n):{baseLanes:o.baseLanes|n,cachePool:null},i.childLanes=e.childLanes&~n,t.memoizedState=QC,r):(n=EH(e,t,r.children,n),t.memoizedState=null,n)}function AR(e,t){return t=IE({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function EH(e,t,n,r){var o=e.child;return e=o.sibling,n=Of(o,{mode:"visible",children:n}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function kH(e,t,n,r,o){var i=t.mode;e=e.child;var s=e.sibling,a={mode:"hidden",children:n};return!(i&1)&&t.child!==e?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Of(e,a),n.subtreeFlags=e.subtreeFlags&14680064),s!==null?r=Of(s,r):(r=wp(r,i,o,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,r}function e_(e,t,n,r){return r!==null&&B6(r),Nv(t,e.child,null,n),e=AR(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function jH(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),xR(e.return,t,n)}function iI(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function kbe(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(qi(e,t,r.children,n),r=Or.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&jH(e,n,t);else if(e.tag===19)jH(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Gn(Or,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&_E(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),iI(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&_E(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}iI(t,!0,n,null,i);break;case"together":iI(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fu(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Hv|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ke(153));if(t.child!==null){for(e=t.child,n=Of(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Of(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function FHe(e,t,n){switch(t.tag){case 3:Sbe(t),Bv();break;case 5:Xye(t);break;case 1:Es(t.type)&&vE(t);break;case 4:N6(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Gn(yE,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Gn(Or,Or.current&1),t.flags|=128,null):n&t.child.childLanes?Ebe(e,t,n):(Gn(Or,Or.current&1),e=Fu(e,t,n),e!==null?e.sibling:null);Gn(Or,Or.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return kbe(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Gn(Or,Or.current),r)break;return null;case 22:case 23:return t.lanes=0,Cbe(e,t,n)}return Fu(e,t,n)}function LHe(e,t){switch(L6(t),t.tag){case 1:return Es(t.type)&&gE(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return zv(),ar(Ss),ar(Ii),V6(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return z6(t),null;case 13:if(ar(Or),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ke(340));Bv()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ar(Or),null;case 4:return zv(),null;case 10:return $6(t.type._context),null;case 22:case 23:return Q6(),null;case 24:return null;default:return null}}var t_=!1,rp=!1,BHe=typeof WeakSet=="function"?WeakSet:Set,Me=null;function kE(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){bs(e,t,r)}else n.current=null}function DR(e,t,n){try{n()}catch(r){bs(e,t,r)}}var TH=!1;function NHe(e,t){if(e=Pye(),O6(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||o!==0&&f.nodeType!==3||(a=s+o),f!==i||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===o&&(a=s),p===i&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mR={focusedElem:e,selectionRange:n},Me=t;Me!==null;)if(t=Me,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Me=e;else for(;Me!==null;){t=Me;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,x=t.stateNode,y=x.getSnapshotBeforeUpdate(t.elementType===t.type?g:fl(t.type,g),b);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;if(w.nodeType===1)w.textContent="";else if(w.nodeType===9){var C=w.body;C!=null&&(C.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(_){bs(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Me=e;break}Me=t.return}return v=TH,TH=!1,v}function Jb(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&DR(t,n,i)}o=o.next}while(o!==r)}}function Dj(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function IR(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function AH(e,t,n){if(yc&&typeof yc.onCommitFiberUnmount=="function")try{yc.onCommitFiberUnmount(Cj,t)}catch{}switch(t.tag){case 0:case 11:case 14:case 15:if(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var r=e=e.next;do{var o=r,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&DR(t,n,i),r=r.next}while(r!==e)}break;case 1:if(kE(t,n),e=t.stateNode,typeof e.componentWillUnmount=="function")try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(s){bs(t,n,s)}break;case 5:kE(t,n);break;case 4:Abe(e,t,n)}}function jbe(e){var t=e.alternate;t!==null&&(e.alternate=null,jbe(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lc],delete t[Yb],delete t[yR],delete t[_He],delete t[SHe])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Tbe(e){return e.tag===5||e.tag===3||e.tag===4}function DH(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Tbe(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function IH(e){e:{for(var t=e.return;t!==null;){if(Tbe(t))break e;t=t.return}throw Error(ke(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,n.flags&32&&(Lb(t,""),n.flags&=-33),n=DH(e),PR(e,n,t);break;case 3:case 4:t=n.stateNode.containerInfo,n=DH(e),OR(e,n,t);break;default:throw Error(ke(161))}}function OR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=mE));else if(r!==4&&(e=e.child,e!==null))for(OR(e,t,n),e=e.sibling;e!==null;)OR(e,t,n),e=e.sibling}function PR(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(PR(e,t,n),e=e.sibling;e!==null;)PR(e,t,n),e=e.sibling}function Abe(e,t,n){for(var r=t,o=!1,i,s;;){if(!o){o=r.return;e:for(;;){if(o===null)throw Error(ke(160));switch(i=o.stateNode,o.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}o=o.return}o=!0}if(r.tag===5||r.tag===6){e:for(var a=e,c=r,u=n,d=c;;)if(AH(a,d,u),d.child!==null&&d.tag!==4)d.child.return=d,d=d.child;else{if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}s?(a=i,c=r.stateNode,a.nodeType===8?a.parentNode.removeChild(c):a.removeChild(c)):i.removeChild(r.stateNode)}else if(r.tag===18)s?(a=i,c=r.stateNode,a.nodeType===8?eI(a.parentNode,c):a.nodeType===1&&eI(a,c),Vb(a)):eI(i,r.stateNode);else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(AH(e,r,n),r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return,r.tag===4&&(o=!1)}r.sibling.return=r.return,r=r.sibling}}function sI(e,t){switch(t.tag){case 0:case 11:case 14:case 15:Jb(3,t,t.return),Dj(3,t),Jb(5,t,t.return);return;case 1:return;case 5:var n=t.stateNode;if(n!=null){var r=t.memoizedProps,o=e!==null?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,i!==null){for(e==="input"&&r.type==="radio"&&r.name!=null&&tye(n,r),iR(e,o),t=iR(e,r),o=0;o<i.length;o+=2){var s=i[o],a=i[o+1];s==="style"?sye(n,a):s==="dangerouslySetInnerHTML"?oye(n,a):s==="children"?Lb(n,a):b6(n,s,a,t)}switch(e){case"input":eR(n,r);break;case"textarea":nye(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,i=r.value,i!=null?Xg(n,!!r.multiple,i,!1):e!==!!r.multiple&&(r.defaultValue!=null?Xg(n,!!r.multiple,r.defaultValue,!0):Xg(n,!!r.multiple,r.multiple?[]:"",!1))}n[Yb]=r}}return;case 6:if(t.stateNode===null)throw Error(ke(162));t.stateNode.nodeValue=t.memoizedProps;return;case 3:e!==null&&e.memoizedState.isDehydrated&&Vb(t.stateNode.containerInfo);return;case 12:return;case 13:OH(t);return;case 19:OH(t);return;case 17:return}throw Error(ke(163))}function OH(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new BHe),t.forEach(function(r){var o=ZHe.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function zHe(e,t){for(Me=t;Me!==null;){t=Me;var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{Abe(e,o,t);var i=o.alternate;i!==null&&(i.return=null),o.return=null}catch(j){bs(o,t,j)}}if(n=t.child,t.subtreeFlags&12854&&n!==null)n.return=t,Me=n;else for(;Me!==null;){t=Me;try{var s=t.flags;if(s&32&&Lb(t.stateNode,""),s&512){var a=t.alternate;if(a!==null){var c=a.ref;c!==null&&(typeof c=="function"?c(null):c.current=null)}}if(s&8192)switch(t.tag){case 13:if(t.memoizedState!==null){var u=t.alternate;(u===null||u.memoizedState===null)&&(Z6=Xr())}break;case 22:var d=t.memoizedState!==null,f=t.alternate,p=f!==null&&f.memoizedState!==null;n=t;e:{r=n,o=d;for(var m=null,v=r;;){if(v.tag===5){if(m===null){m=v;var g=v.stateNode;if(o){var b=g.style;typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"}else{var x=v.stateNode,y=v.memoizedProps.style,w=y!=null&&y.hasOwnProperty("display")?y.display:null;x.style.display=iye("display",w)}}}else if(v.tag===6)m===null&&(v.stateNode.nodeValue=o?"":v.memoizedProps);else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===r)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;m===v&&(m=null),v=v.return}m===v&&(m=null),v.sibling.return=v.return,v=v.sibling}}if(d&&!p&&n.mode&1){Me=n;for(var C=n.child;C!==null;){for(n=Me=C;Me!==null;){r=Me;var _=r.child;switch(r.tag){case 0:case 11:case 14:case 15:Jb(4,r,r.return);break;case 1:kE(r,r.return);var S=r.stateNode;if(typeof S.componentWillUnmount=="function"){var E=r.return;try{S.props=r.memoizedProps,S.state=r.memoizedState,S.componentWillUnmount()}catch(j){bs(r,E,j)}}break;case 5:kE(r,r.return);break;case 22:if(r.memoizedState!==null){RH(n);continue}}_!==null?(_.return=r,Me=_):RH(n)}C=C.sibling}}}switch(s&4102){case 2:IH(t),t.flags&=-3;break;case 6:IH(t),t.flags&=-3,sI(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,sI(t.alternate,t);break;case 4:sI(t.alternate,t)}}catch(j){bs(t,t.return,j)}if(n=t.sibling,n!==null){n.return=t.return,Me=n;break}Me=t.return}}}function VHe(e,t,n){Me=e,Dbe(e)}function Dbe(e,t,n){for(var r=(e.mode&1)!==0;Me!==null;){var o=Me,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||t_;if(!s){var a=o.alternate,c=a!==null&&a.memoizedState!==null||rp;a=t_;var u=rp;if(t_=s,(rp=c)&&!u)for(Me=o;Me!==null;)s=Me,c=s.child,s.tag===22&&s.memoizedState!==null?$H(o):c!==null?(c.return=s,Me=c):$H(o);for(;i!==null;)Me=i,Dbe(i),i=i.sibling;Me=o,t_=a,rp=u}PH(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,Me=i):PH(e)}}function PH(e){for(;Me!==null;){var t=Me;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rp||Dj(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!rp)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:fl(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&fH(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fH(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vb(f)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(ke(163))}rp||t.flags&512&&IR(t)}catch(p){bs(t,t.return,p)}}if(t===e){Me=null;break}if(n=t.sibling,n!==null){n.return=t.return,Me=n;break}Me=t.return}}function RH(e){for(;Me!==null;){var t=Me;if(t===e){Me=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Me=n;break}Me=t.return}}function $H(e){for(;Me!==null;){var t=Me;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Dj(4,t)}catch(c){bs(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){bs(t,o,c)}}var i=t.return;try{IR(t)}catch(c){bs(t,i,c)}break;case 5:var s=t.return;try{IR(t)}catch(c){bs(t,s,c)}}}catch(c){bs(t,t.return,c)}if(t===e){Me=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Me=a;break}Me=t.return}}var HHe=Math.ceil,jE=od.ReactCurrentDispatcher,G6=od.ReactCurrentOwner,La=od.ReactCurrentBatchConfig,tn=0,mo=null,ho=null,ti=0,Fs=0,$g=Kf(0),jo=0,ex=null,Hv=0,Ij=0,K6=0,Jy=null,ms=null,Z6=0,Uv=1/0,TE=!1,RR=null,ff=null,n_=!1,Hd=null,AE=0,eb=0,$R=null,W2=-1,q2=0;function Xi(){return tn&6?Xr():W2!==-1?W2:W2=Xr()}function hf(e){return e.mode&1?tn&2&&ti!==0?ti&-ti:kHe.transition!==null?(q2===0&&(e=VC,VC<<=1,!(VC&4194240)&&(VC=64),q2=e),q2):(e=Sn,e!==0||(e=window.event,e=e===void 0?16:Sye(e.type)),e):1}function Ba(e,t,n){if(50<eb)throw eb=0,$R=null,Error(ke(185));var r=Oj(e,t);return r===null?null:(yw(r,t,n),(!(tn&2)||r!==mo)&&(r===mo&&(!(tn&2)&&(Ij|=t),jo===4&&Ld(r,ti)),ks(r,n),t===1&&tn===0&&!(e.mode&1)&&(Uv=Xr()+500,jj&&Zf())),r)}function Oj(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}function ks(e,t){var n=e.callbackNode;kVe(e,t);var r=fE(e,e===mo?ti:0);if(r===0)n!==null&&VV(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&VV(n),t===1)e.tag===0?EHe(MH.bind(null,e)):Hye(MH.bind(null,e)),wHe(function(){tn===0&&Zf()}),n=null;else{switch(yye(r)){case 1:n=S6;break;case 4:n=gye;break;case 16:n=dE;break;case 536870912:n=vye;break;default:n=dE}n=Lbe(n,Ibe.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ibe(e,t){if(W2=-1,q2=0,tn&6)throw Error(ke(327));var n=e.callbackNode;if(nv()&&e.callbackNode!==n)return null;var r=fE(e,e===mo?ti:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=DE(e,r);else{t=r;var o=tn;tn|=2;var i=Pbe();(mo!==e||ti!==t)&&(Uv=Xr()+500,xp(e,t));do try{qHe();break}catch(a){Obe(e,a)}while(1);R6(),jE.current=i,tn=o,ho!==null?t=0:(mo=null,ti=0,t=jo)}if(t!==0){if(t===2&&(o=uR(e),o!==0&&(r=o,t=MR(e,o))),t===1)throw n=ex,xp(e,0),Ld(e,r),ks(e,Xr()),n;if(t===6)Ld(e,r);else{if(o=e.current.alternate,!(r&30)&&!UHe(o)&&(t=DE(e,r),t===2&&(i=uR(e),i!==0&&(r=i,t=MR(e,i))),t===1))throw n=ex,xp(e,0),Ld(e,r),ks(e,Xr()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(ke(345));case 2:Dh(e,ms);break;case 3:if(Ld(e,r),(r&130023424)===r&&(t=Z6+500-Xr(),10<t)){if(fE(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Xi(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=vR(Dh.bind(null,e,ms),t);break}Dh(e,ms);break;case 4:if(Ld(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-El(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Xr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HHe(r/1960))-r,10<r){e.timeoutHandle=vR(Dh.bind(null,e,ms),r);break}Dh(e,ms);break;case 5:Dh(e,ms);break;default:throw Error(ke(329))}}}return ks(e,Xr()),e.callbackNode===n?Ibe.bind(null,e):null}function MR(e,t){var n=Jy;return e.current.memoizedState.isDehydrated&&(xp(e,t).flags|=256),e=DE(e,t),e!==2&&(t=ms,ms=n,t!==null&&FR(t)),e}function FR(e){ms===null?ms=e:ms.push.apply(ms,e)}function UHe(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!kc(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ld(e,t){for(t&=~K6,t&=~Ij,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-El(t),r=1<<n;e[n]=-1,t&=~r}}function MH(e){if(tn&6)throw Error(ke(327));nv();var t=fE(e,0);if(!(t&1))return ks(e,Xr()),null;var n=DE(e,t);if(e.tag!==0&&n===2){var r=uR(e);r!==0&&(t=r,n=MR(e,r))}if(n===1)throw n=ex,xp(e,0),Ld(e,t),ks(e,Xr()),n;if(n===6)throw Error(ke(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Dh(e,ms),ks(e,Xr()),null}function X6(e,t){var n=tn;tn|=1;try{return e(t)}finally{tn=n,tn===0&&(Uv=Xr()+500,jj&&Zf())}}function Vp(e){Hd!==null&&Hd.tag===0&&!(tn&6)&&nv();var t=tn;tn|=1;var n=La.transition,r=Sn;try{if(La.transition=null,Sn=1,e)return e()}finally{Sn=r,La.transition=n,tn=t,!(tn&6)&&Zf()}}function Q6(){Fs=$g.current,ar($g)}function xp(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xHe(n)),ho!==null)for(n=ho.return;n!==null;){var r=n;switch(L6(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gE();break;case 3:zv(),ar(Ss),ar(Ii),V6();break;case 5:z6(r);break;case 4:zv();break;case 13:ar(Or);break;case 19:ar(Or);break;case 10:$6(r.type._context);break;case 22:case 23:Q6()}n=n.return}if(mo=e,ho=e=Of(e.current,null),ti=Fs=t,jo=0,ex=null,K6=Ij=Hv=0,ms=Jy=null,pc!==null){for(t=0;t<pc.length;t++)if(n=pc[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}pc=null}return e}function Obe(e,t){do{var n=ho;try{if(R6(),H2.current=EE,SE){for(var r=Ur.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}SE=!1}if(Vv=0,Fo=xi=Ur=null,Qy=!1,Zb=0,G6.current=null,n===null||n.return===null){jo=1,ex=t,ho=null;break}e:{var i=e,s=n.return,a=n,c=t;if(t=ti,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=bH(s);if(m!==null){m.flags&=-257,xH(m,s,a,i,t),m.mode&1&&yH(i,u,t),t=m,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){yH(i,u,t),J6();break e}c=Error(ke(426))}}else if(_r&&a.mode&1){var b=bH(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),xH(b,s,a,i,t),B6(c);break e}}i=c,jo!==4&&(jo=2),Jy===null?Jy=[i]:Jy.push(i),c=Y6(c,a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=gbe(a,c,t);dH(a,x);break e;case 1:i=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ff===null||!ff.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=vbe(a,i,t);dH(a,C);break e}}a=a.return}while(a!==null)}$be(n)}catch(_){t=_,ho===n&&n!==null&&(ho=n=n.return);continue}break}while(1)}function Pbe(){var e=jE.current;return jE.current=EE,e===null?EE:e}function J6(){(jo===0||jo===3||jo===2)&&(jo=4),mo===null||!(Hv&268435455)&&!(Ij&268435455)||Ld(mo,ti)}function DE(e,t){var n=tn;tn|=2;var r=Pbe();mo===e&&ti===t||xp(e,t);do try{WHe();break}catch(o){Obe(e,o)}while(1);if(R6(),tn=n,jE.current=r,ho!==null)throw Error(ke(261));return mo=null,ti=0,jo}function WHe(){for(;ho!==null;)Rbe(ho)}function qHe(){for(;ho!==null&&!vVe();)Rbe(ho)}function Rbe(e){var t=Fbe(e.alternate,e,Fs);e.memoizedProps=e.pendingProps,t===null?$be(e):ho=t,G6.current=null}function $be(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LHe(n,t),n!==null){n.flags&=32767,ho=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jo=6,ho=null;return}}else if(n=$He(n,t,Fs),n!==null){ho=n;return}if(t=t.sibling,t!==null){ho=t;return}ho=t=e}while(t!==null);jo===0&&(jo=5)}function Dh(e,t){var n=Sn,r=La.transition;try{La.transition=null,Sn=1,YHe(e,t,n)}finally{La.transition=r,Sn=n}return null}function YHe(e,t,n){do nv();while(Hd!==null);if(tn&6)throw Error(ke(327));var r=e.finishedWork,o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ke(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jVe(e,i),e===mo&&(ho=mo=null,ti=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||n_||(n_=!0,Lbe(dE,function(){return nv(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=La.transition,La.transition=null;var s=Sn;Sn=1;var a=tn;tn|=4,G6.current=null,NHe(e,r),zHe(e,r),hHe(mR),mR=null,e.current=r,VHe(r),yVe(),tn=a,Sn=s,La.transition=i}else e.current=r;if(n_&&(n_=!1,Hd=e,AE=o),i=e.pendingLanes,i===0&&(ff=null),wVe(r.stateNode),ks(e,Xr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(TE)throw TE=!1,e=RR,RR=null,e;return AE&1&&e.tag!==0&&nv(),i=e.pendingLanes,i&1?e===$R?eb++:(eb=0,$R=e):eb=0,Zf(),null}function nv(){if(Hd!==null){var e=yye(AE),t=La.transition,n=Sn;try{if(La.transition=null,Sn=16>e?16:e,Hd===null)var r=!1;else{if(e=Hd,Hd=null,AE=0,tn&6)throw Error(ke(331));var o=tn;for(tn|=4,Me=e.current;Me!==null;){var i=Me,s=i.child;if(Me.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(Me=u;Me!==null;){var d=Me;switch(d.tag){case 0:case 11:case 15:Jb(8,d,i)}var f=d.child;if(f!==null)f.return=d,Me=f;else for(;Me!==null;){d=Me;var p=d.sibling,m=d.return;if(jbe(d),d===u){Me=null;break}if(p!==null){p.return=m,Me=p;break}Me=m}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}Me=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Me=s;else e:for(;Me!==null;){if(i=Me,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Jb(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Me=x;break e}Me=i.return}}var y=e.current;for(Me=y;Me!==null;){s=Me;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Me=w;else e:for(s=y;Me!==null;){if(a=Me,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Dj(9,a)}}catch(_){bs(a,a.return,_)}if(a===s){Me=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Me=C;break e}Me=a.return}}if(tn=o,Zf(),yc&&typeof yc.onPostCommitFiberRoot=="function")try{yc.onPostCommitFiberRoot(Cj,e)}catch{}r=!0}return r}finally{Sn=n,La.transition=t}}return!1}function FH(e,t,n){t=Y6(n,t),t=gbe(e,t,1),df(e,t),t=Xi(),e=Oj(e,1),e!==null&&(yw(e,1,t),ks(e,t))}function bs(e,t,n){if(e.tag===3)FH(e,e,n);else for(;t!==null;){if(t.tag===3){FH(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ff===null||!ff.has(r))){e=Y6(n,e),e=vbe(t,e,1),df(t,e),e=Xi(),t=Oj(t,1),t!==null&&(yw(t,1,e),ks(t,e));break}}t=t.return}}function GHe(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xi(),e.pingedLanes|=e.suspendedLanes&n,mo===e&&(ti&n)===n&&(jo===4||jo===3&&(ti&130023424)===ti&&500>Xr()-Z6?xp(e,0):K6|=n),ks(e,t)}function Mbe(e,t){t===0&&(e.mode&1?(t=HC,HC<<=1,!(HC&130023424)&&(HC=4194304)):t=1);var n=Xi();e=Oj(e,t),e!==null&&(yw(e,t,n),ks(e,n))}function KHe(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Mbe(e,n)}function ZHe(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(t),Mbe(e,n)}var Fbe;Fbe=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ss.current)Ys=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ys=!1,FHe(e,t,n);Ys=!!(e.flags&131072)}else Ys=!1,_r&&t.flags&1048576&&Yye(t,CE,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var o=Lv(t,Ii.current);tv(t,n),o=U6(null,t,r,e,o,n);var i=W6();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Es(r)?(i=!0,vE(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,M6(t),o.updater=Tj,t.stateNode=o,o._reactInternals=t,CR(t,r,e,n),t=TR(null,t,r,!0,i,n)):(t.tag=0,_r&&i&&F6(t),qi(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=QHe(r),e=fl(r,e),o){case 0:t=jR(null,t,r,e,n);break e;case 1:t=_H(null,t,r,e,n);break e;case 11:t=wH(null,t,r,e,n);break e;case 14:t=CH(null,t,r,fl(r.type,e),n);break e}throw Error(ke(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fl(r,o),jR(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fl(r,o),_H(e,t,r,o,n);case 3:e:{if(Sbe(t),e===null)throw Error(ke(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Uye(e,t),xE(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Error(ke(423)),t=SH(e,t,r,n,o);break e}else if(r!==o){o=Error(ke(424)),t=SH(e,t,r,n,o);break e}else for(ys=pu(t.stateNode.containerInfo.firstChild),Qs=t,_r=!0,hl=null,n=Zye(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bv(),r===o){t=Fu(e,t,n);break e}qi(e,t,r,n)}t=t.child}return t;case 5:return Xye(t),e===null&&SR(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,gR(r,o)?s=null:i!==null&&gR(r,i)&&(t.flags|=32),_be(e,t),qi(e,t,s,n),t.child;case 6:return e===null&&SR(t),null;case 13:return Ebe(e,t,n);case 4:return N6(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Nv(t,null,r,n):qi(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fl(r,o),wH(e,t,r,o,n);case 7:return qi(e,t,t.pendingProps,n),t.child;case 8:return qi(e,t,t.pendingProps.children,n),t.child;case 12:return qi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,Gn(yE,r._currentValue),r._currentValue=s,i!==null)if(kc(i.value,s)){if(i.children===o.children&&!Ss.current){t=Fu(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=_u(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),xR(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ke(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),xR(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}qi(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,tv(t,n),o=qa(o),r=r(o),t.flags|=1,qi(e,t,r,n),t.child;case 14:return r=t.type,o=fl(r,t.pendingProps),o=fl(r.type,o),CH(e,t,r,o,n);case 15:return wbe(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:fl(r,o),e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Es(r)?(e=!0,vE(t)):e=!1,tv(t,n),qye(t,r,o),CR(t,r,o,n),TR(null,t,r,!0,e,n);case 19:return kbe(e,t,n);case 22:return Cbe(e,t,n)}throw Error(ke(156,t.tag))};function Lbe(e,t){return mye(e,t)}function XHe(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pa(e,t,n,r){return new XHe(e,t,n,r)}function eL(e){return e=e.prototype,!(!e||!e.isReactComponent)}function QHe(e){if(typeof e=="function")return eL(e)?1:0;if(e!=null){if(e=e.$$typeof,e===w6)return 11;if(e===C6)return 14}return 2}function Of(e,t){var n=e.alternate;return n===null?(n=Pa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Y2(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")eL(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case kg:return wp(n.children,o,i,t);case x6:s=8,o|=8;break;case KP:return e=Pa(12,n,t,o|2),e.elementType=KP,e.lanes=i,e;case ZP:return e=Pa(13,n,t,o),e.elementType=ZP,e.lanes=i,e;case XP:return e=Pa(19,n,t,o),e.elementType=XP,e.lanes=i,e;case Q1e:return IE(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z1e:s=10;break e;case X1e:s=9;break e;case w6:s=11;break e;case C6:s=14;break e;case Td:s=16,r=null;break e}throw Error(ke(130,e==null?e:typeof e,""))}return t=Pa(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function wp(e,t,n,r){return e=Pa(7,e,r,t),e.lanes=n,e}function IE(e,t,n,r){return e=Pa(22,e,r,t),e.elementType=Q1e,e.lanes=n,e.stateNode={},e}function aI(e,t,n){return e=Pa(6,e,null,t),e.lanes=n,e}function lI(e,t,n){return t=Pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function JHe(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=HD(0),this.expirationTimes=HD(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=HD(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function tL(e,t,n,r,o,i,s,a,c){return e=new JHe(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Pa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},M6(i),e}function eUe(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Eg,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bbe(e){if(!e)return If;e=e._reactInternals;e:{if(gm(e)!==e||e.tag!==1)throw Error(ke(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Es(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ke(171))}if(e.tag===1){var n=e.type;if(Es(n))return Vye(e,n,t)}return t}function Nbe(e,t,n,r,o,i,s,a,c){return e=tL(n,r,!0,e,o,i,s,a,c),e.context=Bbe(null),n=e.current,r=Xi(),o=hf(n),i=_u(r,o),i.callback=t??null,df(n,i),e.current.lanes=o,yw(e,o,r),ks(e,r),e}function Pj(e,t,n,r){var o=t.current,i=Xi(),s=hf(o);return n=Bbe(n),t.context===null?t.context=n:t.pendingContext=n,t=_u(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),df(o,t),e=Ba(o,s,i),e!==null&&V2(e,o,s),s}function OE(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function LH(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nL(e,t){LH(e,t),(e=e.alternate)&&LH(e,t)}function tUe(){return null}var zbe=typeof reportError=="function"?reportError:function(e){console.error(e)};function rL(e){this._internalRoot=e}Rj.prototype.render=rL.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ke(409));Pj(e,t,null,null)};Rj.prototype.unmount=rL.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vp(function(){Pj(null,e,null,null)}),t[Mu]=null}};function Rj(e){this._internalRoot=e}Rj.prototype.unstable_scheduleHydration=function(e){if(e){var t=wye();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fd.length&&t!==0&&t<Fd[n].priority;n++);Fd.splice(n,0,e),n===0&&_ye(e)}};function oL(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $j(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function BH(){}function nUe(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=OE(s);i.call(u)}}var s=Nbe(t,r,e,0,null,!1,!1,"",BH);return e._reactRootContainer=s,e[Mu]=s.current,Wb(e.nodeType===8?e.parentNode:e),Vp(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=OE(c);a.call(u)}}var c=tL(e,0,!1,null,null,!1,!1,"",BH);return e._reactRootContainer=c,e[Mu]=c.current,Wb(e.nodeType===8?e.parentNode:e),Vp(function(){Pj(t,c,n,r)}),c}function Mj(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var c=OE(s);a.call(c)}}Pj(t,s,e,o)}else s=nUe(n,t,e,o,r);return OE(s)}bye=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cy(t.pendingLanes);n!==0&&(E6(t,n|1),ks(t,Xr()),!(tn&6)&&(Uv=Xr()+500,Zf()))}break;case 13:var r=Xi();Vp(function(){return Ba(e,1,r)}),nL(e,1)}};k6=function(e){if(e.tag===13){var t=Xi();Ba(e,134217728,t),nL(e,134217728)}};xye=function(e){if(e.tag===13){var t=Xi(),n=hf(e);Ba(e,n,t),nL(e,n)}};wye=function(){return Sn};Cye=function(e,t){var n=Sn;try{return Sn=e,t()}finally{Sn=n}};aR=function(e,t,n){switch(t){case"input":if(eR(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=kj(r);if(!o)throw Error(ke(90));eye(r),eR(r,o)}}}break;case"textarea":nye(e,n);break;case"select":t=n.value,t!=null&&Xg(e,!!n.multiple,t,!1)}};cye=X6;uye=Vp;var rUe={usingClientEntryPoint:!1,Events:[xw,Dg,kj,aye,lye,X6]},R1={findFiberByHostInstance:tp,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},oUe={bundleType:R1.bundleType,version:R1.version,rendererPackageName:R1.rendererPackageName,rendererConfig:R1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:od.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=hye(e),e===null?null:e.stateNode},findFiberByHostInstance:R1.findFiberByHostInstance||tUe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var r_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!r_.isDisabled&&r_.supportsFiber)try{Cj=r_.inject(oUe),yc=r_}catch{}}ca.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rUe;ca.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oL(t))throw Error(ke(200));return eUe(e,t,null,n)};ca.createRoot=function(e,t){if(!oL(e))throw Error(ke(299));var n=!1,r="",o=zbe;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=tL(e,1,!1,null,null,n,!1,r,o),e[Mu]=t.current,Wb(e.nodeType===8?e.parentNode:e),new rL(t)};ca.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ke(188)):(e=Object.keys(e).join(","),Error(ke(268,e)));return e=hye(t),e=e===null?null:e.stateNode,e};ca.flushSync=function(e){return Vp(e)};ca.hydrate=function(e,t,n){if(!$j(t))throw Error(ke(200));return Mj(null,e,t,!0,n)};ca.hydrateRoot=function(e,t,n){if(!oL(e))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=zbe;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Nbe(t,null,e,1,n??null,o,!1,i,s),e[Mu]=t.current,Wb(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Rj(t)};ca.render=function(e,t,n){if(!$j(t))throw Error(ke(200));return Mj(null,e,t,!1,n)};ca.unmountComponentAtNode=function(e){if(!$j(e))throw Error(ke(40));return e._reactRootContainer?(Vp(function(){Mj(null,null,e,!1,function(){e._reactRootContainer=null,e[Mu]=null})}),!0):!1};ca.unstable_batchedUpdates=X6;ca.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$j(n))throw Error(ke(200));if(e==null||e._reactInternals===void 0)throw Error(ke(38));return Mj(e,t,n,!1,r)};ca.version="18.0.0-fc46dba67-20220329";function Vbe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vbe)}catch(e){console.error(e)}}Vbe(),W1e.exports=ca;var cc=W1e.exports;const iUe=Ie(cc),Hbe=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?jV({element:t.current,padding:n}).fn(o):{}:t?jV({element:t,padding:n}).fn(o):{}}}};var G2=typeof document<"u"?h.useLayoutEffect:h.useEffect;function PE(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!PE(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!PE(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Ube(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function NH(e,t){const n=Ube(e);return Math.round(t*n)/n}function zH(e){const t=h.useRef(e);return G2(()=>{t.current=e}),t}function Wbe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=h.useState(r);PE(p,r)||m(r);const[v,g]=h.useState(null),[b,x]=h.useState(null),y=h.useCallback(R=>{R!=S.current&&(S.current=R,g(R))},[g]),w=h.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[x]),C=i||v,_=s||b,S=h.useRef(null),E=h.useRef(null),j=h.useRef(d),k=zH(c),T=zH(o),A=h.useCallback(()=>{if(!S.current||!E.current)return;const R={placement:t,strategy:n,middleware:p};T.current&&(R.platform=T.current),tVe(S.current,E.current,R).then(z=>{const B={...z,isPositioned:!0};D.current&&!PE(j.current,B)&&(j.current=B,cc.flushSync(()=>{f(B)}))})},[p,t,n,T]);G2(()=>{u===!1&&j.current.isPositioned&&(j.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const D=h.useRef(!1);G2(()=>(D.current=!0,()=>{D.current=!1}),[]),G2(()=>{if(C&&(S.current=C),_&&(E.current=_),C&&_){if(k.current)return k.current(C,_,A);A()}},[C,_,A,k]);const I=h.useMemo(()=>({reference:S,floating:E,setReference:y,setFloating:w}),[y,w]),O=h.useMemo(()=>({reference:C,floating:_}),[C,_]),$=h.useMemo(()=>{const R={position:n,left:0,top:0};if(!O.floating)return R;const z=NH(O.floating,d.x),B=NH(O.floating,d.y);return a?{...R,transform:"translate("+z+"px, "+B+"px)",...Ube(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:z,top:B}},[n,a,O.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:A,refs:I,elements:O,floatingStyles:$}),[d,A,I,O,$])}const qbe=h.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Fj=h.createContext({}),Lj=h.createContext(null),Bj=typeof document<"u",iL=Bj?h.useLayoutEffect:h.useEffect,Ybe=h.createContext({strict:!1});function sUe(e,t,n,r){const{visualElement:o}=h.useContext(Fj),i=h.useContext(Ybe),s=h.useContext(Lj),a=h.useContext(qbe).reducedMotion,c=h.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;h.useInsertionEffect(()=>{u&&u.update(n,s)});const d=h.useRef(!!window.HandoffAppearAnimations);return iL(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),h.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,d.current=!1)}),u}function Mg(e){return typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function aUe(e,t,n){return h.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Mg(n)&&(n.current=r))},[t])}function tx(e){return typeof e=="string"||Array.isArray(e)}function Nj(e){return typeof e=="object"&&typeof e.start=="function"}const sL=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],aL=["initial",...sL];function zj(e){return Nj(e.animate)||aL.some(t=>tx(e[t]))}function Gbe(e){return!!(zj(e)||e.variants)}function lUe(e,t){if(zj(e)){const{initial:n,animate:r}=e;return{initial:n===!1||tx(n)?n:void 0,animate:tx(r)?r:void 0}}return e.inherit!==!1?t:{}}function cUe(e){const{initial:t,animate:n}=lUe(e,h.useContext(Fj));return h.useMemo(()=>({initial:t,animate:n}),[VH(t),VH(n)])}function VH(e){return Array.isArray(e)?e.join(" "):e}const HH={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},nx={};for(const e in HH)nx[e]={isEnabled:t=>HH[e].some(n=>!!t[n])};function uUe(e){for(const t in e)nx[t]={...nx[t],...e[t]}}const lL=h.createContext({}),Kbe=h.createContext({}),dUe=Symbol.for("motionComponentSymbol");function fUe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:o}){e&&uUe(e);function i(a,c){let u;const d={...h.useContext(qbe),...a,layoutId:hUe(a)},{isStatic:f}=d,p=cUe(a),m=r(a,f);if(!f&&Bj){p.visualElement=sUe(o,m,d,t);const v=h.useContext(Kbe),g=h.useContext(Ybe).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,g,e,v))}return h.createElement(Fj.Provider,{value:p},u&&p.visualElement?h.createElement(u,{visualElement:p.visualElement,...d}):null,n(o,a,aUe(m,p.visualElement,c),m,f,p.visualElement))}const s=h.forwardRef(i);return s[dUe]=o,s}function hUe({layoutId:e}){const t=h.useContext(lL).id;return t&&e!==void 0?t+"-"+e:e}function pUe(e){function t(r,o={}){return fUe(e(r,o))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,o)=>(n.has(o)||n.set(o,t(o)),n.get(o))})}const mUe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function cL(e){return typeof e!="string"||e.includes("-")?!1:!!(mUe.indexOf(e)>-1||/[A-Z]/.test(e))}const RE={};function gUe(e){Object.assign(RE,e)}const Cw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vm=new Set(Cw);function Zbe(e,{layout:t,layoutId:n}){return vm.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!RE[e]||e==="opacity")}const Ts=e=>!!(e&&e.getVelocity),vUe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},yUe=Cw.length;function bUe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<yUe;s++){const a=Cw[s];if(e[a]!==void 0){const c=vUe[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(e,r?"":i):n&&r&&(i="none"),i}const Xbe=e=>t=>typeof t=="string"&&t.startsWith(e),Qbe=Xbe("--"),LR=Xbe("var(--"),xUe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,wUe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Pf=(e,t,n)=>Math.min(Math.max(n,e),t),ym={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tb={...ym,transform:e=>Pf(0,1,e)},o_={...ym,default:1},nb=e=>Math.round(e*1e5)/1e5,Vj=/(-)?([\d]*\.?[\d])+/g,Jbe=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,CUe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function _w(e){return typeof e=="string"}const Sw=e=>({test:t=>_w(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ed=Sw("deg"),xc=Sw("%"),st=Sw("px"),_Ue=Sw("vh"),SUe=Sw("vw"),UH={...xc,parse:e=>xc.parse(e)/100,transform:e=>xc.transform(e*100)},WH={...ym,transform:Math.round},exe={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,size:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,rotate:Ed,rotateX:Ed,rotateY:Ed,rotateZ:Ed,scale:o_,scaleX:o_,scaleY:o_,scaleZ:o_,skew:Ed,skewX:Ed,skewY:Ed,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:tb,originX:UH,originY:UH,originZ:st,zIndex:WH,fillOpacity:tb,strokeOpacity:tb,numOctaves:WH};function uL(e,t,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=e;let c=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(Qbe(f)){i[f]=p;continue}const m=exe[f],v=wUe(p,m);if(vm.has(f)){if(c=!0,s[f]=v,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,a[f]=v):o[f]=v}if(t.transform||(c||r?o.transform=bUe(e.transform,n,d,r):o.transform&&(o.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=a;o.transformOrigin=`${f} ${p} ${m}`}}const dL=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function txe(e,t,n){for(const r in t)!Ts(t[r])&&!Zbe(r,n)&&(e[r]=t[r])}function EUe({transformTemplate:e},t,n){return h.useMemo(()=>{const r=dL();return uL(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function kUe(e,t,n){const r=e.style||{},o={};return txe(o,r,e),Object.assign(o,EUe(e,t,n)),e.transformValues?e.transformValues(o):o}function jUe(e,t,n){const r={},o=kUe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=o,r}const TUe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function $E(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||TUe.has(e)}let nxe=e=>!$E(e);function AUe(e){e&&(nxe=t=>t.startsWith("on")?!$E(t):e(t))}try{AUe(require("@emotion/is-prop-valid").default)}catch{}function DUe(e,t,n){const r={};for(const o in e)o==="values"&&typeof e.values=="object"||(nxe(o)||n===!0&&$E(o)||!t&&!$E(o)||e.draggable&&o.startsWith("onDrag"))&&(r[o]=e[o]);return r}function qH(e,t,n){return typeof e=="string"?e:st.transform(t+n*e)}function IUe(e,t,n){const r=qH(t,e.x,e.width),o=qH(n,e.y,e.height);return`${r} ${o}`}const OUe={offset:"stroke-dashoffset",array:"stroke-dasharray"},PUe={offset:"strokeDashoffset",array:"strokeDasharray"};function RUe(e,t,n=1,r=0,o=!0){e.pathLength=1;const i=o?OUe:PUe;e[i.offset]=st.transform(-r);const s=st.transform(t),a=st.transform(n);e[i.array]=`${s} ${a}`}function fL(e,{attrX:t,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:c=0,...u},d,f,p){if(uL(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:v,dimensions:g}=e;m.transform&&(g&&(v.transform=m.transform),delete m.transform),g&&(o!==void 0||i!==void 0||v.transform)&&(v.transformOrigin=IUe(g,o!==void 0?o:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&RUe(m,s,a,c,!1)}const rxe=()=>({...dL(),attrs:{}}),hL=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $Ue(e,t,n,r){const o=h.useMemo(()=>{const i=rxe();return fL(i,t,{enableHardwareAcceleration:!1},hL(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};txe(i,e.style,e),o.style={...i,...o.style}}return o}function MUe(e=!1){return(n,r,o,{latestValues:i},s)=>{const c=(cL(n)?$Ue:jUe)(r,i,s,n),d={...DUe(r,typeof n=="string",e),...c,ref:o},{children:f}=r,p=h.useMemo(()=>Ts(f)?f.get():f,[f]);return h.createElement(n,{...d,children:p})}}const pL=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function oxe(e,{style:t,vars:n},r,o){Object.assign(e.style,t,o&&o.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const ixe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sxe(e,t,n,r){oxe(e,t,void 0,r);for(const o in t.attrs)e.setAttribute(ixe.has(o)?o:pL(o),t.attrs[o])}function mL(e,t){const{style:n}=e,r={};for(const o in n)(Ts(n[o])||t.style&&Ts(t.style[o])||Zbe(o,e))&&(r[o]=n[o]);return r}function axe(e,t){const n=mL(e,t);for(const r in e)if(Ts(e[r])||Ts(t[r])){const o=Cw.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=e[r]}return n}function gL(e,t,n,r={},o={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,o)),t}function lxe(e){const t=h.useRef(null);return t.current===null&&(t.current=e()),t.current}const ME=e=>Array.isArray(e),FUe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),LUe=e=>ME(e)?e[e.length-1]||0:e;function K2(e){const t=Ts(e)?e.get():e;return FUe(t)?t.toValue():t}function BUe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,o,i){const s={latestValues:NUe(r,o,i,e),renderState:t()};return n&&(s.mount=a=>n(r,a,s)),s}const cxe=e=>(t,n)=>{const r=h.useContext(Fj),o=h.useContext(Lj),i=()=>BUe(e,t,r,o);return n?i():lxe(i)};function NUe(e,t,n,r){const o={},i=r(e,{});for(const p in i)o[p]=K2(i[p]);let{initial:s,animate:a}=e;const c=zj(e),u=Gbe(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;return f&&typeof f!="boolean"&&!Nj(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const v=gL(e,m);if(!v)return;const{transitionEnd:g,transition:b,...x}=v;for(const y in x){let w=x[y];if(Array.isArray(w)){const C=d?w.length-1:0;w=w[C]}w!==null&&(o[y]=w)}for(const y in g)o[y]=g[y]}),o}const zr=e=>e;class YH{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function zUe(e){let t=new YH,n=new YH,r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(c,u=!1,d=!1)=>{const f=d&&o,p=f?t:n;return u&&s.add(c),p.add(c)&&f&&o&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(o){i=!0;return}if(o=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(a.schedule(d),e())}o=!1,i&&(i=!1,a.process(c))}};return a}const i_=["prepare","read","update","preRender","render","postRender"],VUe=40;function HUe(e,t){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=i_.reduce((f,p)=>(f[p]=zUe(()=>n=!0),f),{}),s=f=>i[f].process(o),a=()=>{const f=performance.now();n=!1,o.delta=r?1e3/60:Math.max(Math.min(f-o.timestamp,VUe),1),o.timestamp=f,o.isProcessing=!0,i_.forEach(s),o.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,o.isProcessing||e(a)};return{schedule:i_.reduce((f,p)=>{const m=i[p];return f[p]=(v,g=!1,b=!1)=>(n||c(),m.schedule(v,g,b)),f},{}),cancel:f=>i_.forEach(p=>i[p].cancel(f)),state:o,steps:i}}const{schedule:Kn,cancel:Lu,state:Po,steps:cI}=HUe(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0),UUe={useVisualState:cxe({scrapeMotionValuesFromProps:axe,createRenderState:rxe,onMount:(e,t,{renderState:n,latestValues:r})=>{Kn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Kn.render(()=>{fL(n,r,{enableHardwareAcceleration:!1},hL(t.tagName),e.transformTemplate),sxe(t,n)})}})},WUe={useVisualState:cxe({scrapeMotionValuesFromProps:mL,createRenderState:dL})};function qUe(e,{forwardMotionProps:t=!1},n,r){return{...cL(e)?UUe:WUe,preloadedFeatures:n,useRender:MUe(t),createVisualElement:r,Component:e}}function vu(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const uxe=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Hj(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const YUe=e=>t=>uxe(t)&&e(t,Hj(t));function Su(e,t,n,r){return vu(e,t,YUe(n),r)}const GUe=(e,t)=>n=>t(e(n)),pf=(...e)=>e.reduce(GUe);function dxe(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const GH=dxe("dragHorizontal"),KH=dxe("dragVertical");function fxe(e){let t=!1;if(e==="y")t=KH();else if(e==="x")t=GH();else{const n=GH(),r=KH();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function hxe(){const e=fxe(!0);return e?(e(),!1):!0}class Xf{constructor(t){this.isMounted=!1,this.node=t}update(){}}function ZH(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||hxe())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Kn.update(()=>a[r](i,s))};return Su(e.current,n,o,{passive:!e.getProps()[r]})}class KUe extends Xf{mount(){this.unmount=pf(ZH(this.node,!0),ZH(this.node,!1))}unmount(){}}class ZUe extends Xf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pf(vu(this.node.current,"focus",()=>this.onFocus()),vu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const pxe=(e,t)=>t?e===t?!0:pxe(e,t.parentElement):!1;function uI(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Hj(n))}class XUe extends Xf{constructor(){super(...arguments),this.removeStartListeners=zr,this.removeEndListeners=zr,this.removeAccessibleListeners=zr,this.startPointerPress=(t,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=Su(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d}=this.node.getProps();Kn.update(()=>{pxe(this.node.current,a.target)?u&&u(a,c):d&&d(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=Su(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=pf(i,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||uI("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&Kn.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=vu(this.node.current,"keyup",s),uI("down",(a,c)=>{this.startPress(a,c)})},n=vu(this.node.current,"keydown",t),r=()=>{this.isPressing&&uI("cancel",(i,s)=>this.cancelPress(i,s))},o=vu(this.node.current,"blur",r);this.removeAccessibleListeners=pf(n,o)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Kn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hxe()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Kn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Su(this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=vu(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=pf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const BR=new WeakMap,dI=new WeakMap,QUe=e=>{const t=BR.get(e.target);t&&t(e)},JUe=e=>{e.forEach(QUe)};function eWe({root:e,...t}){const n=e||document;dI.has(n)||dI.set(n,{});const r=dI.get(n),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(JUe,{root:e,...t})),r[o]}function tWe(e,t,n){const r=eWe(t);return BR.set(e,n),r.observe(e),()=>{BR.delete(e),r.unobserve(e)}}const nWe={some:0,all:1};class rWe extends Xf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:nWe[o]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(c)};return tWe(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(oWe(t,n))&&this.startObserver()}unmount(){}}function oWe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const iWe={inView:{Feature:rWe},tap:{Feature:XUe},focus:{Feature:ZUe},hover:{Feature:KUe}};function mxe(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function sWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function aWe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Uj(e,t,n){const r=e.getProps();return gL(r,t,n!==void 0?n:r.custom,sWe(e),aWe(e))}const lWe="framerAppearId",cWe="data-"+pL(lWe);let uWe=zr,vL=zr;const mf=e=>e*1e3,Eu=e=>e/1e3,dWe={current:!1},gxe=e=>Array.isArray(e)&&typeof e[0]=="number";function vxe(e){return!!(!e||typeof e=="string"&&yxe[e]||gxe(e)||Array.isArray(e)&&e.every(vxe))}const Sy=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,yxe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Sy([0,.65,.55,1]),circOut:Sy([.55,0,1,.45]),backIn:Sy([.31,.01,.66,-.59]),backOut:Sy([.33,1.53,.69,.99])};function bxe(e){if(e)return gxe(e)?Sy(e):Array.isArray(e)?e.map(bxe):yxe[e]}function fWe(e,t,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=bxe(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:o,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function hWe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const xxe=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,pWe=1e-7,mWe=12;function gWe(e,t,n,r,o){let i,s,a=0;do s=t+(n-t)/2,i=xxe(s,r,o)-e,i>0?n=s:t=s;while(Math.abs(i)>pWe&&++a<mWe);return s}function Ew(e,t,n,r){if(e===t&&n===r)return zr;const o=i=>gWe(i,0,1,e,n);return i=>i===0||i===1?i:xxe(o(i),t,r)}const vWe=Ew(.42,0,1,1),yWe=Ew(0,0,.58,1),wxe=Ew(.42,0,.58,1),bWe=e=>Array.isArray(e)&&typeof e[0]!="number",Cxe=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,_xe=e=>t=>1-e(1-t),Sxe=e=>1-Math.sin(Math.acos(e)),yL=_xe(Sxe),xWe=Cxe(yL),Exe=Ew(.33,1.53,.69,.99),bL=_xe(Exe),wWe=Cxe(bL),CWe=e=>(e*=2)<1?.5*bL(e):.5*(2-Math.pow(2,-10*(e-1))),_We={linear:zr,easeIn:vWe,easeInOut:wxe,easeOut:yWe,circIn:Sxe,circInOut:xWe,circOut:yL,backIn:bL,backInOut:wWe,backOut:Exe,anticipate:CWe},XH=e=>{if(Array.isArray(e)){vL(e.length===4);const[t,n,r,o]=e;return Ew(t,n,r,o)}else if(typeof e=="string")return _We[e];return e},xL=(e,t)=>n=>!!(_w(n)&&CUe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),kxe=(e,t,n)=>r=>{if(!_w(r))return r;const[o,i,s,a]=r.match(Vj);return{[e]:parseFloat(o),[t]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},SWe=e=>Pf(0,255,e),fI={...ym,transform:e=>Math.round(SWe(e))},op={test:xL("rgb","red"),parse:kxe("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+fI.transform(e)+", "+fI.transform(t)+", "+fI.transform(n)+", "+nb(tb.transform(r))+")"};function EWe(e){let t="",n="",r="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const NR={test:xL("#"),parse:EWe,transform:op.transform},Fg={test:xL("hsl","hue"),parse:kxe("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+xc.transform(nb(t))+", "+xc.transform(nb(n))+", "+nb(tb.transform(r))+")"},Wi={test:e=>op.test(e)||NR.test(e)||Fg.test(e),parse:e=>op.test(e)?op.parse(e):Fg.test(e)?Fg.parse(e):NR.parse(e),transform:e=>_w(e)?e:e.hasOwnProperty("red")?op.transform(e):Fg.transform(e)},Pr=(e,t,n)=>-n*e+n*t+e;function hI(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function kWe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let o=0,i=0,s=0;if(!t)o=i=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;o=hI(c,a,e+1/3),i=hI(c,a,e),s=hI(c,a,e-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const pI=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},jWe=[NR,op,Fg],TWe=e=>jWe.find(t=>t.test(e));function QH(e){const t=TWe(e);let n=t.parse(e);return t===Fg&&(n=kWe(n)),n}const jxe=(e,t)=>{const n=QH(e),r=QH(t),o={...n};return i=>(o.red=pI(n.red,r.red,i),o.green=pI(n.green,r.green,i),o.blue=pI(n.blue,r.blue,i),o.alpha=Pr(n.alpha,r.alpha,i),op.transform(o))};function AWe(e){var t,n;return isNaN(e)&&_w(e)&&(((t=e.match(Vj))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Jbe))===null||n===void 0?void 0:n.length)||0)>0}const Txe={regex:xUe,countKey:"Vars",token:"${v}",parse:zr},Axe={regex:Jbe,countKey:"Colors",token:"${c}",parse:Wi.parse},Dxe={regex:Vj,countKey:"Numbers",token:"${n}",parse:ym.parse};function mI(e,{regex:t,countKey:n,token:r,parse:o}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(o)))}function FE(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&mI(n,Txe),mI(n,Axe),mI(n,Dxe),n}function Ixe(e){return FE(e).values}function Oxe(e){const{values:t,numColors:n,numVars:r,tokenised:o}=FE(e),i=t.length;return s=>{let a=o;for(let c=0;c<i;c++)c<r?a=a.replace(Txe.token,s[c]):c<r+n?a=a.replace(Axe.token,Wi.transform(s[c])):a=a.replace(Dxe.token,nb(s[c]));return a}}const DWe=e=>typeof e=="number"?0:e;function IWe(e){const t=Ixe(e);return Oxe(e)(t.map(DWe))}const Rf={test:AWe,parse:Ixe,createTransformer:Oxe,getAnimatableNone:IWe},Pxe=(e,t)=>n=>`${n>0?t:e}`;function Rxe(e,t){return typeof e=="number"?n=>Pr(e,t,n):Wi.test(e)?jxe(e,t):e.startsWith("var(")?Pxe(e,t):Mxe(e,t)}const $xe=(e,t)=>{const n=[...e],r=n.length,o=e.map((i,s)=>Rxe(i,t[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},OWe=(e,t)=>{const n={...e,...t},r={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(r[o]=Rxe(e[o],t[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},Mxe=(e,t)=>{const n=Rf.createTransformer(t),r=FE(e),o=FE(t);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?pf($xe(r.values,o.values),n):Pxe(e,t)},rx=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},JH=(e,t)=>n=>Pr(e,t,n);function PWe(e){return typeof e=="number"?JH:typeof e=="string"?Wi.test(e)?jxe:Mxe:Array.isArray(e)?$xe:typeof e=="object"?OWe:JH}function RWe(e,t,n){const r=[],o=n||PWe(e[0]),i=e.length-1;for(let s=0;s<i;s++){let a=o(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||zr:t;a=pf(c,a)}r.push(a)}return r}function Fxe(e,t,{clamp:n=!0,ease:r,mixer:o}={}){const i=e.length;if(vL(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=RWe(t,r,o),a=s.length,c=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=rx(e[d],e[d+1],u);return s[d](f)};return n?u=>c(Pf(e[0],e[i-1],u)):c}function $We(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const o=rx(0,t,r);e.push(Pr(n,1,o))}}function MWe(e){const t=[0];return $We(t,e.length-1),t}function FWe(e,t){return e.map(n=>n*t)}function LWe(e,t){return e.map(()=>t||wxe).splice(0,e.length-1)}function LE({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const o=bWe(r)?r.map(XH):XH(r),i={done:!1,value:t[0]},s=FWe(n&&n.length===t.length?n:MWe(t),e),a=Fxe(s,t,{ease:Array.isArray(o)?o:LWe(t,o)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function Lxe(e,t){return t?e*(1e3/t):0}const BWe=5;function Bxe(e,t,n){const r=Math.max(t-BWe,0);return Lxe(n-e(r),t-r)}const gI=.001,NWe=.01,eU=10,zWe=.05,VWe=1;function HWe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let o,i;uWe(e<=mf(eU));let s=1-t;s=Pf(zWe,VWe,s),e=Pf(NWe,eU,Eu(e)),s<1?(o=u=>{const d=u*s,f=d*e,p=d-n,m=zR(u,s),v=Math.exp(-f);return gI-p/m*v},i=u=>{const f=u*s*e,p=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,v=Math.exp(-f),g=zR(Math.pow(u,2),s);return(-o(u)+gI>0?-1:1)*((p-m)*v)/g}):(o=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-gI+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,c=WWe(o,i,a);if(e=mf(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const UWe=12;function WWe(e,t,n){let r=n;for(let o=1;o<UWe;o++)r=r-e(r)/t(r);return r}function zR(e,t){return e*Math.sqrt(1-t*t)}const qWe=["duration","bounce"],YWe=["stiffness","damping","mass"];function tU(e,t){return t.some(n=>e[n]!==void 0)}function GWe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!tU(e,YWe)&&tU(e,qWe)){const n=HWe(e);t={...t,...n,velocity:0,mass:1},t.isResolvedFromDuration=!0}return t}function Nxe({keyframes:e,restDelta:t,restSpeed:n,...r}){const o=e[0],i=e[e.length-1],s={done:!1,value:o},{stiffness:a,damping:c,mass:u,velocity:d,duration:f,isResolvedFromDuration:p}=GWe(r),m=d?-Eu(d):0,v=c/(2*Math.sqrt(a*u)),g=i-o,b=Eu(Math.sqrt(a/u)),x=Math.abs(g)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let y;if(v<1){const w=zR(b,v);y=C=>{const _=Math.exp(-v*b*C);return i-_*((m+v*b*g)/w*Math.sin(w*C)+g*Math.cos(w*C))}}else if(v===1)y=w=>i-Math.exp(-b*w)*(g+(m+b*g)*w);else{const w=b*Math.sqrt(v*v-1);y=C=>{const _=Math.exp(-v*b*C),S=Math.min(w*C,300);return i-_*((m+v*b*g)*Math.sinh(S)+w*g*Math.cosh(S))/w}}return{calculatedDuration:p&&f||null,next:w=>{const C=y(w);if(p)s.done=w>=f;else{let _=m;w!==0&&(v<1?_=Bxe(y,w,C):_=0);const S=Math.abs(_)<=n,E=Math.abs(i-C)<=t;s.done=S&&E}return s.value=s.done?i:C,s}}}function nU({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=j=>a!==void 0&&j<a||c!==void 0&&j>c,v=j=>a===void 0?c:c===void 0||Math.abs(a-j)<Math.abs(c-j)?a:c;let g=n*t;const b=f+g,x=s===void 0?b:s(b);x!==b&&(g=x-f);const y=j=>-g*Math.exp(-j/r),w=j=>x+y(j),C=j=>{const k=y(j),T=w(j);p.done=Math.abs(k)<=u,p.value=p.done?x:T};let _,S;const E=j=>{m(p.value)&&(_=j,S=Nxe({keyframes:[p.value,v(p.value)],velocity:Bxe(w,j,p.value),damping:o,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:j=>{let k=!1;return!S&&_===void 0&&(k=!0,C(j),E(j)),_!==void 0&&j>_?S.next(j-_):(!k&&C(j),p)}}}const KWe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Kn.update(t,!0),stop:()=>Lu(t),now:()=>Po.isProcessing?Po.timestamp:performance.now()}},rU=2e4;function oU(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<rU;)t+=n,r=e.next(t);return t>=rU?1/0:t}const ZWe={decay:nU,inertia:nU,tween:LE,keyframes:LE,spring:Nxe};function BE({autoplay:e=!0,delay:t=0,driver:n=KWe,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,v=!1,g,b;const x=()=>{b=new Promise(V=>{g=V})};x();let y;const w=ZWe[o]||LE;let C;w!==LE&&typeof r[0]!="number"&&(C=Fxe([0,100],r,{clamp:!1}),r=[0,100]);const _=w({...p,keyframes:r});let S;a==="mirror"&&(S=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let E="idle",j=null,k=null,T=null;_.calculatedDuration===null&&i&&(_.calculatedDuration=oU(_));const{calculatedDuration:A}=_;let D=1/0,I=1/0;A!==null&&(D=A+s,I=D*(i+1)-s);let O=0;const $=V=>{if(k===null)return;m>0&&(k=Math.min(k,V)),m<0&&(k=Math.min(V-I/m,k)),j!==null?O=j:O=Math.round(V-k)*m;const K=O-t*(m>=0?1:-1),te=m>=0?K<0:K>I;O=Math.max(K,0),E==="finished"&&j===null&&(O=I);let N=O,G=_;if(i){const ne=O/D;let Y=Math.floor(ne),X=ne%1;!X&&ne>=1&&(X=1),X===1&&Y--,Y=Math.min(Y,i+1);const ae=!!(Y%2);ae&&(a==="reverse"?(X=1-X,s&&(X-=s/D)):a==="mirror"&&(G=S));let he=Pf(0,1,X);O>I&&(he=a==="reverse"&&ae?1:0),N=he*D}const q=te?{done:!1,value:r[0]}:G.next(N);C&&(q.value=C(q.value));let{done:Z}=q;!te&&A!==null&&(Z=m>=0?O>=I:O<=0);const ie=j===null&&(E==="finished"||E==="running"&&Z);return f&&f(q.value),ie&&B(),q},R=()=>{y&&y.stop(),y=void 0},z=()=>{E="idle",R(),g(),x(),k=T=null},B=()=>{E="finished",d&&d(),R(),g()},U=()=>{if(v)return;y||(y=n($));const V=y.now();c&&c(),j!==null?k=V-j:(!k||E==="finished")&&(k=V),E==="finished"&&x(),T=k,j=null,E="running",y.start()};e&&U();const W={then(V,K){return b.then(V,K)},get time(){return Eu(O)},set time(V){V=mf(V),O=V,j!==null||!y||m===0?j=V:k=y.now()-V/m},get duration(){const V=_.calculatedDuration===null?oU(_):_.calculatedDuration;return Eu(V)},get speed(){return m},set speed(V){V===m||!y||(m=V,W.time=Eu(O))},get state(){return E},play:U,pause:()=>{E="paused",j=O},stop:()=>{v=!0,E!=="idle"&&(E="idle",u&&u(),z())},cancel:()=>{T!==null&&$(T),z()},complete:()=>{E="finished"},sample:V=>(k=0,$(V))};return W}function XWe(e){let t;return()=>(t===void 0&&(t=e()),t)}const QWe=XWe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),JWe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),s_=10,eqe=2e4,tqe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!vxe(t.ease);function nqe(e,t,{onUpdate:n,onComplete:r,...o}){if(!(QWe()&&JWe.has(t)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,c;const u=()=>{c=new Promise(y=>{a=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=o;if(tqe(t,o)){const y=BE({...o,repeat:0,delay:0});let w={done:!1,value:d[0]};const C=[];let _=0;for(;!w.done&&_<eqe;)w=y.sample(_),C.push(w.value),_+=s_;m=void 0,d=C,f=_-s_,p="linear"}const v=fWe(e.owner.current,t,d,{...o,duration:f,ease:p,times:m});o.syncStart&&(v.startTime=Po.isProcessing?Po.timestamp:document.timeline?document.timeline.currentTime:performance.now());const g=()=>v.cancel(),b=()=>{Kn.update(g),a(),u()};return v.onfinish=()=>{e.set(hWe(d,o)),r&&r(),b()},{then(y,w){return c.then(y,w)},attachTimeline(y){return v.timeline=y,v.onfinish=null,zr},get time(){return Eu(v.currentTime||0)},set time(y){v.currentTime=mf(y)},get speed(){return v.playbackRate},set speed(y){v.playbackRate=y},get duration(){return Eu(f)},play:()=>{s||(v.play(),Lu(g))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:y}=v;if(y){const w=BE({...o,autoplay:!1});e.setWithVelocity(w.sample(y-s_).value,w.sample(y).value,s_)}b()},complete:()=>v.finish(),cancel:b}}function rqe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const o=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:zr,pause:zr,stop:zr,then:i=>(i(),Promise.resolve()),cancel:zr,complete:zr});return t?BE({keyframes:[0,1],duration:0,delay:t,onComplete:o}):o()}const oqe={type:"spring",stiffness:500,damping:25,restSpeed:10},iqe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),sqe={type:"keyframes",duration:.8},aqe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},lqe=(e,{keyframes:t})=>t.length>2?sqe:vm.has(e)?e.startsWith("scale")?iqe(t[1]):oqe:aqe,VR=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rf.test(t)||t==="0")&&!t.startsWith("url(")),cqe=new Set(["brightness","contrast","saturate","opacity"]);function uqe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Vj)||[];if(!r)return e;const o=n.replace(r,"");let i=cqe.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+o+")"}const dqe=/([a-z-]*)\(.*?\)/g,HR={...Rf,getAnimatableNone:e=>{const t=e.match(dqe);return t?t.map(uqe).join(" "):e}},fqe={...exe,color:Wi,backgroundColor:Wi,outlineColor:Wi,fill:Wi,stroke:Wi,borderColor:Wi,borderTopColor:Wi,borderRightColor:Wi,borderBottomColor:Wi,borderLeftColor:Wi,filter:HR,WebkitFilter:HR},wL=e=>fqe[e];function zxe(e,t){let n=wL(e);return n!==HR&&(n=Rf),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Vxe=e=>/^0[^.\s]+$/.test(e);function hqe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Vxe(e)}function pqe(e,t,n,r){const o=VR(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?s:i[u-1]),hqe(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(o&&c.length&&a)for(let u=0;u<c.length;u++){const d=c[u];i[d]=zxe(t,a)}return i}function mqe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function Hxe(e,t){return e[t]||e.default||e}const CL=(e,t,n,r={})=>o=>{const i=Hxe(r,e)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-mf(s);const c=pqe(t,e,n,i),u=c[0],d=c[c.length-1],f=VR(e,u),p=VR(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:v=>{t.set(v),i.onUpdate&&i.onUpdate(v)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(mqe(i)||(m={...m,...lqe(e,m)}),m.duration&&(m.duration=mf(m.duration)),m.repeatDelay&&(m.repeatDelay=mf(m.repeatDelay)),!f||!p||dWe.current||i.type===!1)return rqe(m);if(t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const v=nqe(t,e,m);if(v)return v}return BE(m)};function NE(e){return!!(Ts(e)&&e.add)}const Uxe=e=>/^\-?\d*\.?\d+$/.test(e);function _L(e,t){e.indexOf(t)===-1&&e.push(t)}function SL(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class EL{constructor(){this.subscriptions=[]}add(t){return _L(this.subscriptions,t),()=>SL(this.subscriptions,t)}notify(t,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gqe=e=>!isNaN(parseFloat(e));class vqe{constructor(t,n={}){this.version="10.16.5",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Po;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,Kn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Kn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=gqe(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new EL);const r=this.events[t].add(n);return t==="change"?()=>{r(),Kn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Lxe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Wv(e,t){return new vqe(e,t)}const Wxe=e=>t=>t.test(e),yqe={test:e=>e==="auto",parse:e=>e},qxe=[ym,st,xc,Ed,SUe,_Ue,yqe],$1=e=>qxe.find(Wxe(e)),bqe=[...qxe,Wi,Rf],xqe=e=>bqe.find(Wxe(e));function wqe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Wv(n))}function Cqe(e,t){const n=Uj(e,t);let{transitionEnd:r={},transition:o={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=LUe(i[s]);wqe(e,s,a)}}function _qe(e,t,n){var r,o;const i=Object.keys(t).filter(a=>!e.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const c=i[a],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(o=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&o!==void 0?o:t[c]),d!=null&&(typeof d=="string"&&(Uxe(d)||Vxe(d))?d=parseFloat(d):!xqe(d)&&Rf.test(u)&&(d=zxe(c,u)),e.addValue(c,Wv(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function Sqe(e,t){return t?(t[e]||t.default||t).from:void 0}function Eqe(e,t,n){const r={};for(const o in e){const i=Sqe(o,t);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function kqe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Yxe(e,t,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],d=o&&e.animationState&&e.animationState.getState()[o];for(const f in a){const p=e.getValue(f),m=a[f];if(!p||m===void 0||d&&kqe(d,f))continue;const v={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!p.hasAnimated){const b=e.getProps()[cWe];b&&(v.elapsed=window.HandoffAppearAnimations(b,f,p,Kn),v.syncStart=!0)}p.start(CL(f,p,m,e.shouldReduceMotion&&vm.has(f)?{type:!1}:v));const g=p.animation;NE(c)&&(c.add(f),g.then(()=>c.remove(f))),u.push(g)}return s&&Promise.all(u).then(()=>{s&&Cqe(e,s)}),u}function UR(e,t,n={}){const r=Uj(e,t,n.custom);let{transition:o=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(Yxe(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=o;return jqe(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[c,u]=a==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(n.delay)])}function jqe(e,t,n=0,r=0,o=1,i){const s=[],a=(e.variantChildren.size-1)*r,c=o===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Tqe).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(UR(u,t,{...i,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function Tqe(e,t){return e.sortNodePosition(t)}function Aqe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(i=>UR(e,i,n));r=Promise.all(o)}else if(typeof t=="string")r=UR(e,t,n);else{const o=typeof t=="function"?Uj(e,t,n.custom):t;r=Promise.all(Yxe(e,o,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Dqe=[...sL].reverse(),Iqe=sL.length;function Oqe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Aqe(e,n,r)))}function Pqe(e){let t=Oqe(e);const n=$qe();let r=!0;const o=(c,u)=>{const d=Uj(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;c={...c,...m,...p}}return c};function i(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let v={},g=1/0;for(let x=0;x<Iqe;x++){const y=Dqe[x],w=n[y],C=d[y]!==void 0?d[y]:f[y],_=tx(C),S=y===u?w.isActive:null;S===!1&&(g=x);let E=C===f[y]&&C!==d[y]&&_;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),w.protectedKeys={...v},!w.isActive&&S===null||!C&&!w.prevProp||Nj(C)||typeof C=="boolean")continue;const j=Rqe(w.prevProp,C);let k=j||y===u&&w.isActive&&!E&&_||x>g&&_;const T=Array.isArray(C)?C:[C];let A=T.reduce(o,{});S===!1&&(A={});const{prevResolvedValues:D={}}=w,I={...D,...A},O=$=>{k=!0,m.delete($),w.needsAnimating[$]=!0};for(const $ in I){const R=A[$],z=D[$];v.hasOwnProperty($)||(R!==z?ME(R)&&ME(z)?!mxe(R,z)||j?O($):w.protectedKeys[$]=!0:R!==void 0?O($):m.add($):R!==void 0&&m.has($)?O($):w.protectedKeys[$]=!0)}w.prevProp=C,w.prevResolvedValues=A,w.isActive&&(v={...v,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&!E&&p.push(...T.map($=>({animation:$,options:{type:y,...c}})))}if(m.size){const x={};m.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(x[y]=w)}),p.push({animation:x})}let b=!!p.length;return r&&d.initial===!1&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(p):Promise.resolve()}function a(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const p=s(d,c);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function Rqe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!mxe(t,e):!1}function yh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $qe(){return{animate:yh(!0),whileInView:yh(),whileHover:yh(),whileTap:yh(),whileDrag:yh(),whileFocus:yh(),exit:yh()}}class Mqe extends Xf{constructor(t){super(t),t.animationState||(t.animationState=Pqe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Nj(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Fqe=0;class Lqe extends Xf{constructor(){super(...arguments),this.id=Fqe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===o)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Bqe={animation:{Feature:Mqe},exit:{Feature:Lqe}},iU=(e,t)=>Math.abs(e-t);function Nqe(e,t){const n=iU(e.x,t.x),r=iU(e.y,t.y);return Math.sqrt(n**2+r**2)}class Gxe{constructor(t,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=yI(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,f=Nqe(u.offset,{x:0,y:0})>=3;if(!d&&!f)return;const{point:p}=u,{timestamp:m}=Po;this.history.push({...p,timestamp:m});const{onStart:v,onMove:g}=this.handlers;d||(v&&v(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,d)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=vI(d,this.transformPagePoint),Kn.update(this.updatePoint,!0)},this.handlePointerUp=(u,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:p}=this.handlers,m=yI(u.type==="pointercancel"?this.lastMoveEventInfo:vI(d,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,m),p&&p(u,m)},!uxe(t))return;this.handlers=n,this.transformPagePoint=r;const o=Hj(t),i=vI(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Po;this.history=[{...s,timestamp:a}];const{onSessionStart:c}=n;c&&c(t,yI(i,this.history)),this.removeListeners=pf(Su(window,"pointermove",this.handlePointerMove),Su(window,"pointerup",this.handlePointerUp),Su(window,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Lu(this.updatePoint)}}function vI(e,t){return t?{point:t(e.point)}:e}function sU(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yI({point:e},t){return{point:e,delta:sU(e,Kxe(t)),offset:sU(e,zqe(t)),velocity:Vqe(t,.1)}}function zqe(e){return e[0]}function Kxe(e){return e[e.length-1]}function Vqe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const o=Kxe(e);for(;n>=0&&(r=e[n],!(o.timestamp-r.timestamp>mf(t)));)n--;if(!r)return{x:0,y:0};const i=Eu(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function na(e){return e.max-e.min}function WR(e,t=0,n=.01){return Math.abs(e-t)<=n}function aU(e,t,n,r=.5){e.origin=r,e.originPoint=Pr(t.min,t.max,e.origin),e.scale=na(n)/na(t),(WR(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Pr(n.min,n.max,e.origin)-e.originPoint,(WR(e.translate)||isNaN(e.translate))&&(e.translate=0)}function rb(e,t,n,r){aU(e.x,t.x,n.x,r?r.originX:void 0),aU(e.y,t.y,n.y,r?r.originY:void 0)}function lU(e,t,n){e.min=n.min+t.min,e.max=e.min+na(t)}function Hqe(e,t,n){lU(e.x,t.x,n.x),lU(e.y,t.y,n.y)}function cU(e,t,n){e.min=t.min-n.min,e.max=e.min+na(t)}function ob(e,t,n){cU(e.x,t.x,n.x),cU(e.y,t.y,n.y)}function Uqe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Pr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Pr(n,e,r.max):Math.min(e,n)),e}function uU(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Wqe(e,{top:t,left:n,bottom:r,right:o}){return{x:uU(e.x,n,o),y:uU(e.y,t,r)}}function dU(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function qqe(e,t){return{x:dU(e.x,t.x),y:dU(e.y,t.y)}}function Yqe(e,t){let n=.5;const r=na(e),o=na(t);return o>r?n=rx(t.min,t.max-r,e.min):r>o&&(n=rx(e.min,e.max-o,t.min)),Pf(0,1,n)}function Gqe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const qR=.35;function Kqe(e=qR){return e===!1?e=0:e===!0&&(e=qR),{x:fU(e,"left","right"),y:fU(e,"top","bottom")}}function fU(e,t,n){return{min:hU(e,t),max:hU(e,n)}}function hU(e,t){return typeof e=="number"?e:e[t]||0}const pU=()=>({translate:0,scale:1,origin:0,originPoint:0}),Lg=()=>({x:pU(),y:pU()}),mU=()=>({min:0,max:0}),io=()=>({x:mU(),y:mU()});function ec(e){return[e("x"),e("y")]}function Zxe({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Zqe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Xqe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function bI(e){return e===void 0||e===1}function YR({scale:e,scaleX:t,scaleY:n}){return!bI(e)||!bI(t)||!bI(n)}function Ih(e){return YR(e)||Xxe(e)||e.z||e.rotate||e.rotateX||e.rotateY}function Xxe(e){return gU(e.x)||gU(e.y)}function gU(e){return e&&e!=="0%"}function zE(e,t,n){const r=e-n,o=t*r;return n+o}function vU(e,t,n,r,o){return o!==void 0&&(e=zE(e,o,r)),zE(e,n,r)+t}function GR(e,t=0,n=1,r,o){e.min=vU(e.min,t,n,r,o),e.max=vU(e.max,t,n,r,o)}function Qxe(e,{x:t,y:n}){GR(e.x,t.translate,t.scale,t.originPoint),GR(e.y,n.translate,n.scale,n.originPoint)}function Qqe(e,t,n,r=!1){const o=n.length;if(!o)return;t.x=t.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Bg(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,Qxe(e,s)),r&&Ih(i.latestValues)&&Bg(e,i.latestValues))}t.x=yU(t.x),t.y=yU(t.y)}function yU(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Dd(e,t){e.min=e.min+t,e.max=e.max+t}function bU(e,t,[n,r,o]){const i=t[o]!==void 0?t[o]:.5,s=Pr(e.min,e.max,i);GR(e,t[n],t[r],s,t.scale)}const Jqe=["x","scaleX","originX"],eYe=["y","scaleY","originY"];function Bg(e,t){bU(e.x,t,Jqe),bU(e.y,t,eYe)}function Jxe(e,t){return Zxe(Xqe(e.getBoundingClientRect(),t))}function tYe(e,t,n){const r=Jxe(e,n),{scroll:o}=t;return o&&(Dd(r.x,o.offset.x),Dd(r.y,o.offset.y)),r}const nYe=new WeakMap;class rYe{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=io(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=c=>{this.stopAnimation(),n&&this.snapToCursor(Hj(c,"page").point)},i=(c,u)=>{const{drag:d,dragPropagation:f,onDragStart:p}=this.getProps();if(d&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=fxe(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ec(v=>{let g=this.getAxisMotionValue(v).get()||0;if(xc.test(g)){const{projection:b}=this.visualElement;if(b&&b.layout){const x=b.layout.layoutBox[v];x&&(g=na(x)*(parseFloat(g)/100))}}this.originPoint[v]=g}),p&&Kn.update(()=>p(c,u),!1,!0);const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(c,u)=>{const{dragPropagation:d,dragDirectionLock:f,onDirectionLock:p,onDrag:m}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:v}=u;if(f&&this.currentDirection===null){this.currentDirection=oYe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,v),this.updateAxis("y",u.point,v),this.visualElement.render(),m&&m(c,u)},a=(c,u)=>this.stop(c,u);this.panSession=new Gxe(t,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&Kn.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:o}=this.getProps();if(!r||!a_(t,o,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Uqe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;t&&Mg(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Wqe(r.layoutBox,t):this.constraints=!1,this.elastic=Kqe(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ec(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=Gqe(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Mg(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=tYe(r,o.root,this.visualElement.getTransformPagePoint());let s=qqe(o.layout.layoutBox,i);if(n){const a=n(Zqe(s));this.hasMutatedConstraints=!!a,a&&(s=Zxe(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=ec(d=>{if(!a_(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const p=o?200:1e6,m=o?40:1e7,v={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,v)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(CL(t,r,0,n))}stopAnimation(){ec(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ec(n=>{const{drag:r}=this.getProps();if(!a_(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(t[n]-Pr(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Mg(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ec(s=>{const a=this.getAxisMotionValue(s);if(a){const c=a.get();o[s]=Yqe({min:c,max:c},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ec(s=>{if(!a_(s,t,null))return;const a=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];a.set(Pr(c,u,o[s]))})}addListeners(){if(!this.visualElement.current)return;nYe.set(this.visualElement,this);const t=this.visualElement.current,n=Su(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Mg(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=vu(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ec(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=qR,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function a_(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function oYe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class iYe extends Xf{constructor(t){super(t),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new rYe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const xU=e=>(t,n)=>{e&&Kn.update(()=>e(t,n))};class sYe extends Xf{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(t){this.session=new Gxe(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:xU(t),onStart:xU(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&Kn.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=Su(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function aYe(){const e=h.useContext(Lj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,o=h.useId();return h.useEffect(()=>r(o),[]),!t&&n?[!1,()=>n&&n(o)]:[!0]}const Z2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wU(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const M1={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=wU(e,t.target.x),r=wU(e,t.target.y);return`${n}% ${r}%`}},lYe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,o=Rf.parse(e);if(o.length>5)return r;const i=Rf.createTransformer(e),s=typeof o[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;o[0+s]/=a,o[1+s]/=c;const u=Pr(a,c,.5);return typeof o[2+s]=="number"&&(o[2+s]/=u),typeof o[3+s]=="number"&&(o[3+s]/=u),i(o)}};class cYe extends re.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=t;gUe(uYe),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Z2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Kn.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ewe(e){const[t,n]=aYe(),r=h.useContext(lL);return re.createElement(cYe,{...e,layoutGroup:r,switchLayoutGroup:h.useContext(Kbe),isPresent:t,safeToRemove:n})}const uYe={borderRadius:{...M1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:M1,borderTopRightRadius:M1,borderBottomLeftRadius:M1,borderBottomRightRadius:M1,boxShadow:lYe},twe=["TopLeft","TopRight","BottomLeft","BottomRight"],dYe=twe.length,CU=e=>typeof e=="string"?parseFloat(e):e,_U=e=>typeof e=="number"||st.test(e);function fYe(e,t,n,r,o,i){o?(e.opacity=Pr(0,n.opacity!==void 0?n.opacity:1,hYe(r)),e.opacityExit=Pr(t.opacity!==void 0?t.opacity:1,0,pYe(r))):i&&(e.opacity=Pr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<dYe;s++){const a=`border${twe[s]}Radius`;let c=SU(t,a),u=SU(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||_U(c)===_U(u)?(e[a]=Math.max(Pr(CU(c),CU(u),r),0),(xc.test(u)||xc.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=Pr(t.rotate||0,n.rotate||0,r))}function SU(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hYe=nwe(0,.5,yL),pYe=nwe(.5,.95,zr);function nwe(e,t,n){return r=>r<e?0:r>t?1:n(rx(e,t,r))}function EU(e,t){e.min=t.min,e.max=t.max}function ga(e,t){EU(e.x,t.x),EU(e.y,t.y)}function kU(e,t,n,r,o){return e-=t,e=zE(e,1/n,r),o!==void 0&&(e=zE(e,1/o,r)),e}function mYe(e,t=0,n=1,r=.5,o,i=e,s=e){if(xc.test(t)&&(t=parseFloat(t),t=Pr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=Pr(i.min,i.max,r);e===i&&(a-=t),e.min=kU(e.min,t,n,a,o),e.max=kU(e.max,t,n,a,o)}function jU(e,t,[n,r,o],i,s){mYe(e,t[n],t[r],t[o],t.scale,i,s)}const gYe=["x","scaleX","originX"],vYe=["y","scaleY","originY"];function TU(e,t,n,r){jU(e.x,t,gYe,n?n.x:void 0,r?r.x:void 0),jU(e.y,t,vYe,n?n.y:void 0,r?r.y:void 0)}function AU(e){return e.translate===0&&e.scale===1}function rwe(e){return AU(e.x)&&AU(e.y)}function yYe(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function owe(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function DU(e){return na(e.x)/na(e.y)}class bYe{constructor(){this.members=[]}add(t){_L(this.members,t),t.scheduleRender()}remove(t){if(SL(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IU(e,t,n){let r="";const o=e.x.translate/t.x,i=e.y.translate/t.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,a=e.y.scale*t.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const xYe=(e,t)=>e.depth-t.depth;class wYe{constructor(){this.children=[],this.isDirty=!1}add(t){_L(this.children,t),this.isDirty=!0}remove(t){SL(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(xYe),this.isDirty=!1,this.children.forEach(t)}}function CYe(e,t){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=t&&(Lu(r),e(i-t))};return Kn.read(r,!0),()=>Lu(r)}function _Ye(e){window.MotionDebug&&window.MotionDebug.record(e)}function SYe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function EYe(e,t,n){const r=Ts(e)?e:Wv(e);return r.start(CL("",r,t,n)),r.animation}const OU=["","X","Y","Z"],PU=1e3;let kYe=0;const Oh={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function iwe({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=t==null?void 0:t()){this.id=kYe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Oh.totalNodes=Oh.resolvedTargetDeltas=Oh.recalculatedProjection=0,this.nodes.forEach(AYe),this.nodes.forEach(RYe),this.nodes.forEach($Ye),this.nodes.forEach(DYe),_Ye(Oh)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new wYe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new EL),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const c=this.eventHandlers.get(s);c&&c.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SYe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const p=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=CYe(p,250),Z2.hasAnimatedSinceResize&&(Z2.hasAnimatedSinceResize=!1,this.nodes.forEach($U))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||d.getDefaultTransition()||NYe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),y=!this.targetLayout||!owe(this.targetLayout,v)||m,w=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const C={...Hxe(g,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else p||$U(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Lu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MYe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(RU);return}this.isUpdating||this.nodes.forEach(OYe),this.isUpdating=!1,this.nodes.forEach(PYe),this.nodes.forEach(jYe),this.nodes.forEach(TYe),this.clearAllSnapshots();const a=performance.now();Po.delta=Pf(0,1e3/60,a-Po.timestamp),Po.timestamp=a,Po.isProcessing=!0,cI.update.process(Po),cI.preRender.process(Po),cI.render.process(Po),Po.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(IYe),this.sharedNodes.forEach(FYe)}scheduleUpdateProjection(){Kn.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Kn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=io(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!rwe(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(a||Ih(this.latestValues)||d)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return s&&(c=this.removeTransform(c)),zYe(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return io();const a=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Dd(a.x,c.offset.x),Dd(a.y,c.offset.y)),a}removeElementScroll(s){const a=io();ga(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){ga(a,s);const{scroll:p}=this.root;p&&(Dd(a.x,-p.offset.x),Dd(a.y,-p.offset.y))}Dd(a.x,d.offset.x),Dd(a.y,d.offset.y)}}return a}applyTransform(s,a=!1){const c=io();ga(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Bg(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ih(d.latestValues)&&Bg(c,d.latestValues)}return Ih(this.latestValues)&&Bg(c,this.latestValues),c}removeTransform(s){const a=io();ga(a,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Ih(u.latestValues))continue;YR(u.latestValues)&&u.updateSnapshot();const d=io(),f=u.measurePageBox();ga(d,f),TU(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Ih(this.latestValues)&&TU(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Po.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:p}=this.options;if(!(!this.layout||!(f||p))){if(this.resolvedRelativeTargetAt=Po.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=io(),this.relativeTargetOrigin=io(),ob(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=io(),this.targetWithTransforms=io()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hqe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ga(this.target,this.layout.layoutBox),Qxe(this.target,this.targetDelta)):ga(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=io(),this.relativeTargetOrigin=io(),ob(this.relativeTargetOrigin,this.target,m.target),ga(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oh.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||YR(this.parent.latestValues)||Xxe(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Po.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ga(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;Qqe(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:v}=a;if(!v){this.projectionTransform&&(this.projectionDelta=Lg(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Lg(),this.projectionDeltaWithTransform=Lg());const g=this.projectionTransform;rb(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=IU(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),Oh.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Lg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=io(),m=c?c.source:void 0,v=this.layout?this.layout.source:void 0,g=m!==v,b=this.getStack(),x=!b||b.members.length<=1,y=!!(g&&!x&&this.options.crossfade===!0&&!this.path.some(BYe));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const _=C/1e3;MU(f.x,s.x,_),MU(f.y,s.y,_),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ob(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),LYe(this.relativeTarget,this.relativeTargetOrigin,p,_),w&&yYe(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=io()),ga(w,this.relativeTarget)),g&&(this.animationValues=d,fYe(d,u,this.latestValues,_,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Lu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Kn.update(()=>{Z2.hasAnimatedSinceResize=!0,this.currentAnimation=EYe(0,PU,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:d}=s;if(!(!a||!c||!u)){if(this!==s&&this.layout&&u&&swe(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||io();const f=na(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const p=na(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+p}ga(a,c),Bg(a,d),rb(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new bYe),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let d=0;d<OU.length;d++){const f="rotate"+OU[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s={}){var a,c;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=K2(s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=K2(s.pointerEvents)||""),this.hasProjected&&!Ih(this.latestValues)&&(g.transform=d?d({},""):"none",this.hasProjected=!1),g}const p=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=IU(this.projectionDeltaWithTransform,this.treeScale,p),d&&(u.transform=d(p,u.transform));const{x:m,y:v}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=f===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const g in RE){if(p[g]===void 0)continue;const{correct:b,applyTo:x}=RE[g],y=u.transform==="none"?p[g]:b(p[g],f);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=y}else u[g]=y}return this.options.layoutId&&(u.pointerEvents=f===this?K2(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(RU),this.root.sharedNodes.clear()}}}function jYe(e){e.updateLayout()}function TYe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=e.layout,{animationType:i}=e.options,s=n.source!==e.layout.source;i==="size"?ec(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=na(p);p.min=r[f].min,p.max=p.min+m}):swe(i,n.layoutBox,r)&&ec(f=>{const p=s?n.measuredBox[f]:n.layoutBox[f],m=na(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const a=Lg();rb(a,r,n.layoutBox);const c=Lg();s?rb(c,e.applyTransform(o,!0),n.measuredBox):rb(c,r,n.layoutBox);const u=!rwe(a);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const v=io();ob(v,n.layoutBox,p.layoutBox);const g=io();ob(g,r,m.layoutBox),owe(v,g)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=g,e.relativeTargetOrigin=v,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function AYe(e){Oh.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DYe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function IYe(e){e.clearSnapshot()}function RU(e){e.clearMeasurements()}function OYe(e){e.isLayoutDirty=!1}function PYe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function $U(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function RYe(e){e.resolveTargetDelta()}function $Ye(e){e.calcProjection()}function MYe(e){e.resetRotation()}function FYe(e){e.removeLeadSnapshot()}function MU(e,t,n){e.translate=Pr(t.translate,0,n),e.scale=Pr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function FU(e,t,n,r){e.min=Pr(t.min,n.min,r),e.max=Pr(t.max,n.max,r)}function LYe(e,t,n,r){FU(e.x,t.x,n.x,r),FU(e.y,t.y,n.y,r)}function BYe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const NYe={duration:.45,ease:[.4,0,.1,1]},LU=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),BU=LU("applewebkit/")&&!LU("chrome/")?Math.round:zr;function NU(e){e.min=BU(e.min),e.max=BU(e.max)}function zYe(e){NU(e.x),NU(e.y)}function swe(e,t,n){return e==="position"||e==="preserve-aspect"&&!WR(DU(t),DU(n),.2)}const VYe=iwe({attachResizeListener:(e,t)=>vu(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xI={current:void 0},awe=iwe({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xI.current){const e=new VYe({});e.mount(window),e.setOptions({layoutScroll:!0}),xI.current=e}return xI.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),HYe={pan:{Feature:sYe},drag:{Feature:iYe,ProjectionNode:awe,MeasureLayout:ewe}},UYe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function WYe(e){const t=UYe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function KR(e,t,n=1){const[r,o]=WYe(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const s=i.trim();return Uxe(s)?parseFloat(s):s}else return LR(o)?KR(o,t,n+1):o}function qYe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(o=>{const i=o.get();if(!LR(i))return;const s=KR(i,r);s&&o.set(s)});for(const o in t){const i=t[o];if(!LR(i))continue;const s=KR(i,r);s&&(t[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:t,transitionEnd:n}}const YYe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),lwe=e=>YYe.has(e),GYe=e=>Object.keys(e).some(lwe),zU=e=>e===ym||e===st,VU=(e,t)=>parseFloat(e.split(", ")[t]),HU=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return VU(o[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?VU(i[1],e):0}},KYe=new Set(["x","y","z"]),ZYe=Cw.filter(e=>!KYe.has(e));function XYe(e){const t=[];return ZYe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const qv={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:HU(4,13),y:HU(5,14)};qv.translateX=qv.x;qv.translateY=qv.y;const QYe=(e,t,n)=>{const r=t.measureViewportBox(),o=t.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=qv[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=qv[u](c,i)}),e},JYe=(e,t,n={},r={})=>{t={...t},r={...r};const o=Object.keys(t).filter(lwe);let i=[],s=!1;const a=[];if(o.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=$1(d);const p=t[c];let m;if(ME(p)){const v=p.length,g=p[0]===null?1:0;d=p[g],f=$1(d);for(let b=g;b<v&&p[b]!==null;b++)m?vL($1(p[b])===m):m=$1(p[b])}else m=$1(p);if(f!==m)if(zU(f)&&zU(m)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof p=="string"?t[c]=parseFloat(p):Array.isArray(p)&&m===st&&(t[c]=p.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(p):(s||(i=XYe(e),s=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(p))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=QYe(t,e,a);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Bj&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function eGe(e,t,n,r){return GYe(t)?JYe(e,t,n,r):{target:t,transitionEnd:r}}const tGe=(e,t,n,r)=>{const o=qYe(e,t,r);return t=o.target,r=o.transitionEnd,eGe(e,t,n,r)},ZR={current:null},cwe={current:!1};function nGe(){if(cwe.current=!0,!!Bj)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ZR.current=e.matches;e.addListener(t),t()}else ZR.current=!1}function rGe(e,t,n){const{willChange:r}=t;for(const o in t){const i=t[o],s=n[o];if(Ts(i))e.addValue(o,i),NE(r)&&r.add(o);else if(Ts(s))e.addValue(o,Wv(i,{owner:e})),NE(r)&&r.remove(o);else if(s!==i)if(e.hasValue(o)){const a=e.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(o);e.addValue(o,Wv(a!==void 0?a:i,{owner:e}))}}for(const o in n)t[o]===void 0&&e.removeValue(o);return t}const UU=new WeakMap,uwe=Object.keys(nx),oGe=uwe.length,WU=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],iGe=aL.length;class sGe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Kn.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=zj(n),this.isVariantNode=Gbe(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];a[f]!==void 0&&Ts(p)&&(p.set(a[f],!1),NE(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,UU.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),cwe.current||nGe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ZR.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UU.delete(this.current),this.projection&&this.projection.unmount(),Lu(this.notifyUpdate),Lu(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=vm.has(t),o=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Kn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{o(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,o,i){let s,a;for(let c=0;c<oGe;c++){const u=uwe[c],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=nx[u];p&&(s=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(a=m))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&Mg(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):io()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<WU.length;r++){const o=WU[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=t["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=rGe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<iGe;r++){const o=aL[r],i=this.props[o];(tx(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Wv(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=gL(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ts(i)?i:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new EL),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class dwe extends sGe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:o},i){let s=Eqe(r,t||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){_qe(this,r,s);const a=tGe(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function aGe(e){return window.getComputedStyle(e)}class lGe extends dwe{readValueFromInstance(t,n){if(vm.has(n)){const r=wL(n);return r&&r.default||0}else{const r=aGe(t),o=(Qbe(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Jxe(t,n)}build(t,n,r,o){uL(t,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(t,n){return mL(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ts(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,o){oxe(t,n,r,o)}}class cGe extends dwe{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(vm.has(n)){const r=wL(n);return r&&r.default||0}return n=ixe.has(n)?n:pL(n),t.getAttribute(n)}measureInstanceViewportBox(){return io()}scrapeMotionValuesFromProps(t,n){return axe(t,n)}build(t,n,r,o){fL(t,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(t,n,r,o){sxe(t,n,r,o)}mount(t){this.isSVGTag=hL(t.tagName),super.mount(t)}}const uGe=(e,t)=>cL(e)?new cGe(t,{enableHardwareAcceleration:!1}):new lGe(t,{enableHardwareAcceleration:!0}),dGe={layout:{ProjectionNode:awe,MeasureLayout:ewe}},fGe={...Bqe,...iWe,...HYe,...dGe},id=pUe((e,t)=>qUe(e,t,fGe,uGe));function fwe(){const e=h.useRef(!1);return iL(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function hGe(){const e=fwe(),[t,n]=h.useState(0),r=h.useCallback(()=>{e.current&&n(t+1)},[t]);return[h.useCallback(()=>Kn.postRender(r),[r]),t]}class pGe extends h.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mGe({children:e,isPresent:t}){const n=h.useId(),r=h.useRef(null),o=h.useRef({width:0,height:0,top:0,left:0});return h.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:c}=o.current;if(t||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),h.createElement(pGe,{isPresent:t,childRef:r,sizeRef:o},h.cloneElement(e,{ref:r}))}const wI=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=lxe(gGe),c=h.useId(),u=h.useMemo(()=>({id:c,initial:t,isPresent:n,custom:o,onExitComplete:d=>{a.set(d,!0);for(const f of a.values())if(!f)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),i?void 0:[n]);return h.useMemo(()=>{a.forEach((d,f)=>a.set(f,!1))},[n]),h.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(e=h.createElement(mGe,{isPresent:n},e)),h.createElement(Lj.Provider,{value:u},e)};function gGe(){return new Map}function vGe(e){return h.useEffect(()=>()=>e(),[])}const Ph=e=>e.key||"";function yGe(e,t){e.forEach(n=>{const r=Ph(n);t.set(r,n)})}function bGe(e){const t=[];return h.Children.forEach(e,n=>{h.isValidElement(n)&&t.push(n)}),t}const kL=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=h.useContext(lL).forceRender||hGe()[0],c=fwe(),u=bGe(e);let d=u;const f=h.useRef(new Map).current,p=h.useRef(d),m=h.useRef(new Map).current,v=h.useRef(!0);if(iL(()=>{v.current=!1,yGe(u,m),p.current=d}),vGe(()=>{v.current=!0,m.clear(),f.clear()}),v.current)return h.createElement(h.Fragment,null,d.map(y=>h.createElement(wI,{key:Ph(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},y)));d=[...d];const g=p.current.map(Ph),b=u.map(Ph),x=g.length;for(let y=0;y<x;y++){const w=g[y];b.indexOf(w)===-1&&!f.has(w)&&f.set(w,void 0)}return s==="wait"&&f.size&&(d=[]),f.forEach((y,w)=>{if(b.indexOf(w)!==-1)return;const C=m.get(w);if(!C)return;const _=g.indexOf(w);let S=y;if(!S){const E=()=>{f.delete(w);const j=Array.from(m.keys()).filter(k=>!b.includes(k));if(j.forEach(k=>m.delete(k)),p.current=u.filter(k=>{const T=Ph(k);return T===w||j.includes(T)}),!f.size){if(c.current===!1)return;a(),r&&r()}};S=h.createElement(wI,{key:Ph(C),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:s},C),f.set(w,S)}d.splice(_,0,S)}),d=d.map(y=>{const w=y.key;return f.has(w)?y:h.createElement(wI,{key:Ph(y),isPresent:!0,presenceAffectsLayout:i,mode:s},y)}),h.createElement(h.Fragment,null,f.size?d:d.map(y=>h.cloneElement(y)))},kw=[],gf={},hwe={top:"bottom",right:"left",bottom:"top",left:"right"};function xGe(e,t){return e.reduce((n,r)=>(n[r]=t,n),{})}function ge(e){return e===0?0:"".concat(e/16,"rem")}function gt(e,t,n){return((t==null?void 0:t.map(n))||[]).map((o,i)=>i===0?o:{["@media screen and (min-width: ".concat(e[i-1],"px)")]:o})}function wGe(e,t){return e===void 0?t||kw:Array.isArray(e)?e:[e]}function ps(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kw;if(!Array.isArray(n))throw new Error("the property must be array of numbers");return n.length===0?null:gt(e.sanity.media,n,r=>xGe(t,ge(e.sanity.space[r])))}function Yv(e,t){const{$size:n,$weight:r,theme:o}=t,{fonts:i,media:s}=o.sanity,{family:a,sizes:c,weights:u}=i[e],d=r&&u[r]||u.regular,f=c[2],p={position:"relative",fontFamily:a,fontWeight:d,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!n)return Yv.warned||(console.warn("No size specified for responsive font",{fontKey:e,$size:n,props:t,base:p}),Yv.warned=!0),[p];const m=gt(s,n,v=>CGe(c[v]||f));return[p,...m]}function CGe(e){const{ascenderHeight:t,descenderHeight:n,fontSize:r,iconSize:o,letterSpacing:i,lineHeight:s}=e,a=t+n,c=s-a,u=(c-o)/2,d=Math.floor(r*1.125/2)*2+1,f=(c-d)/2;return{fontSize:ge(r),lineHeight:"calc(".concat(s," / ").concat(r,")"),letterSpacing:ge(i),transform:"translateY(".concat(ge(n),")"),"&:before":{marginTop:"calc(".concat(ge(0-a)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(d," / 16 * 1rem)"),margin:ge(f)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:ge(u)}}}function _Ge(e){return Yv("code",e)}function SGe(e){return Yv("heading",e)}function EGe(e){return Yv("label",e)}function jL(e){const{theme:t}=e;return gt(t.sanity.media,e.$align,n=>({textAlign:n}))}function kGe(e){return Yv("text",e)}function ye(e,t){const n=h.useMemo(()=>JSON.stringify(e??t),[t,e]);return h.useMemo(()=>wGe(e,t),[n])}function qU(e,t){const n=[e];for(const r of t)Array.isArray(r)?n.push(...r):n.push(r);return n.filter(Boolean)}function dr(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:kw,n=arguments.length>2?arguments[2]:void 0;const[r,o]=h.useState(null),[i,s]=h.useState(()=>qU(r,t)),a=h.useRef(i);return h.useEffect(()=>{const c=a.current,u=qU(r,t);if(c.length!==u.length){s(u),a.current=u;return}for(const d of c)if(!u.includes(d)){s(u),a.current=u;return}for(const d of u)if(!c.includes(d)){s(u),a.current=u;return}},[r,t]),h.useEffect(()=>{if(!e)return;const c=u=>{const d=u.target;if(d instanceof Node&&!(n&&!n.contains(d))){for(const f of i)if(d===f||f.contains(d))return;e(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[n,e,i]),o}var Cp=[],jGe=function(){return Cp.some(function(e){return e.activeTargets.length>0})},TGe=function(){return Cp.some(function(e){return e.skippedTargets.length>0})},YU="ResizeObserver loop completed with undelivered notifications.",AGe=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:YU}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=YU),window.dispatchEvent(e)},ox;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ox||(ox={}));var _p=function(e){return Object.freeze(e)},DGe=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,_p(this)}return e}(),pwe=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,_p(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),TL=function(e){return e instanceof SVGElement&&"getBBox"in e},mwe=function(e){if(TL(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},GU=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},IGe=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ib=typeof window<"u"?window:{},l_=new WeakMap,KU=/auto|scroll/,OGe=/^tb|vertical/,PGe=/msie|trident/i.test(ib.navigator&&ib.navigator.userAgent),Gl=function(e){return parseFloat(e||"0")},rv=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new DGe((n?t:e)||0,(n?e:t)||0)},ZU=_p({devicePixelContentBoxSize:rv(),borderBoxSize:rv(),contentBoxSize:rv(),contentRect:new pwe(0,0,0,0)}),gwe=function(e,t){if(t===void 0&&(t=!1),l_.has(e)&&!t)return l_.get(e);if(mwe(e))return l_.set(e,ZU),ZU;var n=getComputedStyle(e),r=TL(e)&&e.ownerSVGElement&&e.getBBox(),o=!PGe&&n.boxSizing==="border-box",i=OGe.test(n.writingMode||""),s=!r&&KU.test(n.overflowY||""),a=!r&&KU.test(n.overflowX||""),c=r?0:Gl(n.paddingTop),u=r?0:Gl(n.paddingRight),d=r?0:Gl(n.paddingBottom),f=r?0:Gl(n.paddingLeft),p=r?0:Gl(n.borderTopWidth),m=r?0:Gl(n.borderRightWidth),v=r?0:Gl(n.borderBottomWidth),g=r?0:Gl(n.borderLeftWidth),b=f+u,x=c+d,y=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,E=o?x+w:0,j=r?r.width:Gl(n.width)-S-_,k=r?r.height:Gl(n.height)-E-C,T=j+b+_+y,A=k+x+C+w,D=_p({devicePixelContentBoxSize:rv(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:rv(T,A,i),contentBoxSize:rv(j,k,i),contentRect:new pwe(f,c,j,k)});return l_.set(e,D),D},vwe=function(e,t,n){var r=gwe(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case ox.DEVICE_PIXEL_CONTENT_BOX:return s;case ox.BORDER_BOX:return o;default:return i}},RGe=function(){function e(t){var n=gwe(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=_p([n.borderBoxSize]),this.contentBoxSize=_p([n.contentBoxSize]),this.devicePixelContentBoxSize=_p([n.devicePixelContentBoxSize])}return e}(),ywe=function(e){if(mwe(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},$Ge=function(){var e=1/0,t=[];Cp.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new RGe(u.target),f=ywe(u.target);a.push(d),u.lastReportedSize=vwe(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},XU=function(e){Cp.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(ywe(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},MGe=function(){var e=0;for(XU(e);jGe();)e=$Ge(),XU(e);return TGe()&&AGe(),e>0},CI,bwe=[],FGe=function(){return bwe.splice(0).forEach(function(e){return e()})},LGe=function(e){if(!CI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return FGe()}).observe(n,r),CI=function(){n.textContent="".concat(t?t--:t++)}}bwe.push(e),CI()},BGe=function(e){LGe(function(){requestAnimationFrame(e)})},X2=0,NGe=function(){return!!X2},zGe=250,VGe={attributes:!0,characterData:!0,childList:!0,subtree:!0},QU=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],JU=function(e){return e===void 0&&(e=0),Date.now()+e},_I=!1,HGe=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=zGe),!_I){_I=!0;var r=JU(t);BGe(function(){var o=!1;try{o=MGe()}finally{if(_I=!1,t=r-JU(),!NGe())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,VGe)};document.body?n():ib.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),QU.forEach(function(n){return ib.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),QU.forEach(function(n){return ib.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),XR=new HGe,eW=function(e){!X2&&e>0&&XR.start(),X2+=e,!X2&&XR.stop()},UGe=function(e){return!TL(e)&&!IGe(e)&&getComputedStyle(e).display==="inline"},WGe=function(){function e(t,n){this.target=t,this.observedBox=n||ox.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=vwe(this.target,this.observedBox,!0);return UGe(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),qGe=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),c_=new WeakMap,tW=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},u_=function(){function e(){}return e.connect=function(t,n){var r=new qGe(t,n);c_.set(t,r)},e.observe=function(t,n,r){var o=c_.get(t),i=o.observationTargets.length===0;tW(o.observationTargets,n)<0&&(i&&Cp.push(o),o.observationTargets.push(new WGe(n,r&&r.box)),eW(1),XR.schedule())},e.unobserve=function(t,n){var r=c_.get(t),o=tW(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&Cp.splice(Cp.indexOf(r),1),r.observationTargets.splice(o,1),eW(-1))},e.disconnect=function(t){var n=this,r=c_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),YGe=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");u_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!GU(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");u_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!GU(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");u_.unobserve(this,t)},e.prototype.disconnect=function(){u_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();const xwe=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:YGe,GGe=ZGe();function KGe(){return{subscribe(e,t){const n=new xwe(r=>{let[o]=r;t({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return n.observe(e),()=>{n.unobserve(e),n.disconnect()}}}}function ZGe(){const e=new WeakMap,t=new WeakMap;return{subscribe(n,r){const o=t.get(n)||[];let i=e.get(n);return t.has(n)||(t.set(n,o),i=KGe().subscribe(n,a=>{for(const c of o)c(a)})),o.push(r),()=>{const s=o.indexOf(r);s>-1&&o.splice(s,1),o.length===0&&i&&i()}}}}function Wj(e){const[t,n]=h.useState(null);return h.useEffect(()=>{if(e)return GGe.subscribe(e,n)},[e]),t}function Qf(e){const t=Wj(e);return(t==null?void 0:t._contentRect)||null}function rs(e){return h.useEffect(()=>(addEventListener("keydown",e),()=>removeEventListener("keydown",e)),[e])}function SI(e,t){return e*t}function XGe(e,t){return{r:Math.round(EI(SI(e.r/255,t.r/255)*255)),g:Math.round(EI(SI(e.g/255,t.g/255)*255)),b:Math.round(EI(SI(e.b/255,t.b/255)*255))}}function EI(e){return Math.max(Math.min(e,255),0)}function kI(e,t){return e+t-e*t}function QGe(e,t){return{r:Math.round(jI(kI(e.r/255,t.r/255)*255)),g:Math.round(jI(kI(e.g/255,t.g/255)*255)),b:Math.round(jI(kI(e.b/255,t.b/255)*255))}}function jI(e){return Math.max(Math.min(e,255),0)}function JGe(e){if(e.length===4){const t=e.slice(1,2),n=e.slice(2,3),r=e.slice(3,4);return{r:parseInt(t+t,16),g:parseInt(n+n,16),b:parseInt(r+r,16)}}return{r:parseInt(e.slice(1,3),16),g:parseInt(e.slice(3,5),16),b:parseInt(e.slice(5,7),16)}}function wwe(e){let{r:t,g:n,b:r}=e;return"#"+((1<<24)+(t<<16)+(n<<8)+r).toString(16).slice(1)}function eKe(e){const t=e.s/100,n=e.l/100,r=(1-Math.abs(2*n-1))*t,o=r*(1-Math.abs(e.h/60%2-1)),i=n-r/2;let s=0,a=0,c=0;return 0<=e.h&&e.h<60?(s=r,a=o,c=0):60<=e.h&&e.h<120?(s=o,a=r,c=0):120<=e.h&&e.h<180?(s=0,a=r,c=o):180<=e.h&&e.h<240?(s=0,a=o,c=r):240<=e.h&&e.h<300?(s=o,a=0,c=r):300<=e.h&&e.h<360&&(s=r,a=0,c=o),{r:Math.round((s+i)*255),g:Math.round((a+i)*255),b:Math.round((c+i)*255)}}const tKe="0123456789ABCDEFabcdef",nKe=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function rKe(e){for(const t of e)if(tKe.indexOf(t)===-1)return!1;return!0}function oKe(e){return e[0]!=="#"||!(e.length===4||e.length===7)?!1:rKe(e.slice(1))}function iKe(e){const t=nKe.exec(e);if(!t)throw new Error('parseHsl: string is not a HSL color: "'.concat(e,'"'));return{h:parseInt(t[1]),s:parseFloat(t[3]),l:parseFloat(t[5])}}function ix(e){if(!e)return{r:0,g:0,b:0};if(typeof e!="string")throw new Error("parseColor: expected a string");if(oKe(e))return JGe(e);if(e.startsWith("hsl("))return eKe(iKe(e));throw new Error('parseColor: unexpected color format: "'.concat(e,'"'))}function Dt(e,t){const n=ix(e);return"rgba(".concat(n.r,",").concat(n.g,",").concat(n.b,",").concat(t,")")}function TI(e,t,n,r,o,i){return{default:e.button({base:t,dark:n,solid:r.default,muted:o.default,mode:i}),primary:e.button({base:t,dark:n,solid:r.primary,muted:o.primary,mode:i}),positive:e.button({base:t,dark:n,solid:r.positive,muted:o.positive,mode:i}),caution:e.button({base:t,dark:n,solid:r.caution,muted:o.caution,mode:i}),critical:e.button({base:t,dark:n,solid:r.critical,muted:o.critical,mode:i})}}function sKe(e,t,n,r,o){return{default:TI(e,t,n,r,o,"default"),ghost:TI(e,t,n,r,o,"ghost"),bleed:TI(e,t,n,r,o,"bleed")}}function aKe(e,t,n,r,o,i){return{enabled:e.card({base:t,dark:n,name:r,state:"enabled",solid:o,muted:i}),disabled:e.card({base:t,dark:n,name:r,state:"disabled",solid:o,muted:i}),hovered:e.card({base:t,dark:n,name:r,state:"hovered",solid:o,muted:i}),pressed:e.card({base:t,dark:n,name:r,state:"pressed",solid:o,muted:i}),selected:e.card({base:t,dark:n,name:r,state:"selected",solid:o,muted:i})}}const je="hsl(0, 0%, 0%)",Ym="hsl(0, 0%, 100%)",vt={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},lKe={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},d_={transparent:{bg:[vt.transparent.darkest,vt.transparent.lightest],fg:[vt.transparent.lightest,vt.transparent.darkest],border:[vt.transparent.darker,vt.transparent.lighter],focusRing:[vt.transparent.base,vt.transparent.base]},primary:{bg:[vt.primary.darkest,vt.primary.lightest],fg:[vt.primary.lightest,vt.primary.darkest],border:[vt.primary.darker,vt.primary.lighter],focusRing:[vt.primary.base,vt.primary.base]},positive:{bg:[vt.positive.darkest,vt.positive.lightest],fg:[vt.positive.lightest,vt.positive.darkest],border:[vt.positive.darker,vt.positive.lighter],focusRing:[vt.positive.base,vt.positive.base]},caution:{bg:[vt.caution.darkest,vt.caution.lightest],fg:[vt.caution.lightest,vt.caution.darkest],border:[vt.caution.darker,vt.caution.lighter],focusRing:[vt.caution.base,vt.caution.base]},critical:{bg:[vt.critical.darkest,vt.critical.lightest],fg:[vt.critical.lightest,vt.critical.darkest],border:[vt.critical.darker,vt.critical.lighter],focusRing:[vt.critical.base,vt.critical.base]}},cKe={base:e=>{let{dark:t,name:n}=e;return n==="default"?{bg:t?je:Ym,fg:t?Ym:je,border:t?vt.default.darkest:vt.default.lightest,focusRing:vt.primary.base,shadow:{outline:je,umbra:je,penumbra:je,ambient:je},skeleton:{from:t?Ym:je,to:t?Ym:je}}:{bg:d_[n].bg[t?0:1],fg:d_[n].fg[t?0:1],border:d_[n].border[t?0:1],focusRing:d_[n].focusRing[t?0:1],shadow:{outline:je,umbra:je,penumbra:je,ambient:je},skeleton:{from:t?Ym:je,to:t?Ym:je}}},solid:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=vt[o];return r==="hovered"?{bg:n?i.light:i.dark,bg2:n?i.light:i.dark,border:n?i.lighter:i.darker,fg:n?i.darkest:i.lightest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}:{bg:i.base,bg2:i.base,border:n?i.light:i.dark,fg:n?i.darkest:i.lightest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},muted:e=>{let{base:t,dark:n,state:r,tone:o}=e;const i=vt[o];return r==="hovered"?{bg:n?i.darker:i.lighter,bg2:n?i.darker:i.lighter,border:n?i.lighter:i.darker,fg:n?i.lightest:i.darkest,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}:{bg:n?i.darkest:i.lightest,bg2:n?i.darkest:i.lightest,border:n?i.darker:i.lighter,fg:n?i.lighter:i.darker,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{...r,enabled:{bg:"transparent",bg2:"transparent",fg:r.enabled.fg,border:"transparent",muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton},hovered:{bg:r.enabled.bg,bg2:r.enabled.bg,fg:r.hovered.fg,border:"transparent",muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}}:n==="ghost"?{...o,enabled:r.enabled}:o},card:e=>{let{base:t}=e;return{bg:je,bg2:je,fg:je,border:je,muted:{fg:je},accent:{fg:je},link:{fg:je},code:{bg:je,fg:je},skeleton:t.skeleton}},input:()=>({bg:je,fg:je,border:je,placeholder:je}),selectable:e=>{let{muted:t,state:n,tone:r}=e;return t[r][n]},spot:e=>{let{key:t}=e;return lKe[t]},syntax:()=>({atrule:je,attrName:je,attrValue:je,attribute:je,boolean:je,builtin:je,cdata:je,char:je,class:je,className:je,comment:je,constant:je,deleted:je,doctype:je,entity:je,function:je,hexcode:je,id:je,important:je,inserted:je,keyword:je,number:je,operator:je,prolog:je,property:je,pseudoClass:je,pseudoElement:je,punctuation:je,regex:je,selector:je,string:je,symbol:je,tag:je,unit:je,url:je,variable:je})};function uKe(e,t,n,r,o){return{default:{enabled:e.input({base:t,dark:n,mode:"default",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"default",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"default",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"default",state:"readOnly",solid:r.default,muted:o.default})},invalid:{enabled:e.input({base:t,dark:n,mode:"invalid",state:"enabled",solid:r.default,muted:o.default}),disabled:e.input({base:t,dark:n,mode:"invalid",state:"disabled",solid:r.default,muted:o.default}),hovered:e.input({base:t,dark:n,mode:"invalid",state:"hovered",solid:r.default,muted:o.default}),readOnly:e.input({base:t,dark:n,mode:"invalid",state:"readOnly",solid:r.default,muted:o.default})}}}function dKe(e,t,n,r){return{default:{enabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.muted({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.muted({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.muted({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.muted({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function fKe(e,t,n,r,o){return{default:F1(e,t,n,r,o,"default"),primary:F1(e,t,n,r,o,"primary"),positive:F1(e,t,n,r,o,"positive"),caution:F1(e,t,n,r,o,"caution"),critical:F1(e,t,n,r,o,"critical")}}function F1(e,t,n,r,o,i){return{enabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"enabled",tone:i}),hovered:e.selectable({base:t,dark:n,solid:r,muted:o,state:"hovered",tone:i}),pressed:e.selectable({base:t,dark:n,solid:r,muted:o,state:"pressed",tone:i}),selected:e.selectable({base:t,dark:n,solid:r,muted:o,state:"selected",tone:i}),disabled:e.selectable({base:t,dark:n,solid:r,muted:o,state:"disabled",tone:i})}}function hKe(e,t,n,r){return{default:{enabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"default",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"default",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"default",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"default",name:r,state:"selected"})},transparent:{enabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"transparent",name:r,state:"selected"})},primary:{enabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"primary",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"primary",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"primary",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"primary",name:r,state:"selected"})},positive:{enabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"positive",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"positive",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"positive",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"positive",name:r,state:"selected"})},caution:{enabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"caution",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"caution",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"caution",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"caution",name:r,state:"selected"})},critical:{enabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"enabled"}),disabled:e.solid({base:t,dark:n,tone:"critical",name:r,state:"disabled"}),hovered:e.solid({base:t,dark:n,tone:"critical",name:r,state:"hovered"}),pressed:e.solid({base:t,dark:n,tone:"critical",name:r,state:"pressed"}),selected:e.solid({base:t,dark:n,tone:"critical",name:r,state:"selected"})}}}function pKe(e,t,n){return{gray:e.spot({base:t,dark:n,key:"gray"}),blue:e.spot({base:t,dark:n,key:"blue"}),purple:e.spot({base:t,dark:n,key:"purple"}),magenta:e.spot({base:t,dark:n,key:"magenta"}),red:e.spot({base:t,dark:n,key:"red"}),orange:e.spot({base:t,dark:n,key:"orange"}),yellow:e.spot({base:t,dark:n,key:"yellow"}),green:e.spot({base:t,dark:n,key:"green"}),cyan:e.spot({base:t,dark:n,key:"cyan"})}}function mKe(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={...cKe,...e};return{light:nW(t,!1),dark:nW(t,!0)}}function nW(e,t){return{default:Gm(e,t,"default"),transparent:Gm(e,t,"transparent"),primary:Gm(e,t,"primary"),positive:Gm(e,t,"positive"),caution:Gm(e,t,"caution"),critical:Gm(e,t,"critical")}}function Gm(e,t,n){const r=e.base({dark:t,name:n}),o=hKe(e,r,t,n),i=dKe(e,r,t,n);return{base:r,button:sKe(e,r,t,o,i),card:aKe(e,r,t,n,o,i),dark:t,input:uKe(e,r,t,o,i),selectable:fKe(e,r,t,o,i),spot:pKe(e,r,t),syntax:e.syntax({base:r,dark:t}),solid:o,muted:i}}function bh(e,t){const n=ix(e),r=ix(t);return wwe(XGe(n,r))}function xh(e,t){const n=ix(e),r=ix(t);return wwe(QGe(n,r))}const Vi={default:fe.gray,transparent:fe.gray,primary:fe.blue,positive:fe.green,caution:fe.yellow,critical:fe.red},L1=["default","transparent"],gKe=mKe({base:e=>{let{dark:t,name:n}=e;if(n==="default"){const i=fe.gray,s=t?i[900].hex:i[100].hex;return{fg:t?Sa.hex:rc.hex,bg:t?rc.hex:Sa.hex,border:i[t?800:200].hex,focusRing:fe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[950].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[950].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[950].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}if(n==="transparent"){const i=Vi.default,s=i[t?800:200].hex;return{fg:i[t?100:900].hex,bg:i[t?950:50].hex,border:i[t?800:300].hex,focusRing:fe.blue[500].hex,shadow:{outline:Dt(i[500].hex,.4),umbra:t?Dt(i[900].hex,.4):Dt(i[500].hex,.2),penumbra:t?Dt(i[900].hex,.28):Dt(i[500].hex,.14),ambient:t?Dt(i[900].hex,.24):Dt(i[500].hex,.12)},skeleton:{from:s,to:Dt(s,.5)}}}const r=Vi[n]||Vi.default,o=r[t?800:200].hex;return{fg:r[t?100:900].hex,bg:r[t?950:50].hex,border:r[t?800:200].hex,focusRing:r[500].hex,shadow:{outline:Dt(r[500].hex,.4),umbra:t?Dt(r[900].hex,.4):Dt(r[500].hex,.2),penumbra:t?Dt(r[900].hex,.28):Dt(r[500].hex,.14),ambient:t?Dt(r[900].hex,.24):Dt(r[500].hex,.12)},skeleton:{from:o,to:Dt(o,.5)}}},solid:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?xh:bh,a=n?bh:xh,c=Vi[r]||Vi.default,u=L1.includes(r)&&L1.includes(i);let d=Vi[i==="default"?r:i]||c;if(o==="disabled"){d=c;const m=s(t.bg,d[n?800:200].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?800:200].hex),fg:s(t.bg,n?rc.hex:Sa.hex),muted:{fg:s(t.bg,d[n?950:50].hex)},accent:{fg:s(t.bg,d[n?950:50].hex)},link:{fg:s(t.bg,d[n?950:50].hex)},code:{bg:m,fg:s(t.bg,d[n?950:50].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="hovered"){const m=s(t.bg,d[n?300:600].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?300:600].hex),fg:s(t.bg,n?rc.hex:Sa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="pressed"){const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:s(t.bg,d[n?200:800].hex),bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?rc.hex:Sa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}if(o==="selected"){u&&(d=Vi.primary);const m=s(t.bg,d[n?200:800].hex),v=a(m,d[n?200:800].hex);return{bg:m,bg2:a(m,d[n?50:950].hex),border:s(t.bg,d[n?200:800].hex),fg:s(t.bg,n?rc.hex:Sa.hex),muted:{fg:s(t.bg,d[n?800:200].hex)},accent:{fg:a(m,fe.red[n?800:200].hex)},link:{fg:a(m,fe.blue[n?800:200].hex)},code:{bg:s(m,d[n?950:50].hex),fg:s(t.bg,d[n?800:200].hex)},skeleton:{from:v,to:Dt(v,.5)}}}const f=s(t.bg,d[n?400:500].hex),p=a(f,d[n?200:800].hex);return{bg:f,bg2:a(f,d[n?50:950].hex),border:s(t.bg,d[n?400:500].hex),fg:s(t.bg,n?rc.hex:Sa.hex),muted:{fg:s(t.bg,d[n?900:100].hex)},accent:{fg:a(f,fe.red[n?900:100].hex)},link:{fg:a(f,fe.blue[n?900:100].hex)},code:{bg:s(f,d[n?950:50].hex),fg:s(t.bg,d[n?900:100].hex)},skeleton:{from:p,to:Dt(p,.5)}}},muted:e=>{let{base:t,dark:n,name:r,state:o,tone:i}=e;const s=n?xh:bh,a=Vi[r]||Vi.default,c=L1.includes(r)&&L1.includes(i);let u=Vi[i==="default"?r:i]||a;if(o==="disabled"){u=a;const p=t.bg,m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?950:50].hex),fg:s(p,u[n?800:200].hex),muted:{fg:s(p,u[n?900:100].hex)},accent:{fg:s(p,u[n?900:100].hex)},link:{fg:s(p,u[n?900:100].hex)},code:{bg:p,fg:s(p,u[n?900:100].hex)},skeleton:{from:Dt(m,.5),to:Dt(m,.25)}}}if(o==="hovered"){const p=s(t.bg,u[n?950:50].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="pressed"){c&&(u=Vi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}if(o==="selected"){c&&(u=Vi.primary);const p=s(t.bg,u[n?900:100].hex),m=s(p,u[n?900:100].hex);return{bg:p,bg2:s(p,u[n?950:50].hex),border:s(p,u[n?900:100].hex),fg:s(t.bg,u[n?200:800].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(p,fe.red[n?400:500].hex)},link:{fg:s(p,fe.blue[n?400:600].hex)},code:{bg:s(p,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:m,to:Dt(m,.5)}}}const d=t.bg,f=s(d,u[n?900:100].hex);return{bg:d,bg2:s(d,u[n?950:50].hex),border:s(d,u[n?900:100].hex),fg:s(t.bg,u[n?300:700].hex),muted:{fg:s(t.bg,u[n?400:600].hex)},accent:{fg:s(t.bg,fe.red[n?400:500].hex)},link:{fg:s(t.bg,fe.blue[n?400:600].hex)},code:{bg:s(t.bg,u[n?950:50].hex),fg:s(t.bg,u[n?400:600].hex)},skeleton:{from:f,to:Dt(f,.5)}}},button:e=>{let{base:t,mode:n,muted:r,solid:o}=e;return n==="bleed"?{enabled:{...r.enabled,border:r.enabled.bg},hovered:{...r.hovered,border:r.hovered.bg},pressed:{...r.pressed,border:r.pressed.bg},selected:{...r.selected,border:r.selected.bg},disabled:{...r.disabled,border:r.disabled.bg}}:n==="ghost"?{...o,enabled:{...r.enabled,border:t.border},disabled:r.disabled}:o},card:e=>{let{base:t,dark:n,muted:r,name:o,solid:i,state:s}=e;if(s==="hovered")return r[o].hovered;if(s==="disabled")return r[o].disabled;const a=L1.includes(o),c=Vi[o]||Vi.default,u=n?xh:bh;if(s==="pressed")return a?r.primary.pressed:r[o].pressed;if(s==="selected")return a?i.primary.enabled:i[o].enabled;const d=t.bg,f=u(t.bg,c[n?900:100].hex);return{bg:d,bg2:u(d,c[n?950:50].hex),fg:t.fg,border:t.border,muted:{fg:u(t.bg,c[n?400:600].hex)},accent:{fg:u(t.bg,fe.red[n?400:500].hex)},link:{fg:u(t.bg,fe.blue[n?400:600].hex)},code:{bg:u(t.bg,c[n?950:50].hex),fg:c[n?400:600].hex},skeleton:{from:f,to:Dt(f,.5)}}},input:e=>{let{base:t,dark:n,mode:r,state:o}=e;const i=n?xh:bh;if(r==="invalid"){const s=Vi.critical;return{bg:i(t.bg,s[n?950:50].hex),fg:i(t.bg,s[n?400:600].hex),border:i(t.bg,s[n?800:200].hex),placeholder:i(t.bg,s[n?600:400].hex)}}return o==="hovered"?{bg:t.bg,fg:t.fg,border:i(t.bg,fe.gray[n?700:300].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:o==="disabled"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?700:300].hex),border:i(t.bg,fe.gray[n?900:100].hex),placeholder:i(t.bg,fe.gray[n?800:200].hex)}:o==="readOnly"?{bg:i(t.bg,fe.gray[n?950:50].hex),fg:i(t.bg,fe.gray[n?200:800].hex),border:i(t.bg,fe.gray[n?800:200].hex),placeholder:i(t.bg,fe.gray[n?600:400].hex)}:{bg:t.bg,fg:t.fg,border:t.border,placeholder:i(t.bg,fe.gray[n?600:400].hex)}},selectable:e=>{let{base:t,muted:n,tone:r,solid:o,state:i}=e;return i==="enabled"?{...n[r].enabled,bg:t.bg}:i==="pressed"?r==="default"?n.primary.pressed:n[r].pressed:i==="selected"?r==="default"?o.primary.enabled:o[r].enabled:i==="disabled"?{...n[r].disabled,bg:t.bg}:n[r][i]},spot:e=>{let{base:t,dark:n,key:r}=e;return(n?xh:bh)(t.bg,fe[r][n?400:500].hex)},syntax:e=>{let{base:t,dark:n}=e;const r=n?xh:bh,o=n?400:600,i=n?600:400;return{atrule:r(t.bg,fe.purple[o].hex),attrName:r(t.bg,fe.green[o].hex),attrValue:r(t.bg,fe.yellow[o].hex),attribute:r(t.bg,fe.yellow[o].hex),boolean:r(t.bg,fe.purple[o].hex),builtin:r(t.bg,fe.purple[o].hex),cdata:r(t.bg,fe.yellow[o].hex),char:r(t.bg,fe.yellow[o].hex),class:r(t.bg,fe.orange[o].hex),className:r(t.bg,fe.cyan[o].hex),comment:r(t.bg,fe.gray[i].hex),constant:r(t.bg,fe.purple[o].hex),deleted:r(t.bg,fe.red[o].hex),doctype:r(t.bg,fe.gray[i].hex),entity:r(t.bg,fe.red[o].hex),function:r(t.bg,fe.green[o].hex),hexcode:r(t.bg,fe.blue[o].hex),id:r(t.bg,fe.purple[o].hex),important:r(t.bg,fe.purple[o].hex),inserted:r(t.bg,fe.yellow[o].hex),keyword:r(t.bg,fe.magenta[o].hex),number:r(t.bg,fe.purple[o].hex),operator:r(t.bg,fe.magenta[o].hex),prolog:r(t.bg,fe.gray[i].hex),property:r(t.bg,fe.blue[o].hex),pseudoClass:r(t.bg,fe.yellow[o].hex),pseudoElement:r(t.bg,fe.yellow[o].hex),punctuation:r(t.bg,fe.gray[o].hex),regex:r(t.bg,fe.blue[o].hex),selector:r(t.bg,fe.red[o].hex),string:r(t.bg,fe.yellow[o].hex),symbol:r(t.bg,fe.purple[o].hex),tag:r(t.bg,fe.red[o].hex),unit:r(t.bg,fe.orange[o].hex),url:r(t.bg,fe.red[o].hex),variable:r(t.bg,fe.red[o].hex)}}}),vKe={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]},heading:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:12,iconSize:17,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:21,iconSize:33,lineHeight:27,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:27,iconSize:41,lineHeight:33,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:33,iconSize:49,lineHeight:39,letterSpacing:0},{ascenderHeight:9,descenderHeight:9,fontSize:38,iconSize:53,lineHeight:45,letterSpacing:0}]},label:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:9.8,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:11.25,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.75,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:14,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15.5,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:3,descenderHeight:3,fontSize:10,iconSize:17,lineHeight:13,letterSpacing:0},{ascenderHeight:4,descenderHeight:4,fontSize:13,iconSize:21,lineHeight:17,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:16,iconSize:25,lineHeight:21,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:19,iconSize:29,lineHeight:25,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:22,iconSize:33,lineHeight:29,letterSpacing:0}]}},$f={avatar:{sizes:[{distance:-3,size:25},{distance:-6,size:35},{distance:-9,size:55}]},button:{textWeight:"medium"},color:gKe,container:[320,640,960,1280,1600,1920],focusRing:{offset:1,width:2},fonts:vKe,media:[360,600,900,1200,1800,2400],radius:[0,1,3,6,9,12,21],shadows:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-1],penumbra:[0,6,10,0],ambient:[0,1,18,0]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{checkbox:{size:17},radio:{size:17,markSize:9},switch:{width:33,height:17,padding:4,transitionDurationMs:150,transitionTimingFunction:"ease-out"},border:{width:1}}},yKe={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function bKe(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const en=bKe(),QR=Symbol.for("@sanity/ui/context/theme");en[QR]=en[QR]||h.createContext(null);const JR=en[QR];function VE(e){const t=h.useContext(JR),{children:n,scheme:r=(t==null?void 0:t.scheme)||"light",theme:o=(t==null?void 0:t.theme)||null,tone:i=(t==null?void 0:t.tone)||"default"}=e,s=h.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...d}=o,f=c[r]||c.light,p=f[i]||f.default;return{sanity:{...d,color:p,layer:u||yKe}}},[r,o,i]),a=h.useMemo(()=>o&&{version:0,theme:o,scheme:r,tone:i},[o,r,i]);return s?l.jsx(JR.Provider,{value:a,children:l.jsx(x6e,{theme:s,children:n})}):l.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function E0(e){return!!(e&&typeof e=="object")}function k0(){const e=h.useContext(JR);if(!e)throw new Error("useRootTheme(): missing context value");if(!E0(e)||e.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return e}function Cwe(e){const{children:t,scheme:n,tone:r}=e,o=k0();return l.jsx(VE,{scheme:n||o.scheme,theme:o.theme,tone:r,children:t})}function As(){return v0e()}const rW=new WeakMap;function xKe(e,t){return t===0?"screen and (max-width: ".concat(e[t]-1,"px)"):t===e.length?"screen and (min-width: ".concat(e[t-1],"px)"):"screen and (min-width: ".concat(e[t-1],"px) and (max-width: ").concat(e[t]-1,"px)")}function wKe(e){const t=e.length;let n;const r=()=>{if(!n){n=[];for(let s=t;s>-1;s-=1){const a=xKe(e,s);n.push({index:s,mq:window.matchMedia(a)})}}return n};return{getSnapshot:()=>{for(const{index:s,mq:a}of r())if(a.matches)return s;return 0},subscribe:s=>{const a=[];for(const{mq:c}of r()){const u=()=>{c.matches&&s()};c.addEventListener("change",u),a.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of a)c()}}}}function CKe(){return 0}function bm(){const e=As(),{media:t}=e.sanity;let n=rW.get(t);return n||(n=wKe(t),rW.set(t,n)),h.useSyncExternalStore(n.subscribe,n.getSnapshot,CKe)}let AI;function _we(){return AI||(AI=window.matchMedia("(prefers-color-scheme: dark)")),AI}function _Ke(e){const t=_we();return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}function SKe(){return _we().matches}function EKe(){return!1}function kKe(){return h.useSyncExternalStore(_Ke,SKe,EKe)}const jKe=typeof window<"u"?h.useLayoutEffect:h.useEffect;function fr(e){const t=h.useRef(null);return jKe(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}function jw(e,t){h.useEffect(()=>{e.current&&e.current.setCustomValidity(t||"")},[t,e])}const Tw="1px solid var(--card-border-color)";function TKe(){return[AKe,DKe,IKe,OKe,PKe]}function AKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$border,r=>r?{"&&":{border:Tw}}:{"&&":{border:0}})}function DKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderTop,r=>r?{"&&":{borderTop:Tw}}:{"&&":{borderTop:0}})}function IKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderRight,r=>r?{"&&":{borderRight:Tw}}:{"&&":{borderRight:0}})}function OKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderBottom,r=>r?{"&&":{borderBottom:Tw}}:{"&&":{borderBottom:0}})}function PKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$borderLeft,r=>r?{"&&":{borderLeft:Tw}}:{"&&":{borderLeft:0}})}const RKe={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},$Ke={content:"content-box",border:"border-box"},MKe={stretch:"stretch",fill:"100%"};function FKe(){return RKe}function LKe(){return[NKe,zKe,VKe,BKe]}function BKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$display,r=>({"&:not([hidden])":{display:r}}))}function NKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$sizing,r=>({boxSizing:$Ke[r]}))}function zKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$height,r=>({height:MKe[r]}))}function VKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$overflow,r=>({overflow:r}))}const HKe={"&&:not([hidden])":{display:"flex"}};function UKe(){return[HKe,WKe,qKe,YKe,GKe,KKe]}function WKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$align,r=>({alignItems:r}))}function qKe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gap,o=>({gap:o?ge(r[o]):void 0}))}function YKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$wrap,r=>({flexWrap:r}))}function GKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$justify,r=>({justifyContent:r}))}function KKe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$direction,r=>({flexDirection:r}))}const ZKe={minWidth:0,minHeight:0};function Swe(){return[ZKe,XKe]}function XKe(e){const{theme:t}=e,{media:n}=t.sanity;return e.$flex?gt(n,e.$flex,r=>({flex:r})):kw}function To(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function jc(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&To(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const QKe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},JKe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},eZe={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function tZe(){return[QKe,nZe,rZe,oZe,iZe,sZe,aZe,lZe,cZe]}function nZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoFlow,r=>({gridAutoFlow:r}))}function rZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoRows,r=>({gridAutoRows:r&&eZe[r]}))}function oZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$autoCols,r=>({gridAutoColumns:r&&JKe[r]}))}function iZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columns,r=>({gridTemplateColumns:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function sZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rows,r=>({gridTemplateRows:r&&"repeat(".concat(r,",minmax(0,1fr));")}))}function aZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gap,o=>({gridGap:o?ge(r[o]):void 0}))}function lZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gapX,o=>({columnGap:o?ge(r[o]):void 0}))}function cZe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$gapY,o=>({rowGap:o?ge(r[o]):void 0}))}function uZe(){return[hZe,pZe,mZe,gZe,vZe,yZe]}const dZe={auto:"auto",full:"1 / -1"},fZe={auto:"auto",full:"1 / -1"};function hZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$row,r=>typeof r=="number"?{gridRow:"span ".concat(r," / span ").concat(r)}:{gridRow:dZe[r]})}function pZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rowStart,r=>({gridRowStart:r}))}function mZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$rowEnd,r=>({gridRowEnd:r}))}function gZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$column,r=>typeof r=="number"?{gridColumn:"span ".concat(r," / span ").concat(r)}:{gridColumn:fZe[r]})}function vZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columnStart,r=>({gridColumnStart:r}))}function yZe(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$columnEnd,r=>({gridColumnEnd:r}))}function AL(e){const{$fontSize:t,$iconLeft:n,$iconRight:r,$padding:o,$space:i,theme:s}=e,{fonts:a,media:c,space:u}=s.sanity,d=Math.max(o.length,i.length,t.length),f=[],p=[],m=[];for(let v=0;v<d;v+=1)m[v]=t[v]===void 0?m[v-1]:t[v],f[v]=o[v]===void 0?f[v-1]:o[v],p[v]=i[v]===void 0?p[v-1]:i[v];return gt(c,f,(v,g)=>{const b=a.text.sizes[m[g]]||a.text.sizes[2],x=b.lineHeight-b.ascenderHeight-b.descenderHeight,y=u[f[g]],w=u[p[g]],C={paddingTop:ge(y-b.ascenderHeight),paddingRight:ge(y),paddingBottom:ge(y-b.descenderHeight),paddingLeft:ge(y)};return r&&(C.paddingRight=ge(y+x+w)),n&&(C.paddingLeft=ge(y+x+w)),C})}function bZe(e){return AL({...e,$iconRight:!0})}var oW=Object.freeze,xZe=Object.defineProperty,DL=(e,t)=>oW(xZe(e,"raw",{value:oW(t||e.slice())})),iW,sW,aW;const wZe=de(iW||(iW=DL([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function Ewe(){return wZe}function kwe(e){const{theme:t,$scheme:n,$tone:r,$weight:o}=e,i=t.sanity.fonts.text,s=t.sanity.color.input;return de(sW||(sW=DL([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),i.family,o&&i.weights[o]||i.weights.regular,n,r,s.default.enabled.fg,s.default.enabled.placeholder,s.default.enabled.fg,s.default.enabled.placeholder,s.default.disabled.fg,s.default.disabled.placeholder,s.invalid.enabled.fg,s.invalid.enabled.placeholder,s.default.readOnly.fg,s.default.readOnly.placeholder)}function jwe(e){const{theme:t}=e,{fonts:n,media:r}=t.sanity;return gt(r,e.$fontSize,o=>{const i=n.text.sizes[o]||n.text.sizes[2];return{fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize}})}function Twe(e){const{$hasPrefix:t,$hasSuffix:n,$scheme:r,$tone:o,theme:i}=e,{focusRing:s,input:a}=i.sanity,c=i.sanity.color.input;return de(aW||(aW=DL([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),t?0:void 0,t?0:void 0,n?0:void 0,n?0:void 0,r,o,c.default.enabled.bg,c.default.enabled.fg,To({color:c.default.enabled.border,width:a.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,To({color:c.invalid.enabled.border,width:a.border.width}),jc({border:{color:c.default.enabled.border,width:a.border.width},focusRing:s}),jc({focusRing:s}),c.default.disabled.bg,c.default.disabled.fg,To({color:c.default.disabled.border,width:a.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,To({color:c.default.hovered.border,width:a.border.width}))}function CZe(e){const{theme:t}=e;return[ps(t,["margin"],e.$margin),ps(t,["marginLeft","marginRight"],e.$marginX),ps(t,["marginTop","marginBottom"],e.$marginY),ps(t,["marginTop"],e.$marginTop),ps(t,["marginRight"],e.$marginRight),ps(t,["marginBottom"],e.$marginBottom),ps(t,["marginLeft"],e.$marginLeft)].filter(Boolean)}function Awe(e){const{theme:t}=e;return[ps(t,["padding"],e.$padding),ps(t,["paddingLeft","paddingRight"],e.$paddingX),ps(t,["paddingTop","paddingBottom"],e.$paddingY),ps(t,["paddingTop"],e.$paddingTop),ps(t,["paddingRight"],e.$paddingRight),ps(t,["paddingBottom"],e.$paddingBottom),ps(t,["paddingLeft"],e.$paddingLeft)].filter(Boolean)}function sd(e){const{theme:t}=e,{media:n,radius:r}=t.sanity;return gt(n,e.$radius,o=>({borderRadius:ge(r[o])}))}function DI(e,t){return"".concat(e.map(ge).join(" ")," ").concat(t)}function _Ze(e){if(!e)return gf;const t="0 0 0 ".concat(ge(1)," var(--card-shadow-outline-color)"),n=DI(e.umbra,"var(--card-shadow-umbra-color)"),r=DI(e.penumbra,"var(--card-shadow-penumbra-color)"),o=DI(e.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(t,", ").concat(n,", ").concat(r,", ").concat(o)}}function SZe(e){const{theme:t}=e,{media:n,shadows:r}=t.sanity;return gt(n,e.$shadow,o=>_Ze(r[o]))}var lW=Object.freeze,EZe=Object.defineProperty,II=(e,t)=>lW(EZe(e,"raw",{value:lW(t||e.slice())})),cW,uW,dW;function kZe(e){const{$accent:t,$muted:n,theme:r}=e,{weights:o}=r.sanity.fonts.text;return de(dW||(dW=II([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(cW||(cW=II([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(uW||(uW=II([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family,o.bold)}var fW=Object.freeze,jZe=Object.defineProperty,TZe=(e,t)=>fW(jZe(e,"raw",{value:fW(t||e.slice())})),hW;const AZe=P.div(kGe,jL,kZe),DZe=P.span(hW||(hW=TZe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),L=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(DZe,{children:f})),l.jsx(AZe,{"data-ui":"Text",...d,$accent:r,$align:ye(o),$muted:s,ref:n,$size:ye(a),$weight:u,children:l.jsx("span",{children:f})})}),Aw={root:OZe,arrow:IZe,bgStroke:$Ze,stroke:MZe,initials:RZe};function IZe(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function OZe(e){const{$color:t,theme:n}=e,{focusRing:r}=n.sanity;return{backgroundColor:t,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:jc({focusRing:r})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function PZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o]||n.sizes[0];return{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2),"&>svg":{width:ge(i.size),height:ge(i.size),borderRadius:ge(i.size/2)}}})}function RZe(e){const{theme:t}=e,{base:n}=t.sanity.color;return{width:"100%",height:"100%",color:n.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function $Ze(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function MZe(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const FZe=P.div(PZe,Aw.root),LZe=P.div(Aw.arrow),BZe=P.ellipse(Aw.bgStroke),NZe=P.ellipse(Aw.stroke),zZe=P.div(Aw.initials),Dwe=h.forwardRef(function(t,n){const{as:r,color:o="gray",src:i,title:s,initials:a,onImageLoadError:c,arrowPosition:u,animateArrowFrom:d,status:f="online",size:p=0,...m}=t,v=yFe.isValidElementType(r)?r:"div",g=ye(p),b=As(),x=b.sanity.color.spot[o]||b.sanity.color.spot.gray,w=(b.sanity.avatar.sizes[g[0]]||b.sanity.avatar.sizes[0]).size,C=w/2,_=h.useId(),[S,E]=h.useState(d||u||"inside"),[j,k]=h.useState(!1),T="avatar-image-".concat(_);h.useEffect(()=>{if(S===u)return;const I=requestAnimationFrame(()=>E(u));return()=>cancelAnimationFrame(I)},[S,u]),h.useEffect(()=>{i&&k(!1)},[i]);const A=h.useCallback(()=>{k(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),D=h.useMemo(()=>g.map(I=>I===0?0:I+1),[g]);return l.jsxs(FZe,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...m,$size:g,$color:x,"aria-label":s,"data-arrow-position":S,"data-status":f,ref:n,title:s,children:[l.jsx(LZe,{children:l.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:l.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!j&&i&&l.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[l.jsx("defs",{children:l.jsx("pattern",{id:T,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:l.jsx("image",{href:i,width:"1",height:"1",onError:A})})}),l.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(T,")")}),l.jsx(BZe,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),l.jsx(NZe,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(j||!i)&&a&&l.jsx(l.Fragment,{children:l.jsx(zZe,{children:l.jsx(L,{as:"span",size:D,children:l.jsx("strong",{children:a})})})})]})});var pW=Object.freeze,VZe=Object.defineProperty,HZe=(e,t)=>pW(VZe(e,"raw",{value:pW(t||e.slice())})),mW;function UZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o];return i?{borderRadius:ge(i.size/2),minWidth:ge(i.size),height:ge(i.size)}:gf})}function WZe(e){const{theme:t}=e;return de(mW||(mW=HZe([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),ge(t.sanity.space[2]))}const qZe=P.div(UZe,WZe),e$=h.forwardRef(function(t,n){const{count:r,size:o=0}=t,i=ye(o),s=h.useMemo(()=>i.map(a=>a===0?0:a+1),[i]);return l.jsx(qZe,{$size:i,"data-ui":"AvatarCounter",ref:n,children:l.jsx(L,{as:"span",size:s,children:l.jsx("strong",{children:r})})})});function Iwe(e){return(Array.isArray(e)?e:[e]).filter(n=>kr.isElement(n)||kr.isFragment(n)||typeof n=="string")}var gW=Object.freeze,YZe=Object.defineProperty,GZe=(e,t)=>gW(YZe(e,"raw",{value:gW(t||e.slice())})),vW;const KZe=de(vW||(vW=GZe([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function ZZe(){return KZe}function XZe(e){const{theme:t}=e,{avatar:n,media:r}=t.sanity;return gt(r,e.$size,o=>{const i=n.sizes[o];return i?{"& > div + div":{marginLeft:ge(i.distance)}}:gf})}const QZe=P.div(XZe,ZZe),qj=h.forwardRef(function(t,n){const{children:r,maxLength:o=4,size:i=0,...s}=t,a=Iwe(r).filter(v=>typeof v!="string"),c=Math.max(o,0),u=ye(i),d=a.length,f=c-1,p=d-f,m=p>1?a.slice(p,d):a;return l.jsxs(QZe,{"data-ui":"AvatarStack",...s,ref:n,$size:u,children:[d===0&&l.jsx("div",{children:l.jsx(e$,{count:d})}),d!==0&&p>1&&l.jsx("div",{children:l.jsx(e$,{count:p,size:u})}),m.map((v,g)=>l.jsx("div",{children:h.cloneElement(v,{size:u})},String(g)))]})}),JZe=P.div(FKe,Swe,LKe,uZe,CZe,Awe),M=h.forwardRef(function(t,n){const{as:r="div",column:o,columnStart:i,columnEnd:s,display:a="block",flex:c,height:u,margin:d=0,marginX:f,marginY:p,marginTop:m,marginRight:v,marginBottom:g,marginLeft:b,overflow:x,padding:y=0,paddingX:w,paddingY:C,paddingTop:_,paddingRight:S,paddingBottom:E,paddingLeft:j,row:k,rowStart:T,rowEnd:A,sizing:D,...I}=t;return l.jsx(JZe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...I,$column:ye(o),$columnStart:ye(i),$columnEnd:ye(s),$display:ye(a),$flex:ye(c),$height:ye(u),$margin:ye(d),$marginX:ye(f),$marginY:ye(p),$marginTop:ye(m),$marginRight:ye(v),$marginBottom:ye(g),$marginLeft:ye(b),$overflow:ye(x),$padding:ye(y),$paddingX:ye(w),$paddingY:ye(C),$paddingTop:ye(_),$paddingRight:ye(S),$paddingBottom:ye(E),$paddingLeft:ye(j),$row:ye(k),$rowStart:ye(T),$rowEnd:ye(A),$sizing:ye(D),as:r,ref:n,children:t.children})});var yW=Object.freeze,eXe=Object.defineProperty,OI=(e,t)=>yW(eXe(e,"raw",{value:yW(t||e.slice())})),bW,xW,wW;function tXe(e){const{$accent:t,$muted:n,theme:r}=e,{fonts:o}=r.sanity;return de(wW||(wW=OI([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(bW||(bW=OI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(xW||(xW=OI([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var CW=Object.freeze,nXe=Object.defineProperty,rXe=(e,t)=>CW(nXe(e,"raw",{value:CW(t||e.slice())})),_W;const oXe=P.div(EGe,jL,tXe),iXe=P.span(_W||(_W=rXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Ht=h.forwardRef(function(t,n){const{accent:r,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"?f=l.jsx(iXe,{children:f}):f=l.jsx("span",{children:f}),l.jsx(oXe,{"data-ui":"Label",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:f})});function sXe(e){const{$mode:t,$tone:n,theme:r}=e,o=r.sanity.color[t==="outline"?"muted":"solid"],i=o[n]||o.default;return{backgroundColor:i.enabled.bg,color:i.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(i.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const aXe=P(M)(sd,sXe),IL=h.forwardRef(function(t,n){const{children:r,fontSize:o,mode:i="default",padding:s=1,radius:a=2,tone:c="default",...u}=t;return l.jsx(aXe,{"data-ui":"Badge",...u,$mode:i,$tone:c,$radius:ye(a),padding:ye(s),ref:n,children:l.jsx(Ht,{size:o,children:r})})}),lXe=P(M)(Swe,UKe),H=h.forwardRef(function(t,n){const{align:r,as:o,direction:i="row",gap:s,justify:a,wrap:c,...u}=t;return l.jsx(lXe,{"data-ui":"Flex",...u,$align:ye(r),$direction:ye(i),$gap:ye(s),$justify:ye(a),$wrap:ye(c),forwardedAs:o,ref:n})});var SW=Object.freeze,cXe=Object.defineProperty,Owe=(e,t)=>SW(cXe(e,"raw",{value:SW(t||e.slice())})),EW,kW;const uXe=fm(EW||(EW=Owe([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),dXe=P(L)(kW||(kW=Owe([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),uXe),hr=h.forwardRef(function(t,n){return l.jsx(dXe,{"data-ui":"Spinner",...t,ref:n,children:l.jsx(uw,{})})});function Vt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var r,o,i,s,a,c,u,d;return{"--card-shadow-outline-color":e.shadow.outline,"--card-shadow-umbra-color":e.shadow.umbra,"--card-shadow-penumbra-color":e.shadow.penumbra,"--card-shadow-ambient-color":e.shadow.ambient,"--card-focus-ring-color":e.focusRing,"--card-bg-color":t.bg,"--card-bg-image":n?"repeating-conic-gradient(".concat(t.bg," 0% 25%, ").concat(t.bg2||t.bg," 0% 50%)"):void 0,"--card-fg-color":t.fg,"--card-border-color":t.border,"--card-muted-fg-color":(r=t.muted)==null?void 0:r.fg,"--card-accent-fg-color":(o=t.accent)==null?void 0:o.fg,"--card-link-fg-color":(i=t.link)==null?void 0:i.fg,"--card-code-bg-color":(s=t.code)==null?void 0:s.bg,"--card-code-fg-color":(a=t.code)==null?void 0:a.fg,"--card-skeleton-color-from":(c=t.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=t.skeleton)==null?void 0:u.to,"--card-link-color":(d=t.link)==null?void 0:d.fg,"--card-hairline-soft-color":t.border,"--card-hairline-hard-color":t.border}}var jW=Object.freeze,fXe=Object.defineProperty,hXe=(e,t)=>jW(fXe(e,"raw",{value:jW(t||e.slice())})),TW;function pXe(){return de(TW||(TW=hXe([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const mXe={border:{width:1}};function gXe(e){var t,n;const{$mode:r,theme:o}=e,{focusRing:i}=o.sanity,s=o.sanity.color.base,a=o.sanity.color.button[r]||o.sanity.color.button.default,c=a[e.$tone]||a.default,u={width:mXe.border.width,color:"var(--card-border-color)"};return[Vt(s,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:To(u),'&:disabled, &[data-disabled="true"]':Vt(s,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:jc({base:s,border:u,focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:To(u)},"@media (hover: hover)":{"&:hover":Vt(s,c.hovered),"&:active":Vt(s,c.pressed),"&[data-hovered]":Vt(s,c.hovered)},"&[data-selected]":Vt(s,c.pressed)}},(n=(t=o.sanity.styles)==null?void 0:t.button)==null?void 0:n.root].filter(Boolean)}var AW=Object.freeze,vXe=Object.defineProperty,yXe=(e,t)=>AW(vXe(e,"raw",{value:AW(t||e.slice())})),DW;const bXe=P.button(sd,pXe,gXe),xXe=P.div(DW||(DW=yXe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),oe=h.forwardRef(function(t,n){const{children:r,disabled:o,fontSize:i,icon:s,iconRight:a,justify:c="center",loading:u,mode:d="default",padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingBottom:g,paddingLeft:b,paddingRight:x,radius:y=2,selected:w,space:C=3,text:_,textAlign:S,tone:E="default",type:j="button",...k}=t,T=ye(c),A=ye(f),D=ye(p),I=ye(m),O=ye(v),$=ye(g),R=ye(b),z=ye(x),B=ye(y),U=ye(C),W=As(),V=h.useMemo(()=>({padding:A,paddingX:D,paddingY:I,paddingTop:O,paddingBottom:$,paddingLeft:R,paddingRight:z}),[A,D,I,O,$,R,z]);return l.jsxs(bXe,{"data-ui":"Button",...k,$mode:d,$radius:B,$tone:E,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:n,type:j,children:[!!u&&l.jsx(xXe,{children:l.jsx(hr,{})}),(s||_||a)&&l.jsx(M,{as:"span",...V,children:l.jsxs(H,{as:"span",justify:T,children:[s&&l.jsxs(L,{size:i,children:[h.isValidElement(s)&&s,kr.isValidElementType(s)&&h.createElement(s)]}),_&&l.jsx(M,{flex:a?1:void 0,marginLeft:s?U:void 0,marginRight:a?U:void 0,children:l.jsx(L,{align:S,size:i,textOverflow:"ellipsis",weight:W.sanity.button.textWeight,children:_})}),a&&l.jsxs(L,{size:i,children:[h.isValidElement(a)&&a,kr.isValidElementType(a)&&h.createElement(a)]})]})}),r&&l.jsx(M,{as:"span",...V,children:r})]})});var IW=Object.freeze,wXe=Object.defineProperty,t$=(e,t)=>IW(wXe(e,"raw",{value:IW(t||e.slice())})),OW,PW,RW;function CXe(e){return[_Xe(e),SXe(e)]}function _Xe(e){const{$checkered:t,theme:n}=e,r=n.sanity.space;return de(PW||(PW=t$([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),t&&de(OW||(OW=t$([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),r[3],r[3]))}function SXe(e){var t,n;const{$checkered:r,$focusRing:o,theme:i}=e,{focusRing:s}=i.sanity,{base:a,card:c,dark:u}=i.sanity.color,d={width:0,color:"var(--card-border-color)"};return de(RW||(RW=t$([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Vt(a,c.enabled,r),Vt(a,c.disabled,r),Vt(a,c.pressed,r),Vt(a,c.selected,r),Vt(a,c.hovered,r),Vt(a,c.pressed,r),o?jc({base:a,border:d,focusRing:s}):void 0,o?To(d):void 0,Vt(a,c.disabled,r),Vt(a,c.pressed,r),Vt(a,c.selected,r),Vt(a,c.hovered,r),Vt(a,c.pressed,r),o?jc({base:a,border:d,focusRing:s}):void 0,o?To(d):void 0,(n=(t=i.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const EXe=P(M)(TKe,sd,SZe,CXe),Q=h.forwardRef(function(t,n){const{__unstable_checkered:r=!1,__unstable_focusRing:o=!1,as:i,border:s,borderTop:a,borderRight:c,borderBottom:u,borderLeft:d,pressed:f,radius:p=0,scheme:m,selected:v,shadow:g,tone:b="default",...x}=t,y=kr.isValidElementType(i)?i:"div",w=k0(),C=b==="inherit"?w.tone:b;return l.jsx(Cwe,{scheme:m,tone:C,children:l.jsx(EXe,{"data-as":typeof y=="string"?y:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:ye(s),$borderTop:ye(a),$borderRight:ye(c),$borderBottom:ye(u),$borderLeft:ye(d),$checkered:r,$focusRing:o,$radius:ye(p),$shadow:ye(g),$tone:C,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":v?"":void 0,forwardedAs:y,ref:n,selected:v})})});var $W=Object.freeze,kXe=Object.defineProperty,Pwe=(e,t)=>$W(kXe(e,"raw",{value:$W(t||e.slice())})),MW,FW;function jXe(){return de(MW||(MW=Pwe([`
    position: relative;
    display: inline-block;
  `])))}function TXe(e){const{theme:t}=e,n=t.sanity.color.input,{focusRing:r,input:o,radius:i}=t.sanity;return de(FW||(FW=Pwe([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),ge(o.checkbox.size),ge(o.checkbox.size),To({color:n.default.enabled.border,width:o.border.width}),ge(i[2]),n.default.enabled.bg,jc({border:{width:o.border.width,color:n.default.enabled.border},focusRing:r}),To({color:n.default.enabled.border,width:o.border.width}),n.default.readOnly.bg,To({width:o.border.width,color:n.default.readOnly.border}),n.default.readOnly.fg,n.default.disabled.bg,To({width:o.border.width,color:n.default.disabled.border}),n.default.disabled.fg)}const AXe=P.div(jXe),DXe=P.input(TXe),Yj=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,customValidity:a,readOnly:c,style:u,...d}=t,f=fr(n);return jw(f,a),h.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),l.jsxs(AXe,{className:o,"data-ui":"Checkbox",style:u,children:[l.jsx(DXe,{"data-read-only":!i&&c?"":void 0,...d,checked:r,disabled:i||c,type:"checkbox",readOnly:c,ref:f}),l.jsxs("span",{children:[l.jsx(ea,{}),l.jsx(q0e,{})]})]})});var LW=Object.freeze,IXe=Object.defineProperty,OXe=(e,t)=>LW(IXe(e,"raw",{value:LW(t||e.slice())})),BW;function PXe(e){let{theme:t}=e;const n=t.sanity.color.syntax;return{"&.atrule":{color:n.atrule},"&.attr-name":{color:n.attrName},"&.attr-value":{color:n.attrValue},"&.attribute":{color:n.attribute},"&.boolean":{color:n.boolean},"&.builtin":{color:n.builtin},"&.cdata":{color:n.cdata},"&.char":{color:n.char},"&.class":{color:n.class},"&.class-name":{color:n.className},"&.comment":{color:n.comment},"&.constant":{color:n.constant},"&.deleted":{color:n.deleted},"&.doctype":{color:n.doctype},"&.entity":{color:n.entity},"&.function":{color:n.function},"&.hexcode":{color:n.hexcode},"&.id":{color:n.id},"&.important":{color:n.important},"&.inserted":{color:n.inserted},"&.keyword":{color:n.keyword},"&.number":{color:n.number},"&.operator":{color:n.operator},"&.prolog":{color:n.prolog},"&.property":{color:n.property},"&.pseudo-class":{color:n.pseudoClass},"&.pseudo-element":{color:n.pseudoElement},"&.punctuation":{color:n.punctuation},"&.regex":{color:n.regex},"&.selector":{color:n.selector},"&.string":{color:n.string},"&.symbol":{color:n.symbol},"&.tag":{color:n.tag},"&.unit":{color:n.unit},"&.url":{color:n.url},"&.variable":{color:n.variable}}}function RXe(){return de(BW||(BW=OXe([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),PXe)}const $Xe=P.pre(RXe,_Ge),lr=h.forwardRef(function(t,n){const{children:r,language:o,size:i=2,weight:s,...a}=t,c=typeof o=="string"?o:void 0,u=c?Fp.hasLanguage(c):!1;return l.jsxs($Xe,{"data-ui":"Code",...a,$size:ye(i),$weight:s,ref:n,children:[!(c&&u)&&l.jsx("code",{children:r}),c&&u&&l.jsx(Fp,{inline:!0,language:c,value:String(r)})]})}),MXe={width:"100%",margin:"0 auto"};function FXe(){return MXe}function LXe(e){const{theme:t}=e,{container:n,media:r}=t.sanity;return gt(r,e.$width,o=>({maxWidth:o==="auto"?"none":ge(n[o])}))}const BXe=P(M)(FXe,LXe),eo=h.forwardRef(function(t,n){const{as:r,width:o=2,...i}=t;return l.jsx(BXe,{"data-ui":"Container",...i,$width:ye(o),forwardedAs:r,ref:n})}),NXe=P(M)(tZe),nn=h.forwardRef(function(t,n){const{as:r,autoRows:o,autoCols:i,autoFlow:s,columns:a,gap:c,gapX:u,gapY:d,rows:f,children:p,...m}=t;return l.jsx(NXe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:ye(o),$autoCols:ye(i),$autoFlow:ye(s),$columns:ye(a),$gap:ye(c),$gapX:ye(u),$gapY:ye(d),$rows:ye(f),forwardedAs:r,ref:n,children:p})});var NW=Object.freeze,zXe=Object.defineProperty,PI=(e,t)=>NW(zXe(e,"raw",{value:NW(t||e.slice())})),zW,VW,HW;function VXe(e){const{$accent:t,$muted:n,theme:r}=e;return de(HW||(HW=PI([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),t&&de(zW||(zW=PI([`
      color: var(--card-accent-fg-color);
    `]))),n&&de(VW||(VW=PI([`
      color: var(--card-muted-fg-color);
    `]))),r.sanity.fonts.code.family)}var UW=Object.freeze,HXe=Object.defineProperty,UXe=(e,t)=>UW(HXe(e,"raw",{value:UW(t||e.slice())})),WW;const WXe=P.div(VXe,jL,SGe),qXe=P.span(WW||(WW=UXe([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Wo=h.forwardRef(function(t,n){const{accent:r=!1,align:o,children:i,muted:s=!1,size:a=2,textOverflow:c,weight:u,...d}=t;let f=i;return c==="ellipsis"&&(f=l.jsx(qXe,{children:f})),l.jsx(WXe,{"data-ui":"Heading",...d,$accent:r,$align:ye(o),$muted:s,$size:ye(a),$weight:u,ref:n,children:l.jsx("span",{children:f})})});function YXe(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function GXe(e){const{theme:t}=e;return gt(t.sanity.media,e.$space,n=>{const r=ge(t.sanity.space[n]);return{margin:"-".concat(r," 0 0 -").concat(r),"& > div":{padding:"".concat(r," 0 0 ").concat(r)}}})}const KXe=P(M)(YXe,GXe),Zt=h.forwardRef(function(t,n){const{as:r,children:o,space:i,...s}=t,a=h.useMemo(()=>Iwe(o).filter(Boolean).map((c,u)=>l.jsx("div",{children:c},u)),[o]);return l.jsx(KXe,{"data-ui":"Inline",...s,$space:ye(i),forwardedAs:r,ref:n,children:a})});var qW=Object.freeze,ZXe=Object.defineProperty,XXe=(e,t)=>qW(ZXe(e,"raw",{value:qW(t||e.slice())})),YW;function QXe(){return de(YW||(YW=XXe([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const JXe=P.kbd(sd,QXe),n$=h.forwardRef(function(t,n){const{children:r,fontSize:o=1,padding:i=1,radius:s=2,...a}=t;return l.jsx(JXe,{"data-ui":"KBD",...a,$radius:ye(s),ref:n,children:l.jsx(M,{as:"span",padding:i,children:l.jsx(lr,{as:"span",muted:!0,size:o,children:r})})})}),r$=Symbol.for("@sanity/ui/context/boundaryElement");en[r$]=en[r$]||h.createContext(null);const Rwe=en[r$];function Bu(e){const{children:t,element:n}=e,r=h.useMemo(()=>({version:0,element:n}),[n]);return l.jsx(Rwe.Provider,{value:r,children:t})}const eQe={version:0,element:null};function Jf(){const e=h.useContext(Rwe);if(e&&(!E0(e)||e.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return e||eQe}function tQe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]>t&&n.push(r);return n}function nQe(e,t){const n=[];for(let r=0;r<e.length;r+=1)e[r]<=t&&n.push(r);return n}const rQe=h.forwardRef(function(t,n){const r=As(),{children:o,media:i=r.sanity.media,...s}=t,a=fr(n),[c,u]=h.useState(null),d=Wj(c),f=h.useMemo(()=>{var g;return(g=d==null?void 0:d.border.width)!=null?g:window.innerWidth},[d]),p=h.useMemo(()=>tQe(i,f),[i,f]),m=h.useMemo(()=>nQe(i,f),[i,f]),v=h.useCallback(g=>{a.current=g,u(g)},[a]);return l.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":p.length?p.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:v,children:o})});var oQe=Object.defineProperty,iQe=(e,t,n)=>t in e?oQe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,sQe=(e,t,n)=>(iQe(e,typeof t!="symbol"?t+"":t,n),n);class j0 extends h.Component{constructor(){super(...arguments),sQe(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,n){this.props.onCatch({error:t,info:n})}render(){const{error:t}=this.state;if(t){const n=typeof(t==null?void 0:t.message)=="string"?t.message:"Error";return l.jsx(lr,{children:n})}return this.props.children}}function $we(e){if(!E0(e)||e.version!==0)throw new Error("the context value is not compatible");if(!e)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(e.version===0)return e;throw new Error("could not get layer context")}const o$=Symbol.for("@sanity/ui/context/layer");en[o$]=en[o$]||h.createContext(null);const i$=en[o$];function tl(){const e=h.useContext(i$);if(!e)throw new Error("useLayer(): missing context value");try{return $we(e)}catch(t){throw t instanceof Error?new Error("useLayer(): ".concat(t.message)):new Error("useLayer(): ".concat(t))}}function s$(e){const t=requestAnimationFrame(e);return()=>{cancelAnimationFrame(t)}}function aQe(e){let t=null;const n=s$(()=>{t=s$(e)});return()=>{t&&t(),n()}}function lQe(e){return OL(e)||PL(e)}function Rc(e){return e instanceof Node&&e.nodeType===Node.ELEMENT_NODE}function OL(e){return Rc(e)&&e.nodeName==="A"}function cQe(e){return Rc(e)&&e.nodeName==="INPUT"}function PL(e){return Rc(e)&&e.nodeName==="BUTTON"}function uQe(e){return Rc(e)&&e.nodeName==="SELECT"}function dQe(e){return Rc(e)&&e.nodeName==="TEXTAREA"}function a$(e,t){return e.contains(t)||e===t}function fQe(e){return!!document.activeElement&&e.contains(document.activeElement)}function hQe(e){return e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null?!0:OL(e)?!!e.href&&e.rel!=="ignore":cQe(e)?e.type!=="hidden"&&e.type!=="file"&&!e.disabled:PL(e)||uQe(e)||dQe(e)?!e.disabled:!1}function Mwe(e){if(!hQe(e))return!1;try{e.focus()}catch{}return document.activeElement===e}function Hp(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if(Rc(n)&&(Mwe(n)||Hp(n)))return!0}return!1}function RL(e){for(let t=e.childNodes.length-1;t>=0;t--){const n=e.childNodes[t];if(Rc(n)&&(Mwe(n)||RL(n)))return!0}return!1}function pQe(e){if(!(e instanceof Element))return!1;const t=window.getComputedStyle(e);return t.overflowX.includes("auto")||t.overflowX.includes("scroll")||t.overflowY.includes("auto")||t.overflowY.includes("scroll")}function Nu(e){var t;const{children:n,zOffset:r=0}=e,o=h.useContext(i$),i=o&&$we(o),s=i==null?void 0:i.registerChild,c=((t=i==null?void 0:i.level)!=null?t:0)+1,u=ye(r),d=u.length-1,f=Math.min(bm(),d),p=i?i.zIndex+u[f]:u[f],[,m]=h.useState({}),[v,g]=h.useState(0),b=v===0,x=h.useCallback(w=>{const C=s==null?void 0:s(w);return w!==void 0?m(_=>{var S;const E=(S=_[w])!=null?S:0,j={..._,[w]:E+1};return g(Object.keys(j).length),j}):g(_=>_+1),()=>{w!==void 0?m(_=>{const S={..._};return S[w]===1?(delete S[w],g(Object.keys(S).length)):S[w]-=1,S}):g(_=>_-1),C==null||C()}},[s]);h.useEffect(()=>s==null?void 0:s(c),[c,s]);const y=h.useMemo(()=>({version:0,isTopLayer:b,level:c,registerChild:x,size:v,zIndex:p}),[b,c,x,v,p]);return l.jsx(i$.Provider,{value:y,children:n})}const mQe=P.div({position:"relative"}),gQe=h.forwardRef(function(t,n){const{children:r,onActivate:o,onFocus:i,style:s=gf,...a}=t,{zIndex:c,isTopLayer:u}=tl(),d=h.useRef(null),f=fr(n),p=h.useRef(u);h.useEffect(()=>{p.current!==u&&u&&(o==null||o({activeElement:d.current})),p.current=u},[u,o]);const m=h.useCallback(v=>{i==null||i(v);const g=f.current,b=document.activeElement;!u||!g||!b||Rc(b)&&a$(g,b)&&(d.current=b)},[f,u,i]);return l.jsx(mQe,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:c},children:r})}),os=h.forwardRef(function(t,n){const{children:r,zOffset:o=1,...i}=t;return l.jsx(Nu,{zOffset:o,children:l.jsx(gQe,{...i,ref:n,children:r})})}),l$=Symbol.for("@sanity/ui/context/portal"),Rh=Symbol.for("@sanity/ui/context/portal/element");en[Rh]=null;const vQe={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(en[Rh]||(en[Rh]=document.createElement("div"),en[Rh].setAttribute("data-portal",""),document.body.appendChild(en[Rh])),en[Rh])}};en[l$]=en[l$]||h.createContext(vQe);const Fwe=en[l$];function xm(){const e=h.useContext(Fwe);if(!e)throw new Error("usePortal(): missing context value");if(!E0(e)||e.version!==0)throw new Error("usePortal(): the context value is not compatible");return e}function wm(e){var t;const{children:n,__unstable_name:r}=e,o=xm(),i=(r?o.elements&&o.elements[r]:o.element)||((t=o.elements)==null?void 0:t.default);return i?cc.createPortal(n,i):null}function yQe(e){const t=h.useRef(e);return bQe(t.current,e)||(t.current=e),t.current}function bQe(e,t){if(!e||!t)return e===t;const n=Object.keys(e),r=Object.keys(t);return n.length!==r.length?!1:n.every(o=>e[o]===t[o])}const xQe=typeof document<"u";function ad(e){const{boundaryElement:t,children:n,element:r,__unstable_elements:o}=e,i=yQe(o),s=h.useMemo(()=>({version:0,boundaryElement:t||null,element:r||xQe&&document.body||null,elements:i}),[t,r,i]);return l.jsx(Fwe.Provider,{value:s,children:n})}var GW=Object.freeze,wQe=Object.defineProperty,CQe=(e,t)=>GW(wQe(e,"raw",{value:GW(t||e.slice())})),KW;const _Qe=P.div(KW||(KW=CQe([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));h.forwardRef(function(t,n){const{as:r,children:o}=t;return l.jsx(_Qe,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:n,children:o})});var ZW=Object.freeze,SQe=Object.defineProperty,Lwe=(e,t)=>ZW(SQe(e,"raw",{value:ZW(t||e.slice())})),XW,QW;const EQe=P.div(XW||(XW=Lwe([`
  position: relative;
`]))),JW=P.div(QW||(QW=Lwe([`
  position: absolute;
  left: 0;
  right: 0;
`])));h.forwardRef(function(t,n){const{as:r="div",gap:o=0,getItemKey:i,items:s=[],onChange:a,renderItem:c,...u}=t,{space:d}=As().sanity,f=fr(n),p=h.useRef(null),[m,v]=h.useState(0),[g,b]=h.useState(0),[x,y]=h.useState(-1);h.useEffect(()=>{if(!p.current)return;const k=p.current.firstChild;k instanceof HTMLElement&&y(k.offsetHeight)},[c]),h.useEffect(()=>{if(!f.current)return;let k=f.current.parentNode;for(;k&&!pQe(k);)k=k.parentNode;if(k){const D=k;if(!(D instanceof HTMLElement))return;const I=()=>{v(D.scrollTop)};D.addEventListener("scroll",I,{passive:!0});const O=new xwe($=>{b($[0].contentRect.height)});return O.observe(D),I(),()=>{D.removeEventListener("scroll",I),O.unobserve(D),O.disconnect()}}const T=()=>{v(window.scrollY)},A=()=>{b(window.innerHeight)};return window.addEventListener("scroll",T,{passive:!0}),window.addEventListener("resize",A),b(window.innerHeight),T(),()=>{window.removeEventListener("scroll",T),window.removeEventListener("resize",A)}},[f]);const w=s.length,C=x?w*(x+d[o])-d[o]:0,_=C?Math.max(Math.floor(m/C*w)-2,0):0,S=C?Math.ceil((m+g)/C*w)+1:0;h.useEffect(()=>{a&&a({fromIndex:_,gap:d[o],itemHeight:x,scrollHeight:g,scrollTop:m,toIndex:S})},[_,o,x,a,g,m,d,S]);const E=h.useMemo(()=>!c||s.length===0?null:x===-1?[l.jsx(JW,{children:c(s[0])},0)]:s.slice(_,S).map((k,T)=>{const A=_+T,D=c(k),I=i?i(k,A):A;return l.jsx(JW,{style:{top:A*(x+d[o])},children:D},I)}),[_,o,i,x,s,c,d,S]),j=h.useMemo(()=>({height:C}),[C]);return l.jsx(EQe,{as:r,"data-ui":"VirtualList",...u,ref:f,children:l.jsx("div",{ref:p,style:j,children:E})})});const kQe=4,dg=4,tc=27,jQe=11,Bwe=[0,0,0,0],TQe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function AQe(e){const{apply:t,margins:n,padding:r=0}=e;return{name:"@sanity/ui/size",async fn(o){const{elements:i,placement:s,platform:a,rects:c}=o,{floating:u,reference:d}=c,f=await $b(o,{altBoundary:!0,boundary:e.boundaryElement||void 0,elementContext:"floating",padding:r,rootBoundary:"viewport"});let p=1/0,m=1/0;const v=u.width,g=u.height;s.includes("top")&&(p=v-(f.left+f.right),m=g-f.top),s.includes("right")&&(p=v-f.right,m=g-(f.top+f.bottom)),s.includes("bottom")&&(p=v-(f.left+f.right),m=g-f.bottom),s.includes("left")&&(p=v-f.left,m=g-(f.top+f.bottom)),t({availableWidth:p-n[1]-n[3],availableHeight:m-n[0]-n[2],elements:i,referenceWidth:d.width-n[1]-n[3]});const b=await a.getDimensions(i.floating),x=b.height,y=b.width;return v!==y||g!==x?{reset:{rects:!0}}:{}}}}function DQe(e){const{mediaIndex:t,theme:n,width:r}=e,o=r[t],i=o===void 0?r[r.length-1]:o;return typeof i=="number"?n.sanity.container[i]:void 0}function IQe(e){const{boundaryWidth:t,currentWidth:n}=e;if(!(n===void 0&&t===void 0))return Math.min(n??1/0,(t||1/0)-dg*2)}var eq=Object.freeze,OQe=Object.defineProperty,$L=(e,t)=>eq(OQe(e,"raw",{value:eq(t||e.slice())})),tq,nq,rq;const PQe=P.div(tq||(tq=$L([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),tc,tc,tc/2,tc/2,tc,tc,tc,tc),RQe=P.path(nq||(nq=$L([`
  fill: var(--card-shadow-outline-color);
`]))),$Qe=P.path(rq||(rq=$L([`
  fill: var(--card-bg-color);
`]))),MQe=h.forwardRef(function(t,n){return l.jsx(PQe,{"data-ui":"Popover__arrow",...t,ref:n,children:l.jsxs("svg",{width:tc,height:jQe,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx(RQe,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),l.jsx($Qe,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),FQe=P(Q)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),Nwe=h.memo(h.forwardRef(function(t,n){const{__unstable_margins:r,arrow:o,arrowRef:i,arrowX:s,arrowY:a,children:c,padding:u,placement:d,overflow:f,radius:p,scheme:m,shadow:v,strategy:g,style:b,tone:x,width:y,x:w,y:C,..._}=t,{zIndex:S}=tl(),E=h.useMemo(()=>r||Bwe,[r]),j=(w??0)+E[3],k=(C??0)+E[0],T=h.useMemo(()=>({position:g,top:k,left:j,width:y,zIndex:S,...b}),[g,b,y,j,k,S]),A=d&&hwe[d.split("-")[0]],D=h.useMemo(()=>{const I={left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0};return A&&(I[A]=0-tc),I},[s,a,A]);return l.jsxs(FQe,{"data-ui":"Popover",..._,"data-placement":d,radius:p,ref:n,scheme:m,shadow:v,sizing:"border",style:T,tone:x,children:[l.jsx(H,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:f,children:l.jsx(H,{direction:"column",flex:1,padding:u,children:c})}),o&&l.jsx(MQe,{ref:i,style:D})]})}));Nwe.displayName="PopoverCard";const rn=h.memo(h.forwardRef(function(t,n){var r,o,i,s,a,c,u,d,f;const p=As(),m=Jf(),{__unstable_margins:v=Bwe,arrow:g=!0,boundaryElement:b=m.element,children:x,constrainSize:y=!1,content:w,disabled:C,fallbackPlacements:_=(o=t.fallbackPlacements)!=null?o:TQe[(r=t.placement)!=null?r:"bottom"],matchReferenceWidth:S,floatingBoundary:E=(i=t.boundaryElement)!=null?i:m.element,open:j,overflow:k="hidden",padding:T,placement:A="bottom",portal:D,preventOverflow:I=!0,radius:O=3,referenceBoundary:$=(s=t.boundaryElement)!=null?s:m.element,referenceElement:R,scheme:z,shadow:B=3,tone:U="inherit",width:W="auto",zOffset:V=(a=p.sanity.layer)==null?void 0:a.popover.zOffset,updateRef:K,...te}=t,N=(c=Wj(b))==null?void 0:c.border,G=ye(T),q=ye(O),Z=ye(B),ie=ye(W),ne=ye(V),Y=fr(n),X=h.useRef(null),ae="viewport",he=bm(),ce=y||I?N==null?void 0:N.width:void 0,xe=DQe({mediaIndex:he,theme:p,width:ie}),Se=h.useRef(xe);h.useEffect(()=>{Se.current=xe},[xe]);const pe=IQe({boundaryWidth:ce,currentWidth:xe}),be=h.useRef(pe);h.useEffect(()=>{be.current=pe},[pe]);const Be=h.useRef();h.useEffect(()=>{const Yt=Y.current;if(!j||!Yt)return;const no=Be.current;S?no!==void 0&&(Yt.style.width="".concat(no,"px")):xe!==void 0&&(Yt.style.width="".concat(xe,"px")),typeof pe=="number"&&(Yt.style.maxWidth="".concat(pe,"px"))},[xe,Y,S,pe,j]);const $e=h.useMemo(()=>{const Yt=[];return(y||I)&&Yt.push(R1e({boundary:E||void 0,fallbackPlacements:_,padding:dg,rootBoundary:ae})),Yt.push($1e({mainAxis:g?kQe:0})),(y||S)&&Yt.push(AQe({apply(no){let{availableWidth:sl,availableHeight:al,elements:Is,referenceWidth:Bn}=no;Be.current=Bn;const zn=Se.current,Gr=be.current;S?Is.floating.style.width="".concat(Bn,"px"):zn!==void 0&&(Is.floating.style.width="".concat(zn,"px")),y&&(Is.floating.style.maxWidth="".concat(Math.min(sl,Gr??1/0),"px"),Is.floating.style.maxHeight="".concat(al,"px"))},boundaryElement:E||void 0,constrainSize:y,margins:v,matchReferenceWidth:S,padding:dg})),I&&Yt.push(M1e({boundary:E||void 0,rootBoundary:ae,padding:dg})),g&&Yt.push(Hbe({element:X,padding:dg})),Yt.push(Mze({boundary:$||void 0,padding:dg,strategy:"referenceHidden"})),Yt},[g,y,_,E,v,S,I,$]),{x:ct,y:ot,middlewareData:Lt,placement:Rt,refs:Ae,strategy:Ke,update:Ye}=Wbe({middleware:$e,placement:A,whileElementsMounted:U1e}),tt=(u=Lt.hide)==null?void 0:u.referenceHidden,wt=(d=Lt.arrow)==null?void 0:d.x,Ee=(f=Lt.arrow)==null?void 0:f.y,Ne=h.useCallback(Yt=>{X.current=Yt},[]),ut=h.useCallback(Yt=>{Y.current=Yt,Ae.setFloating(Yt)},[Y,Ae]),ui=h.useCallback(Yt=>{Ae.setReference(Yt);const no=x==null?void 0:x.ref;typeof no=="function"?no(Yt):no&&(no.current=Yt)},[x,Ae]),er=h.useMemo(()=>!x||R?null:h.cloneElement(x,{ref:ui}),[x,R,ui]);if(h.useEffect(()=>{K&&(typeof K=="function"?K(Ye):K&&(K.current=Ye))},[Ye,K]),h.useEffect(()=>{Ae.setReference(R||null)},[R,Ae]),C)return x||l.jsx(l.Fragment,{});const Go=l.jsx(Nu,{zOffset:ne,children:l.jsx(Nwe,{...te,__unstable_margins:v,arrow:g,arrowRef:Ne,arrowX:wt,arrowY:Ee,hidden:tt,overflow:k,padding:G,placement:Rt,radius:q,ref:ut,scheme:z,shadow:Z,strategy:Ke,tone:U,width:S?Be.current:xe,x:ct,y:ot,children:w})});return l.jsxs(l.Fragment,{children:[j&&l.jsx(l.Fragment,{children:D?l.jsx(wm,{__unstable_name:typeof D=="string"?D:void 0,children:Go}):Go}),er]})}));rn.displayName="Popover";var oq=Object.freeze,LQe=Object.defineProperty,zwe=(e,t)=>oq(LQe(e,"raw",{value:oq(t||e.slice())})),iq,sq;function BQe(){return de(iq||(iq=zwe([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function NQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input,i=(r.radio.size-r.radio.markSize)/2;return de(sq||(sq=zwe([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),ge(r.radio.size/2),ge(r.radio.size),ge(r.radio.size),ge(r.radio.size/2),o.default.enabled.bg,To({color:o.default.enabled.border,width:r.border.width}),ge(i),ge(i),ge(r.radio.markSize),ge(r.radio.markSize),ge(r.radio.markSize/2),o.default.enabled.fg,jc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),To({color:o.default.enabled.border,width:r.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const zQe=P.div(BQe),VQe=P.input(NQe),HQe=h.forwardRef(function(t,n){const{className:r,disabled:o,style:i,customValidity:s,readOnly:a,...c}=t,u=fr(n);return jw(u,s),l.jsxs(zQe,{className:r,"data-ui":"Radio",style:i,children:[l.jsx(VQe,{"data-read-only":!o&&a?"":void 0,...c,disabled:o||a,readOnly:a,ref:u,type:"radio"}),l.jsx("span",{})]})});var aq=Object.freeze,UQe=Object.defineProperty,Gj=(e,t)=>aq(UQe(e,"raw",{value:aq(t||e.slice())})),lq,cq,uq,dq;function WQe(){return de(lq||(lq=Gj([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function qQe(e){const{theme:t}=e,n=t.sanity.fonts.text;return de(cq||(cq=Gj([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),n.family)}function YQe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.input;return de(uq||(uq=Gj([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,To({color:o.default.enabled.border,width:r.border.width}),o.default.hovered.bg,o.default.hovered.fg,To({color:o.default.hovered.border,width:r.border.width}),jc({border:{width:r.border.width,color:o.default.enabled.border},focusRing:n}),o.default.readOnly.bg,o.default.readOnly.fg,To({color:o.default.readOnly.border,width:r.border.width}),o.default.disabled.bg,o.default.disabled.fg,To({color:o.default.disabled.border,width:r.border.width}))}function GQe(e){return{fontSize:ge(e.fontSize),lineHeight:ge(e.lineHeight)}}function KQe(e){const{theme:t,$fontSize:n}=e,{sizes:r}=t.sanity.fonts.text;return gt(t.sanity.media,n,o=>GQe(r[o]||r[2]))}function ZQe(){return[sd,qQe,YQe,KQe,bZe]}function XQe(e){const{theme:t}=e,n=t.sanity.color.input;return de(dq||(dq=Gj([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),n.default.enabled.fg,n.default.hovered.fg,n.default.disabled.fg,n.default.readOnly.fg)}const ML={root:WQe,input:ZQe,iconBox:XQe},QQe=P.div(ML.root),JQe=P.select(ML.input),eJe=P(M)(ML.iconBox),Mf=h.forwardRef(function(t,n){const{children:r,customValidity:o,disabled:i,fontSize:s=2,padding:a=3,radius:c=1,readOnly:u,space:d=3,...f}=t,p=fr(n);return jw(p,o),l.jsxs(QQe,{"data-ui":"Select",children:[l.jsx(JQe,{"data-read-only":!i&&u?"":void 0,"data-ui":"Select",...f,$fontSize:ye(s),$padding:ye(a),$radius:ye(c),$space:ye(d),disabled:i||u,ref:p,children:r}),l.jsx(eJe,{padding:a,children:l.jsx(L,{size:s,children:l.jsx(Bl,{})})})]})}),tJe={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function nJe(){return tJe}function rJe(e){const{theme:t}=e,{media:n,space:r}=t.sanity;return gt(n,e.$space,o=>({gridGap:ge(r[o])}))}const oJe=P(M)(nJe,rJe),ee=h.forwardRef(function(t,n){const{as:r,space:o,...i}=t;return l.jsx(oJe,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...i,$space:ye(o),forwardedAs:r,ref:n})});var fq=Object.freeze,iJe=Object.defineProperty,Sp=(e,t)=>fq(iJe(e,"raw",{value:fq(t||e.slice())})),hq,pq,mq,gq,vq,yq,bq;function sJe(){return de(hq||(hq=Sp([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function aJe(){return de(pq||(pq=Sp([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function lJe(e){const{theme:t}=e,{focusRing:n,input:r}=t.sanity,o=t.sanity.color.button.default;return de(mq||(mq=Sp([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,ge(r.switch.width),ge(r.switch.height),ge(r.switch.height/2),jc({focusRing:n}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function cJe(e){const{theme:t}=e,{input:n}=t.sanity;return de(gq||(gq=Sp([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),ge(n.switch.width),ge(n.switch.height),ge(n.switch.height/2))}function uJe(e){const{$indeterminate:t,theme:n}=e,{input:r}=n.sanity,o=r.switch.width,i=r.switch.height,s=r.switch.padding,a=i-r.switch.padding*2,c=o-s*2-a,u=o/2-a/2-s,d=t!==!0&&e.$checked===!0;return de(bq||(bq=Sp([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),ge(s),ge(s),ge(a),ge(a),ge(a/2),r.switch.transitionDurationMs,r.switch.transitionTimingFunction,d&&de(vq||(vq=Sp([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),t&&de(yq||(yq=Sp([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const dJe=P.span(sJe),fJe=P.input(aJe),hJe=P.span(lJe),pJe=P.span(cJe),mJe=P.span(uJe),Vwe=h.forwardRef(function(t,n){const{checked:r,className:o,disabled:i,indeterminate:s,readOnly:a,style:c,...u}=t,d=fr(n);return h.useEffect(()=>{d.current&&(d.current.indeterminate=s||!1)},[s,d]),l.jsxs(dJe,{className:o,"data-ui":"Switch",style:c,children:[l.jsx(fJe,{"data-read-only":!i&&a?"":void 0,...u,checked:s!==!0&&r,disabled:i||a,type:"checkbox",ref:d}),l.jsxs(hJe,{"aria-hidden":!0,"data-name":"representation",children:[l.jsx(pJe,{}),l.jsx(mJe,{$checked:r,$indeterminate:s})]})]})});var xq=Object.freeze,gJe=Object.defineProperty,vJe=(e,t)=>xq(gJe(e,"raw",{value:xq(t||e.slice())})),wq;const yJe=P.span(Ewe),bJe=P.span(wq||(wq=vJe([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),xJe=P.textarea(AL,kwe,jwe),wJe=P.div(sd,Twe),Hwe=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i=!1,fontSize:s=2,padding:a=3,radius:c=1,weight:u,...d}=t,f=fr(n),p=k0();return jw(f,o),l.jsx(yJe,{"data-ui":"TextArea",children:l.jsxs(bJe,{children:[l.jsx(xJe,{"data-as":"textarea","data-scheme":p.scheme,"data-tone":p.tone,...d,$fontSize:ye(s),$padding:ye(a),$scheme:p.scheme,$space:ye(0),$tone:p.tone,$weight:u,disabled:i,ref:f}),l.jsx(wJe,{$radius:ye(c),$scheme:p.scheme,$tone:p.tone,"data-border":r?"":void 0,"data-scheme":p.scheme,"data-tone":p.tone})]})})});var Cq=Object.freeze,CJe=Object.defineProperty,T0=(e,t)=>Cq(CJe(e,"raw",{value:Cq(t||e.slice())})),_q,Sq,Eq,kq,jq,Tq;const _Je={zIndex:2},SJe=P(Q).attrs({forwardedAs:"span"})(Ewe),EJe=P.span(_q||(_q=T0([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),kJe=P(Q).attrs({forwardedAs:"span"})(Sq||(Sq=T0([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),jJe=P(Q).attrs({forwardedAs:"span"})(Eq||(Eq=T0([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),TJe=P.input(AL,kwe,jwe),AJe=P.span(sd,Twe),DJe=P(M)(kq||(kq=T0([`
  position: absolute;
  top: 0;
  left: 0;
`]))),IJe=P(M)(jq||(jq=T0([`
  position: absolute;
  top: 0;
  right: 0;
`]))),OJe=P(Q)(Tq||(Tq=T0([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),PJe=P(oe)({"&:not([hidden])":{display:"block"}}),Lr=h.forwardRef(function(t,n){const{border:r=!0,clearButton:o,disabled:i=!1,fontSize:s=2,icon:a,iconRight:c,onClear:u,padding:d=3,prefix:f,radius:p=1,readOnly:m,space:v=3,suffix:g,customValidity:b,type:x="text",weight:y,...w}=t,C=fr(n),_=k0(),S=ye(s),E=ye(d),j=ye(p),k=ye(v),T=!!o,A=!!a,D=!!c,I=!!g,O=!!f;jw(C,b);const $=h.useCallback(N=>{N.preventDefault(),N.stopPropagation()},[]),R=h.useCallback(N=>{var G;N.preventDefault(),N.stopPropagation(),u&&u(),(G=C.current)==null||G.focus()},[u,C]),z=h.useMemo(()=>f&&l.jsx(kJe,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:f})}),[f,j]),B=h.useMemo(()=>l.jsxs(AJe,{$hasPrefix:O,$hasSuffix:I,$radius:j,$scheme:_.scheme,$tone:_.tone,"data-border":r?"":void 0,"data-scheme":_.scheme,"data-tone":_.tone,children:[a&&l.jsx(DJe,{padding:E,children:l.jsxs(L,{size:S,children:[h.isValidElement(a)&&a,kr.isValidElementType(a)&&h.createElement(a)]})}),!T&&c&&l.jsx(IJe,{padding:E,children:l.jsxs(L,{size:S,children:[h.isValidElement(c)&&c,kr.isValidElementType(c)&&h.createElement(c)]})})]}),[r,S,a,c,E,j,_,T,O,I]),U=h.useMemo(()=>E.map(N=>N===0?0:N===1||N===2?1:N-2),[E]),W=h.useMemo(()=>E.map(N=>N===0||N===1?0:N===2?1:N-1),[E]),V=h.useMemo(()=>typeof o=="object"?o:gf,[o]),K=h.useMemo(()=>!i&&!m&&o&&l.jsx(OJe,{forwardedAs:"span",padding:U,style:_Je,tone:b?"critical":"inherit",children:l.jsx(PJe,{"aria-label":"Clear","data-qa":"clear-button",fontSize:S,icon:Di,mode:"bleed",padding:W,radius:j,...V,onClick:R,onMouseDown:$})}),[o,U,W,V,b,i,S,R,$,j,m]),te=h.useMemo(()=>g&&l.jsx(jJe,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:j,sizing:"border",tone:"inherit",children:l.jsx("span",{children:g})}),[j,g]);return l.jsxs(SJe,{"data-ui":"TextInput",tone:_.tone,children:[z,l.jsxs(EJe,{children:[l.jsx(TJe,{"data-as":"input","data-scheme":_.scheme,"data-tone":_.tone,...w,$fontSize:S,$iconLeft:A,$iconRight:D||T,$padding:E,$scheme:_.scheme,$space:k,$tone:_.tone,$weight:y,disabled:i,readOnly:m,ref:C,type:x}),B,K]}),te]})});function c$(e){const[t,n]=h.useState(e),r=h.useRef(),o=h.useCallback((i,s)=>{const a=()=>{n(i)};if(r.current&&(clearTimeout(r.current),r.current=void 0),!s)return a();r.current=setTimeout(a,s)},[]);return[t,o]}const RI=4,RJe={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var Aq=Object.freeze,$Je=Object.defineProperty,FL=(e,t)=>Aq($Je(e,"raw",{value:Aq(t||e.slice())})),Dq,Iq,Oq;const MJe=P.div(Dq||(Dq=FL([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),FJe=P.path(Iq||(Iq=FL([`
  fill: var(--card-shadow-outline-color);
`]))),LJe=P.path(Oq||(Oq=FL([`
  fill: var(--card-bg-color);
`]))),BJe=h.forwardRef(function(t,n){const{...r}=t;return l.jsx(MJe,{"data-ui":"Tooltip__arrow",...r,ref:n,children:l.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[l.jsx(FJe,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),l.jsx(LJe,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),u$=Symbol.for("@sanity/ui/context/tooltipDelayGroup");en[u$]=en[u$]||h.createContext(null);const Uwe=en[u$];function Wwe(){return h.useContext(Uwe)}function qwe(e){const{children:t,delay:n}=e,[r,o]=c$(!1),[i,s]=c$(null);if(Wwe())throw new Error("TooltipDelayGroupProvider cannot be nested inside another TooltipDelayGroupProvider");const c=typeof n=="number"?n:(n==null?void 0:n.open)||0,u=typeof n=="number"?n:(n==null?void 0:n.close)||0,d=h.useMemo(()=>({isGroupActive:r,setIsGroupActive:o,openTooltipId:i,setOpenTooltipId:s,openDelay:r?1:c,closeDelay:u}),[u,r,c,i,o,s]);return l.jsx(Uwe.Provider,{value:d,children:t})}var Pq=Object.freeze,NJe=Object.defineProperty,zJe=(e,t)=>Pq(NJe(e,"raw",{value:Pq(t||e.slice())})),Rq;const VJe=P(os)(Rq||(Rq=zJe([`
  pointer-events: none;
  max-width: `,`px;
`])),e=>{let{$maxWidth:t}=e;return t}),it=h.forwardRef(function(t,n){var r,o,i,s,a,c;const u=Jf(),d=As(),{boundaryElement:f=u==null?void 0:u.element,children:p,content:m,disabled:v,fallbackPlacements:g=(o=t.fallbackPlacements)!=null?o:RJe[(r=t.placement)!=null?r:"bottom"],padding:b,placement:x="bottom",portal:y,scheme:w,shadow:C=2,zOffset:_=(i=d.sanity.layer)==null?void 0:i.tooltip.zOffset,delay:S,...E}=t,j=ye(g),k=fr(n),[T,A]=h.useState(null),D=h.useRef(null),I="viewport",O=xm(),$=typeof y=="string"?((s=O.elements)==null?void 0:s[y])||null:O.element,R=h.useMemo(()=>{const Ee=[...f?[f.offsetWidth]:[],($==null?void 0:$.offsetWidth)||document.body.offsetWidth];return Math.min(...Ee)-RI*2},[f,$==null?void 0:$.offsetWidth]),z=h.useMemo(()=>{const Ee=[];return Ee.push(R1e({boundary:f||void 0,fallbackPlacements:j,padding:RI,rootBoundary:I})),Ee.push($1e({mainAxis:3})),Ee.push(M1e({boundary:f||void 0,rootBoundary:I,padding:RI})),Ee.push(Hbe({element:D,padding:2})),Ee},[f,j]),{floatingStyles:B,placement:U,middlewareData:W,refs:V,update:K}=Wbe({middleware:z,placement:x,whileElementsMounted:U1e}),te=U&&hwe[U.split("-")[0]],N=(a=W.arrow)==null?void 0:a.x,G=(c=W.arrow)==null?void 0:c.y,q=h.useMemo(()=>{const Ee={left:N!==null?N:void 0,top:G!==null?G:void 0,right:void 0,bottom:void 0};return te&&(Ee[te]=-15),Ee},[N,G,te]),Z=h.useId(),[ie,ne]=c$(!1),Y=Wwe(),X=ie||(Y==null?void 0:Y.openTooltipId)===Z,ae=Y!==null,he=typeof S=="number"?S:(S==null?void 0:S.open)||0,ce=typeof S=="number"?S:(S==null?void 0:S.close)||0,xe=ae?Y.openDelay:he,Se=ae?Y.closeDelay:ce,pe=h.useCallback((Ee,Ne)=>{if(ae)if(Ee){const ut=Ne?0:xe;Y.setIsGroupActive(Ee,ut),Y.setOpenTooltipId(Z,ut)}else{const ui=Se>200?Se:200;Y.setIsGroupActive(Ee,ui),Y.setOpenTooltipId(null,Ne?0:Se)}else ne(Ee,Ne?0:Ee?xe:Se)},[ae,Y,xe,Z,Se,ne]),be=h.useCallback(Ee=>{var Ne,ut;pe(!1),(ut=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onBlur)==null||ut.call(Ne,Ee)},[p==null?void 0:p.props,pe]),Be=h.useCallback(Ee=>{var Ne,ut;pe(!1,!0),(ut=p==null?void 0:(Ne=p.props).onClick)==null||ut.call(Ne,Ee)},[p==null?void 0:p.props,pe]),$e=h.useCallback(Ee=>{var Ne,ut;pe(!1,!0),(ut=p==null?void 0:(Ne=p.props).onContextMenu)==null||ut.call(Ne,Ee)},[p==null?void 0:p.props,pe]),ct=h.useCallback(Ee=>{var Ne,ut;pe(!0),(ut=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onFocus)==null||ut.call(Ne,Ee)},[p==null?void 0:p.props,pe]),ot=h.useCallback(Ee=>{var Ne,ut;pe(!0),(ut=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onMouseEnter)==null||ut.call(Ne,Ee)},[p==null?void 0:p.props,pe]),Lt=h.useCallback(Ee=>{var Ne,ut;pe(!1),(ut=(Ne=p==null?void 0:p.props)==null?void 0:Ne.onMouseLeave)==null||ut.call(Ne,Ee)},[p==null?void 0:p.props,pe]);h.useEffect(()=>{if(!ie)return;function Ee(Ne){if(!T)return;T===Ne.target||Ne.target instanceof Node&&T.contains(Ne.target)||(pe(!1),window.removeEventListener("mousemove",Ee))}return window.addEventListener("mousemove",Ee),()=>{window.removeEventListener("mousemove",Ee)}},[ie,T,pe]),h.useEffect(()=>{v&&pe(!1)},[v,pe]),h.useEffect(()=>{m||pe(!1)},[m,pe]),h.useEffect(()=>V.setReference(T),[T,V]),h.useEffect(()=>{if(!X)return;function Ee(Ne){Ne.key==="Escape"&&pe(!1,!0)}return window.addEventListener("keydown",Ee),()=>{window.removeEventListener("keydown",Ee)}},[pe,X]);const Rt=h.useCallback(Ee=>{D.current=Ee,K()},[K]),Ae=h.useCallback(Ee=>{k.current=Ee,V.setFloating(Ee)},[k,V]),Ke=p==null?void 0:p.ref,Ye=h.useCallback(Ee=>{typeof Ke=="function"?Ke(Ee):Ke&&(Ke.current=Ee),A(Ee)},[Ke]),tt=h.useMemo(()=>p?h.cloneElement(p,{onBlur:be,onFocus:ct,onMouseEnter:ot,onMouseLeave:Lt,onClick:Be,onContextMenu:$e,ref:Ye}):null,[p,be,Be,$e,ct,ot,Lt,Ye]);if(!tt)return l.jsx(l.Fragment,{});if(v)return tt;const wt=l.jsx(VJe,{"data-ui":"Tooltip",...E,ref:Ae,style:B,zOffset:_,$maxWidth:R,children:l.jsxs(Q,{"data-ui":"Tooltip__card","data-placement":U,padding:b,radius:2,scheme:w,shadow:C,children:[m,l.jsx(BJe,{ref:Rt,style:q})]})});return l.jsxs(l.Fragment,{children:[tt,X&&l.jsx(l.Fragment,{children:y?l.jsx(wm,{__unstable_name:typeof y=="string"?y:void 0,children:wt}):wt})]})});var $q=Object.freeze,HJe=Object.defineProperty,Kj=(e,t)=>$q(HJe(e,"raw",{value:$q(t||e.slice())})),Mq,Fq,Lq,Bq;const UJe=P.div(Mq||(Mq=Kj([`
  line-height: 0;
`]))),WJe=P(M)(Fq||(Fq=Kj([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),qJe=fm(Lq||(Lq=Kj([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),YJe=P(uw)(Bq||(Bq=Kj([`
  animation: `,` 500ms linear infinite;
`])),qJe);function GJe(e){const{children:t,id:n,onSelect:r,selected:o,value:i}=e,s=h.useCallback(()=>{setTimeout(()=>{r(i)},0)},[r,i]),a=h.useCallback(c=>{c.key==="Enter"&&!lQe(c.currentTarget)&&s()},[s]);return l.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:n,role:"option",onClick:s,onKeyDown:a,children:t})}function KJe(e,t){return t.type==="input/change"?{...e,activeValue:null,focused:!0,query:t.query}:t.type==="input/focus"?{...e,focused:!0}:t.type==="root/blur"?{...e,focused:!1,query:null}:t.type==="root/clear"?{...e,activeValue:null,query:null,value:null}:t.type==="root/escape"?{...e,focused:!1,query:null}:t.type==="root/open"?{...e,query:e.query||t.query}:t.type==="root/setActiveValue"?{...e,activeValue:t.value,listFocused:t.listFocused||e.listFocused}:t.type==="root/setListFocused"?{...e,listFocused:t.listFocused}:t.type==="value/change"?{...e,activeValue:t.value,query:null,value:t.value}:e}const ZJe=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],XJe="bottom-start",QJe=["bottom-start","top-start"],JJe=(e,t)=>t?t.value:e,eet=(e,t)=>t.value.toLowerCase().indexOf(e.toLowerCase())>-1,tet=h.forwardRef(function(t,n){const{border:r=!0,customValidity:o,disabled:i,filterOption:s,fontSize:a=2,icon:c,id:u,listBox:d=gf,loading:f,onBlur:p,onChange:m,onFocus:v,onQueryChange:g,onSelect:b,openButton:x,options:y,padding:w=3,popover:C=gf,prefix:_,radius:S=3,readOnly:E,relatedElements:j,renderOption:k,renderPopover:T,renderValue:A=JJe,suffix:D,value:I,...O}=t,[$,R]=h.useReducer(KJe,{activeValue:I||null,focused:!1,listFocused:!1,query:null,value:I||null}),{activeValue:z,focused:B,listFocused:U,query:W,value:V}=$,K=h.useCallback(We=>{let{value:Ct}=We;return l.jsx(Q,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:l.jsx(L,{size:a,textOverflow:"ellipsis",children:Ct})})},[a,w]),te=typeof k=="function"?k:K,N=typeof s=="function"?s:eet,G=h.useRef(null),q=h.useRef(null),Z=h.useRef(null),ie=h.useRef(null),ne=h.useRef(!1),Y=h.useRef(V),X=h.useRef(I),ae=h.useRef(!1),he=fr(n),ce="".concat(u,"-listbox"),xe=Array.isArray(y)?y:kw,Se=ye(w),pe=h.useMemo(()=>V!==null?xe.find(We=>We.value===V):void 0,[xe,V]),be=h.useMemo(()=>xe.filter(We=>W?N(W,We):!0),[N,xe,W]),Be=be.length,$e=z?"".concat(u,"-option-").concat(z):void 0,ct=W!==null&&f||B&&W!==null,ot=h.useCallback(We=>{setTimeout(()=>{if(ae.current)return;const Ct=(j||[]).concat(G.current?[G.current]:[],q.current?[q.current]:[]);let tr=!1;if(document.activeElement){for(const Nn of Ct)if(Nn===document.activeElement||Nn.contains(document.activeElement)){tr=!0;break}}tr===!1&&(R({type:"root/blur"}),ae.current=!1,g&&g(null),p&&p(We))},0)},[p,g,j]),Lt=h.useCallback(We=>{const Ct=ie.current,tr=We.target instanceof HTMLElement?We.target:null,Nn=(Ct==null?void 0:Ct.contains(tr))||!1;Nn!==ne.current&&(ne.current=Nn,R({type:"root/setListFocused",listFocused:Nn}))},[]),Rt=h.useCallback(We=>{var Ct;R({type:"value/change",value:We}),ae.current=!1,b&&b(We),Y.current=We,m&&m(We),g&&g(null),(Ct=Z.current)==null||Ct.focus()},[m,b,g]),Ae=h.useCallback(We=>{var Ct,tr;if(We.key==="ArrowDown"){if(We.preventDefault(),!Be)return;const Ar=be.find(pa=>pa.value===z),di=Ar?be.indexOf(Ar):-1,Os=be[(di+1)%Be];Os&&R({type:"root/setActiveValue",value:Os.value,listFocused:!0});return}if(We.key==="ArrowUp"){if(We.preventDefault(),!Be)return;const Ar=be.find(pa=>pa.value===z),di=Ar?be.indexOf(Ar):-1,Os=be[di===-1?Be-1:(Be+di-1)%Be];Os&&R({type:"root/setActiveValue",value:Os.value,listFocused:!0});return}if(We.key==="Escape"){R({type:"root/escape"}),ae.current=!1,g&&g(null),(Ct=Z.current)==null||Ct.focus();return}const Nn=We.target,ha=ie.current;if((ha===Nn||ha!=null&&ha.contains(Nn))&&!ZJe.includes(We.key)){(tr=Z.current)==null||tr.focus();return}},[z,be,Be,g]),Ke=h.useCallback(We=>{const Ct=We.currentTarget.value;R({type:"input/change",query:Ct}),g&&g(Ct)},[g]),Ye=h.useCallback(We=>{B||(R({type:"input/focus"}),v&&v(We))},[B,v]),tt=h.useCallback(()=>{ae.current=!0},[]),wt=h.useCallback(()=>{ae.current=!1},[]),Ee=h.useCallback(()=>{var We;R({type:"root/clear"}),Y.current="",m&&m(""),g&&g(null),(We=Z.current)==null||We.focus()},[m,g]),Ne=h.useCallback(()=>{R({type:"input/focus"})},[]);h.useEffect(()=>{if(I!==X.current){X.current=I,I!==void 0&&(R({type:"value/change",value:I}),Y.current=I);return}I!==Y.current&&(Y.current=I||null,R({type:"value/change",value:I||null}))},[I]),h.useEffect(()=>{!B&&Y.current&&R({type:"root/setActiveValue",value:Y.current})},[B]),h.useEffect(()=>{const We=ie.current;if(!We)return;const Ct=be.find(tr=>tr.value===z);if(Ct){const tr=be.indexOf(Ct),Nn=We.childNodes[tr];if(Nn){if(fQe(Nn))return;Hp(Nn)}}},[z,be]);const ut=h.useCallback(We=>{Z.current=We,he.current=We},[he]),ui=h.useMemo(()=>{if(!f&&!i&&V)return{"aria-label":"Clear",onFocus:Ne}},[i,Ne,f,V]),er=h.useMemo(()=>Se.map(We=>We===0?0:We===1||We===2?1:We-2),[Se]),Go=h.useMemo(()=>Se.map(We=>Math.max(We-1,0)),[Se]),Yt=h.useMemo(()=>typeof x=="object"?x:gf,[x]),no=h.useCallback(We=>{R({type:"root/open",query:V?A(V,pe):""}),Yt.onClick&&Yt.onClick(We),s$(()=>{var Ct;return(Ct=Z.current)==null?void 0:Ct.focus()})},[pe,Yt,A,V]),sl=h.useMemo(()=>!i&&!E&&x?l.jsx(M,{"aria-hidden":ct,padding:er,children:l.jsx(oe,{"aria-label":"Open",disabled:ct,fontSize:a,icon:Ja,mode:"bleed",padding:Go,...Yt,onClick:no})}):void 0,[i,ct,a,no,x,er,Go,Yt,E]),al=h.useMemo(()=>W===null?V!==null?A(V,pe):"":W,[pe,W,A,V]),Is=l.jsx(Lr,{...O,"aria-activedescendant":$e,"aria-autocomplete":"list","aria-expanded":ct,"aria-owns":ce,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:ui,customValidity:o,disabled:i,fontSize:a,icon:c,iconRight:f&&YJe,id:u,inputMode:"search",onChange:Ke,onClear:Ee,onFocus:Ye,padding:Se,prefix:_,radius:S,readOnly:E,ref:ut,role:"combobox",spellCheck:!1,suffix:D||sl,value:al}),Bn=h.useCallback(We=>{var Ct;We.key==="Tab"&&U&&((Ct=Z.current)==null||Ct.focus())},[U]),zn=h.useMemo(()=>be.length===0?null:l.jsx(WJe,{"data-ui":"AutoComplete__results",onKeyDown:Bn,padding:1,...d,tabIndex:-1,children:l.jsx(ee,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ce,ref:ie,role:"listbox",space:1,children:be.map(We=>{const Ct=z!==null?We.value===z:pe===We;return l.jsx(GJe,{id:"".concat(u,"-option-").concat(We.value),onSelect:Rt,selected:Ct,value:We.value,children:h.cloneElement(te(We),{disabled:f,selected:Ct,tabIndex:U&&Ct?0:-1})},We.value)})})}),[z,pe,be,Rt,Bn,u,d,ce,U,f,te]),Gr=h.useMemo(()=>T?T({content:zn,hidden:!ct,inputElement:Z.current,onMouseEnter:tt,onMouseLeave:wt},q):Be===0?null:l.jsx(rn,{arrow:!1,constrainSize:!0,content:zn,fallbackPlacements:QJe,matchReferenceWidth:!0,onMouseEnter:tt,onMouseLeave:wt,open:ct,overflow:"auto",placement:XJe,portal:!0,radius:S,ref:q,referenceElement:Z.current,...C}),[zn,ct,Be,tt,wt,C,S,T]);return l.jsxs(UJe,{"data-ui":"Autocomplete",onBlur:ot,onFocus:Lt,onKeyDown:Ae,ref:G,children:[Is,Gr]})}),LL=tet;var Nq=Object.freeze,net=Object.defineProperty,Ywe=(e,t)=>Nq(net(e,"raw",{value:Nq(t||e.slice())})),zq,Vq;const ret=P.ol(zq||(zq=Ywe([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),oet=P(oe)(Vq||(Vq=Ywe([`
  appearance: none;
  margin: -4px;
`]))),BL=h.forwardRef(function(t,n){const{children:r,maxLength:o,separator:i,space:s=2,...a}=t,c=ye(s),[u,d]=h.useState(!1),[f,p]=h.useState(null),[m,v]=h.useState(null),g=h.useCallback(()=>d(!1),[]),b=h.useCallback(()=>d(!0),[]);dr(g,[f,m]);const x=h.useMemo(()=>h.Children.toArray(r).filter(w=>h.isValidElement(w)),[r]),y=h.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),_=Math.floor(o/2);return[...x.slice(0,C-1),l.jsx(rn,{constrainSize:!0,content:l.jsx(ee,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(C-1,w-_)}),open:u,placement:"top",portal:!0,ref:v,children:l.jsx(oet,{fontSize:1,mode:"bleed",onClick:u?g:b,padding:1,ref:p,selected:u,text:"…"})},"button"),...x.slice(w-_)]}return x},[g,b,o,u,x,c]);return l.jsx(ret,{"data-ui":"Breadcrumbs",...a,ref:n,children:y.map((w,C)=>l.jsxs(h.Fragment,{children:[C>0&&l.jsx(M,{"aria-hidden":!0,as:"li",paddingX:c,children:i||l.jsx(L,{muted:!0,children:"/"})}),l.jsx(M,{as:"li",children:w})]},C))})});function iet(e){let{theme:t}=e;const n=t.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:n.shadow.umbra}}function set(e){const{theme:t}=e,{media:n}=t.sanity;return gt(n,e.$position,r=>({"&&":{position:r}}))}const d$=Symbol.for("@sanity/ui/context/dialog");en[d$]=en[d$]||h.createContext({version:0});const Gwe=en[d$];function aet(){return h.useContext(Gwe)}var Hq=Object.freeze,cet=Object.defineProperty,A0=(e,t)=>Hq(cet(e,"raw",{value:Hq(t||e.slice())})),Uq,Wq,qq,Yq,Gq,Kq;function f$(e,t,n){return!e||!t?!0:a$(e,n)||a$(t,n)}const uet=P(os)(Awe,iet,set),det=P(eo)(Uq||(Uq=A0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),fet=P(Q)(Wq||(Wq=A0([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),het=P(H)(qq||(qq=A0([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),pet=P(Q)(Yq||(Yq=A0([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),met=P(M)(Gq||(Gq=A0([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),get=P(M)(Kq||(Kq=A0([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),vet=h.forwardRef(function(t,n){var r;const{__unstable_autoFocus:o,__unstable_hideCloseButton:i,children:s,contentRef:a,footer:c,header:u,id:d,onClickOutside:f,onClose:p,portal:m,radius:v,scheme:g,shadow:b,width:x}=t,y=xm(),w=m?((r=y.elements)==null?void 0:r[m])||null:y.element,C=Jf().element,_=ye(v),S=ye(b),E=ye(x),j=fr(n),[k,T]=h.useState(null),A=h.useRef(null),D=tl(),{isTopLayer:I}=D,O="".concat(d,"_label"),$=!!p&&i===!1,R=!!u||$;h.useEffect(()=>{o&&j.current&&Hp(j.current)},[o,j]),rs(h.useCallback(U=>{if(!I||!p)return;const W=document.activeElement;W&&!f$(C,w,W)||U.key==="Escape"&&(U.preventDefault(),U.stopPropagation(),p())},[C,I,p,w])),dr(h.useCallback(U=>{if(!I||!f)return;const W=U.target;W&&!f$(C,w,W)||f()},[C,I,f,w]),[k]);const z=h.useCallback(U=>{T(U),j.current=U},[j]),B=h.useCallback(U=>{A.current=U,typeof a=="function"?a(U):a&&(a.current=U)},[a]);return l.jsx(det,{"data-ui":"DialogCard",width:E,children:l.jsx(fet,{radius:_,ref:z,scheme:g,shadow:S,children:l.jsxs(het,{direction:"column",children:[R&&l.jsx(pet,{children:l.jsxs(H,{children:[l.jsx(M,{flex:1,padding:4,children:u&&l.jsx(L,{id:O,weight:"semibold",children:u})}),$&&l.jsx(M,{padding:2,children:l.jsx(oe,{"aria-label":"Close dialog",disabled:!p,icon:Di,mode:"bleed",onClick:p,padding:3})})]})}),l.jsx(met,{flex:1,ref:B,tabIndex:-1,children:s}),c&&l.jsx(get,{children:c})]})})})}),Mi=h.forwardRef(function(t,n){var r,o;const i=aet(),s=As(),{__unstable_autoFocus:a=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:d=4,children:f,contentRef:p,footer:m,header:v,id:g,onActivate:b,onClickOutside:x,onClose:y,onFocus:w,padding:C=4,portal:_,position:S=i.position||"fixed",scheme:E,width:j=0,zOffset:k=i.zOffset||((r=s.sanity.layer)==null?void 0:r.dialog.zOffset),...T}=t,A=xm(),D=_?((o=A.elements)==null?void 0:o[_])||null:A.element,I=Jf().element,O=ye(u),$=ye(C),R=ye(S),z=ye(j),B=ye(k),U=h.useRef(null),W=h.useRef(null),V=h.useRef(null),K=h.useRef(null),te=h.useCallback(Z=>{w==null||w(Z);const ie=Z.target,ne=V.current;if(ne&&ie===U.current){RL(ne);return}if(ne&&ie===W.current){Hp(ne);return}Rc(Z.target)&&(K.current=Z.target)},[w]),N="".concat(g,"_label"),G=h.useRef(),q=h.useCallback(()=>{G.current&&clearTimeout(G.current),G.current=setTimeout(()=>{const Z=document.activeElement;if(Z&&!f$(I,D,Z)){const ie=K.current;if(!ie||!document.body.contains(ie)){const ne=V.current;ne&&Hp(ne);return}ie.focus()}},0)},[I,D]);return l.jsx(wm,{__unstable_name:_,children:l.jsxs(uet,{...T,$padding:$,$position:R,"aria-labelledby":N,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:b,onClick:q,onFocus:te,ref:n,role:"dialog",zOffset:B,children:[l.jsx("div",{ref:U,tabIndex:0}),l.jsx(vet,{__unstable_autoFocus:a,__unstable_hideCloseButton:c,contentRef:p,footer:m,header:v,id:g,onClickOutside:x,onClose:y,portal:_,radius:O,ref:V,scheme:E,shadow:d,width:z,children:f}),l.jsx("div",{ref:W,tabIndex:0})]})})});function h$(e){const{children:t,position:n,zOffset:r}=e,o=h.useMemo(()=>({version:0,position:n,zOffset:r}),[n,r]);return l.jsx(Gwe.Provider,{value:o,children:t})}var Zq=Object.freeze,yet=Object.defineProperty,Kwe=(e,t)=>Zq(yet(e,"raw",{value:Zq(t||e.slice())})),Xq,Qq;const bet=P.kbd(Xq||(Xq=Kwe([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),xet=P(n$)(Qq||(Qq=Kwe([`
  &:not([hidden]) {
    display: block;
  }
`]))),NL=h.forwardRef(function(t,n){const{fontSize:r,keys:o,padding:i,radius:s,space:a=1,...c}=t,u=ye(a);return!o||o.length===0?l.jsx(l.Fragment,{}):l.jsx(bet,{"data-ui":"Hotkeys",...c,ref:n,children:l.jsx(Zt,{as:"span",space:u,children:o.map((d,f)=>l.jsx(xet,{fontSize:r,padding:i,radius:s,children:d},f))})})}),p$=Symbol.for("@sanity/ui/context/menu");en[p$]=en[p$]||h.createContext(null);const Zwe=en[p$];function wet(e){return OL(e)&&e.getAttribute("data-disabled")!=="true"||PL(e)&&!e.disabled}function Km(e){return e.filter(wet)}function Cet(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const Jq=[];function _et(e,t){if(!e)return;const n=new WeakMap;for(const o of t)n.set(o,Cet(e,o));const r=(o,i)=>{const s=n.get(o)||Jq,a=n.get(i)||Jq,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function Eet(e){const{onKeyDown:t,originElement:n,shouldFocus:r}=e,o=h.useRef([]),[i,s]=h.useState(null),[a,c]=h.useState(-1),u=h.useRef(a),d=o.current[a]||null,f=!!i,p=h.useCallback(x=>{c(x),u.current=x},[]),m=h.useCallback((x,y)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),_et(i,o.current)),y){const w=o.current.indexOf(x);p(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[i,p]),v=h.useCallback(x=>{if(x.key==="Tab"){n&&n.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=Km(o.current)[0];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const y=Km(o.current),w=y[y.length-1];if(!w)return;const C=o.current.indexOf(w);p(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const y=Km(o.current),w=y.length;if(w===0)return;const C=o.current[u.current];let _=y.indexOf(C);_=(_-1+w)%w;const S=y[_],E=o.current.indexOf(S);p(E);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const y=Km(o.current),w=y.length;if(w===0)return;const C=o.current[u.current];let _=y.indexOf(C);_=(_+1)%w;const S=y[_],E=o.current.indexOf(S);p(E);return}t&&t(x)},[t,n,p]),g=h.useCallback(x=>{const y=x.currentTarget,w=o.current.indexOf(y);p(w)},[p]),b=h.useCallback(()=>{p(-2),i==null||i.focus()},[p,i]);return h.useEffect(()=>{if(!f)return;const x=window.requestAnimationFrame(()=>{const y=u.current;if(y===-1){if(r==="first"){const _=Km(o.current)[0];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}if(r==="last"){const C=Km(o.current),_=C[C.length-1];if(_){const S=o.current.indexOf(_);p(S),u.current=S}}return}const w=o.current[y]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[a,f,p,r]),{activeElement:d,activeIndex:a,handleItemMouseEnter:g,handleItemMouseLeave:b,handleKeyDown:v,mount:m,rootElement:i,setRootElement:s}}var eY=Object.freeze,ket=Object.defineProperty,jet=(e,t)=>eY(ket(e,"raw",{value:eY(t||e.slice())})),tY;const Tet=P(M)(tY||(tY=jet([`
  outline: none;
  overflow: auto;
`]))),Nt=h.forwardRef(function(t,n){const{children:r,focusFirst:o,focusLast:i,onClickOutside:s,onEscape:a,onItemClick:c,onItemSelect:u,onKeyDown:d,originElement:f,padding:p=1,registerElement:m,shouldFocus:v=t.focusFirst&&"first"||t.focusLast&&"last"||null,space:g=1,...b}=t,x=fr(n),{isTopLayer:y}=tl(),{activeElement:w,activeIndex:C,handleItemMouseEnter:_,handleItemMouseLeave:S,handleKeyDown:E,mount:j,rootElement:k,setRootElement:T}=Eet({onKeyDown:d,originElement:f,shouldFocus:v}),A=h.useCallback(I=>{T(I),x.current=I},[x,T]);h.useEffect(()=>{u&&u(C)},[C,u]),dr(h.useCallback(I=>y&&s&&s(I),[y,s]),[k]),rs(h.useCallback(I=>{y&&I.key==="Escape"&&(I.stopPropagation(),a&&a())},[y,a])),h.useEffect(()=>{if(!(!k||!m))return m(k)},[m,k]);const D=h.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:j,onClickOutside:s,onEscape:a,onItemClick:c,onItemMouseEnter:_,onItemMouseLeave:S,registerElement:m,onMouseEnter:_,onMouseLeave:S}),[w,C,j,_,S,s,a,c,m]);return l.jsx(Zwe.Provider,{value:D,children:l.jsx(Tet,{"data-ui":"Menu",...b,onKeyDown:E,padding:p,ref:A,role:"menu",tabIndex:-1,children:l.jsx(ee,{space:g,children:r})})})}),on=h.forwardRef(function(t,n){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:o,button:i,id:s,menu:a,onClose:c,onOpen:u,placement:d,popoverScheme:f,portal:p=!0,popover:m,popoverRadius:v,preventOverflow:g}=t,[b,x]=h.useState(!1),[y,w]=h.useState(null),[C,_]=h.useState(null),[S,E]=h.useState([]),j=h.useRef(b);h.useEffect(()=>{u&&b&&!j.current&&u()},[u,b]),h.useEffect(()=>{c&&!b&&j.current&&c()},[c,b]),h.useEffect(()=>{j.current=b},[b]);const k=h.useCallback(()=>{x(V=>!V),w(null)},[]),T=h.useCallback(V=>{if(V.key==="ArrowDown"||V.key==="Enter"||V.key===" "){V.preventDefault(),x(!0),w("first");return}if(V.key==="ArrowUp"){V.preventDefault(),x(!0),w("last");return}},[]),A=h.useCallback(V=>{const K=V.target;if(K instanceof Node&&!(C&&(K===C||C.contains(K)))){for(const te of S)if(K===te||te.contains(K))return;x(!1)}},[C,S]),D=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),I=h.useCallback(V=>{const K=V.relatedTarget;if(K instanceof Node){for(const te of S)if(te===K||te.contains(K))return;x(!1)}},[S]),O=h.useCallback(()=>{x(!1),!r&&C&&C.focus()},[C,r]),$=h.useCallback(V=>(E(K=>K.concat([V])),()=>{E(K=>K.filter(te=>te!==V))}),[]),R=h.useMemo(()=>({"aria-labelledby":s,onBlurCapture:I,onClickOutside:A,onEscape:D,onItemClick:O,originElement:C,registerElement:$,shouldFocus:y}),[C,A,D,O,s,I,$,y]),z=kr.isElement(a)?h.cloneElement(a,R):null,B=h.useCallback(V=>{typeof n=="function"?n(V):n&&(n.current=V),_(V)},[n]),U=h.useMemo(()=>kr.isElement(i)?h.cloneElement(i,{"data-ui":"MenuButton",id:s,onClick:k,onKeyDown:T,"aria-haspopup":!0,"aria-expanded":b,ref:B,selected:b}):null,[i,k,T,s,b,B]),W=h.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:d,portal:p,preventOverflow:g,radius:v,scheme:f,...m||{}}),[o,d,v,f,p,g,m]);return l.jsx(rn,{"data-ui":"MenuButton__popover",...W,content:z,open:b,children:U||l.jsx(l.Fragment,{})})});var nY=Object.freeze,Aet=Object.defineProperty,Det=(e,t)=>nY(Aet(e,"raw",{value:nY(t||e.slice())})),rY;const $r=P.hr(rY||(rY=Det([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var oY=Object.freeze,Iet=Object.defineProperty,Xwe=(e,t)=>oY(Iet(e,"raw",{value:oY(t||e.slice())})),iY,sY;function Oet(){return de(iY||(iY=Xwe([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function Pet(e){var t,n;const{$tone:r,theme:o}=e,{base:i,muted:s,selectable:a}=o.sanity.color,c=a?a[r]||a.default:s[r]||s.default;return de(sY||(sY=Xwe([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Vt(i,c.enabled),Vt(i,c.disabled),Vt(i,c.pressed),Vt(i,c.selected),Vt(i,c.hovered),Vt(i,c.pressed),Vt(i,c.disabled),Vt(i,c.pressed),Vt(i,c.selected),Vt(i,c.hovered),Vt(i,c.pressed),(n=(t=o.sanity.styles)==null?void 0:t.card)==null?void 0:n.root)}const Qwe=P(M)(sd,Oet,Pet);function Jwe(){const e=h.useContext(Zwe);if(!e)throw new Error("useMenu(): missing context value");if(!E0(e)||e.version!==0)throw new Error("useMenu(): the context value is not compatible");return e}function zL(e){const{as:t="button",children:n,fontSize:r,icon:o,onClick:i,padding:s=3,popover:a,radius:c=2,space:u=3,text:d,tone:f="default",...p}=e,m=Jwe(),{activeElement:v,mount:g,onClickOutside:b,onEscape:x,onItemClick:y,onItemMouseEnter:w=m.onMouseEnter,registerElement:C}=m,[_,S]=h.useState(null),[E,j]=h.useState(!1),k=h.useRef(null),T=!!v&&v===_,[A,D]=h.useState(!1),I=h.useCallback(W=>{D(!1),w(W),j(!0)},[w]),O=h.useCallback(W=>{W.key==="ArrowLeft"&&(W.stopPropagation(),j(!1),requestAnimationFrame(()=>{_==null||_.focus()}))},[_]),$=h.useCallback(W=>{i&&i(W),k.current="first",j(!0),requestAnimationFrame(()=>{k.current=null})},[i]),R=h.useCallback(()=>{j(!1),y&&y()},[y]),z=h.useCallback(()=>D(!0),[]);h.useEffect(()=>g(_),[g,_]),h.useEffect(()=>{T||j(!1)},[T]),h.useEffect(()=>{E||D(!1)},[E]);const B=l.jsx(Nt,{onClickOutside:b,onEscape:x,onItemClick:R,onKeyDown:O,onMouseEnter:z,registerElement:C,shouldFocus:k.current,children:n}),U=h.useCallback(W=>{const V=W.currentTarget;if(document.activeElement===V&&W.key==="ArrowRight"){k.current="first",j(!0),D(!0),requestAnimationFrame(()=>{k.current=null});return}},[]);return l.jsx(rn,{...a,content:B,"data-ui":"MenuGroup__popover",open:E,children:l.jsx(Qwe,{"data-as":t,"data-ui":"MenuGroup",forwardedAs:t,...p,"aria-pressed":t==="button"?A:void 0,"data-pressed":t!=="button"?A:void 0,"data-selected":!A&&T?"":void 0,$radius:ye(c),$tone:f,onClick:$,onKeyDown:U,onMouseEnter:I,ref:S,tabIndex:-1,type:t==="button"?"button":void 0,children:l.jsx(M,{padding:s,children:l.jsxs(H,{children:[o&&l.jsxs(L,{size:r,children:[h.isValidElement(o)&&o,kr.isValidElementType(o)&&h.createElement(o)]}),l.jsx(M,{flex:1,marginLeft:o?u:void 0,children:l.jsx(L,{size:r,textOverflow:"ellipsis",children:d})}),l.jsx(M,{marginLeft:u,children:l.jsx(L,{size:r,children:l.jsx(Ic,{})})})]})})})})}const ze=h.forwardRef(function(t,n){const{as:r="button",children:o,disabled:i,fontSize:s=2,hotkeys:a,icon:c,iconRight:u,onClick:d,padding:f=3,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:b,paddingLeft:x,pressed:y,radius:w=2,selected:C,space:_=3,text:S,tone:E="default",...j}=t,k=Jwe(),{activeElement:T,mount:A,onItemClick:D,onItemMouseEnter:I=k.onMouseEnter,onItemMouseLeave:O=k.onMouseLeave}=k,[$,R]=h.useState(null),z=!!T&&T===$;h.useEffect(()=>A($,C),[A,$,C]);const B=fr(n),U=h.useCallback(K=>{i||(d&&d(K),D&&D())},[i,d,D]),W=h.useMemo(()=>({padding:f,paddingX:p,paddingY:m,paddingTop:v,paddingRight:g,paddingBottom:b,paddingLeft:x}),[f,p,m,v,g,b,x]),V=h.useCallback(K=>{B.current=K,R(K)},[B]);return l.jsxs(Qwe,{"data-ui":"MenuItem",...j,"aria-pressed":r==="button"&&y,"data-pressed":r!=="button"&&y?"":void 0,"data-selected":z?"":void 0,"data-disabled":i?"":void 0,forwardedAs:r,$radius:ye(w),$padding:ye(0),$tone:E,disabled:i,onClick:U,onMouseEnter:I,onMouseLeave:O,ref:V,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(c||S||u)&&l.jsx(M,{as:"span",...W,children:l.jsxs(H,{as:"span",children:[c&&l.jsxs(L,{size:s,children:[h.isValidElement(c)&&c,kr.isValidElementType(c)&&h.createElement(c)]}),S&&l.jsx(M,{flex:1,marginLeft:c?_:void 0,marginRight:u?_:void 0,children:l.jsx(L,{size:s,textOverflow:"ellipsis",children:S})}),a&&l.jsx(M,{marginLeft:_,style:{marginTop:-4,marginBottom:-4},children:l.jsx(NL,{fontSize:s,keys:a})}),u&&l.jsxs(L,{size:s,children:[h.isValidElement(u)&&u,kr.isValidElementType(u)&&h.createElement(u)]})]})}),o&&l.jsx(M,{as:"span",...W,children:o})]})});var aY=Object.freeze,Ret=Object.defineProperty,HE=(e,t)=>aY(Ret(e,"raw",{value:aY(t||e.slice())})),lY,cY,uY,dY;const $et=fm(lY||(lY=HE([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),Met=de(cY||(cY=HE([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),$et),Fet=de(dY||(dY=HE([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),e=>{let{$visible:t}=e;return t?1:0},e=>{let{$animated:t}=e;return t?Met:de(uY||(uY=HE([`
            background-color: var(--card-skeleton-color-from);
          `])))}),Let=P(M)(sd,Fet),D0=h.forwardRef(function(t,n){const{animated:r=!1,delay:o,radius:i,...s}=t,[a,c]=h.useState(!o);return h.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),l.jsx(Let,{...s,$animated:r,$radius:ye(i),$visible:a,ref:n})}),Zj=P(D0)(e=>{let{$size:t,$style:n,theme:r}=e;const{media:o}=r.sanity,i=r.sanity.fonts[n];return gt(o,t,a=>{const c=i.sizes[a];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})}),Oi=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(Zj,{...o,$size:i,ref:n,$style:"text"})}),UE=h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(Zj,{...o,$size:i,ref:n,$style:"label"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(Zj,{...o,$size:i,ref:n,$style:"heading"})});h.forwardRef(function(t,n){const{size:r=2,...o}=t,i=ye(r);return l.jsx(Zj,{...o,$size:i,ref:n,$style:"code"})});var fY=Object.freeze,Bet=Object.defineProperty,Net=(e,t)=>fY(Bet(e,"raw",{value:fY(t||e.slice())})),hY;const zet=P(oe)(hY||(hY=Net([`
  max-width: 100%;
`]))),sx=h.forwardRef(function(t,n){const{icon:r,id:o,focused:i,fontSize:s,label:a,onClick:c,onFocus:u,padding:d=2,selected:f,...p}=t,m=h.useRef(null),v=h.useRef(!1),g=h.useCallback(()=>{v.current=!1},[]),b=h.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=fr(n);h.useEffect(()=>{i&&!v.current&&(m.current&&m.current.focus(),v.current=!0)},[i]);const y=w=>{m.current=w,x.current=w};return l.jsx(zet,{"data-ui":"Tab",...p,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:o,mode:"bleed",onClick:c,onBlur:g,onFocus:b,padding:d,ref:y,role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});var pY=Object.freeze,Vet=Object.defineProperty,Het=(e,t)=>pY(Vet(e,"raw",{value:pY(t||e.slice())})),mY;function Uet(e){return!!e}const Wet=P(Zt)(mY||(mY=Het([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),Xj=h.forwardRef(function(t,n){const{children:r,...o}=t,[i,s]=h.useState(-1),c=h.useMemo(()=>r.filter(Uet),[r]).map((p,m)=>h.cloneElement(p,{focused:i===m,key:m,onFocus:()=>d(m)})),u=c.length,d=h.useCallback(p=>{s(p)},[]),f=h.useCallback(p=>{p.key==="ArrowLeft"&&s(m=>(m+u-1)%u),p.key==="ArrowRight"&&s(m=>(m+1)%u)},[u]);return l.jsx(Wet,{"data-ui":"TabList",...o,onKeyDown:f,ref:n,role:"tablist",children:c})}),eCe=h.forwardRef(function(t,n){const{flex:r,...o}=t;return l.jsx(M,{"data-ui":"TabPanel",...o,flex:r,ref:n,role:"tabpanel",tabIndex:t.tabIndex===void 0?0:t.tabIndex,children:t.children})});var gY=Object.freeze,qet=Object.defineProperty,tCe=(e,t)=>gY(qet(e,"raw",{value:gY(t||e.slice())})),vY,yY;const Yet={error:"critical",warning:"caution",success:"positive",info:"primary"},Get={error:"alert",warning:"alert",success:"alert",info:"alert"},Ket=P(Q)(vY||(vY=tCe([`
  pointer-events: all;
`]))),Zet=P(H)(yY||(yY=tCe([`
  overflow-x: auto;
`])));function Xet(e){const{closable:t,description:n,onClose:r,title:o,status:i,...s}=e,a=i?Yet[i]:"default",c=i?Get[i]:"status";return l.jsx(Ket,{"data-ui":"Toast",role:c,...s,marginTop:3,radius:2,shadow:2,tone:a,children:l.jsxs(H,{align:"flex-start",children:[l.jsx(Zet,{flex:1,padding:3,children:l.jsxs(ee,{space:3,children:[o&&l.jsx(L,{weight:"semibold",children:o}),n&&l.jsx(L,{muted:!0,size:1,children:n})]})}),t&&l.jsx(M,{padding:1,children:l.jsx(oe,{as:"button",icon:Di,mode:"bleed",padding:2,onClick:r,style:{verticalAlign:"top"}})})]})})}function Qet(){const[e,t]=h.useReducer(()=>!0,!1);return h.useEffect(t,[t]),e}const m$=Symbol.for("@sanity/ui/context/toast");en[m$]=en[m$]||h.createContext(null);const nCe=en[m$];var bY=Object.freeze,Jet=Object.defineProperty,rCe=(e,t)=>bY(Jet(e,"raw",{value:bY(t||e.slice())})),xY,wY;const ett=P(os)(xY||(xY=rCe([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`]))),ttt=P.div(wY||(wY=rCe([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));let ntt=0;function VL(e){const{children:t,padding:n=4,paddingX:r,paddingY:o,zOffset:i}=e,[s,a]=h.useState([]),c=h.useRef({}),u=h.useCallback(p=>{const m=x=>h.startTransition(()=>a(x)),v=p.id||String(ntt++),g=p.duration||5e3,b=()=>{var x;const y=(x=c.current[v])==null?void 0:x.timeoutId;m(w=>{const C=w.findIndex(_=>_.id===v);if(C>-1){const _=w.slice(0);return _.splice(C,1),_}return w}),y!==void 0&&(clearTimeout(y),delete c.current[v])};return m(x=>x.filter(y=>y.id!==v).concat([{dismiss:b,id:v,params:{...p,duration:g}}])),c.current[v]&&(clearTimeout(c.current[v].timeoutId),delete c.current[v]),c.current[v]={timeoutId:setTimeout(b,g)},v},[]);h.useEffect(()=>()=>{for(const{timeoutId:p}of Object.values(c.current))clearTimeout(p);c.current={}},[]);const d=h.useMemo(()=>({version:0,push:u}),[u]),f=Qet();return l.jsxs(nCe.Provider,{value:d,children:[t,f&&l.jsx(ett,{"data-ui":"ToastProvider",zOffset:i,children:l.jsx(ttt,{children:l.jsx(M,{padding:n,paddingX:r,paddingY:o,children:l.jsx(kL,{initial:!1,children:s.map(p=>{let{dismiss:m,id:v,params:g}=p;return l.jsx(id.div,{animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.5,transition:{duration:.2}},initial:{opacity:0,y:32,scale:.25},layout:"position",transition:{type:"spring",damping:30,stiffness:400},children:l.jsx(Xet,{closable:g.closable,description:g.description,onClose:m,status:g.status,title:g.title})},v)})})})})})]})}function qo(){const e=h.useContext(nCe);if(!e)throw new Error("useToast(): missing context value");if(!E0(e)||e.version!==0)throw new Error("useToast(): the context value is not compatible");return e}function rtt(e,t,n){var r;const o=t.indexOf(n),i=t.slice(0,o),s=i.length;for(let a=s-1;a>=0;a-=1){const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function ott(e,t,n){var r;const o=t.indexOf(n),i=t.slice(o),s=t.length;for(let a=1;a<s;a+=1){if(!i[a])continue;const c=i[a].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const d=[];let f=!0;for(let p=0;p<u.length;p+=1){d.push(u[p]);const m=d.join("/");if(!((r=e[m])!=null&&r.expanded)){f=!1;break}}if(f)return i[a]}return null}function CY(e){if(e.getAttribute("role")==="treeitem"&&e.focus(),e.getAttribute("role")==="none"){const t=e.firstChild;t&&t instanceof HTMLElement&&t.focus()}}const g$=Symbol.for("@sanity/ui/context/tree");en[g$]=en[g$]||h.createContext(null);const WE=en[g$],oCe=h.memo(h.forwardRef(function(t,n){const{children:r,space:o=1,onFocus:i,...s}=t,a=fr(n),[c,u]=h.useState(null),d=h.useRef(c),f=h.useMemo(()=>[],[]),[p,m]=h.useState([]),[v,g]=h.useState({}),b=h.useRef(v);h.useEffect(()=>{d.current=c},[c]),h.useEffect(()=>{b.current=v},[v]);const x=h.useCallback((S,E,j,k)=>(g(T=>({...T,[E]:{element:S,expanded:j}})),k&&u(S),()=>{g(T=>{const A={...T};return delete A[E],A})}),[]),y=h.useCallback((S,E)=>{g(j=>{const k=j[S];return k?{...j,[S]:{...k,expanded:E}}:j})},[]),w=h.useMemo(()=>({version:0,focusedElement:c||p[0]||null,level:0,path:f,registerItem:x,setExpanded:y,setFocusedElement:u,space:o,state:v}),[c,p,f,x,y,o,v]),C=h.useCallback(S=>{var E;if(d.current){if(S.key==="ArrowDown"){S.preventDefault();const j=ott(b.current,p,d.current);j&&(CY(j),u(j));return}if(S.key==="ArrowUp"){S.preventDefault();const j=rtt(b.current,p,d.current);j&&(CY(j),u(j));return}if(S.key==="ArrowLeft"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;const k=b.current[j];if(!k)return;if(k.expanded)g(T=>{const A=T[j];return A?{...T,[j]:{...A,expanded:!1}}:T});else{const T=j.split("/");T.pop();const A=T.join("/"),D=A&&b.current[A];D&&(D.element.focus(),u(D.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const j=d.current.getAttribute("data-tree-key");if(!j)return;(E=b.current[j])!=null&&E.expanded||g(k=>{const T=k[j];return T?{...k,[j]:{...T,expanded:!0}}:k});return}}},[p]),_=h.useCallback(S=>{u(S.target),i==null||i(S)},[i]);return h.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),l.jsx(WE.Provider,{value:w,children:l.jsx(ee,{as:"ul","data-ui":"Tree",...s,onFocus:_,onKeyDown:C,ref:a,role:"tree",space:o,children:r})})}));oCe.displayName="Tree";var _Y=Object.freeze,itt=Object.defineProperty,HL=(e,t)=>_Y(itt(e,"raw",{value:_Y(t||e.slice())})),SY,EY,kY;function stt(){return de(SY||(SY=HL([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function att(e){const{theme:t}=e,n="default",{base:r,muted:o,selectable:i}=t.sanity.color,s=i?i[n]||i.default:o[n]||o.default;return de(EY||(EY=HL([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Vt(r,s.enabled),Vt(r,s.pressed),Vt(r,s.hovered),Vt(r,s.selected),Vt(r,s.enabled),Vt(r,s.pressed),Vt(r,s.hovered),Vt(r,s.selected))}function ltt(e){const{$level:t,theme:n}=e,{space:r}=n.sanity;return de(kY||(kY=HL([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),ge(r[2]*t))}function iCe(){const e=h.useContext(WE);if(!e)throw new Error("Tree: missing context value");return e}const jY=h.memo(function(t){const{children:n,expanded:r=!1,...o}=t,i=iCe();return l.jsx(ee,{as:"ul","data-ui":"TreeGroup",...o,hidden:!r,marginTop:i.space,role:"group",space:i.space,children:n})});var TY=Object.freeze,ctt=Object.defineProperty,utt=(e,t)=>TY(ctt(e,"raw",{value:TY(t||e.slice())})),AY;const DY=h.memo(P.li(stt,att)),IY=P(M).attrs({forwardedAs:"a"})(ltt),dtt=P(L)(AY||(AY=utt([`
  & > svg {
    transition: transform 100ms;
  }
`]))),ax=h.memo(function(t){const{children:n,expanded:r=!1,fontSize:o,href:i,icon:s,id:a,linkAs:c,muted:u,onClick:d,padding:f=3,selected:p=!1,space:m=2,text:v,weight:g,...b}=t,x=h.useRef(null),y=h.useRef(null),w=iCe(),{path:C,registerItem:_,setExpanded:S,setFocusedElement:E}=w,j=h.useId(),k=a||j,T=h.useMemo(()=>C.concat([k||""]),[k,C]),A=T.join("/"),D=w.state[A],I=w.focusedElement===x.current,O=(D==null?void 0:D.expanded)===void 0?r:(D==null?void 0:D.expanded)||!1,$=w.focusedElement&&w.focusedElement===x.current?0:-1,R=h.useMemo(()=>({...w,level:w.level+1,path:T}),[T,w]),z=h.useCallback(W=>{d&&d(W);const V=W.target;V instanceof HTMLElement&&(V.getAttribute("data-ui")==="TreeItem"||V.closest('[data-ui="TreeItem__box"]'))&&(W.stopPropagation(),S(A,!O),E(x.current))},[O,A,d,S,E]),B=h.useCallback(W=>{if(I&&W.key==="Enter"){const V=y.current||x.current;V==null||V.click()}},[I]);h.useEffect(()=>{if(x.current)return _(x.current,T.join("/"),O,p)},[O,T,_,p]);const U=l.jsxs(H,{padding:f,children:[l.jsxs(M,{marginRight:m,style:{visibility:s||n?"visible":"hidden",pointerEvents:"none"},children:[s&&l.jsx(L,{muted:u,size:o,weight:g,children:h.createElement(s)}),!s&&l.jsx(dtt,{muted:u,size:o,weight:g,children:l.jsx(pj,{style:{transform:O?"rotate(90deg)":void 0}})})]}),l.jsx(M,{flex:1,children:l.jsx(L,{muted:u,size:o,textOverflow:"ellipsis",weight:g,children:v})})]});return i?l.jsxs(DY,{"data-selected":p?"":void 0,"data-tree-id":k,"data-tree-key":A,"data-ui":"TreeItem",...b,onClick:z,ref:x,role:"none",children:[l.jsx(IY,{$level:w.level,"aria-expanded":O,as:c,"data-ui":"TreeItem__box",href:i,ref:y,role:"treeitem",tabIndex:$,children:U}),l.jsx(WE.Provider,{value:R,children:n&&l.jsx(jY,{hidden:!O,children:n})})]}):l.jsxs(DY,{"data-selected":p?"":void 0,"data-ui":"TreeItem","data-tree-id":k,"data-tree-key":A,...b,"aria-expanded":O,onClick:z,onKeyDown:B,ref:x,role:"treeitem",tabIndex:$,children:[l.jsx(IY,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:U}),l.jsx(WE.Provider,{value:R,children:n&&l.jsx(jY,{expanded:O,children:n})})]})});function Ft(e){return typeof e=="function"}function UL(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var $I=UL(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function qE(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Up=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=$p(s),c=a.next();!c.done;c=a.next()){var u=c.value;u.remove(this)}}catch(g){t={error:g}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Ft(d))try{d()}catch(g){i=g instanceof $I?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var p=$p(f),m=p.next();!m.done;m=p.next()){var v=m.value;try{OY(v)}catch(g){i=i??[],g instanceof $I?i=ni(ni([],Ha(i)),Ha(g.errors)):i.push(g)}}}catch(g){r={error:g}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(r)throw r.error}}}if(i)throw new $I(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)OY(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&qE(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&qE(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),sCe=Up.EMPTY;function aCe(e){return e instanceof Up||e&&"closed"in e&&Ft(e.remove)&&Ft(e.add)&&Ft(e.unsubscribe)}function OY(e){Ft(e)?e():e.unsubscribe()}var lCe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},v$={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=v$.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,ni([e,t],Ha(n))):setTimeout.apply(void 0,ni([e,t],Ha(n)))},clearTimeout:function(e){var t=v$.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function cCe(e){v$.setTimeout(function(){throw e})}function Ff(){}function Q2(e){e()}var WL=function(e){aa(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,aCe(n)&&n.add(r)):r.destination=mtt,r}return t.create=function(n,r,o){return new lx(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Up),ftt=Function.prototype.bind;function MI(e,t){return ftt.call(e,t)}var htt=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){f_(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){f_(r)}else f_(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){f_(n)}},e}(),lx=function(e){aa(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Ft(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var a;i&&lCe.useDeprecatedNextContext?(a=Object.create(n),a.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&MI(n.next,a),error:n.error&&MI(n.error,a),complete:n.complete&&MI(n.complete,a)}):s=n}return i.destination=new htt(s),i}return t}(WL);function f_(e){cCe(e)}function ptt(e){throw e}var mtt={closed:!0,next:Ff,error:ptt,complete:Ff},qL=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ld(e){return e}function gtt(e){return e.length===0?ld:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var mt=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=ytt(t)?t:new lx(t,n,r);return Q2(function(){var s=o,a=s.operator,c=s.source;i.add(a?a.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=PY(n),new n(function(o,i){var s=new lx({next:function(a){try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[qL]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return gtt(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=PY(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function PY(e){var t;return(t=e??lCe.Promise)!==null&&t!==void 0?t:Promise}function vtt(e){return e&&Ft(e.next)&&Ft(e.error)&&Ft(e.complete)}function ytt(e){return e&&e instanceof WL||vtt(e)&&aCe(e)}function uCe(e){return Ft(e==null?void 0:e.lift)}function vn(e){return function(t){if(uCe(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Wt(e,t,n,r,o){return new dCe(e,t,n,r,o)}var dCe=function(e){aa(t,e);function t(n,r,o,i,s,a){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=a,c._next=r?function(u){try{r(u)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(u){try{i(u)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(WL);function yl(){return vn(function(e,t){var n=null;e._refCount++;var r=Wt(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var o=e._connection,i=n;n=null,o&&(!i||o===i)&&o.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var btt=function(e){aa(t,e);function t(n,r){var o=e.call(this)||this;return o.source=n,o.subjectFactory=r,o._subject=null,o._refCount=0,o._connection=null,uCe(n)&&(o.lift=n.lift),o}return t.prototype._subscribe=function(n){return this.getSubject().subscribe(n)},t.prototype.getSubject=function(){var n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var n=this._connection;this._subject=this._connection=null,n==null||n.unsubscribe()},t.prototype.connect=function(){var n=this,r=this._connection;if(!r){r=this._connection=new Up;var o=this.getSubject();r.add(this.source.subscribe(Wt(o,void 0,function(){n._teardown(),o.complete()},function(i){n._teardown(),o.error(i)},function(){return n._teardown()}))),r.closed&&(this._connection=null,r=Up.EMPTY)}return r},t.prototype.refCount=function(){return yl()(this)},t}(mt),xtt=UL(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Er=function(e){aa(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new RY(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new xtt},t.prototype.next=function(n){var r=this;Q2(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=$p(r.currentObservers),a=s.next();!a.done;a=s.next()){var c=a.value;c.next(n)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;Q2(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;Q2(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,a=o.observers;return i||s?sCe:(this.currentObservers=null,a.push(n),new Up(function(){r.currentObservers=null,qE(a,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new mt;return n.source=this,n},t.create=function(n,r){return new RY(n,r)},t}(mt),RY=function(e){aa(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:sCe},t}(Er),Qj=function(e){aa(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Er),YL={now:function(){return(YL.delegate||Date).now()},delegate:void 0},fCe=function(e){aa(t,e);function t(n,r,o){n===void 0&&(n=1/0),r===void 0&&(r=1/0),o===void 0&&(o=YL);var i=e.call(this)||this;return i._bufferSize=n,i._windowTime=r,i._timestampProvider=o,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,n),i._windowTime=Math.max(1,r),i}return t.prototype.next=function(n){var r=this,o=r.isStopped,i=r._buffer,s=r._infiniteTimeWindow,a=r._timestampProvider,c=r._windowTime;o||(i.push(n),!s&&i.push(a.now()+c)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),o=this,i=o._infiniteTimeWindow,s=o._buffer,a=s.slice(),c=0;c<a.length&&!n.closed;c+=i?1:2)n.next(a[c]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,o=n._timestampProvider,i=n._buffer,s=n._infiniteTimeWindow,a=(s?1:2)*r;if(r<1/0&&a<i.length&&i.splice(0,i.length-a),!s){for(var c=o.now(),u=0,d=1;d<i.length&&i[d]<=c;d+=2)u=d;u&&i.splice(0,u+1)}},t}(Er),wtt=function(e){aa(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(Up),YE={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=YE.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,ni([e,t],Ha(n))):setInterval.apply(void 0,ni([e,t],Ha(n)))},clearInterval:function(e){var t=YE.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},hCe=function(e){aa(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),YE.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&YE.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,qE(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(wtt),Ctt=1,FI,y$={};function $Y(e){return e in y$?(delete y$[e],!0):!1}var pCe={setImmediate:function(e){var t=Ctt++;return y$[t]=!0,FI||(FI=Promise.resolve()),FI.then(function(){return $Y(t)&&e()}),t},clearImmediate:function(e){$Y(e)}},_tt=pCe.setImmediate,Stt=pCe.clearImmediate,GE={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=GE.delegate;return((n==null?void 0:n.setImmediate)||_tt).apply(void 0,ni([],Ha(e)))},clearImmediate:function(e){var t=GE.delegate;return((t==null?void 0:t.clearImmediate)||Stt)(e)},delegate:void 0},Ett=function(e){aa(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o}return t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),o!==null&&o>0?e.prototype.requestAsyncId.call(this,n,r,o):(n.actions.push(this),n._scheduled||(n._scheduled=GE.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,o){var i;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,o);var s=n.actions;r!=null&&((i=s[s.length-1])===null||i===void 0?void 0:i.id)!==r&&(GE.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(hCe),MY=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=YL.now,e}(),mCe=function(e){aa(t,e);function t(n,r){r===void 0&&(r=MY.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(MY),ktt=function(e){aa(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var o=this.actions,i;n=n||o.shift();do if(i=n.execute(n.state,n.delay))break;while((n=o[0])&&n.id===r&&o.shift());if(this._active=!1,i){for(;(n=o[0])&&n.id===r&&o.shift();)n.unsubscribe();throw i}},t}(mCe),jtt=new ktt(Ett),Dl=new mCe(hCe),Ttt=Dl,Qn=new mt(function(e){return e.complete()});function Att(e){return e?Dtt(e):Qn}function Dtt(e){return new mt(function(t){return e.schedule(function(){return t.complete()})})}function gCe(e){return e&&Ft(e.schedule)}function GL(e){return e[e.length-1]}function KL(e){return Ft(GL(e))?e.pop():void 0}function Dw(e){return gCe(GL(e))?e.pop():void 0}function Itt(e,t){return typeof GL(e)=="number"?e.pop():t}var ZL=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function vCe(e){return Ft(e==null?void 0:e.then)}function yCe(e){return Ft(e[qL])}function bCe(e){return Symbol.asyncIterator&&Ft(e==null?void 0:e[Symbol.asyncIterator])}function xCe(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ott(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var wCe=Ott();function CCe(e){return Ft(e==null?void 0:e[wCe])}function _Ce(e){return xFe(this,arguments,function(){var n,r,o,i;return Zve(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Kg(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,Kg(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Kg(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function SCe(e){return Ft(e==null?void 0:e.getReader)}function En(e){if(e instanceof mt)return e;if(e!=null){if(yCe(e))return Ptt(e);if(ZL(e))return Rtt(e);if(vCe(e))return $tt(e);if(bCe(e))return ECe(e);if(CCe(e))return Mtt(e);if(SCe(e))return Ftt(e)}throw xCe(e)}function Ptt(e){return new mt(function(t){var n=e[qL]();if(Ft(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Rtt(e){return new mt(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function $tt(e){return new mt(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,cCe)})}function Mtt(e){return new mt(function(t){var n,r;try{for(var o=$p(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function ECe(e){return new mt(function(t){Ltt(e,t).catch(function(n){return t.error(n)})})}function Ftt(e){return ECe(_Ce(e))}function Ltt(e,t){var n,r,o,i;return bFe(this,void 0,void 0,function(){var s,a;return Zve(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=wFe(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function ku(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function kCe(e,t){return t===void 0&&(t=0),vn(function(n,r){n.subscribe(Wt(r,function(o){return ku(r,e,function(){return r.next(o)},t)},function(){return ku(r,e,function(){return r.complete()},t)},function(o){return ku(r,e,function(){return r.error(o)},t)}))})}function jCe(e,t){return t===void 0&&(t=0),vn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function Btt(e,t){return En(e).pipe(jCe(t),kCe(t))}function Ntt(e,t){return En(e).pipe(jCe(t),kCe(t))}function ztt(e,t){return new mt(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Vtt(e,t){return new mt(function(n){var r;return ku(n,t,function(){r=e[wCe](),ku(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(a){n.error(a);return}s?n.complete():n.next(i)},0,!0)}),function(){return Ft(r==null?void 0:r.return)&&r.return()}})}function TCe(e,t){if(!e)throw new Error("Iterable cannot be null");return new mt(function(n){ku(n,t,function(){var r=e[Symbol.asyncIterator]();ku(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function Htt(e,t){return TCe(_Ce(e),t)}function ACe(e,t){if(e!=null){if(yCe(e))return Btt(e,t);if(ZL(e))return ztt(e,t);if(vCe(e))return Ntt(e,t);if(bCe(e))return TCe(e,t);if(CCe(e))return Vtt(e,t);if(SCe(e))return Htt(e,t)}throw xCe(e)}function jr(e,t){return t?ACe(e,t):En(e)}function ve(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Dw(e);return jr(e,n)}function zu(e,t){var n=Ft(e)?e:function(){return e},r=function(o){return o.error(n())};return new mt(t?function(o){return t.schedule(r,0,o)}:r)}function Utt(e){return!!e&&(e instanceof mt||Ft(e.lift)&&Ft(e.subscribe))}var Jj=UL(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function So(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=!1,s;e.subscribe({next:function(a){s=a,i=!0},error:o,complete:function(){i?r(s):n?r(t.defaultValue):o(new Jj)}})})}function Wtt(e){return e instanceof Date&&!isNaN(e)}function le(e,t){return vn(function(n,r){var o=0;n.subscribe(Wt(r,function(i){r.next(e.call(t,i,o++))}))})}var qtt=Array.isArray;function Ytt(e,t){return qtt(t)?e.apply(void 0,ni([],Ha(t))):e(t)}function XL(e){return le(function(t){return Ytt(e,t)})}var Gtt=Array.isArray,Ktt=Object.getPrototypeOf,Ztt=Object.prototype,Xtt=Object.keys;function DCe(e){if(e.length===1){var t=e[0];if(Gtt(t))return{args:t,keys:null};if(Qtt(t)){var n=Xtt(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function Qtt(e){return e&&typeof e=="object"&&Ktt(e)===Ztt}function ICe(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Ho(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Dw(e),r=KL(e),o=DCe(e),i=o.args,s=o.keys;if(i.length===0)return jr([],n);var a=new mt(Jtt(i,n,s?function(c){return ICe(s,c)}:ld));return r?a.pipe(XL(r)):a}function Jtt(e,t,n){return n===void 0&&(n=ld),function(r){FY(t,function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(d){FY(t,function(){var f=jr(e[d],t),p=!1;f.subscribe(Wt(r,function(m){i[d]=m,p||(p=!0,a--),a||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},u=0;u<o;u++)c(u)},r)}}function FY(e,t,n){e?ku(n,e,t):t()}function ent(e,t,n,r,o,i,s,a){var c=[],u=0,d=0,f=!1,p=function(){f&&!c.length&&!u&&t.complete()},m=function(g){return u<r?v(g):c.push(g)},v=function(g){i&&t.next(g),u++;var b=!1;En(n(g,d++)).subscribe(Wt(t,function(x){o==null||o(x),i?m(x):t.next(x)},function(){b=!0},void 0,function(){if(b)try{u--;for(var x=function(){var y=c.shift();s?ku(t,s,function(){return v(y)}):v(y)};c.length&&u<r;)x();p()}catch(y){t.error(y)}}))};return e.subscribe(Wt(t,m,function(){f=!0,p()})),function(){a==null||a()}}function ft(e,t,n){return n===void 0&&(n=1/0),Ft(t)?ft(function(r,o){return le(function(i,s){return t(r,i,o,s)})(En(e(r,o)))},n):(typeof t=="number"&&(n=t),vn(function(r,o){return ent(r,o,e,n)}))}function eT(e){return e===void 0&&(e=1/0),ft(ld,e)}function tnt(){return eT(1)}function Wr(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return tnt()(jr(e,Dw(e)))}function go(e){return new mt(function(t){En(e()).subscribe(t)})}function nnt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=KL(e),r=DCe(e),o=r.args,i=r.keys,s=new mt(function(a){var c=o.length;if(!c){a.complete();return}for(var u=new Array(c),d=c,f=c,p=function(v){var g=!1;En(o[v]).subscribe(Wt(a,function(b){g||(g=!0,f--),u[v]=b},function(){return d--},void 0,function(){(!d||!g)&&(f||a.next(i?ICe(i,u):u),a.complete())}))},m=0;m<c;m++)p(m)});return n?s.pipe(XL(n)):s}var rnt=["addListener","removeListener"],ont=["addEventListener","removeEventListener"],int=["on","off"];function Pi(e,t,n,r){if(Ft(n)&&(r=n,n=void 0),r)return Pi(e,t,n).pipe(XL(r));var o=Ha(lnt(e)?ont.map(function(a){return function(c){return e[a](t,c,n)}}):snt(e)?rnt.map(LY(e,t)):ant(e)?int.map(LY(e,t)):[],2),i=o[0],s=o[1];if(!i&&ZL(e))return ft(function(a){return Pi(a,t,n)})(En(e));if(!i)throw new TypeError("Invalid event target");return new mt(function(a){var c=function(){for(var u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];return a.next(1<u.length?u:u[0])};return i(c),function(){return s(c)}})}function LY(e,t){return function(n){return function(r){return e[n](t,r)}}}function snt(e){return Ft(e.addListener)&&Ft(e.removeListener)}function ant(e){return Ft(e.on)&&Ft(e.off)}function lnt(e){return Ft(e.addEventListener)&&Ft(e.removeEventListener)}function cnt(e,t,n){return go(function(){return e()?t:n})}function Uo(e,t,n){e===void 0&&(e=0),n===void 0&&(n=Ttt);var r=-1;return t!=null&&(gCe(t)?n=t:r=t),new mt(function(o){var i=Wtt(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function an(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Dw(e),r=Itt(e,1/0),o=e;return o.length?o.length===1?En(o[0]):eT(r)(jr(o,n)):Qn}var QL=new mt(Ff),unt=Array.isArray;function dnt(e){return e.length===1&&unt(e[0])?e[0]:e}function fnt(e,t){return function(n,r){return!e.call(t,n,r)}}function pt(e,t){return vn(function(n,r){var o=0;n.subscribe(Wt(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function JL(e,t,n){return[pt(t,n)(En(e)),pt(fnt(t,n))(En(e))]}function hnt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e=dnt(e),e.length===1?En(e[0]):new mt(pnt(e))}function pnt(e){return function(t){for(var n=[],r=function(i){n.push(En(e[i]).subscribe(Wt(t,function(s){if(n){for(var a=0;a<n.length;a++)a!==i&&n[a].unsubscribe();n=null}t.next(s)})))},o=0;n&&!t.closed&&o<e.length;o++)r(o)}}function mnt(e,t){return new mt(function(n){var r=e(),o=t(r),i=o?En(o):Qn;return i.subscribe(n),function(){r&&r.unsubscribe()}})}function gnt(e){return vn(function(t,n){var r=!1,o=null,i=null,s=!1,a=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var u=o;o=null,n.next(u)}s&&n.complete()},c=function(){i=null,s&&n.complete()};t.subscribe(Wt(n,function(u){r=!0,o=u,i||En(e(u)).subscribe(i=Wt(n,a,c))},function(){s=!0,(!r||!i||i.closed)&&n.complete()}))})}function vnt(e,t){return t===void 0&&(t=Dl),gnt(function(){return Uo(e,t)})}function Rn(e){return vn(function(t,n){var r=null,o=!1,i;r=t.subscribe(Wt(n,void 0,void 0,function(s){i=En(e(s,Rn(e)(t))),r?(r.unsubscribe(),r=null,i.subscribe(n)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(n))})}function OCe(e,t,n,r,o){return function(i,s){var a=n,c=t,u=0;i.subscribe(Wt(s,function(d){var f=u++;c=a?e(c,d,f):(a=!0,d),r&&s.next(c)},o&&function(){a&&s.next(c),s.complete()}))}}function PCe(e,t){return vn(OCe(e,t,arguments.length>=2,!1,!0))}var ynt=function(e,t){return e.push(t),e};function RCe(){return vn(function(e,t){PCe(ynt,[])(e).subscribe(t)})}function b$(e,t){return Ft(t)?ft(e,t,1):ft(e,1)}function bnt(e){return new mt(function(t){return e.subscribe(t)})}var xnt={connector:function(){return new Er}};function wnt(e,t){t===void 0&&(t=xnt);var n=t.connector;return vn(function(r,o){var i=n();En(e(bnt(i))).subscribe(o),o.add(r.subscribe(i))})}function e8(e){return vn(function(t,n){var r=!1,o=null,i=null,s=function(){if(i==null||i.unsubscribe(),i=null,r){r=!1;var a=o;o=null,n.next(a)}};t.subscribe(Wt(n,function(a){i==null||i.unsubscribe(),r=!0,o=a,i=Wt(n,s,Ff),En(e(a)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function t8(e,t){return t===void 0&&(t=Dl),vn(function(n,r){var o=null,i=null,s=null,a=function(){if(o){o.unsubscribe(),o=null;var u=i;i=null,r.next(u)}};function c(){var u=s+e,d=t.now();if(d<u){o=this.schedule(void 0,u-d),r.add(o);return}a()}n.subscribe(Wt(r,function(u){i=u,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){a(),r.complete()},void 0,function(){i=o=null}))})}function $Ce(e){return vn(function(t,n){var r=!1;t.subscribe(Wt(n,function(o){r=!0,n.next(o)},function(){r||n.next(e),n.complete()}))})}function ji(e){return e<=0?function(){return Qn}:vn(function(t,n){var r=0;t.subscribe(Wt(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function Cnt(){return vn(function(e,t){e.subscribe(Wt(t,Ff))})}function tT(e){return le(function(){return e})}function MCe(e,t){return t?function(n){return Wr(t.pipe(ji(1),Cnt()),n.pipe(MCe(e)))}:ft(function(n,r){return En(e(n,r)).pipe(ji(1),tT(n))})}function FCe(e,t){t===void 0&&(t=Dl);var n=Uo(e,t);return MCe(function(){return n})}function _nt(e,t){return vn(function(n,r){var o=new Set;n.subscribe(Wt(r,function(i){var s=e?e(i):i;o.has(s)||(o.add(s),r.next(i))})),t&&En(t).subscribe(Wt(r,function(){return o.clear()},Ff))})}function Jn(e,t){return t===void 0&&(t=ld),e=e??Snt,vn(function(n,r){var o,i=!0;n.subscribe(Wt(r,function(s){var a=t(s);(i||!e(o,a))&&(i=!1,o=a,r.next(s))}))})}function Snt(e,t){return e===t}function LCe(e){return e===void 0&&(e=Ent),vn(function(t,n){var r=!1;t.subscribe(Wt(n,function(o){r=!0,n.next(o)},function(){return r?n.complete():n.error(e())}))})}function Ent(){return new Jj}function BCe(e,t){return t?function(n){return n.pipe(BCe(function(r,o){return En(e(r,o)).pipe(le(function(i,s){return t(r,i,o,s)}))}))}:vn(function(n,r){var o=0,i=null,s=!1;n.subscribe(Wt(r,function(a){i||(i=Wt(r,void 0,function(){i=null,s&&r.complete()}),En(e(a,o++)).subscribe(i))},function(){s=!0,!i&&r.complete()}))})}function NCe(e){return vn(function(t,n){try{t.subscribe(n)}finally{n.add(e)}})}function zCe(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?pt(function(o,i){return e(o,i,r)}):ld,ji(1),n?$Ce(t):LCe(function(){return new Jj}))}}function VCe(e,t,n,r){return vn(function(o,i){var s;!t||typeof t=="function"?s=t:(n=t.duration,s=t.element,r=t.connector);var a=new Map,c=function(v){a.forEach(v),v(i)},u=function(v){return c(function(g){return g.error(v)})},d=0,f=!1,p=new dCe(i,function(v){try{var g=e(v),b=a.get(g);if(!b){a.set(g,b=r?r():new Er);var x=m(g,b);if(i.next(x),n){var y=Wt(b,function(){b.complete(),y==null||y.unsubscribe()},void 0,void 0,function(){return a.delete(g)});p.add(En(n(x)).subscribe(y))}}b.next(s?s(v):v)}catch(w){u(w)}},function(){return c(function(v){return v.complete()})},u,function(){return a.clear()},function(){return f=!0,d===0});o.subscribe(p);function m(v,g){var b=new mt(function(x){d++;var y=g.subscribe(x);return function(){y.unsubscribe(),--d===0&&f&&p.unsubscribe()}});return b.key=v,b}})}function knt(e){return e<=0?function(){return Qn}:vn(function(t,n){var r=[];t.subscribe(Wt(n,function(o){r.push(o),e<r.length&&r.shift()},function(){var o,i;try{for(var s=$p(r),a=s.next();!a.done;a=s.next()){var c=a.value;n.next(c)}}catch(u){o={error:u}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}n.complete()},void 0,function(){r=null}))})}function jnt(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?pt(function(o,i){return e(o,i,r)}):ld,knt(1),n?$Ce(t):LCe(function(){return new Jj}))}}var Tnt=ft;function Wp(e,t,n){return n===void 0&&(n=1/0),Ft(t)?ft(function(){return e},t,n):(typeof t=="number"&&(n=t),ft(function(){return e},n))}function Ant(e,t){var n=Ft(e)?e:function(){return e};return Ft(t)?wnt(t,{connector:n}):function(r){return new btt(r,n)}}function bl(e,t,n,r){n&&!Ft(n)&&(r=n);var o=Ft(n)?n:void 0;return function(i){return Ant(new fCe(e,t,r),o)(i)}}function ra(e,t){return vn(OCe(e,t,arguments.length>=2,!0))}function oa(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new Er}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,a=e.resetOnRefCountZero,c=a===void 0?!0:a;return function(u){var d,f,p,m=0,v=!1,g=!1,b=function(){f==null||f.unsubscribe(),f=void 0},x=function(){b(),d=p=void 0,v=g=!1},y=function(){var w=d;x(),w==null||w.unsubscribe()};return vn(function(w,C){m++,!g&&!v&&b();var _=p=p??n();C.add(function(){m--,m===0&&!g&&!v&&(f=LI(y,c))}),_.subscribe(C),!d&&m>0&&(d=new lx({next:function(S){return _.next(S)},error:function(S){g=!0,b(),f=LI(x,o,S),_.error(S)},complete:function(){v=!0,b(),f=LI(x,s),_.complete()}}),En(w).subscribe(d))})(u)}}function LI(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new lx({next:function(){o.unsubscribe(),e()}});return En(t.apply(void 0,ni([],Ha(n)))).subscribe(o)}}function Do(e,t,n){var r,o,i,s,a=!1;return e&&typeof e=="object"?(r=e.bufferSize,s=r===void 0?1/0:r,o=e.windowTime,t=o===void 0?1/0:o,i=e.refCount,a=i===void 0?!1:i,n=e.scheduler):s=e??1/0,oa({connector:function(){return new fCe(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function HCe(e){return pt(function(t,n){return e<=n})}function oi(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Dw(e);return vn(function(r,o){(n?Wr(e,r,n):Wr(e,r)).subscribe(o)})}function rt(e,t){return vn(function(n,r){var o=null,i=0,s=!1,a=function(){return s&&!o&&r.complete()};n.subscribe(Wt(r,function(c){o==null||o.unsubscribe();var u=0,d=i++;En(e(c,d)).subscribe(o=Wt(r,function(f){return r.next(t?t(c,f,d,u++):f)},function(){o=null,a()}))},function(){s=!0,a()}))})}function Dnt(e,t){return Ft(t)?rt(function(){return e},t):rt(function(){return e})}function n8(e){return vn(function(t,n){En(e).subscribe(Wt(n,function(){return n.complete()},Ff)),!n.closed&&t.subscribe(n)})}function Cn(e,t,n){var r=Ft(e)||t||n?{next:e,error:t,complete:n}:e;return r?vn(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var a=!0;o.subscribe(Wt(i,function(c){var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},function(){var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},function(){var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):ld}function UCe(e,t){return vn(function(n,r){var o=t??{},i=o.leading,s=i===void 0?!0:i,a=o.trailing,c=a===void 0?!1:a,u=!1,d=null,f=null,p=!1,m=function(){f==null||f.unsubscribe(),f=null,c&&(b(),p&&r.complete())},v=function(){f=null,p&&r.complete()},g=function(x){return f=En(e(x)).subscribe(Wt(r,m,v))},b=function(){if(u){u=!1;var x=d;d=null,r.next(x),!p&&g(x)}};n.subscribe(Wt(r,function(x){u=!0,d=x,!(f&&!f.closed)&&(s?b():g(x))},function(){p=!0,!(c&&u&&f&&!f.closed)&&r.complete()}))})}function cx(e,t,n){t===void 0&&(t=Dl);var r=Uo(e,t);return UCe(function(){return r},n)}function sb(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=KL(e);return vn(function(r,o){for(var i=e.length,s=new Array(i),a=e.map(function(){return!1}),c=!1,u=function(f){En(e[f]).subscribe(Wt(o,function(p){s[f]=p,!c&&!a[f]&&(a[f]=!0,(c=a.every(ld))&&(a=null))},Ff))},d=0;d<i;d++)u(d);r.subscribe(Wt(o,function(f){if(c){var p=ni([f],Ha(s));o.next(n?n.apply(void 0,ni([],Ha(p))):p)}}))})}function Int(e,t){var n=h.useCallback(function(){var s=new Qj(e),a=s.asObservable().pipe(Jn());return[t?a.pipe(t):a,s]},[]),r=h.useRef();r.current||(r.current=n());var o=r.current[0];h.useEffect(function(){if(r.current){var s=r.current,a=s[1];a.next(e)}},[e,r]);var i=h.useRef(!1);return h.useEffect(function(){return i.current&&(r.current||(r.current=n()),i.current=!1),function(){if(r.current){i.current=!0;var s=r.current,a=s[1];a.complete(),r.current=void 0}}},[]),o}var WCe={exports:{}},qCe={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv=h;function Ont(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pnt=typeof Object.is=="function"?Object.is:Ont,Rnt=Gv.useState,$nt=Gv.useEffect,Mnt=Gv.useLayoutEffect,Fnt=Gv.useDebugValue;function Lnt(e,t){var n=t(),r=Rnt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return Mnt(function(){o.value=n,o.getSnapshot=t,BI(o)&&i({inst:o})},[e,n,t]),$nt(function(){return BI(o)&&i({inst:o}),e(function(){BI(o)&&i({inst:o})})},[e]),Fnt(n),n}function BI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pnt(e,n)}catch{return!0}}function Bnt(e,t){return t()}var Nnt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bnt:Lnt;qCe.useSyncExternalStore=Gv.useSyncExternalStore!==void 0?Gv.useSyncExternalStore:Nnt;WCe.exports=qCe;var znt=WCe.exports;function x$(e){return typeof e=="function"?e():e}var NI=new WeakMap;function BY(e,t){if(!NI.has(e)){var n={currentValue:t};n.observable=e.pipe(Do({refCount:!0,bufferSize:1}),Cn(function(r){return n.currentValue=r})),n.subscription=n.observable.subscribe(),NI.set(e,n)}return NI.get(e)}function Vnt(e,t){var n=h.useMemo(function(){var s=BY(e,x$(t));return s.subscription.closed&&(s.subscription=s.observable.subscribe()),[function(){return s.currentValue},function(c){var u=s.observable.subscribe(c);return function(){u.unsubscribe()}}]},[e]),r=n[0],o=n[1],i=h.useRef(!1);return h.useEffect(function(){var s=BY(e,x$(t));return i.current&&(s.subscription.closed&&(s.subscription=s.observable.subscribe()),i.current=!1),function(){i.current=!s.subscription.closed,s.subscription.unsubscribe()}},[e]),znt.useSyncExternalStore(o,r)}function xo(e,t,n){return Vnt(h.useMemo(function(){return x$(e)},t),n)}var Hnt=function(e){return e};function YCe(e){e===void 0&&(e=Hnt);var t=new Er;return[t.pipe(e),function(n){return t.next(n)}]}var Unt=[];function nT(e,t){t===void 0&&(t=Unt);var n=h.useRef();n.current||(n.current=YCe());var r=n.current,o=r[0],i=r[1],s=h.useCallback(e,t);return h.useEffect(function(){var a=o.pipe(s).subscribe();return function(){a.unsubscribe()}},[o,i,s]),i}function Wnt(){this.__data__=[],this.size=0}var qnt=Wnt;function Ynt(e,t){return e===t||e!==e&&t!==t}var rT=Ynt,Gnt=rT;function Knt(e,t){for(var n=e.length;n--;)if(Gnt(e[n][0],t))return n;return-1}var oT=Knt,Znt=oT,Xnt=Array.prototype,Qnt=Xnt.splice;function Jnt(e){var t=this.__data__,n=Znt(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():Qnt.call(t,n,1),--this.size,!0}var ert=Jnt,trt=oT;function nrt(e){var t=this.__data__,n=trt(t,e);return n<0?void 0:t[n][1]}var rrt=nrt,ort=oT;function irt(e){return ort(this.__data__,e)>-1}var srt=irt,art=oT;function lrt(e,t){var n=this.__data__,r=art(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var crt=lrt,urt=qnt,drt=ert,frt=rrt,hrt=srt,prt=crt;function I0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}I0.prototype.clear=urt;I0.prototype.delete=drt;I0.prototype.get=frt;I0.prototype.has=hrt;I0.prototype.set=prt;var iT=I0,mrt=iT;function grt(){this.__data__=new mrt,this.size=0}var vrt=grt;function yrt(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var brt=yrt;function xrt(e){return this.__data__.get(e)}var wrt=xrt;function Crt(e){return this.__data__.has(e)}var _rt=Crt,Srt=Wf,Ert=Za,krt="[object AsyncFunction]",jrt="[object Function]",Trt="[object GeneratorFunction]",Art="[object Proxy]";function Drt(e){if(!Ert(e))return!1;var t=Srt(e);return t==jrt||t==Trt||t==krt||t==Art}var GCe=Drt,Irt=Ll,Ort=Irt["__core-js_shared__"],Prt=Ort,zI=Prt,NY=function(){var e=/[^.]+$/.exec(zI&&zI.keys&&zI.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Rrt(e){return!!NY&&NY in e}var $rt=Rrt,Mrt=Function.prototype,Frt=Mrt.toString;function Lrt(e){if(e!=null){try{return Frt.call(e)}catch{}try{return e+""}catch{}}return""}var KCe=Lrt,Brt=GCe,Nrt=$rt,zrt=Za,Vrt=KCe,Hrt=/[\\^$.*+?()[\]{}|]/g,Urt=/^\[object .+?Constructor\]$/,Wrt=Function.prototype,qrt=Object.prototype,Yrt=Wrt.toString,Grt=qrt.hasOwnProperty,Krt=RegExp("^"+Yrt.call(Grt).replace(Hrt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zrt(e){if(!zrt(e)||Nrt(e))return!1;var t=Brt(e)?Krt:Urt;return t.test(Vrt(e))}var Xrt=Zrt;function Qrt(e,t){return e==null?void 0:e[t]}var Jrt=Qrt,eot=Xrt,tot=Jrt;function not(e,t){var n=tot(e,t);return eot(n)?n:void 0}var Cm=not,rot=Cm,oot=Ll,iot=rot(oot,"Map"),r8=iot,sot=Cm,aot=sot(Object,"create"),sT=aot,zY=sT;function lot(){this.__data__=zY?zY(null):{},this.size=0}var cot=lot;function uot(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dot=uot,fot=sT,hot="__lodash_hash_undefined__",pot=Object.prototype,mot=pot.hasOwnProperty;function got(e){var t=this.__data__;if(fot){var n=t[e];return n===hot?void 0:n}return mot.call(t,e)?t[e]:void 0}var vot=got,yot=sT,bot=Object.prototype,xot=bot.hasOwnProperty;function wot(e){var t=this.__data__;return yot?t[e]!==void 0:xot.call(t,e)}var Cot=wot,_ot=sT,Sot="__lodash_hash_undefined__";function Eot(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=_ot&&t===void 0?Sot:t,this}var kot=Eot,jot=cot,Tot=dot,Aot=vot,Dot=Cot,Iot=kot;function O0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}O0.prototype.clear=jot;O0.prototype.delete=Tot;O0.prototype.get=Aot;O0.prototype.has=Dot;O0.prototype.set=Iot;var Oot=O0,VY=Oot,Pot=iT,Rot=r8;function $ot(){this.size=0,this.__data__={hash:new VY,map:new(Rot||Pot),string:new VY}}var Mot=$ot;function Fot(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Lot=Fot,Bot=Lot;function Not(e,t){var n=e.__data__;return Bot(t)?n[typeof t=="string"?"string":"hash"]:n.map}var aT=Not,zot=aT;function Vot(e){var t=zot(this,e).delete(e);return this.size-=t?1:0,t}var Hot=Vot,Uot=aT;function Wot(e){return Uot(this,e).get(e)}var qot=Wot,Yot=aT;function Got(e){return Yot(this,e).has(e)}var Kot=Got,Zot=aT;function Xot(e,t){var n=Zot(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Qot=Xot,Jot=Mot,eit=Hot,tit=qot,nit=Kot,rit=Qot;function P0(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}P0.prototype.clear=Jot;P0.prototype.delete=eit;P0.prototype.get=tit;P0.prototype.has=nit;P0.prototype.set=rit;var o8=P0,oit=iT,iit=r8,sit=o8,ait=200;function lit(e,t){var n=this.__data__;if(n instanceof oit){var r=n.__data__;if(!iit||r.length<ait-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new sit(r)}return n.set(e,t),this.size=n.size,this}var cit=lit,uit=iT,dit=vrt,fit=brt,hit=wrt,pit=_rt,mit=cit;function R0(e){var t=this.__data__=new uit(e);this.size=t.size}R0.prototype.clear=dit;R0.prototype.delete=fit;R0.prototype.get=hit;R0.prototype.has=pit;R0.prototype.set=mit;var i8=R0,git="__lodash_hash_undefined__";function vit(e){return this.__data__.set(e,git),this}var yit=vit;function bit(e){return this.__data__.has(e)}var xit=bit,wit=o8,Cit=yit,_it=xit;function KE(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new wit;++t<n;)this.add(e[t])}KE.prototype.add=KE.prototype.push=Cit;KE.prototype.has=_it;var lT=KE;function Sit(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Eit=Sit;function kit(e,t){return e.has(t)}var cT=kit,jit=lT,Tit=Eit,Ait=cT,Dit=1,Iit=2;function Oit(e,t,n,r,o,i){var s=n&Dit,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=n&Iit?new jit:void 0;for(i.set(e,t),i.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var b=s?r(g,v,f,t,e,i):r(v,g,f,e,t,i);if(b!==void 0){if(b)continue;p=!1;break}if(m){if(!Tit(t,function(x,y){if(!Ait(m,y)&&(v===x||o(v,x,n,r,i)))return m.push(y)})){p=!1;break}}else if(!(v===g||o(v,g,n,r,i))){p=!1;break}}return i.delete(e),i.delete(t),p}var ZCe=Oit,Pit=Ll,Rit=Pit.Uint8Array,XCe=Rit;function $it(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}var Mit=$it;function Fit(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var s8=Fit,HY=g0,UY=XCe,Lit=rT,Bit=ZCe,Nit=Mit,zit=s8,Vit=1,Hit=2,Uit="[object Boolean]",Wit="[object Date]",qit="[object Error]",Yit="[object Map]",Git="[object Number]",Kit="[object RegExp]",Zit="[object Set]",Xit="[object String]",Qit="[object Symbol]",Jit="[object ArrayBuffer]",est="[object DataView]",WY=HY?HY.prototype:void 0,VI=WY?WY.valueOf:void 0;function tst(e,t,n,r,o,i,s){switch(n){case est:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Jit:return!(e.byteLength!=t.byteLength||!i(new UY(e),new UY(t)));case Uit:case Wit:case Git:return Lit(+e,+t);case qit:return e.name==t.name&&e.message==t.message;case Kit:case Xit:return e==t+"";case Yit:var a=Nit;case Zit:var c=r&Vit;if(a||(a=zit),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;r|=Hit,s.set(e,t);var d=Bit(a(e),a(t),r,o,i,s);return s.delete(e),d;case Qit:if(VI)return VI.call(e)==VI.call(t)}return!1}var nst=tst;function rst(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var a8=rst,ost=Array.isArray,to=ost,ist=a8,sst=to;function ast(e,t,n){var r=t(e);return sst(e)?r:ist(r,n(e))}var QCe=ast;function lst(e,t){for(var n=-1,r=e==null?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}var JCe=lst;function cst(){return[]}var e_e=cst,ust=JCe,dst=e_e,fst=Object.prototype,hst=fst.propertyIsEnumerable,qY=Object.getOwnPropertySymbols,pst=qY?function(e){return e==null?[]:(e=Object(e),ust(qY(e),function(t){return hst.call(e,t)}))}:dst,l8=pst;function mst(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var gst=mst,vst=Wf,yst=Xa,bst="[object Arguments]";function xst(e){return yst(e)&&vst(e)==bst}var wst=xst,YY=wst,Cst=Xa,t_e=Object.prototype,_st=t_e.hasOwnProperty,Sst=t_e.propertyIsEnumerable,Est=YY(function(){return arguments}())?YY:function(e){return Cst(e)&&_st.call(e,"callee")&&!Sst.call(e,"callee")},uT=Est,ZE={exports:{}};function kst(){return!1}var jst=kst;ZE.exports;(function(e,t){var n=Ll,r=jst,o=t&&!t.nodeType&&t,i=o&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===o,a=s?n.Buffer:void 0,c=a?a.isBuffer:void 0,u=c||r;e.exports=u})(ZE,ZE.exports);var dT=ZE.exports,Tst=9007199254740991,Ast=/^(?:0|[1-9]\d*)$/;function Dst(e,t){var n=typeof e;return t=t??Tst,!!t&&(n=="number"||n!="symbol"&&Ast.test(e))&&e>-1&&e%1==0&&e<t}var fT=Dst,Ist=9007199254740991;function Ost(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ist}var c8=Ost,Pst=Wf,Rst=c8,$st=Xa,Mst="[object Arguments]",Fst="[object Array]",Lst="[object Boolean]",Bst="[object Date]",Nst="[object Error]",zst="[object Function]",Vst="[object Map]",Hst="[object Number]",Ust="[object Object]",Wst="[object RegExp]",qst="[object Set]",Yst="[object String]",Gst="[object WeakMap]",Kst="[object ArrayBuffer]",Zst="[object DataView]",Xst="[object Float32Array]",Qst="[object Float64Array]",Jst="[object Int8Array]",eat="[object Int16Array]",tat="[object Int32Array]",nat="[object Uint8Array]",rat="[object Uint8ClampedArray]",oat="[object Uint16Array]",iat="[object Uint32Array]",ir={};ir[Xst]=ir[Qst]=ir[Jst]=ir[eat]=ir[tat]=ir[nat]=ir[rat]=ir[oat]=ir[iat]=!0;ir[Mst]=ir[Fst]=ir[Kst]=ir[Lst]=ir[Zst]=ir[Bst]=ir[Nst]=ir[zst]=ir[Vst]=ir[Hst]=ir[Ust]=ir[Wst]=ir[qst]=ir[Yst]=ir[Gst]=!1;function sat(e){return $st(e)&&Rst(e.length)&&!!ir[Pst(e)]}var aat=sat;function lat(e){return function(t){return e(t)}}var $0=lat,XE={exports:{}};XE.exports;(function(e,t){var n=Hve,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i&&n.process,a=function(){try{var c=o&&o.require&&o.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();e.exports=a})(XE,XE.exports);var u8=XE.exports,cat=aat,uat=$0,GY=u8,KY=GY&&GY.isTypedArray,dat=KY?uat(KY):cat,d8=dat,fat=gst,hat=uT,pat=to,mat=dT,gat=fT,vat=d8,yat=Object.prototype,bat=yat.hasOwnProperty;function xat(e,t){var n=pat(e),r=!n&&hat(e),o=!n&&!r&&mat(e),i=!n&&!r&&!o&&vat(e),s=n||r||o||i,a=s?fat(e.length,String):[],c=a.length;for(var u in e)(t||bat.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||gat(u,c)))&&a.push(u);return a}var n_e=xat,wat=Object.prototype;function Cat(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||wat;return e===n}var hT=Cat;function _at(e,t){return function(n){return e(t(n))}}var r_e=_at,Sat=r_e,Eat=Sat(Object.keys,Object),kat=Eat,jat=hT,Tat=kat,Aat=Object.prototype,Dat=Aat.hasOwnProperty;function Iat(e){if(!jat(e))return Tat(e);var t=[];for(var n in Object(e))Dat.call(e,n)&&n!="constructor"&&t.push(n);return t}var o_e=Iat,Oat=GCe,Pat=c8;function Rat(e){return e!=null&&Pat(e.length)&&!Oat(e)}var eh=Rat,$at=n_e,Mat=o_e,Fat=eh;function Lat(e){return Fat(e)?$at(e):Mat(e)}var th=Lat,Bat=QCe,Nat=l8,zat=th;function Vat(e){return Bat(e,zat,Nat)}var i_e=Vat,ZY=i_e,Hat=1,Uat=Object.prototype,Wat=Uat.hasOwnProperty;function qat(e,t,n,r,o,i){var s=n&Hat,a=ZY(e),c=a.length,u=ZY(t),d=u.length;if(c!=d&&!s)return!1;for(var f=c;f--;){var p=a[f];if(!(s?p in t:Wat.call(t,p)))return!1}var m=i.get(e),v=i.get(t);if(m&&v)return m==t&&v==e;var g=!0;i.set(e,t),i.set(t,e);for(var b=s;++f<c;){p=a[f];var x=e[p],y=t[p];if(r)var w=s?r(y,x,p,t,e,i):r(x,y,p,e,t,i);if(!(w===void 0?x===y||o(x,y,n,r,i):w)){g=!1;break}b||(b=p=="constructor")}if(g&&!b){var C=e.constructor,_=t.constructor;C!=_&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof _=="function"&&_ instanceof _)&&(g=!1)}return i.delete(e),i.delete(t),g}var Yat=qat,Gat=Cm,Kat=Ll,Zat=Gat(Kat,"DataView"),Xat=Zat,Qat=Cm,Jat=Ll,elt=Qat(Jat,"Promise"),tlt=elt,nlt=Cm,rlt=Ll,olt=nlt(rlt,"Set"),s_e=olt,ilt=Cm,slt=Ll,alt=ilt(slt,"WeakMap"),a_e=alt,w$=Xat,C$=r8,_$=tlt,S$=s_e,E$=a_e,l_e=Wf,M0=KCe,XY="[object Map]",llt="[object Object]",QY="[object Promise]",JY="[object Set]",eG="[object WeakMap]",tG="[object DataView]",clt=M0(w$),ult=M0(C$),dlt=M0(_$),flt=M0(S$),hlt=M0(E$),$h=l_e;(w$&&$h(new w$(new ArrayBuffer(1)))!=tG||C$&&$h(new C$)!=XY||_$&&$h(_$.resolve())!=QY||S$&&$h(new S$)!=JY||E$&&$h(new E$)!=eG)&&($h=function(e){var t=l_e(e),n=t==llt?e.constructor:void 0,r=n?M0(n):"";if(r)switch(r){case clt:return tG;case ult:return XY;case dlt:return QY;case flt:return JY;case hlt:return eG}return t});var Iw=$h,HI=i8,plt=ZCe,mlt=nst,glt=Yat,nG=Iw,rG=to,oG=dT,vlt=d8,ylt=1,iG="[object Arguments]",sG="[object Array]",h_="[object Object]",blt=Object.prototype,aG=blt.hasOwnProperty;function xlt(e,t,n,r,o,i){var s=rG(e),a=rG(t),c=s?sG:nG(e),u=a?sG:nG(t);c=c==iG?h_:c,u=u==iG?h_:u;var d=c==h_,f=u==h_,p=c==u;if(p&&oG(e)){if(!oG(t))return!1;s=!0,d=!1}if(p&&!d)return i||(i=new HI),s||vlt(e)?plt(e,t,n,r,o,i):mlt(e,t,c,n,r,o,i);if(!(n&ylt)){var m=d&&aG.call(e,"__wrapped__"),v=f&&aG.call(t,"__wrapped__");if(m||v){var g=m?e.value():e,b=v?t.value():t;return i||(i=new HI),o(g,b,n,r,i)}}return p?(i||(i=new HI),glt(e,t,n,r,o,i)):!1}var wlt=xlt,Clt=wlt,lG=Xa;function c_e(e,t,n,r,o){return e===t?!0:e==null||t==null||!lG(e)&&!lG(t)?e!==e&&t!==t:Clt(e,t,n,r,c_e,o)}var f8=c_e,_lt=f8;function Slt(e,t){return _lt(e,t)}var Elt=Slt;const Ut=Ie(Elt);var Ep=[],klt=function(){return Ep.some(function(e){return e.activeTargets.length>0})},jlt=function(){return Ep.some(function(e){return e.skippedTargets.length>0})},cG="ResizeObserver loop completed with undelivered notifications.",Tlt=function(){var e;typeof ErrorEvent=="function"?e=new ErrorEvent("error",{message:cG}):(e=document.createEvent("Event"),e.initEvent("error",!1,!1),e.message=cG),window.dispatchEvent(e)},ux;(function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ux||(ux={}));var kp=function(e){return Object.freeze(e)},Alt=function(){function e(t,n){this.inlineSize=t,this.blockSize=n,kp(this)}return e}(),u_e=function(){function e(t,n,r,o){return this.x=t,this.y=n,this.width=r,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,kp(this)}return e.prototype.toJSON=function(){var t=this,n=t.x,r=t.y,o=t.top,i=t.right,s=t.bottom,a=t.left,c=t.width,u=t.height;return{x:n,y:r,top:o,right:i,bottom:s,left:a,width:c,height:u}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),h8=function(e){return e instanceof SVGElement&&"getBBox"in e},d_e=function(e){if(h8(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var o=e,i=o.offsetWidth,s=o.offsetHeight;return!(i||s||e.getClientRects().length)},uG=function(e){var t;if(e instanceof Element)return!0;var n=(t=e==null?void 0:e.ownerDocument)===null||t===void 0?void 0:t.defaultView;return!!(n&&e instanceof n.Element)},Dlt=function(e){switch(e.tagName){case"INPUT":if(e.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ab=typeof window<"u"?window:{},p_=new WeakMap,dG=/auto|scroll/,Ilt=/^tb|vertical/,Olt=/msie|trident/i.test(ab.navigator&&ab.navigator.userAgent),Kl=function(e){return parseFloat(e||"0")},ov=function(e,t,n){return e===void 0&&(e=0),t===void 0&&(t=0),n===void 0&&(n=!1),new Alt((n?t:e)||0,(n?e:t)||0)},fG=kp({devicePixelContentBoxSize:ov(),borderBoxSize:ov(),contentBoxSize:ov(),contentRect:new u_e(0,0,0,0)}),f_e=function(e,t){if(t===void 0&&(t=!1),p_.has(e)&&!t)return p_.get(e);if(d_e(e))return p_.set(e,fG),fG;var n=getComputedStyle(e),r=h8(e)&&e.ownerSVGElement&&e.getBBox(),o=!Olt&&n.boxSizing==="border-box",i=Ilt.test(n.writingMode||""),s=!r&&dG.test(n.overflowY||""),a=!r&&dG.test(n.overflowX||""),c=r?0:Kl(n.paddingTop),u=r?0:Kl(n.paddingRight),d=r?0:Kl(n.paddingBottom),f=r?0:Kl(n.paddingLeft),p=r?0:Kl(n.borderTopWidth),m=r?0:Kl(n.borderRightWidth),v=r?0:Kl(n.borderBottomWidth),g=r?0:Kl(n.borderLeftWidth),b=f+u,x=c+d,y=g+m,w=p+v,C=a?e.offsetHeight-w-e.clientHeight:0,_=s?e.offsetWidth-y-e.clientWidth:0,S=o?b+y:0,E=o?x+w:0,j=r?r.width:Kl(n.width)-S-_,k=r?r.height:Kl(n.height)-E-C,T=j+b+_+y,A=k+x+C+w,D=kp({devicePixelContentBoxSize:ov(Math.round(j*devicePixelRatio),Math.round(k*devicePixelRatio),i),borderBoxSize:ov(T,A,i),contentBoxSize:ov(j,k,i),contentRect:new u_e(f,c,j,k)});return p_.set(e,D),D},h_e=function(e,t,n){var r=f_e(e,n),o=r.borderBoxSize,i=r.contentBoxSize,s=r.devicePixelContentBoxSize;switch(t){case ux.DEVICE_PIXEL_CONTENT_BOX:return s;case ux.BORDER_BOX:return o;default:return i}},Plt=function(){function e(t){var n=f_e(t);this.target=t,this.contentRect=n.contentRect,this.borderBoxSize=kp([n.borderBoxSize]),this.contentBoxSize=kp([n.contentBoxSize]),this.devicePixelContentBoxSize=kp([n.devicePixelContentBoxSize])}return e}(),p_e=function(e){if(d_e(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},Rlt=function(){var e=1/0,t=[];Ep.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(u){var d=new Plt(u.target),f=p_e(u.target);a.push(d),u.lastReportedSize=h_e(u.target,u.observedBox),f<e&&(e=f)}),t.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var n=0,r=t;n<r.length;n++){var o=r[n];o()}return e},hG=function(e){Ep.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(o){o.isActive()&&(p_e(o.target)>e?n.activeTargets.push(o):n.skippedTargets.push(o))})})},$lt=function(){var e=0;for(hG(e);klt();)e=Rlt(),hG(e);return jlt()&&Tlt(),e>0},UI,m_e=[],Mlt=function(){return m_e.splice(0).forEach(function(e){return e()})},Flt=function(e){if(!UI){var t=0,n=document.createTextNode(""),r={characterData:!0};new MutationObserver(function(){return Mlt()}).observe(n,r),UI=function(){n.textContent="".concat(t?t--:t++)}}m_e.push(e),UI()},Llt=function(e){Flt(function(){requestAnimationFrame(e)})},J2=0,Blt=function(){return!!J2},Nlt=250,zlt={attributes:!0,characterData:!0,childList:!0,subtree:!0},pG=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],mG=function(e){return e===void 0&&(e=0),Date.now()+e},WI=!1,Vlt=function(){function e(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return e.prototype.run=function(t){var n=this;if(t===void 0&&(t=Nlt),!WI){WI=!0;var r=mG(t);Llt(function(){var o=!1;try{o=$lt()}finally{if(WI=!1,t=r-mG(),!Blt())return;o?n.run(1e3):t>0?n.run(t):n.start()}})}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var t=this,n=function(){return t.observer&&t.observer.observe(document.body,zlt)};document.body?n():ab.addEventListener("DOMContentLoaded",n)},e.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),pG.forEach(function(n){return ab.addEventListener(n,t.listener,!0)}))},e.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),pG.forEach(function(n){return ab.removeEventListener(n,t.listener,!0)}),this.stopped=!0)},e}(),k$=new Vlt,gG=function(e){!J2&&e>0&&k$.start(),J2+=e,!J2&&k$.stop()},Hlt=function(e){return!h8(e)&&!Dlt(e)&&getComputedStyle(e).display==="inline"},Ult=function(){function e(t,n){this.target=t,this.observedBox=n||ux.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var t=h_e(this.target,this.observedBox,!0);return Hlt(this.target)&&(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Wlt=function(){function e(t,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=n}return e}(),m_=new WeakMap,vG=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},g_=function(){function e(){}return e.connect=function(t,n){var r=new Wlt(t,n);m_.set(t,r)},e.observe=function(t,n,r){var o=m_.get(t),i=o.observationTargets.length===0;vG(o.observationTargets,n)<0&&(i&&Ep.push(o),o.observationTargets.push(new Ult(n,r&&r.box)),gG(1),k$.schedule())},e.unobserve=function(t,n){var r=m_.get(t),o=vG(r.observationTargets,n),i=r.observationTargets.length===1;o>=0&&(i&&Ep.splice(Ep.indexOf(r),1),r.observationTargets.splice(o,1),gG(-1))},e.disconnect=function(t){var n=this,r=m_.get(t);r.observationTargets.slice().forEach(function(o){return n.unobserve(t,o.target)}),r.activeTargets.splice(0,r.activeTargets.length)},e}(),g_e=function(){function e(t){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof t!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");g_.connect(this,t)}return e.prototype.observe=function(t,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uG(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");g_.observe(this,t,n)},e.prototype.unobserve=function(t){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!uG(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");g_.unobserve(this,t)},e.prototype.disconnect=function(){g_.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),qlt=Yve,Ylt=Za,Glt="Expected a function";function Klt(e,t,n){var r=!0,o=!0;if(typeof e!="function")throw new TypeError(Glt);return Ylt(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),qlt(e,t,{leading:r,maxWait:t,trailing:o})}var Zlt=Klt;const pT=Ie(Zlt);var yG=g0,Xlt=uT,Qlt=to,bG=yG?yG.isConcatSpreadable:void 0;function Jlt(e){return Qlt(e)||Xlt(e)||!!(bG&&e&&e[bG])}var ect=Jlt,tct=a8,nct=ect;function v_e(e,t,n,r,o){var i=-1,s=e.length;for(n||(n=nct),o||(o=[]);++i<s;){var a=e[i];t>0&&n(a)?t>1?v_e(a,t-1,n,r,o):tct(o,a):r||(o[o.length]=a)}return o}var F0=v_e;function rct(e,t){for(var n=-1,r=e==null?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}var $c=rct,oct=to,ict=dm,sct=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,act=/^\w*$/;function lct(e,t){if(oct(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ict(e)?!0:act.test(e)||!sct.test(e)||t!=null&&e in Object(t)}var p8=lct,y_e=o8,cct="Expected a function";function m8(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(cct);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(m8.Cache||y_e),n}m8.Cache=y_e;var b_e=m8;const mT=Ie(b_e);var uct=b_e,dct=500;function fct(e){var t=uct(e,function(r){return n.size===dct&&n.clear(),r}),n=t.cache;return t}var hct=fct,pct=hct,mct=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,gct=/\\(\\)?/g,vct=pct(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(mct,function(n,r,o,i){t.push(o?i.replace(gct,"$1"):r||n)}),t}),x_e=vct,xG=g0,yct=$c,bct=to,xct=dm,wct=1/0,wG=xG?xG.prototype:void 0,CG=wG?wG.toString:void 0;function w_e(e){if(typeof e=="string")return e;if(bct(e))return yct(e,w_e)+"";if(xct(e))return CG?CG.call(e):"";var t=e+"";return t=="0"&&1/e==-wct?"-0":t}var C_e=w_e,Cct=C_e;function _ct(e){return e==null?"":Cct(e)}var Mc=_ct,Sct=to,Ect=p8,kct=x_e,jct=Mc;function Tct(e,t){return Sct(e)?e:Ect(e,t)?[e]:kct(jct(e))}var L0=Tct,Act=dm,Dct=1/0;function Ict(e){if(typeof e=="string"||Act(e))return e;var t=e+"";return t=="0"&&1/e==-Dct?"-0":t}var _m=Ict,Oct=L0,Pct=_m;function Rct(e,t){t=Oct(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Pct(t[n++])];return n&&n==r?e:void 0}var Ow=Rct,$ct=i8,Mct=f8,Fct=1,Lct=2;function Bct(e,t,n,r){var o=n.length,i=o,s=!r;if(e==null)return!i;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=n[o];var c=a[0],u=e[c],d=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var f=new $ct;if(r)var p=r(u,d,c,e,t,f);if(!(p===void 0?Mct(d,u,Fct|Lct,r,f):p))return!1}}return!0}var Nct=Bct,zct=Za;function Vct(e){return e===e&&!zct(e)}var __e=Vct,Hct=__e,Uct=th;function Wct(e){for(var t=Uct(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Hct(o)]}return t}var qct=Wct;function Yct(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var S_e=Yct,Gct=Nct,Kct=qct,Zct=S_e;function Xct(e){var t=Kct(e);return t.length==1&&t[0][2]?Zct(t[0][0],t[0][1]):function(n){return n===e||Gct(n,e,t)}}var Qct=Xct,Jct=Ow;function eut(e,t,n){var r=e==null?void 0:Jct(e,t);return r===void 0?n:r}var E_e=eut;const qn=Ie(E_e);function tut(e,t){return e!=null&&t in Object(e)}var nut=tut,rut=L0,out=uT,iut=to,sut=fT,aut=c8,lut=_m;function cut(e,t,n){t=rut(t,e);for(var r=-1,o=t.length,i=!1;++r<o;){var s=lut(t[r]);if(!(i=e!=null&&n(e,s)))break;e=e[s]}return i||++r!=o?i:(o=e==null?0:e.length,!!o&&aut(o)&&sut(s,o)&&(iut(e)||out(e)))}var uut=cut,dut=nut,fut=uut;function hut(e,t){return e!=null&&fut(e,t,dut)}var k_e=hut,put=f8,mut=E_e,gut=k_e,vut=p8,yut=__e,but=S_e,xut=_m,wut=1,Cut=2;function _ut(e,t){return vut(e)&&yut(t)?but(xut(e),t):function(n){var r=mut(n,e);return r===void 0&&r===t?gut(n,e):put(t,r,wut|Cut)}}var Sut=_ut;function Eut(e){return e}var Sm=Eut;const j_e=Ie(Sm);function kut(e){return function(t){return t==null?void 0:t[e]}}var jut=kut,Tut=Ow;function Aut(e){return function(t){return Tut(t,e)}}var Dut=Aut,Iut=jut,Out=Dut,Put=p8,Rut=_m;function $ut(e){return Put(e)?Iut(Rut(e)):Out(e)}var Mut=$ut,Fut=Qct,Lut=Sut,But=Sm,Nut=to,zut=Mut;function Vut(e){return typeof e=="function"?e:e==null?But:typeof e=="object"?Nut(e)?Lut(e[0],e[1]):Fut(e):zut(e)}var nh=Vut;function Hut(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var c=s[e?a:++o];if(n(i[c],c,i)===!1)break}return t}}var Uut=Hut,Wut=Uut,qut=Wut(),Yut=qut,Gut=Yut,Kut=th;function Zut(e,t){return e&&Gut(e,t,Kut)}var Xut=Zut,Qut=eh;function Jut(e,t){return function(n,r){if(n==null)return n;if(!Qut(n))return e(n,r);for(var o=n.length,i=t?o:-1,s=Object(n);(t?i--:++i<o)&&r(s[i],i,s)!==!1;);return n}}var edt=Jut,tdt=Xut,ndt=edt,rdt=ndt(tdt),T_e=rdt,odt=T_e,idt=eh;function sdt(e,t){var n=-1,r=idt(e)?Array(e.length):[];return odt(e,function(o,i,s){r[++n]=t(o,i,s)}),r}var A_e=sdt;function adt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var ldt=adt,_G=dm;function cdt(e,t){if(e!==t){var n=e!==void 0,r=e===null,o=e===e,i=_G(e),s=t!==void 0,a=t===null,c=t===t,u=_G(t);if(!a&&!u&&!i&&e>t||i&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!i&&!u&&e<t||u&&n&&o&&!r&&!i||a&&n&&o||!s&&o||!c)return-1}return 0}var udt=cdt,ddt=udt;function fdt(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,s=o.length,a=n.length;++r<s;){var c=ddt(o[r],i[r]);if(c){if(r>=a)return c;var u=n[r];return c*(u=="desc"?-1:1)}}return e.index-t.index}var hdt=fdt,qI=$c,pdt=Ow,mdt=nh,gdt=A_e,vdt=ldt,ydt=$0,bdt=hdt,xdt=Sm,wdt=to;function Cdt(e,t,n){t.length?t=qI(t,function(i){return wdt(i)?function(s){return pdt(s,i.length===1?i[0]:i)}:i}):t=[xdt];var r=-1;t=qI(t,ydt(mdt));var o=gdt(e,function(i,s,a){var c=qI(t,function(u){return u(i)});return{criteria:c,index:++r,value:i}});return vdt(o,function(i,s){return bdt(i,s,n)})}var D_e=Cdt;function _dt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var Sdt=_dt,Edt=Sdt,SG=Math.max;function kdt(e,t,n){return t=SG(t===void 0?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=SG(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=r[o];return a[t]=n(s),Edt(e,this,a)}}var I_e=kdt;function jdt(e){return function(){return e}}var Tdt=jdt,Adt=Cm,Ddt=function(){try{var e=Adt(Object,"defineProperty");return e({},"",{}),e}catch{}}(),O_e=Ddt,Idt=Tdt,EG=O_e,Odt=Sm,Pdt=EG?function(e,t){return EG(e,"toString",{configurable:!0,enumerable:!1,value:Idt(t),writable:!0})}:Odt,Rdt=Pdt,$dt=800,Mdt=16,Fdt=Date.now;function Ldt(e){var t=0,n=0;return function(){var r=Fdt(),o=Mdt-(r-n);if(n=r,o>0){if(++t>=$dt)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Bdt=Ldt,Ndt=Rdt,zdt=Bdt,Vdt=zdt(Ndt),P_e=Vdt,Hdt=Sm,Udt=I_e,Wdt=P_e;function qdt(e,t){return Wdt(Udt(e,t,Hdt),e+"")}var B0=qdt,Ydt=rT,Gdt=eh,Kdt=fT,Zdt=Za;function Xdt(e,t,n){if(!Zdt(n))return!1;var r=typeof t;return(r=="number"?Gdt(n)&&Kdt(t,n.length):r=="string"&&t in n)?Ydt(n[t],e):!1}var g8=Xdt,Qdt=F0,Jdt=D_e,eft=B0,kG=g8,tft=eft(function(e,t){if(e==null)return[];var n=t.length;return n>1&&kG(e,t[0],t[1])?t=[]:n>2&&kG(t[0],t[1],t[2])&&(t=[t[0]]),Jdt(e,Qdt(t,1),[])}),nft=tft;const Em=Ie(nft);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function QE(){return QE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QE.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JE.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zm(e,t,n){var r,o=(r=n.initialDeps)!=null?r:[],i;return function(){var s;n.key&&n.debug!=null&&n.debug()&&(s=Date.now());var a=e(),c=a.length!==o.length||a.some(function(v,g){return o[g]!==v});if(!c)return i;o=a;var u;if(n.key&&n.debug!=null&&n.debug()&&(u=Date.now()),i=t.apply(void 0,a),n.key&&n.debug!=null&&n.debug()){var d=Math.round((Date.now()-s)*100)/100,f=Math.round((Date.now()-u)*100)/100,p=f/16,m=function(g,b){for(g=String(g);g.length<b;)g=" "+g;return g};console.info("%c⏱ "+m(f,5)+" /"+m(d,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*p,120))+"deg 100% 31%);",n==null?void 0:n.key)}return n==null||n.onChange==null||n.onChange(i),i}}function YI(e,t){if(e===void 0)throw new Error("Unexpected undefined"+(t?": "+t:""));return e}var rft=function(t,n){return Math.abs(t-n)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var oft=function(t){return t},R_e=function(t){for(var n=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),o=[],i=n;i<=r;i++)o.push(i);return o},ift=function(t,n){var r=t.scrollElement;if(r){var o=function(a){var c=a.width,u=a.height;n({width:Math.round(c),height:Math.round(u)})};o(r.getBoundingClientRect());var i=new ResizeObserver(function(s){var a=s[0];if(a!=null&&a.borderBoxSize){var c=a.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(r.getBoundingClientRect())});return i.observe(r,{box:"border-box"}),function(){i.unobserve(r)}}},sft=function(t,n){var r=t.scrollElement;if(r){var o=function(){n(r[t.options.horizontal?"scrollLeft":"scrollTop"])};return o(),r.addEventListener("scroll",o,{passive:!0}),function(){r.removeEventListener("scroll",o)}}},aft=function(t,n,r){if(n!=null&&n.borderBoxSize){var o=n.borderBoxSize[0];if(o){var i=Math.round(o[r.options.horizontal?"inlineSize":"blockSize"]);return i}}return Math.round(t.getBoundingClientRect()[r.options.horizontal?"width":"height"])},$_e=function(t,n,r){var o,i,s=n.adjustments,a=s===void 0?0:s,c=n.behavior,u=t+a;(o=r.scrollElement)==null||o.scrollTo==null||o.scrollTo((i={},i[r.options.horizontal?"left":"top"]=u,i.behavior=c,i))},lft=function(t){var n=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var r=null,o=function(){return r||(typeof ResizeObserver<"u"?r=new ResizeObserver(function(s){s.forEach(function(a){n._measureElement(a.target,a)})}):null)};return{disconnect:function(){var s;return(s=o())==null?void 0:s.disconnect()},observe:function(s){var a;return(a=o())==null?void 0:a.observe(s,{box:"border-box"})},unobserve:function(s){var a;return(a=o())==null?void 0:a.unobserve(s)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(r){Object.entries(r).forEach(function(o){var i=o[0],s=o[1];typeof s>"u"&&delete r[i]}),n.options=JE({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:oft,rangeExtractor:R_e,onChange:function(){},measureElement:aft,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},r)},this.notify=function(){n.options.onChange==null||n.options.onChange(n)},this.cleanup=function(){n.unsubs.filter(Boolean).forEach(function(r){return r()}),n.unsubs=[],n.scrollElement=null},this._didMount=function(){return n.measureElementCache.forEach(n.observer.observe),function(){n.observer.disconnect(),n.cleanup()}},this._willUpdate=function(){var r=n.options.getScrollElement();n.scrollElement!==r&&(n.cleanup(),n.scrollElement=r,n._scrollToOffset(n.scrollOffset,{adjustments:void 0,behavior:void 0}),n.unsubs.push(n.options.observeElementRect(n,function(o){var i=n.scrollRect;n.scrollRect=o,(n.options.horizontal?o.width!==i.width:o.height!==i.height)&&n.maybeNotify()})),n.unsubs.push(n.options.observeElementOffset(n,function(o){n.scrollAdjustments=0,n.scrollOffset!==o&&(n.isScrollingTimeoutId!==null&&(clearTimeout(n.isScrollingTimeoutId),n.isScrollingTimeoutId=null),n.isScrolling=!0,n.scrollDirection=n.scrollOffset<o?"forward":"backward",n.scrollOffset=o,n.maybeNotify(),n.isScrollingTimeoutId=setTimeout(function(){n.isScrollingTimeoutId=null,n.isScrolling=!1,n.scrollDirection=null,n.maybeNotify()},n.options.scrollingDelay))})))},this.getSize=function(){return n.scrollRect[n.options.horizontal?"width":"height"]},this.memoOptions=Zm(function(){return[n.options.count,n.options.paddingStart,n.options.scrollMargin,n.options.getItemKey]},function(r,o,i,s){return n.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:o,scrollMargin:i,getItemKey:s}},{key:!1}),this.getFurthestMeasurement=function(r,o){for(var i=new Map,s=new Map,a=o-1;a>=0;a--){var c=r[a];if(!i.has(c.lane)){var u=s.get(c.lane);if(u==null||c.end>u.end?s.set(c.lane,c):c.end<u.end&&i.set(c.lane,!0),i.size===n.options.lanes)break}}return s.size===n.options.lanes?Array.from(s.values()).sort(function(d,f){return d.end-f.end})[0]:void 0},this.getMeasurements=Zm(function(){return[n.memoOptions(),n.itemSizeCache]},function(r,o){var i=r.count,s=r.paddingStart,a=r.scrollMargin,c=r.getItemKey,u=n.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,n.pendingMeasuredCacheIndexes):0;n.pendingMeasuredCacheIndexes=[];for(var d=n.measurementsCache.slice(0,u),f=u;f<i;f++){var p=c(f),m=n.options.lanes===1?d[f-1]:n.getFurthestMeasurement(d,f),v=m?m.end:s+a,g=o.get(p),b=typeof g=="number"?g:n.options.estimateSize(f),x=v+b,y=m?m.lane:f%n.options.lanes;d[f]={index:f,start:v,size:b,end:x,key:p,lane:y}}return n.measurementsCache=d,d},{key:!1,debug:function(){return n.options.debug}}),this.calculateRange=Zm(function(){return[n.getMeasurements(),n.getSize(),n.scrollOffset]},function(r,o,i){return n.range=cft({measurements:r,outerSize:o,scrollOffset:i})},{key:!1,debug:function(){return n.options.debug}}),this.maybeNotify=Zm(function(){var r=n.calculateRange();return[r.startIndex,r.endIndex,n.isScrolling]},function(){n.notify()},{key:!1,debug:function(){return n.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=Zm(function(){return[n.options.rangeExtractor,n.calculateRange(),n.options.overscan,n.options.count]},function(r,o,i,s){return r(JE({},o,{overscan:i,count:s}))},{key:!1,debug:function(){return n.options.debug}}),this.indexFromElement=function(r){var o=n.options.indexAttribute,i=r.getAttribute(o);return i?parseInt(i,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(r,o){var i,s=n.indexFromElement(r),a=n.measurementsCache[s];if(a){var c=n.measureElementCache.get(a.key);if(!r.isConnected){n.observer.unobserve(r),r===c&&n.measureElementCache.delete(a.key);return}c!==r&&(c&&n.observer.unobserve(c),n.observer.observe(r),n.measureElementCache.set(a.key,r));var u=n.options.measureElement(r,o,n),d=(i=n.itemSizeCache.get(a.key))!=null?i:a.size,f=u-d;f!==0&&(a.start<n.scrollOffset&&n._scrollToOffset(n.scrollOffset,{adjustments:n.scrollAdjustments+=f,behavior:void 0}),n.pendingMeasuredCacheIndexes.push(s),n.itemSizeCache=new Map(n.itemSizeCache.set(a.key,u)),n.notify())}},this.measureElement=function(r){r&&n._measureElement(r,void 0)},this.getVirtualItems=Zm(function(){return[n.getIndexes(),n.getMeasurements()]},function(r,o){for(var i=[],s=0,a=r.length;s<a;s++){var c=r[s],u=o[c];i.push(u)}return i},{key:!1,debug:function(){return n.options.debug}}),this.getVirtualItemForOffset=function(r){var o=n.getMeasurements();return YI(o[M_e(0,o.length-1,function(i){return YI(o[i]).start},r)])},this.getOffsetForAlignment=function(r,o){var i=n.getSize();o==="auto"&&(r<=n.scrollOffset?o="start":r>=n.scrollOffset+i?o="end":o="start"),o==="start"?r=r:o==="end"?r=r-i:o==="center"&&(r=r-i/2);var s=n.options.horizontal?"scrollWidth":"scrollHeight",a=n.scrollElement?"document"in n.scrollElement?n.scrollElement.document.documentElement[s]:n.scrollElement[s]:0,c=a-n.getSize();return Math.max(Math.min(c,r),0)},this.getOffsetForIndex=function(r,o){o===void 0&&(o="auto"),r=Math.max(0,Math.min(r,n.options.count-1));var i=YI(n.getMeasurements()[r]);if(o==="auto")if(i.end>=n.scrollOffset+n.getSize()-n.options.scrollPaddingEnd)o="end";else if(i.start<=n.scrollOffset+n.options.scrollPaddingStart)o="start";else return[n.scrollOffset,o];var s=o==="end"?i.end+n.options.scrollPaddingEnd:i.start-n.options.scrollPaddingStart;return[n.getOffsetForAlignment(s,o),o]},this.isDynamicMode=function(){return n.measureElementCache.size>0},this.cancelScrollToIndex=function(){n.scrollToIndexTimeoutId!==null&&(clearTimeout(n.scrollToIndexTimeoutId),n.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"start":s,c=i.behavior;n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.getOffsetForAlignment(r,a),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(r,o){var i=o===void 0?{}:o,s=i.align,a=s===void 0?"auto":s,c=i.behavior;r=Math.max(0,Math.min(r,n.options.count-1)),n.cancelScrollToIndex(),c==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=n.getOffsetForIndex(r,a),d=u[0],f=u[1];n._scrollToOffset(d,{adjustments:void 0,behavior:c}),c!=="smooth"&&n.isDynamicMode()&&(n.scrollToIndexTimeoutId=setTimeout(function(){n.scrollToIndexTimeoutId=null;var p=n.measureElementCache.has(n.options.getItemKey(r));if(p){var m=n.getOffsetForIndex(r,f),v=m[0];rft(v,n.scrollOffset)||n.scrollToIndex(r,{align:f,behavior:c})}else n.scrollToIndex(r,{align:f,behavior:c})}))},this.scrollBy=function(r,o){var i=o===void 0?{}:o,s=i.behavior;n.cancelScrollToIndex(),s==="smooth"&&n.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n._scrollToOffset(n.scrollOffset+r,{adjustments:void 0,behavior:s})},this.getTotalSize=function(){var r;return(((r=n.getMeasurements()[n.options.count-1])==null?void 0:r.end)||n.options.paddingStart)-n.options.scrollMargin+n.options.paddingEnd},this._scrollToOffset=function(r,o){var i=o.adjustments,s=o.behavior;n.options.scrollToFn(r,{behavior:s,adjustments:i},n)},this.measure=function(){n.itemSizeCache=new Map,n.notify()},this.setOptions(t),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(r){n.itemSizeCache.set(r.key,r.size)}),this.maybeNotify()},M_e=function(t,n,r,o){for(;t<=n;){var i=(t+n)/2|0,s=r(i);if(s<o)t=i+1;else if(s>o)n=i-1;else return i}return t>0?t-1:0};function cft(e){for(var t=e.measurements,n=e.outerSize,r=e.scrollOffset,o=t.length-1,i=function(u){return t[u].start},s=M_e(0,o,i,r),a=s;a<o&&t[a].end<r+n;)a++;return{startIndex:s,endIndex:a}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uft=typeof document<"u"?h.useLayoutEffect:h.useEffect;function dft(e){var t=h.useReducer(function(){return{}},{})[1],n=QE({},e,{onChange:function(s){t(),e.onChange==null||e.onChange(s)}}),r=h.useState(function(){return new lft(n)}),o=r[0];return o.setOptions(n),h.useEffect(function(){return o._didMount()},[]),uft(function(){return o._willUpdate()}),o}function F_e(e){return dft(QE({observeElementRect:ift,observeElementOffset:sft,scrollToFn:$_e},e))}var fft=hft;function hft(e,t,n){var r=e===null,o=t===null;if(r!==o)return!1;var i=Array.isArray(e),s=Array.isArray(t);if(i!==s)return!1;var a=typeof e,c=typeof t;return a!==c?!1:gft(a)?n?n(e,t):e===t:i?pft(e,t,n):mft(e,t,n)}function pft(e,t,n){var r=e.length;if(r!==t.length)return!1;if(n){for(var o=0;o<r;o++)if(!n(e[o],t[o]))return!1}else for(var o=0;o<r;o++)if(e[o]!==t[o])return!1;return!0}function mft(e,t,n){var r=0,o=0;if(n)for(var i in e){if(e.hasOwnProperty(i)&&!n(e[i],t[i]))return!1;r++}else for(var i in e){if(e.hasOwnProperty(i)&&e[i]!==t[i])return!1;r++}for(var i in t)t.hasOwnProperty(i)&&o++;return r===o}function gft(e){return e!=="function"&&e!=="object"}const Vu=Ie(fft);var j$={exports:{}},GI,jG;function gT(){if(jG)return GI;jG=1;var e=1e3,t=e*60,n=t*60,r=n*24,o=r*7,i=r*365.25;GI=function(d,f){f=f||{};var p=typeof d;if(p==="string"&&d.length>0)return s(d);if(p==="number"&&isFinite(d))return f.long?c(d):a(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function s(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var p=parseFloat(f[1]),m=(f[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return p*i;case"weeks":case"week":case"w":return p*o;case"days":case"day":case"d":return p*r;case"hours":case"hour":case"hrs":case"hr":case"h":return p*n;case"minutes":case"minute":case"mins":case"min":case"m":return p*t;case"seconds":case"second":case"secs":case"sec":case"s":return p*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function a(d){var f=Math.abs(d);return f>=r?Math.round(d/r)+"d":f>=n?Math.round(d/n)+"h":f>=t?Math.round(d/t)+"m":f>=e?Math.round(d/e)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=r?u(d,f,r,"day"):f>=n?u(d,f,n,"hour"):f>=t?u(d,f,t,"minute"):f>=e?u(d,f,e,"second"):d+" ms"}function u(d,f,p,m){var v=f>=p*1.5;return Math.round(d/p)+" "+m+(v?"s":"")}return GI}function vft(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=gT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var yft=vft;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=yft(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(j$,j$.exports);var bft=j$.exports;const Ud=Ie(bft);function xft(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}var L_e=xft;function wft(e){return e!==e}var Cft=wft;function _ft(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}var Sft=_ft,Eft=L_e,kft=Cft,jft=Sft;function Tft(e,t,n){return t===t?jft(e,t,n):Eft(e,kft,n)}var v8=Tft,Aft=v8;function Dft(e,t){var n=e==null?0:e.length;return!!n&&Aft(e,t,0)>-1}var y8=Dft;function Ift(e,t,n){for(var r=-1,o=e==null?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}var b8=Ift,Oft=lT,Pft=y8,Rft=b8,$ft=$c,Mft=$0,Fft=cT,Lft=200;function Bft(e,t,n,r){var o=-1,i=Pft,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=$ft(t,Mft(n))),r?(i=Rft,s=!1):t.length>=Lft&&(i=Fft,s=!1,t=new Oft(t));e:for(;++o<a;){var d=e[o],f=n==null?d:n(d);if(d=r||d!==0?d:0,s&&f===f){for(var p=u;p--;)if(t[p]===f)continue e;c.push(d)}else i(t,f,r)||c.push(d)}return c}var B_e=Bft,Nft=eh,zft=Xa;function Vft(e){return zft(e)&&Nft(e)}var vT=Vft,Hft=B_e,Uft=F0,Wft=B0,TG=vT,qft=Wft(function(e,t){return TG(e)?Hft(e,Uft(t,1,TG,!0)):[]}),Yft=qft;const qp=Ie(Yft);var Gft=lT,Kft=y8,Zft=b8,Xft=$c,Qft=$0,AG=cT,Jft=Math.min;function eht(e,t,n){for(var r=n?Zft:Kft,o=e[0].length,i=e.length,s=i,a=Array(i),c=1/0,u=[];s--;){var d=e[s];s&&t&&(d=Xft(d,Qft(t))),c=Jft(d.length,c),a[s]=!n&&(t||o>=120&&d.length>=120)?new Gft(s&&d):void 0}d=e[0];var f=-1,p=a[0];e:for(;++f<o&&u.length<c;){var m=d[f],v=t?t(m):m;if(m=n||m!==0?m:0,!(p?AG(p,v):r(u,v,n))){for(s=i;--s;){var g=a[s];if(!(g?AG(g,v):r(e[s],v,n)))continue e}p&&p.push(v),u.push(m)}}return u}var tht=eht,nht=vT;function rht(e){return nht(e)?e:[]}var oht=rht,iht=$c,sht=tht,aht=B0,lht=oht,cht=aht(function(e){var t=iht(e,lht);return t.length&&t[0]===e[0]?sht(t):[]}),uht=cht;const ek=Ie(uht);var dht=r_e,fht=dht(Object.getPrototypeOf,Object),x8=fht,hht=Wf,pht=x8,mht=Xa,ght="[object Object]",vht=Function.prototype,yht=Object.prototype,N_e=vht.toString,bht=yht.hasOwnProperty,xht=N_e.call(Object);function wht(e){if(!mht(e)||hht(e)!=ght)return!1;var t=pht(e);if(t===null)return!0;var n=bht.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&N_e.call(n)==xht}var z_e=wht;const Tr=Ie(z_e);var DG=O_e;function Cht(e,t,n){t=="__proto__"&&DG?DG(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var yT=Cht,_ht=yT,Sht=rT,Eht=Object.prototype,kht=Eht.hasOwnProperty;function jht(e,t,n){var r=e[t];(!(kht.call(e,t)&&Sht(r,n))||n===void 0&&!(t in e))&&_ht(e,t,n)}var w8=jht,Tht=w8,Aht=L0,Dht=fT,IG=Za,Iht=_m;function Oht(e,t,n,r){if(!IG(e))return e;t=Aht(t,e);for(var o=-1,i=t.length,s=i-1,a=e;a!=null&&++o<i;){var c=Iht(t[o]),u=n;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(o!=s){var d=a[c];u=r?r(d,c,a):void 0,u===void 0&&(u=IG(d)?d:Dht(t[o+1])?[]:{})}Tht(a,c,u),a=a[c]}return e}var Pht=Oht,Rht=Ow,$ht=Pht,Mht=L0;function Fht(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var s=t[r],a=Rht(e,s);n(a,s)&&$ht(i,Mht(s,e),a)}return i}var V_e=Fht,Lht=V_e,Bht=k_e;function Nht(e,t){return Lht(e,t,function(n,r){return Bht(e,r)})}var zht=Nht,Vht=F0;function Hht(e){var t=e==null?0:e.length;return t?Vht(e,1):[]}var H_e=Hht;const On=Ie(H_e);var Uht=H_e,Wht=I_e,qht=P_e;function Yht(e){return qht(Wht(e,void 0,Uht),e+"")}var C8=Yht,Ght=zht,Kht=C8,Zht=Kht(function(e,t){return e==null?{}:Ght(e,t)}),Xht=Zht;const St=Ie(Xht),_8=re.createContext(null);function Nl(){const e=h.useContext(_8);if(!e)throw new Error("Router: missing context value");return e}function Qht(e){return e.button===0}function Jht(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function S8(e){const{onClick:t,href:n,target:r,replace:o=!1}=e,{navigateUrl:i}=Nl();return{onClick:h.useCallback(a=>{a.isDefaultPrevented()||n&&(t&&t(a),!(Jht(a)||!Qht(a))&&(r||(a.preventDefault(),i({path:n,replace:o}))))},[n,i,t,o,r])}}function Pw(e){const{intent:t,onClick:n,params:r,replace:o,target:i}=e,{resolveIntentLink:s}=Nl(),a=h.useMemo(()=>s(t,r),[t,r,s]),{onClick:c}=S8({href:a,onClick:n,replace:o,target:i});return{onClick:c,href:a}}const km=h.forwardRef(function(t,n){const{intent:r,params:o,target:i,...s}=t,{onClick:a,href:c}=Pw({intent:r,params:o,target:i,onClick:t.onClick});return l.jsx("a",{...s,href:c,onClick:a,ref:n,target:i})});h.forwardRef(function(t,n){const{onClick:r,href:o,target:i,replace:s,...a}=t,{onClick:c}=S8({onClick:r,href:o,target:i,replace:s});return l.jsx("a",{...a,onClick:c,href:o,target:i,ref:n})});function ept(e,t,n){return n&&{...e,[t]:n}}function tpt(e){const{children:t,scope:n,__unsafe_disableScopedSearchParams:r}=e,o=Nl(),{resolvePathFromState:i,navigate:s}=o,a=h.useRef(o.state);a.current=o.state;const c=h.useCallback(p=>{const{_searchParams:m,...v}=p,g=ept(a.current,n,v);return r?g._searchParams=m:g[n]._searchParams=m,g},[n,r]),u=h.useCallback(p=>i(c(p)),[i,c]),d=h.useCallback(p=>s(c(p)),[s,c]),f=h.useMemo(()=>{const p=o.state,m={...p[n]||{}};return r&&(m._searchParams=p._searchParams),{...o,navigate:d,resolvePathFromState:u,state:m}},[n,o,d,u,r]);return l.jsx(_8.Provider,{value:f,children:t})}function npt(e){const{onNavigate:t,router:n,state:r}=e,o=h.useCallback((u,d)=>{const[f,p]=Array.isArray(d)?d:[d];return n.encode({intent:u,params:f,payload:p})},[n]),i=h.useCallback(u=>n.encode(u),[n]),s=h.useCallback(function(u){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t({path:i(u),replace:d.replace})},[t,i]),a=h.useCallback(function(u,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t({path:o(u,d),replace:f.replace})},[t,o]),c=h.useMemo(()=>({navigate:s,navigateIntent:a,navigateUrl:t,resolveIntentLink:o,resolvePathFromState:i,state:r}),[s,a,t,o,i,r]);return l.jsx(_8.Provider,{value:c,children:e.children})}const OG={};function U_e(e){const{onClick:t,replace:n,state:r,target:o,toIndex:i=!1}=e;if(r&&i)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!r&&!i&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:s}=Nl(),a=h.useMemo(()=>s(i?OG:r||OG),[s,r,i]),{onClick:c}=S8({href:a,onClick:t,replace:n,target:o});return{onClick:c,href:a}}const bT=h.forwardRef(function(t,n){const{onClick:r,replace:o,state:i,target:s,toIndex:a=!1,...c}=t,{onClick:u,href:d}=U_e({onClick:r,replace:o,state:i,target:s,toIndex:a});return l.jsx("a",{...c,href:d,onClick:u,ref:n})}),rpt=/^[a-zA-Z0-9_-]+$/;function opt(e){if(!e)return null;if(e.startsWith(":")){const t=e.substring(1);if(!rpt.test(t)){const n=e.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(e,'" includes invalid characters.').concat(n)))}return{type:"param",name:t}}return{type:"dir",name:e}}function ipt(e){const[t]=e.split("?"),n=t.split("/").map(opt).filter(Boolean);return{raw:e,segments:n}}const T$=Ud("state-router");function W_e(e){return Array.isArray(e)?e:e?[e]:[]}function spt(e){return e.map(t=>{let[n,r]=t;return[apt(n),r]})}const KI=1,PG=0;function apt(e){const t=[];let n=0,r=PG;for(;n<e.length;){const o=e.indexOf("[",n);if(o===-1){t.push(e.slice(n,e.length));break}if(r===KI)throw new Error("Nested brackets not supported");r=KI,o>n&&(t.push(e.slice(n,o)),n=o);const i=e.indexOf("]",o);if(i===-1){if(r===KI)throw new Error("Unclosed bracket");break}r=PG,t.push(e.slice(n+1,i)),n=i+1}return t}function q_e(e,t,n){const r=t.split("/").filter(Boolean),o=e.route.segments.length;if(r.length<o)return null;const i={};if(!e.route.segments.every((m,v)=>{if(m.type==="dir")return m.name===r[v];const g=e.transform&&e.transform[m.name];return i[m.name]=g?g.toState(r[v]):r[v],!0}))return null;const a=r.slice(o);let c=null;const u=typeof e.children=="function"?W_e(e.children(i)):e.children,d=cpt(e.scope,n);if(u.some(m=>{if(m){const v=m.scope?d.filter(g=>{let[b]=g;return m.scope===b[0]}):d;return c=q_e(m,a.join("/"),v),c}}),a.length>0&&!c)return null;const f=d.flatMap(m=>{let[v,g]=m;return v.length===1?[[v[0],g]]:[]}),p={...i,...c||{},...f.length>0?{_searchParams:f}:{}};return e.scope?{[e.scope]:p}:p}function lpt(e,t){T$("resolving state from path %s",t);const[n,r]=t.split("?"),o=Array.from(new URLSearchParams(r).entries()),i=q_e(e,n,spt(o));return T$("resolved: %o",i||null),i||null}function cpt(e,t){return e?t.map(n=>{let[r,o]=n;return[r[0]===e?r.slice(1):r,o]}):t}function RG(e){return Tr(e)}function ZI(e,t,n){return{type:"error",node:e,missingKeys:t,unmappableStateKeys:n}}function XI(e,t,n,r){return{type:"ok",node:e,matchedState:t,searchParams:n,child:r}}function Y_e(e,t){if(!t)return XI(e,{},[]);const n=e.scope?t[e.scope]:t,{_searchParams:r=[],...o}=n||{},i=e.route.segments.filter(b=>b.type==="param").map(b=>b.name),s=RG(o)?Object.keys(o):[],a=ek(s,i),c=qp(i,a),u=qp(s,a);if(c.length>0)return ZI(e,c,[]);const d=r.map(b=>{let[x,y]=b;return[[x],y]}),f=St(o,a);if(u.length===0)return XI(e,f,d);const p=W_e((typeof e.children=="function"?e.children(RG(o)?o:{}):e.children)||[]);if(u.length>0&&p.length===0)return ZI(e,[],u);const m=St(o,u),g=p.map(b=>Y_e(b,m)).find(b=>b.type==="ok");return g?XI(e,f,d,g):ZI(e,[],u)}function G_e(e,t){const n=[...String(e)];let r="";for(let o=0;o<n.length;o++){const i=n[o];t.includes(i)?r+=i:r+=encodeURIComponent(i)}return r}function upt(e,t){T$("Resolving path from state %o",t);const n=Y_e(e,t);if(n.type==="error"){const s=n.unmappableStateKeys;if(s.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(s.length==1?"":"s"," to a valid url: ").concat(s.map($G).join(", ")));const a=n.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(a.length==1?"":"s"," defined in route: ").concat(a.map($G).join(", ")))}const{path:r,searchParams:o}=K_e(n),i=o.length>0?fpt(o):"";return"/".concat(r.join("/")).concat(i?"?".concat(i):"")}function dpt(e){return"[".concat(e,"]")}function fpt(e){return e.flatMap(t=>{let[n,r]=t;return r===void 0?[]:[mpt(hpt(n)),ppt(r)].join("=")}).join("&")}function hpt(e){const[t,...n]=e;return n.length>0?[t,...n.map(dpt)].join(""):t}function ppt(e){return G_e(e,"/")}function mpt(e){return G_e(e,"[]")}function K_e(e){const t=e.matchedState,n=e.node.route.segments.map(i=>{if(i.type==="dir")return i.name;const s=e.node.transform&&e.node.transform[i.name];return s?s.toPath(t[i.name]):t[i.name]}),r=e.child?K_e(e.child):void 0,o=r!=null&&r.searchParams?[...e.searchParams,...r.searchParams]:e.searchParams;return{searchParams:gpt(e.node,o),path:[...n||[],...(r==null?void 0:r.path)||[]]}}function gpt(e,t){const n=e.scope;return n&&!e.__unsafe_disableScopedSearchParams?t.map(r=>{let[o,i]=r;return[[n,...o],i]}):t}function $G(e){return'"'.concat(e,'"')}function vpt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=decodeURIComponent(e);if(!t)return{};try{return JSON.parse(atob(t))}catch{}try{return JSON.parse(t)}catch{console.warn("Failed to parse JSON parameters")}return{}}function ypt(e){return e?btoa(JSON.stringify(e)):""}function bpt(e){return e.split(";").reduce((t,n)=>{const[r,o]=n.split("=");return t[decodeURIComponent(r)]=decodeURIComponent(o),t},{})}function xpt(e){return Object.entries(e).filter(t=>{let[,n]=t;return n!=null}).map(t=>{let[n,r]=t;return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(r))}).join(";")}const Ci={create:(e,t,n)=>BG(FG(e,t,n)),intents:e=>{const t=Cpt(e).join("/");return Ci.create("".concat(t,"/:intent"),[Ci.create(":params",{transform:{params:{toState:bpt,toPath:xpt}}},[Ci.create(":payload",{transform:{payload:{toState:vpt,toPath:ypt}}})])])},scope(e,t,n,r){const o=FG(t,n,r);return BG({...o,scope:e})}};function MG(e){return Array.isArray(e)||typeof e=="function"?e:e?[e]:[]}function wpt(e){return e&&"_isRoute"in e}function FG(e,t,n){return typeof e=="object"?e:Array.isArray(t)||typeof t=="function"||wpt(t)?{path:e,children:MG(t)}:n?{path:e,...t,children:MG(n)}:{path:e,...t}}function Cpt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o.split("/")),[]).filter(Boolean)}const _pt={};function LG(e){return e.split("/").every(t=>!t)}function BG(e){const{path:t,scope:n,transform:r,children:o,__unsafe_disableScopedSearchParams:i}=e;if(!t)throw new TypeError("Missing path");const s=ipt(t);return{_isRoute:!0,scope:n,__unsafe_disableScopedSearchParams:i,route:s,children:o||[],transform:r,encode(a){return upt(this,a)},decode(a){return lpt(this,a)},isRoot:LG,isNotFound(a){return this.decode(a)===null},getBasePath(){return this.encode(_pt)},getRedirectBase(a){if(LG(a)){const c=this.getBasePath();if(a!==c)return c}return null}}}function xT(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j_e;const{state:t}=Nl();return h.useMemo(()=>e(t),[e,t])}function Spt(e){function t(n){const r=Nl();return l.jsx(e,{...n,router:r})}return t.displayName="withRouter(".concat(e.displayName||e.name,")"),t}Spt(e=>e.children(e.router));function Ept(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(this,arguments)}var A$="data-focus-lock",Z_e="data-focus-lock-disabled",kpt="data-no-focus-lock",jpt="data-autofocus-inside",Tpt="data-no-autofocus";function Apt(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Dpt(e,t){var n=h.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}function Ipt(e,t){return Dpt(t||null,function(n){return e.forEach(function(r){return Apt(r,n)})})}var QI={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function X_e(e){return e}function Q_e(e,t){t===void 0&&(t=X_e);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var s=t(i,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(i){for(r=!0;n.length;){var s=n;n=[],s.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(i),s=n}var c=function(){var d=s;s=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){s.push(d),u()},filter:function(d){return s=s.filter(d),n}}}};return o}function E8(e,t){return t===void 0&&(t=X_e),Q_e(e,t)}function Opt(e){e===void 0&&(e={});var t=Q_e(null);return t.options=ko({async:!0,ssr:!1},e),t}var J_e=E8({},function(e){var t=e.target,n=e.currentTarget;return{target:t,currentTarget:n}}),e2e=E8(),Ppt=E8(),Rpt=Opt({async:!0}),$pt=[],k8=h.forwardRef(function(t,n){var r,o=h.useState(),i=o[0],s=o[1],a=h.useRef(),c=h.useRef(!1),u=h.useRef(null),d=t.children,f=t.disabled,p=t.noFocusGuards,m=t.persistentFocus,v=t.crossFrame,g=t.autoFocus;t.allowTextSelection;var b=t.group,x=t.className,y=t.whiteList,w=t.hasPositiveIndices,C=t.shards,_=C===void 0?$pt:C,S=t.as,E=S===void 0?"div":S,j=t.lockProps,k=j===void 0?{}:j,T=t.sideCar,A=t.returnFocus,D=t.focusOptions,I=t.onActivation,O=t.onDeactivation,$=h.useState({}),R=$[0],z=h.useCallback(function(){u.current=u.current||document&&document.activeElement,a.current&&I&&I(a.current),c.current=!0},[I]),B=h.useCallback(function(){c.current=!1,O&&O(a.current)},[O]);h.useEffect(function(){f||(u.current=null)},[]);var U=h.useCallback(function(Z){var ie=u.current;if(ie&&ie.focus){var ne=typeof A=="function"?A(ie):A;if(ne){var Y=typeof ne=="object"?ne:void 0;u.current=null,Z?Promise.resolve().then(function(){return ie.focus(Y)}):ie.focus(Y)}}},[A]),W=h.useCallback(function(Z){c.current&&J_e.useMedium(Z)},[]),V=e2e.useMedium,K=h.useCallback(function(Z){a.current!==Z&&(a.current=Z,s(Z))},[]),te=Hu((r={},r[Z_e]=f&&"disabled",r[A$]=b,r),k),N=p!==!0,G=N&&p!=="tail",q=Ipt([n,K]);return h.createElement(h.Fragment,null,N&&[h.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:f?-1:0,style:QI}),w?h.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:f?-1:1,style:QI}):null],!f&&h.createElement(T,{id:R,sideCar:Rpt,observed:i,disabled:f,persistentFocus:m,crossFrame:v,autoFocus:g,whiteList:y,shards:_,onActivation:z,onDeactivation:B,returnFocus:U,focusOptions:D}),h.createElement(E,Hu({ref:q},te,{className:x,onBlur:V,onFocus:W}),d),G&&h.createElement("div",{"data-focus-guard":!0,tabIndex:f?-1:0,style:QI}))});k8.propTypes={};k8.defaultProps={children:void 0,disabled:!1,returnFocus:!1,focusOptions:void 0,noFocusGuards:!1,autoFocus:!0,persistentFocus:!1,crossFrame:!0,hasPositiveIndices:void 0,allowTextSelection:void 0,group:void 0,className:void 0,whiteList:void 0,shards:void 0,as:"div",lockProps:{},onActivation:void 0,onDeactivation:void 0};const t2e=k8;function tk(e,t){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},tk(e,t)}function Mpt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tk(e,t)}function Il(e){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Il(e)}function Fpt(e,t){if(Il(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Il(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n2e(e){var t=Fpt(e,"string");return Il(t)==="symbol"?t:String(t)}function Le(e,t,n){return t=n2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lpt(e,t){function n(r){return r.displayName||r.name||"Component"}return function(o){var i=[],s;function a(){s=e(i.map(function(u){return u.props})),t(s)}var c=function(u){Mpt(d,u);function d(){return u.apply(this,arguments)||this}d.peek=function(){return s};var f=d.prototype;return f.componentDidMount=function(){i.push(this),a()},f.componentDidUpdate=function(){a()},f.componentWillUnmount=function(){var m=i.indexOf(this);i.splice(m,1),a()},f.render=function(){return re.createElement(o,this.props)},d}(h.PureComponent);return Le(c,"displayName","SideEffect("+n(o)+")"),c}}var Fc=function(e){for(var t=Array(e.length),n=0;n<e.length;++n)t[n]=e[n];return t},nk=function(e){return Array.isArray(e)?e:[e]},r2e=function(e){return Array.isArray(e)?e[0]:e},Bpt=function(e){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e,null);return!t||!t.getPropertyValue?!1:t.getPropertyValue("display")==="none"||t.getPropertyValue("visibility")==="hidden"},o2e=function(e){return e.parentNode&&e.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?e.parentNode.host:e.parentNode},i2e=function(e){return e===document||e&&e.nodeType===Node.DOCUMENT_NODE},Npt=function(e,t){return!e||i2e(e)||!Bpt(e)&&t(o2e(e))},s2e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=Npt(t,s2e.bind(void 0,e));return e.set(t,r),r},zpt=function(e,t){return e&&!i2e(e)?Upt(e)?t(o2e(e)):!1:!0},a2e=function(e,t){var n=e.get(t);if(n!==void 0)return n;var r=zpt(t,a2e.bind(void 0,e));return e.set(t,r),r},l2e=function(e){return e.dataset},Vpt=function(e){return e.tagName==="BUTTON"},c2e=function(e){return e.tagName==="INPUT"},u2e=function(e){return c2e(e)&&e.type==="radio"},Hpt=function(e){return!((c2e(e)||Vpt(e))&&(e.type==="hidden"||e.disabled))},Upt=function(e){var t=e.getAttribute(Tpt);return![!0,"true",""].includes(t)},j8=function(e){var t;return!!(e&&(!((t=l2e(e))===null||t===void 0)&&t.focusGuard))},rk=function(e){return!j8(e)},Wpt=function(e){return!!e},qpt=function(e,t){var n=e.tabIndex-t.tabIndex,r=e.index-t.index;if(n){if(!e.tabIndex)return 1;if(!t.tabIndex)return-1}return n||r},d2e=function(e,t,n){return Fc(e).map(function(r,o){return{node:r,index:o,tabIndex:n&&r.tabIndex===-1?(r.dataset||{}).focusGuard?0:-1:r.tabIndex}}).filter(function(r){return!t||r.tabIndex>=0}).sort(qpt)},Ypt=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],T8=Ypt.join(","),Gpt="".concat(T8,", [data-focus-guard]"),f2e=function(e,t){return Fc((e.shadowRoot||e).children).reduce(function(n,r){return n.concat(r.matches(t?Gpt:T8)?[r]:[],f2e(r))},[])},Kpt=function(e,t){var n;return e instanceof HTMLIFrameElement&&(!((n=e.contentDocument)===null||n===void 0)&&n.body)?wT([e.contentDocument.body],t):[e]},wT=function(e,t){return e.reduce(function(n,r){var o,i=f2e(r,t),s=(o=[]).concat.apply(o,i.map(function(a){return Kpt(a,t)}));return n.concat(s,r.parentNode?Fc(r.parentNode.querySelectorAll(T8)).filter(function(a){return a===r}):[])},[])},Zpt=function(e){var t=e.querySelectorAll("[".concat(jpt,"]"));return Fc(t).map(function(n){return wT([n])}).reduce(function(n,r){return n.concat(r)},[])},A8=function(e,t){return Fc(e).filter(function(n){return s2e(t,n)}).filter(function(n){return Hpt(n)})},NG=function(e,t){return t===void 0&&(t=new Map),Fc(e).filter(function(n){return a2e(t,n)})},D$=function(e,t,n){return d2e(A8(wT(e,n),t),!0,n)},zG=function(e,t){return d2e(A8(wT(e),t),!1)},Xpt=function(e,t){return A8(Zpt(e),t)},iv=function(e,t){return e.shadowRoot?iv(e.shadowRoot,t):Object.getPrototypeOf(e).contains!==void 0&&Object.getPrototypeOf(e).contains.call(e,t)?!0:Fc(e.children).some(function(n){var r;if(n instanceof HTMLIFrameElement){var o=(r=n.contentDocument)===null||r===void 0?void 0:r.body;return o?iv(o,t):!1}return iv(n,t)})},Qpt=function(e){for(var t=new Set,n=e.length,r=0;r<n;r+=1)for(var o=r+1;o<n;o+=1){var i=e[r].compareDocumentPosition(e[o]);(i&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&t.add(o),(i&Node.DOCUMENT_POSITION_CONTAINS)>0&&t.add(r)}return e.filter(function(s,a){return!t.has(a)})},h2e=function(e){return e.parentNode?h2e(e.parentNode):e},D8=function(e){var t=nk(e);return t.filter(Boolean).reduce(function(n,r){var o=r.getAttribute(A$);return n.push.apply(n,o?Qpt(Fc(h2e(r).querySelectorAll("[".concat(A$,'="').concat(o,'"]:not([').concat(Z_e,'="disabled"])')))):[r]),n},[])},Jpt=function(e){try{return e()}catch{return}},dx=function(e){if(e===void 0&&(e=document),!(!e||!e.activeElement)){var t=e.activeElement;return t.shadowRoot?dx(t.shadowRoot):t instanceof HTMLIFrameElement&&Jpt(function(){return t.contentWindow.document})?dx(t.contentWindow.document):t}},emt=function(e,t){return e===t},tmt=function(e,t){return!!Fc(e.querySelectorAll("iframe")).some(function(n){return emt(n,t)})},p2e=function(e,t){return t===void 0&&(t=dx(r2e(e).ownerDocument)),!t||t.dataset&&t.dataset.focusGuard?!1:D8(e).some(function(n){return iv(n,t)||tmt(n,t)})},nmt=function(e){e===void 0&&(e=document);var t=dx(e);return t?Fc(e.querySelectorAll("[".concat(kpt,"]"))).some(function(n){return iv(n,t)}):!1},rmt=function(e,t){return t.filter(u2e).filter(function(n){return n.name===e.name}).filter(function(n){return n.checked})[0]||e},I8=function(e,t){return u2e(e)&&e.name?rmt(e,t):e},omt=function(e){var t=new Set;return e.forEach(function(n){return t.add(I8(n,e))}),e.filter(function(n){return t.has(n)})},VG=function(e){return e[0]&&e.length>1?I8(e[0],e):e[0]},HG=function(e,t){return e.length>1?e.indexOf(I8(e[t],e)):t},m2e="NEW_FOCUS",imt=function(e,t,n,r){var o=e.length,i=e[0],s=e[o-1],a=j8(n);if(!(n&&e.indexOf(n)>=0)){var c=n!==void 0?t.indexOf(n):-1,u=r?t.indexOf(r):c,d=r?e.indexOf(r):-1,f=c-u,p=t.indexOf(i),m=t.indexOf(s),v=omt(t),g=n!==void 0?v.indexOf(n):-1,b=g-(r?v.indexOf(r):c),x=HG(e,0),y=HG(e,o-1);if(c===-1||d===-1)return m2e;if(!f&&d>=0)return d;if(c<=p&&a&&Math.abs(f)>1)return y;if(c>=m&&a&&Math.abs(f)>1)return x;if(f&&Math.abs(b)>1)return d;if(c<=p)return y;if(c>m)return x;if(f)return Math.abs(f)>1?d:(o+d+f)%o}},smt=function(e){return function(t){var n,r=(n=l2e(t))===null||n===void 0?void 0:n.autofocus;return t.autofocus||r!==void 0&&r!=="false"||e.indexOf(t)>=0}},amt=function(e,t,n){var r=e.map(function(i){var s=i.node;return s}),o=NG(r.filter(smt(n)));return o&&o.length?VG(o):VG(NG(t))},I$=function(e,t){return t===void 0&&(t=[]),t.push(e),e.parentNode&&I$(e.parentNode.host||e.parentNode,t),t},JI=function(e,t){for(var n=I$(e),r=I$(t),o=0;o<n.length;o+=1){var i=n[o];if(r.indexOf(i)>=0)return i}return!1},g2e=function(e,t,n){var r=nk(e),o=nk(t),i=r[0],s=!1;return o.filter(Boolean).forEach(function(a){s=JI(s||a,a)||s,n.filter(Boolean).forEach(function(c){var u=JI(i,c);u&&(!s||iv(u,s)?s=u:s=JI(u,s))})}),s},lmt=function(e,t){return e.reduce(function(n,r){return n.concat(Xpt(r,t))},[])},cmt=function(e,t){var n=new Map;return t.forEach(function(r){return n.set(r.node,r)}),e.map(function(r){return n.get(r)}).filter(Wpt)},umt=function(e,t){var n=dx(nk(e).length>0?document:r2e(e).ownerDocument),r=D8(e).filter(rk),o=g2e(n||e,e,r),i=new Map,s=zG(r,i),a=D$(r,i).filter(function(m){var v=m.node;return rk(v)});if(!(!a[0]&&(a=s,!a[0]))){var c=zG([o],i).map(function(m){var v=m.node;return v}),u=cmt(c,a),d=u.map(function(m){var v=m.node;return v}),f=imt(d,c,n,t);if(f===m2e){var p=amt(s,d,lmt(r,i));if(p)return{node:p};console.warn("focus-lock: cannot find any node to move focus into");return}return f===void 0?f:u[f]}},dmt=function(e){var t=D8(e).filter(rk),n=g2e(e,e,t),r=new Map,o=D$([n],r,!0),i=D$(t,r).filter(function(s){var a=s.node;return rk(a)}).map(function(s){var a=s.node;return a});return o.map(function(s){var a=s.node,c=s.index;return{node:a,index:c,lockItem:i.indexOf(a)>=0,guard:j8(a)}})},fmt=function(e,t){"focus"in e&&e.focus(t),"contentWindow"in e&&e.contentWindow&&e.contentWindow.focus()},e3=0,t3=!1,v2e=function(e,t,n){n===void 0&&(n={});var r=umt(e,t);if(!t3&&r){if(e3>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),t3=!0,setTimeout(function(){t3=!1},1);return}e3++,fmt(r.node,n.focusOptions),e3--}};function O8(e){setTimeout(e,1)}var hmt=function(){return document&&document.activeElement===document.body},pmt=function(){return hmt()||nmt()},sv=null,Ng=null,av=null,fx=!1,mmt=function(){return!0},gmt=function(t){return(sv.whiteList||mmt)(t)},vmt=function(t,n){av={observerNode:t,portaledElement:n}},ymt=function(t){return av&&av.portaledElement===t};function UG(e,t,n,r){var o=null,i=e;do{var s=r[i];if(s.guard)s.node.dataset.focusAutoGuard&&(o=s);else if(s.lockItem){if(i!==e)return;o=null}else break}while((i+=n)!==t);o&&(o.node.tabIndex=0)}var bmt=function(t){return t&&"current"in t?t.current:t},xmt=function(t){return t?!!fx:fx==="meanwhile"},wmt=function e(t,n,r){return n&&(n.host===t&&(!n.activeElement||r.contains(n.activeElement))||n.parentNode&&e(t,n.parentNode,r))},Cmt=function(t,n){return n.some(function(r){return wmt(t,r,r)})},ok=function(){var t=!1;if(sv){var n=sv,r=n.observed,o=n.persistentFocus,i=n.autoFocus,s=n.shards,a=n.crossFrame,c=n.focusOptions,u=r||av&&av.portaledElement,d=document&&document.activeElement;if(u){var f=[u].concat(s.map(bmt).filter(Boolean));if((!d||gmt(d))&&(o||xmt(a)||!pmt()||!Ng&&i)&&(u&&!(p2e(f)||d&&Cmt(d,f)||ymt(d))&&(document&&!Ng&&d&&!i?(d.blur&&d.blur(),document.body.focus()):(t=v2e(f,Ng,{focusOptions:c}),av={})),fx=!1,Ng=document&&document.activeElement),document){var p=document&&document.activeElement,m=dmt(f),v=m.map(function(g){var b=g.node;return b}).indexOf(p);v>-1&&(m.filter(function(g){var b=g.guard,x=g.node;return b&&x.dataset.focusAutoGuard}).forEach(function(g){var b=g.node;return b.removeAttribute("tabIndex")}),UG(v,m.length,1,m),UG(v,-1,-1,m))}}}return t},y2e=function(t){ok()&&t&&(t.stopPropagation(),t.preventDefault())},P8=function(){return O8(ok)},_mt=function(t){var n=t.target,r=t.currentTarget;r.contains(n)||vmt(r,n)},Smt=function(){return null},b2e=function(){fx="just",O8(function(){fx="meanwhile"})},Emt=function(){document.addEventListener("focusin",y2e),document.addEventListener("focusout",P8),window.addEventListener("blur",b2e)},kmt=function(){document.removeEventListener("focusin",y2e),document.removeEventListener("focusout",P8),window.removeEventListener("blur",b2e)};function jmt(e){return e.filter(function(t){var n=t.disabled;return!n})}function Tmt(e){var t=e.slice(-1)[0];t&&!sv&&Emt();var n=sv,r=n&&t&&t.id===n.id;sv=t,n&&!r&&(n.onDeactivation(),e.filter(function(o){var i=o.id;return i===n.id}).length||n.returnFocus(!t)),t?(Ng=null,(!r||n.observed!==t.observed)&&t.onActivation(),ok(),O8(ok)):(kmt(),Ng=null)}J_e.assignSyncMedium(_mt);e2e.assignMedium(P8);Ppt.assignMedium(function(e){return e({moveFocusInside:v2e,focusInside:p2e})});const Amt=Lpt(jmt,Tmt)(Smt);var x2e=h.forwardRef(function(t,n){return h.createElement(t2e,Hu({sideCar:Amt,ref:n},t))}),w2e=t2e.propTypes||{};w2e.sideCar;Ept(w2e,["sideCar"]);x2e.propTypes={};const rh=x2e;var C2e={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var a=n.apply(null,i);a&&r.push(a)}}else if(s==="object"){if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]")){r.push(i.toString());continue}for(var c in i)t.call(i,c)&&i[c]&&r.push(c)}}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(C2e);var Dmt=C2e.exports;const Imt=Ie(Dmt);function jm(e){const{defaultDpr:t=1,maxDpr:n=3,round:r=!0}=e||{},i=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:t;return Math.min(Math.max(1,r?Math.floor(i):i),n)}const Omt="modulepreload",Pmt=function(e){return"/"+e},WG={},R8=function(t,n,r){if(!n||n.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Pmt(i),i in WG)return;WG[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let d=o.length-1;d>=0;d--){const f=o[d];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":Omt,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((d,f)=>{u.addEventListener("load",d),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},Rmt=typeof navigator>"u"?!1:navigator.product==="ReactNative",_2e={timeout:Rmt?6e4:12e4},$mt=function(t){const n={..._2e,...typeof t=="string"?{url:t}:t},{searchParams:r}=new URL(n.url,"http://localhost");if(n.timeout=S2e(n.timeout),n.query){for(const[s,a]of Object.entries(n.query))if(a!==void 0)if(Array.isArray(a))for(const c of a)r.append(s,c);else r.append(s,a)}const[o]=n.url.split("?"),i=r.toString();return i&&(n.url="".concat(o,"?").concat(i)),n.method=n.body&&!n.method?"POST":(n.method||"GET").toUpperCase(),n};function S2e(e){if(e===!1||e===0)return!1;if(e.connect||e.socket)return e;const t=Number(e);return isNaN(t)?S2e(_2e.timeout):{connect:t,socket:t}}const Mmt=/^https?:\/\//i,Fmt=function(t){if(!Mmt.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))};var n3=function(e){return e.replace(/^\s+|\s+$/g,"")},Lmt=function(e){return Object.prototype.toString.call(e)==="[object Array]"},Bmt=function(e){if(!e)return{};for(var t={},n=n3(e).split(`
`),r=0;r<n.length;r++){var o=n[r],i=o.indexOf(":"),s=n3(o.slice(0,i)).toLowerCase(),a=n3(o.slice(i+1));typeof t[s]>"u"?t[s]=a:Lmt(t[s])?t[s].push(a):t[s]=[t[s],a]}return t};const Nmt=Ie(Bmt),zmt=e=>function(n,r){const o=n==="onError";let i=r;for(var s=arguments.length,a=new Array(s>2?s-2:0),c=2;c<s;c++)a[c-2]=arguments[c];for(let u=0;u<e[n].length;u++){const d=e[n][u];if(i=d(i,...a),o&&!i)break}return i};function Vmt(){const e=Object.create(null);let t=0;function n(o){const i=t++;return e[i]=o,function(){delete e[i]}}function r(o){for(const i in e)e[i](o)}return{publish:r,subscribe:n}}const Hmt=["request","response","progress","error","abort"],qG=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function E2e(e,t){const n=[],r=qG.reduce((i,s)=>(i[s]=i[s]||[],i),{processOptions:[$mt],validateOptions:[Fmt]});function o(i){const s=(v,g,b)=>{let x=v,y=g;if(!x)try{y=c("onResponse",g,b)}catch(w){y=null,x=w}x=x&&c("onError",x,b),x?a.error.publish(x):y&&a.response.publish(y)},a=Hmt.reduce((v,g)=>(v[g]=Vmt(),v),{}),c=zmt(r),u=c("processOptions",i);c("validateOptions",u);const d={options:u,channels:a,applyMiddleware:c};let f;const p=a.request.subscribe(v=>{f=t(v,(g,b)=>s(g,b,v))});a.abort.subscribe(()=>{p(),f&&f.abort()});const m=c("onReturn",a,d);return m===a&&a.request.publish(d),m}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&r.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return qG.forEach(a=>{s[a]&&r[a].push(s[a])}),n.push(s),o},o.clone=()=>E2e(n,t),e.forEach(o.use),o}var k2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},va=(e,t,n)=>(k2e(e,t,"read from private field"),n?n.call(e):t.get(e)),wh=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},bd=(e,t,n,r)=>(k2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),eS,tS,fg,nS,kd,rS,oS;class j2e{constructor(){this.readyState=0,this.responseType="",wh(this,eS,void 0),wh(this,tS,void 0),wh(this,fg,void 0),wh(this,nS,{}),wh(this,kd,void 0),wh(this,rS,{}),wh(this,oS,void 0)}open(t,n,r){bd(this,eS,t),bd(this,tS,n),bd(this,fg,""),this.readyState=1,this.onreadystatechange(),bd(this,kd,void 0)}abort(){va(this,kd)&&va(this,kd).abort()}getAllResponseHeaders(){return va(this,fg)}setRequestHeader(t,n){va(this,nS)[t]=n}setInit(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;bd(this,rS,t),bd(this,oS,n)}send(t){const n=this.responseType!=="arraybuffer",r={...va(this,rS),method:va(this,eS),headers:va(this,nS),body:t};typeof AbortController=="function"&&va(this,oS)&&(bd(this,kd,new AbortController),typeof EventTarget<"u"&&va(this,kd).signal instanceof EventTarget&&(r.signal=va(this,kd).signal)),typeof document<"u"&&(r.credentials=this.withCredentials?"include":"omit"),fetch(va(this,tS),r).then(o=>(o.headers.forEach((i,s)=>{bd(this,fg,va(this,fg)+"".concat(s,": ").concat(i,`\r
`))}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,n?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var i;if(o.name==="AbortError"){this.onabort();return}(i=this.onerror)==null||i.call(this,o)})}}eS=new WeakMap;tS=new WeakMap;fg=new WeakMap;nS=new WeakMap;kd=new WeakMap;rS=new WeakMap;oS=new WeakMap;const O$=typeof XMLHttpRequest=="function"?"xhr":"fetch",Umt=O$==="xhr"?XMLHttpRequest:j2e,Wmt=(e,t)=>{var n;const r=e.options,o=e.applyMiddleware("finalizeOptions",r),i={},s=e.applyMiddleware("interceptRequest",void 0,{adapter:O$,context:e});if(s){const C=setTimeout(t,0,null,s);return{abort:()=>clearTimeout(C)}}let a=new Umt;a instanceof j2e&&typeof o.fetch=="object"&&a.setInit(o.fetch,(n=o.useAbortSignal)!=null?n:!0);const c=o.headers,u=o.timeout;let d=!1,f=!1,p=!1;if(a.onerror=C=>{x(new Error("Request error while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.ontimeout=C=>{x(new Error("Request timeout while attempting to reach ".concat(o.url).concat(C.lengthComputable?"(".concat(C.loaded," of ").concat(C.total," bytes transferred)"):"")))},a.onabort=()=>{b(!0),d=!0},a.onreadystatechange=()=>{g(),!(d||a.readyState!==4)&&a.status!==0&&w()},a.open(o.method,o.url,!0),a.withCredentials=!!o.withCredentials,c&&a.setRequestHeader)for(const C in c)c.hasOwnProperty(C)&&a.setRequestHeader(C,c[C]);return o.rawBody&&(a.responseType="arraybuffer"),e.applyMiddleware("onRequest",{options:o,adapter:O$,request:a,context:e}),a.send(o.body||null),u&&(i.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:m};function m(){d=!0,a&&a.abort()}function v(C){p=!0,a.abort();const _=new Error(C==="ESOCKETTIMEDOUT"?"Socket timed out on request to ".concat(o.url):"Connection timed out on request to ".concat(o.url));_.code=C,e.channels.error.publish(_)}function g(){u&&(b(),i.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function b(C){(C||d||a.readyState>=2&&i.connect)&&clearTimeout(i.connect),i.socket&&clearTimeout(i.socket)}function x(C){if(f)return;b(!0),f=!0,a=null;const _=C||new Error("Network error while attempting to reach ".concat(o.url));_.isNetworkError=!0,_.request=o,t(_)}function y(){return{body:a.response||(a.responseType===""||a.responseType==="text"?a.responseText:""),url:o.url,method:o.method,headers:Nmt(a.getAllResponseHeaders()),statusCode:a.status,statusMessage:a.statusText}}function w(){if(!(d||f||p)){if(a.status===0){x(new Error("Unknown XHR error"));return}b(),f=!0,t(null,y())}}},qmt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Wmt;return E2e(e,t)};var YG={exports:{}};function Ymt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=i,n.enable=o,n.enabled=s,n.humanize=gT(),n.destroy=u,Object.keys(e).forEach(d=>{n[d]=e[d]}),n.names=[],n.skips=[],n.formatters={};function t(d){let f=0;for(let p=0;p<d.length;p++)f=(f<<5)-f+d.charCodeAt(p),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=t;function n(d){let f,p=null,m,v;function g(...b){if(!g.enabled)return;const x=g,y=Number(new Date),w=y-(f||y);x.diff=w,x.prev=f,x.curr=y,f=y,b[0]=n.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(S,E)=>{if(S==="%%")return"%";C++;const j=n.formatters[E];if(typeof j=="function"){const k=b[C];S=j.call(x,k),b.splice(C,1),C--}return S}),n.formatArgs.call(x,b),(x.log||n.log).apply(x,b)}return g.namespace=d,g.useColors=n.useColors(),g.color=n.selectColor(d),g.extend=r,g.destroy=n.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>p!==null?p:(m!==n.namespaces&&(m=n.namespaces,v=n.enabled(d)),v),set:b=>{p=b}}),typeof n.init=="function"&&n.init(g),g}function r(d,f){const p=n(this.namespace+(typeof f>"u"?":":f)+d);return p.log=this.log,p}function o(d){n.save(d),n.namespaces=d,n.names=[],n.skips=[];let f;const p=(typeof d=="string"?d:"").split(/[\s,]+/),m=p.length;for(f=0;f<m;f++)p[f]&&(d=p[f].replace(/\*/g,".*?"),d[0]==="-"?n.skips.push(new RegExp("^"+d.slice(1)+"$")):n.names.push(new RegExp("^"+d+"$")))}function i(){const d=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let f,p;for(f=0,p=n.skips.length;f<p;f++)if(n.skips[f].test(d))return!1;for(f=0,p=n.names.length;f<p;f++)if(n.names[f].test(d))return!0;return!1}function a(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function c(d){return d instanceof Error?d.stack||d.message:d}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var Gmt=Ymt;(function(e,t){t.formatArgs=r,t.save=o,t.load=i,t.useColors=n,t.storage=s(),t.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function r(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let d=0,f=0;c[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),c.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function o(c){try{c?t.storage.setItem("debug",c):t.storage.removeItem("debug")}catch{}}function i(){let c;try{c=t.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function s(){try{return localStorage}catch{}}e.exports=Gmt(t);const{formatters:a}=e.exports;a.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(YG,YG.exports);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function GG(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kmt(e){var t,n;return GG(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(GG(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}const Zmt=typeof Buffer>"u"?()=>!1:e=>Buffer.isBuffer(e),Xmt=["boolean","string","number"];function Qmt(){return{processOptions:e=>{const t=e.body;return!t||!(!(typeof t.pipe=="function")&&!Zmt(t)&&(Xmt.indexOf(typeof t)!==-1||Array.isArray(t)||Kmt(t)))?e:Object.assign({},e,{body:JSON.stringify(e.body),headers:Object.assign({},e.headers,{"Content-Type":"application/json"})})}}}function Jmt(e){return{onResponse:n=>{const r=n.headers["content-type"]||"",o=e&&e.force||r.indexOf("application/json")!==-1;return!n.body||!r||!o?n:Object.assign({},n,{body:t(n.body)})},processOptions:n=>Object.assign({},n,{headers:Object.assign({Accept:"application/json"},n.headers)})};function t(n){try{return JSON.parse(n)}catch(r){throw r.message="Failed to parsed response body as JSON: ".concat(r.message),r}}}let Ey={};typeof globalThis<"u"?Ey=globalThis:typeof window<"u"?Ey=window:typeof global<"u"?Ey=global:typeof self<"u"&&(Ey=self);var egt=Ey;function tgt(){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).implementation||egt.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(n,r)=>new t(o=>(n.error.subscribe(i=>o.error(i)),n.progress.subscribe(i=>o.next(Object.assign({type:"progress"},i))),n.response.subscribe(i=>{o.next(Object.assign({type:"response"},i)),o.complete()}),n.request.publish(r),()=>n.abort.publish()))}}function ngt(){return{onRequest:e=>{if(e.adapter!=="xhr")return;const t=e.request,n=e.context;"upload"in t&&"onprogress"in t.upload&&(t.upload.onprogress=r("upload")),"onprogress"in t&&(t.onprogress=r("download"));function r(o){return i=>{const s=i.lengthComputable?i.loaded/i.total*100:-1;n.channels.progress.publish({stage:o,percent:s,total:i.total,loaded:i.loaded,lengthComputable:i.lengthComputable})}}}}}class rgt{constructor(t){this.__CANCEL__=!0,this.message=t}toString(){return"Cancel".concat(this.message?": ".concat(this.message):"")}}const KG=class{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n=null;this.promise=new Promise(r=>{n=r}),t(r=>{this.reason||(this.reason=new rgt(r),n(this.reason))})}};KG.source=()=>{let e;return{token:new KG(n=>{e=n}),cancel:e}};var T2e=(e,t,n)=>n.method!=="GET"&&n.method!=="HEAD"?!1:e.isNetworkError||!1;const ogt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";var igt=e=>{const t=e.maxRetries||5,n=e.retryDelay||sgt,r=e.shouldRetry;return{onError:(o,i)=>{const s=i.options,a=s.maxRetries||t,c=s.shouldRetry||r,u=s.attemptNumber||0;if(ogt(s.body)||!c(o,u,s)||u>=a)return o;const d=Object.assign({},i,{options:Object.assign({},s,{attemptNumber:u+1})});return setTimeout(()=>i.channels.request.publish(d),n(u)),null}}};function sgt(e){return 100*Math.pow(2,e)+Math.random()*100}const $8=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return igt({shouldRetry:T2e,...e})};$8.shouldRetry=T2e;const r3=5;class agt extends Error{constructor(t){const n=A2e(t);super(n.message),this.statusCode=400,Object.assign(this,n)}}class lgt extends Error{constructor(t){const n=A2e(t);super(n.message),this.statusCode=500,Object.assign(this,n)}}function A2e(e){const t=e.body,n={response:e,statusCode:e.statusCode,responseBody:dgt(t,e),message:"",details:void 0};if(t.error&&t.message)return n.message="".concat(t.error," - ").concat(t.message),n;if(cgt(t)){const r=t.error.items||[],o=r.slice(0,r3).map(s=>{var a;return(a=s.error)==null?void 0:a.description}).filter(Boolean);let i=o.length?`:
- `.concat(o.join(`
- `)):"";return r.length>r3&&(i+=`
...and `.concat(r.length-r3," more")),n.message="".concat(t.error.description).concat(i),n.details=t.error,n}return t.error&&t.error.description?(n.message=t.error.description,n.details=t.error,n):(n.message=t.error||t.message||ugt(e),n)}function cgt(e){return ZG(e)&&ZG(e.error)&&e.error.type==="mutationError"&&typeof e.error.description=="string"}function ZG(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function ugt(e){const t=e.statusMessage?" ".concat(e.statusMessage):"";return"".concat(e.method,"-request to ").concat(e.url," resulted in HTTP ").concat(e.statusCode).concat(t)}function dgt(e,t){return(t.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(e,null,2):e}const fgt={onResponse:e=>{if(e.statusCode>=500)throw new lgt(e);if(e.statusCode>=400)throw new agt(e);return e}},hgt={onResponse:e=>{const t=e.headers["x-sanity-warning"];return(Array.isArray(t)?t:[t]).filter(Boolean).forEach(r=>console.warn(r)),e}};function XG(e,t){let{maxRetries:n=5,retryDelay:r}=t;const o=qmt([n>0?$8({retryDelay:r,maxRetries:n,shouldRetry:pgt}):{},...e,hgt,Qmt(),Jmt(),ngt(),fgt,tgt({implementation:mt})]);function i(s){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:o)({maxRedirects:0,...s})}return i.defaultRequester=o,i}function pgt(e,t,n){const r=n.method==="GET"||n.method==="HEAD",i=(n.uri||n.url).startsWith("/data/query"),s=e.response&&(e.response.statusCode===429||e.response.statusCode===502||e.response.statusCode===503);return(r||i)&&s?!0:$8.shouldRetry(e,t,n)}function D2e(e){if(typeof e=="string"||Array.isArray(e))return{id:e};if(typeof e=="object"&&e!==null&&"query"in e&&typeof e.query=="string")return"params"in e&&typeof e.params=="object"&&e.params!==null?{query:e.query,params:e.params}:{query:e.query};const t=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

`.concat(t))}const QG=["image","file"],JG=["before","after","replace"],I2e=e=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(e))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},mgt=e=>{if(!/^[-a-z0-9]+$/i.test(e))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},ggt=e=>{if(QG.indexOf(e)===-1)throw new Error("Invalid asset type: ".concat(e,". Must be one of ").concat(QG.join(", ")))},lb=(e,t)=>{if(t===null||typeof t!="object"||Array.isArray(t))throw new Error("".concat(e,"() takes an object of properties"))},O2e=(e,t)=>{if(typeof t!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(t)||t.includes(".."))throw new Error("".concat(e,'(): "').concat(t,'" is not a valid document ID'))},ik=(e,t)=>{if(!t._id)throw new Error("".concat(e,'() requires that the document contains an ID ("_id" property)'));O2e(e,t._id)},vgt=(e,t,n)=>{const r="insert(at, selector, items)";if(JG.indexOf(e)===-1){const o=JG.map(i=>'"'.concat(i,'"')).join(", ");throw new Error("".concat(r,' takes an "at"-argument which is one of: ').concat(o))}if(typeof t!="string")throw new Error("".concat(r,' takes a "selector"-argument which must be a string'));if(!Array.isArray(n))throw new Error("".concat(r,' takes an "items"-argument which must be an array'))},P2e=e=>{if(!e.dataset)throw new Error("`dataset` must be provided to perform queries");return e.dataset||""},R2e=e=>{if(typeof e!="string"||!/^[a-z0-9._-]{1,75}$/i.test(e))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return e};var $2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},lv=(e,t,n)=>($2e(e,t,"read from private field"),n?n.call(e):t.get(e)),M2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},F2e=(e,t,n,r)=>($2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),hg,pg;class L2e{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.selection=t,this.operations=n}set(t){return this._assign("set",t)}setIfMissing(t){return this._assign("setIfMissing",t)}diffMatchPatch(t){return lb("diffMatchPatch",t),this._assign("diffMatchPatch",t)}unset(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:t}),this}inc(t){return this._assign("inc",t)}dec(t){return this._assign("dec",t)}insert(t,n,r){return vgt(t,n,r),this._assign("insert",{[t]:n,items:r})}append(t,n){return this.insert("after","".concat(t,"[-1]"),n)}prepend(t,n){return this.insert("before","".concat(t,"[0]"),n)}splice(t,n,r,o){const i=typeof r>"u"||r===-1,s=n<0?n-1:n,a=i?-1:Math.max(0,n+r),c=s<0&&a>=0?"":a,u="".concat(t,"[").concat(s,":").concat(c,"]");return this.insert("replace",u,o||[])}ifRevisionId(t){return this.operations.ifRevisionID=t,this}serialize(){return{...D2e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return lb(t,n),this.operations=Object.assign({},this.operations,{[t]:Object.assign({},r&&this.operations[t]||{},n)}),this}_set(t,n){return this._assign(t,n,!1)}}const ygt=class B2e extends L2e{constructor(t,n,r){super(t,n),M2e(this,hg,void 0),F2e(this,hg,r)}clone(){return new B2e(this.selection,{...this.operations},lv(this,hg))}commit(t){if(!lv(this,hg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return lv(this,hg).mutate({patch:this.serialize()},r)}};hg=new WeakMap;let cb=ygt;const bgt=class N2e extends L2e{constructor(t,n,r){super(t,n),M2e(this,pg,void 0),F2e(this,pg,r)}clone(){return new N2e(this.selection,{...this.operations},lv(this,pg))}commit(t){if(!lv(this,pg))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const n=typeof this.selection=="string",r=Object.assign({returnFirst:n,returnDocuments:!0},t);return lv(this,pg).mutate({patch:this.serialize()},r)}};pg=new WeakMap;let ub=bgt;var z2e=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},Wd=(e,t,n)=>(z2e(e,t,"read from private field"),n?n.call(e):t.get(e)),V2e=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},H2e=(e,t,n,r)=>(z2e(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Mh,Fh;const U2e={returnDocuments:!1};class W2e{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;this.operations=t,this.trxId=n}create(t){return lb("create",t),this._add({create:t})}createIfNotExists(t){const n="createIfNotExists";return lb(n,t),ik(n,t),this._add({[n]:t})}createOrReplace(t){const n="createOrReplace";return lb(n,t),ik(n,t),this._add({[n]:t})}delete(t){return O2e("delete",t),this._add({delete:{id:t}})}transactionId(t){return t?(this.trxId=t,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(t){return this.operations.push(t),this}}const xgt=class q2e extends W2e{constructor(t,n,r){super(t,r),V2e(this,Mh,void 0),H2e(this,Mh,n)}clone(){return new q2e([...this.operations],Wd(this,Mh),this.trxId)}commit(t){if(!Wd(this,Mh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Wd(this,Mh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},U2e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof ub)return this._add({patch:t.serialize()});if(r){const i=n(new ub(t,{},Wd(this,Mh)));if(!(i instanceof ub))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Mh=new WeakMap;let Y2e=xgt;const wgt=class G2e extends W2e{constructor(t,n,r){super(t,r),V2e(this,Fh,void 0),H2e(this,Fh,n)}clone(){return new G2e([...this.operations],Wd(this,Fh),this.trxId)}commit(t){if(!Wd(this,Fh))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Wd(this,Fh).mutate(this.serialize(),Object.assign({transactionId:this.trxId},U2e,t||{}))}patch(t,n){const r=typeof n=="function";if(typeof t!="string"&&t instanceof cb)return this._add({patch:t.serialize()});if(r){const i=n(new cb(t,{},Wd(this,Fh)));if(!(i instanceof cb))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:i.serialize()})}return this._add({patch:{id:t,...n}})}};Fh=new WeakMap;let K2e=wgt;const Cgt="https://www.sanity.io/help/";function M8(e){return Cgt+e}function _gt(e){let t=!1,n;return function(){return t||(n=e(...arguments),t=!0),n}}const CT=e=>_gt(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return console.warn(e.join(" "),...n)}),Sgt=CT(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Egt=CT(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),kgt=CT(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(M8("js-client-browser-token")," for more information and how to hide this warning.")]),jgt=CT(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(M8("js-client-api-version"))]),Tgt="apicdn.sanity.io",sk={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0},Agt=["localhost","127.0.0.1","0.0.0.0"],Dgt=e=>Agt.indexOf(e)!==-1,Igt=function(t){if(t==="1"||t==="X")return;const n=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&n instanceof Date&&n.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")},Z2e=function(t){switch(t){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},X2e=(e,t)=>{const n=Object.assign({},t,e);n.apiVersion||jgt();const r=Object.assign({},sk,n),o=r.useProjectHostname;if(typeof Promise>"u"){const f=M8("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(f))}if(o&&!r.projectId)throw new Error("Configuration must contain `projectId`");if(typeof r.perspective=="string"&&Z2e(r.perspective),"encodeSourceMapAtPath"in r||"encodeSourceMap"in r||"studioUrl"in r||"logger"in r)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client', such as 'encodeSourceMapAtPath', 'encodeSourceMap', 'studioUrl' and 'logger'. Make sure you're using the right import.");if("stega"in r&&r.stega!==void 0&&r.stega!==!1)throw new Error("It looks like you're using options meant for '@sanity/client/stega'. Make sure you're using the right import. Or set 'stega' in 'createClient' to 'false'.");const i=typeof window<"u"&&window.location&&window.location.hostname,s=i&&Dgt(window.location.hostname);i&&s&&r.token&&r.ignoreBrowserTokenWarning!==!0?kgt():typeof r.useCdn>"u"&&Sgt(),o&&mgt(r.projectId),r.dataset&&I2e(r.dataset),"requestTagPrefix"in r&&(r.requestTagPrefix=r.requestTagPrefix?R2e(r.requestTagPrefix).replace(/\.+$/,""):void 0),r.apiVersion="".concat(r.apiVersion).replace(/^v/,""),r.isDefaultApi=r.apiHost===sk.apiHost,r.useCdn=r.useCdn!==!1&&!r.withCredentials,Igt(r.apiVersion);const a=r.apiHost.split("://",2),c=a[0],u=a[1],d=r.isDefaultApi?Tgt:u;return r.useProjectHostname?(r.url="".concat(c,"://").concat(r.projectId,".").concat(u,"/v").concat(r.apiVersion),r.cdnUrl="".concat(c,"://").concat(r.projectId,".").concat(d,"/v").concat(r.apiVersion)):(r.url="".concat(r.apiHost,"/v").concat(r.apiVersion),r.cdnUrl=r.url),r},Ogt="X-Sanity-Project-ID";function Pgt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={},r=t.token||e.token;r&&(n.Authorization="Bearer ".concat(r)),!t.useGlobalApi&&!e.useProjectHostname&&e.projectId&&(n[Ogt]=e.projectId);const o=!!(typeof t.withCredentials>"u"?e.token||e.withCredentials:t.withCredentials),i=typeof t.timeout>"u"?e.timeout:t.timeout;return Object.assign({},t,{headers:Object.assign({},n,t.headers||{}),timeout:typeof i>"u"?5*60*1e3:i,proxy:t.proxy||e.proxy,json:!0,withCredentials:o,fetch:typeof t.fetch=="object"&&typeof e.fetch=="object"?{...e.fetch,...t.fetch}:t.fetch||e.fetch})}const Q2e=e=>{let{query:t,params:n={},options:r={}}=e;const o=new URLSearchParams,{tag:i,...s}=r;i&&o.append("tag",i),o.append("query",t);for(const[a,c]of Object.entries(n))o.append("$".concat(a),JSON.stringify(c));for(const[a,c]of Object.entries(s))c&&o.append(a,"".concat(c));return"?".concat(o)},Rgt=(e,t)=>e===!1?void 0:typeof e>"u"?t:e,$gt=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dryRun:e.dryRun,returnIds:!0,returnDocuments:Rgt(e.returnDocuments,!0),visibility:e.visibility||"sync",autoGenerateArrayKeys:e.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:e.skipCrossDatasetReferenceValidation}},F8=e=>e.type==="response",Mgt=e=>e.body,Fgt=(e,t)=>e.reduce((n,r)=>(n[t(r)]=r,n),Object.create(null)),Lgt=11264;function J2e(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=o.filterResponse===!1?d=>d:d=>d.result,{cache:s,next:a,...c}={useAbortSignal:typeof o.signal<"u",...o},u=typeof s<"u"||typeof a<"u"?{...c,fetch:{cache:s,next:a}}:c;return Rw(e,t,"query",{query:n,params:r},u).pipe(le(i))}function eSe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:N0(e,"doc",n),json:!0,tag:r.tag};return $w(e,t,o).pipe(pt(F8),le(i=>i.body.documents&&i.body.documents[0]))}function tSe(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o={uri:N0(e,"doc",n.join(",")),json:!0,tag:r.tag};return $w(e,t,o).pipe(pt(F8),le(i=>{const s=Fgt(i.body.documents||[],a=>a._id);return n.map(a=>s[a]||null)}))}function nSe(e,t,n,r){return ik("createIfNotExists",n),_T(e,t,n,"createIfNotExists",r)}function rSe(e,t,n,r){return ik("createOrReplace",n),_T(e,t,n,"createOrReplace",r)}function oSe(e,t,n,r){return Rw(e,t,"mutate",{mutations:[{delete:D2e(n)}]},r)}function iSe(e,t,n,r){let o;n instanceof ub||n instanceof cb?o={patch:n.serialize()}:n instanceof Y2e||n instanceof K2e?o=n.serialize():o=n;const i=Array.isArray(o)?o:[o],s=r&&r.transactionId||void 0;return Rw(e,t,"mutate",{mutations:i,transactionId:s},r)}function Rw(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=n==="mutate",s=n==="query",a=i?"":Q2e(r),c=!i&&a.length<Lgt,u=c?a:"",d=o.returnFirst,{timeout:f,token:p,tag:m,headers:v}=o,g=N0(e,n,u),b={method:c?"GET":"POST",uri:g,json:!0,body:c?void 0:r,query:i&&$gt(o),timeout:f,headers:v,token:p,tag:m,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:s,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal};return $w(e,t,b).pipe(pt(F8),le(Mgt),le(x=>{if(!i)return x;const y=x.results||[];if(o.returnDocuments)return d?y[0]&&y[0].document:y.map(_=>_.document);const w=d?"documentId":"documentIds",C=d?y[0]&&y[0].id:y.map(_=>_.id);return{transactionId:x.transactionId,results:y,[w]:C}}))}function _T(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i={[r]:n},s=Object.assign({returnFirst:!0,returnDocuments:!0},o);return Rw(e,t,"mutate",{mutations:[i]},s)}function $w(e,t,n){var r;const o=n.url||n.uri,i=e.config(),s=typeof n.canUseCdn>"u"?["GET","HEAD"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/")===0:n.canUseCdn;let a=i.useCdn&&s;const c=n.tag&&i.requestTagPrefix?[i.requestTagPrefix,n.tag].join("."):n.tag||i.requestTagPrefix;if(c&&n.tag!==null&&(n.query={tag:R2e(c),...n.query}),["GET","HEAD","POST"].indexOf(n.method||"GET")>=0&&o.indexOf("/data/query/")===0){const f=(r=n.resultSourceMap)!=null?r:i.resultSourceMap;f!==void 0&&f!==!1&&(n.query={resultSourceMap:f,...n.query});const p=n.perspective||i.perspective;typeof p=="string"&&p!=="raw"&&(Z2e(p),n.query={perspective:p,...n.query},p==="previewDrafts"&&a&&(a=!1,Egt()))}const u=Pgt(i,Object.assign({},n,{url:L8(e,o,a)})),d=new mt(f=>t(u,i.requester).subscribe(f));return n.signal?d.pipe(Bgt(n.signal)):d}function Ol(e,t,n){return $w(e,t,n).pipe(pt(o=>o.type==="response"),le(o=>o.body))}function N0(e,t,n){const r=e.config(),o=P2e(r),i="/".concat(t,"/").concat(o),s=n?"".concat(i,"/").concat(n):i;return"/data".concat(s).replace(/\/($|\?)/,"$1")}function L8(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{url:r,cdnUrl:o}=e.config(),i=n?o:r;return"".concat(i,"/").concat(t.replace(/^\//,""))}function Bgt(e){return t=>new mt(n=>{const r=()=>n.error(zgt(e));if(e&&e.aborted){r();return}const o=t.subscribe(n);return e.addEventListener("abort",r),()=>{e.removeEventListener("abort",r),o.unsubscribe()}})}const Ngt=!!globalThis.DOMException;function zgt(e){var t,n;if(Ngt)return new DOMException((t=e==null?void 0:e.reason)!=null?t:"The operation was aborted.","AbortError");const r=new Error((n=e==null?void 0:e.reason)!=null?n:"The operation was aborted.");return r.name="AbortError",r}var sSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ak=(e,t,n)=>(sSe(e,t,"read from private field"),n?n.call(e):t.get(e)),lk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ck=(e,t,n,r)=>(sSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),iS,sS,aS,lS;class Vgt{constructor(t,n){lk(this,iS,void 0),lk(this,sS,void 0),ck(this,iS,t),ck(this,sS,n)}upload(t,n,r){return aSe(ak(this,iS),ak(this,sS),t,n,r)}}iS=new WeakMap;sS=new WeakMap;class Hgt{constructor(t,n){lk(this,aS,void 0),lk(this,lS,void 0),ck(this,aS,t),ck(this,lS,n)}upload(t,n,r){const o=aSe(ak(this,aS),ak(this,lS),t,n,r);return So(o.pipe(pt(i=>i.type==="response"),le(i=>i.body.document)))}}aS=new WeakMap;lS=new WeakMap;function aSe(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};ggt(n);let i=o.extract||void 0;i&&!i.length&&(i=["none"]);const s=P2e(e.config()),a=n==="image"?"images":"files",c=Ugt(o,r),{tag:u,label:d,title:f,description:p,creditLine:m,filename:v,source:g}=c,b={label:d,title:f,description:p,filename:v,meta:i,creditLine:m};return g&&(b.sourceId=g.id,b.sourceName=g.name,b.sourceUrl=g.url),$w(e,t,{tag:u,method:"POST",timeout:c.timeout||0,uri:"/assets/".concat(a,"/").concat(s),headers:c.contentType?{"Content-Type":c.contentType}:{},query:b,body:r})}function Ugt(e,t){return typeof File>"u"||!(t instanceof File)?e:Object.assign({filename:e.preserveFilename===!1?void 0:t.name,contentType:t.type},e)}var Wgt=(e,t)=>Object.keys(t).concat(Object.keys(e)).reduce((n,r)=>(n[r]=typeof e[r]>"u"?t[r]:e[r],n),{});const qgt=(e,t)=>t.reduce((n,r)=>(typeof e[r]>"u"||(n[r]=e[r]),n),{}),Ygt=16e3-1200,Ggt=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],Kgt={includeResult:!0};function lSe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{url:r,token:o,withCredentials:i,requestTagPrefix:s}=this.config(),a=n.tag&&s?[s,n.tag].join("."):n.tag,c={...Wgt(n,Kgt),tag:a},u=qgt(c,Ggt),d=Q2e({query:e,params:t,options:{tag:a,...u}}),f="".concat(r).concat(N0(this,"listen",d));if(f.length>Ygt)return new mt(g=>g.error(new Error("Query too large for listener")));const p=c.events?c.events:["mutation"],m=p.indexOf("reconnect")!==-1,v={};return(o||i)&&(v.withCredentials=!0),o&&(v.headers={Authorization:"Bearer ".concat(o)}),new mt(g=>{let b;k().then(D=>{b=D}).catch(D=>{g.error(D),A()});let x,y=!1;function w(){y||(j(),!y&&b.readyState===b.CLOSED&&(E(),clearTimeout(x),x=setTimeout(T,100)))}function C(D){g.error(Zgt(D))}function _(D){const I=cSe(D);return I instanceof Error?g.error(I):g.next(I)}function S(){y=!0,E(),g.complete()}function E(){b&&(b.removeEventListener("error",w),b.removeEventListener("channelError",C),b.removeEventListener("disconnect",S),p.forEach(D=>b.removeEventListener(D,_)),b.close())}function j(){m&&g.next({type:"reconnect"})}async function k(){const{default:D}=await R8(()=>import("./browser-e19ff17d.js").then(O=>O.b),[]),I=new D(f,v);return I.addEventListener("error",w),I.addEventListener("channelError",C),I.addEventListener("disconnect",S),p.forEach(O=>I.addEventListener(O,_)),I}function T(){k().then(D=>{b=D}).catch(D=>{g.error(D),A()})}function A(){y=!0,E()}return A})}function cSe(e){try{const t=e.data&&JSON.parse(e.data)||{};return Object.assign({type:e.type},t)}catch(t){return t}}function Zgt(e){if(e instanceof Error)return e;const t=cSe(e);return t instanceof Error?t:new Error(Xgt(t))}function Xgt(e){return e.error?e.error.description?e.error.description:typeof e.error=="string"?e.error:JSON.stringify(e.error,null,2):e.message||"Unknown listener error"}var uSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},wi=(e,t,n)=>(uSe(e,t,"read from private field"),n?n.call(e):t.get(e)),uk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},dk=(e,t,n,r)=>(uSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Lh,Bh,Nh,zh;class Qgt{constructor(t,n){uk(this,Lh,void 0),uk(this,Bh,void 0),dk(this,Lh,t),dk(this,Bh,n)}create(t,n){return cv(wi(this,Lh),wi(this,Bh),"PUT",t,n)}edit(t,n){return cv(wi(this,Lh),wi(this,Bh),"PATCH",t,n)}delete(t){return cv(wi(this,Lh),wi(this,Bh),"DELETE",t)}list(){return Ol(wi(this,Lh),wi(this,Bh),{uri:"/datasets",tag:null})}}Lh=new WeakMap;Bh=new WeakMap;class Jgt{constructor(t,n){uk(this,Nh,void 0),uk(this,zh,void 0),dk(this,Nh,t),dk(this,zh,n)}create(t,n){return So(cv(wi(this,Nh),wi(this,zh),"PUT",t,n))}edit(t,n){return So(cv(wi(this,Nh),wi(this,zh),"PATCH",t,n))}delete(t){return So(cv(wi(this,Nh),wi(this,zh),"DELETE",t))}list(){return So(Ol(wi(this,Nh),wi(this,zh),{uri:"/datasets",tag:null}))}}Nh=new WeakMap;zh=new WeakMap;function cv(e,t,n,r,o){return I2e(r),Ol(e,t,{method:n,uri:"/datasets/".concat(r),body:o,tag:null})}var dSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},qd=(e,t,n)=>(dSe(e,t,"read from private field"),n?n.call(e):t.get(e)),fk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},hk=(e,t,n,r)=>(dSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ky,jy,Ty,Ay;class evt{constructor(t,n){fk(this,ky,void 0),fk(this,jy,void 0),hk(this,ky,t),hk(this,jy,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ol(qd(this,ky),qd(this,jy),{uri:n})}getById(t){return Ol(qd(this,ky),qd(this,jy),{uri:"/projects/".concat(t)})}}ky=new WeakMap;jy=new WeakMap;class tvt{constructor(t,n){fk(this,Ty,void 0),fk(this,Ay,void 0),hk(this,Ty,t),hk(this,Ay,n)}list(t){const n=(t==null?void 0:t.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return So(Ol(qd(this,Ty),qd(this,Ay),{uri:n}))}getById(t){return So(Ol(qd(this,Ty),qd(this,Ay),{uri:"/projects/".concat(t)}))}}Ty=new WeakMap;Ay=new WeakMap;var fSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},pk=(e,t,n)=>(fSe(e,t,"read from private field"),n?n.call(e):t.get(e)),mk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},gk=(e,t,n,r)=>(fSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),cS,uS,dS,fS;class nvt{constructor(t,n){mk(this,cS,void 0),mk(this,uS,void 0),gk(this,cS,t),gk(this,uS,n)}getById(t){return Ol(pk(this,cS),pk(this,uS),{uri:"/users/".concat(t)})}}cS=new WeakMap;uS=new WeakMap;class rvt{constructor(t,n){mk(this,dS,void 0),mk(this,fS,void 0),gk(this,dS,t),gk(this,fS,n)}getById(t){return So(Ol(pk(this,dS),pk(this,fS),{uri:"/users/".concat(t)}))}}dS=new WeakMap;fS=new WeakMap;var hSe=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},It=(e,t,n)=>(hSe(e,t,"read from private field"),n?n.call(e):t.get(e)),vk=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},yk=(e,t,n,r)=>(hSe(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Vh,Oo,Hh,_o;const ovt=class P${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sk;vk(this,Vh,void 0),vk(this,Oo,void 0),this.listen=lSe,this.config(n),yk(this,Oo,t),this.assets=new Vgt(this,It(this,Oo)),this.datasets=new Qgt(this,It(this,Oo)),this.projects=new evt(this,It(this,Oo)),this.users=new nvt(this,It(this,Oo))}clone(){return new P$(It(this,Oo),this.config())}config(t){if(t===void 0)return{...It(this,Vh)};if(It(this,Vh)&&It(this,Vh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return yk(this,Vh,X2e(t,It(this,Vh)||{})),this}withConfig(t){return new P$(It(this,Oo),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return J2e(this,It(this,Oo),t,n,r)}getDocument(t,n){return eSe(this,It(this,Oo),t,n)}getDocuments(t,n){return tSe(this,It(this,Oo),t,n)}create(t,n){return _T(this,It(this,Oo),t,"create",n)}createIfNotExists(t,n){return nSe(this,It(this,Oo),t,n)}createOrReplace(t,n){return rSe(this,It(this,Oo),t,n)}delete(t,n){return oSe(this,It(this,Oo),t,n)}mutate(t,n){return iSe(this,It(this,Oo),t,n)}patch(t,n){return new cb(t,n,this)}transaction(t){return new K2e(t,this)}request(t){return Ol(this,It(this,Oo),t)}getUrl(t,n){return L8(this,t,n)}getDataUrl(t,n){return N0(this,t,n)}};Vh=new WeakMap;Oo=new WeakMap;let ivt=ovt;const svt=class R${constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:sk;vk(this,Hh,void 0),vk(this,_o,void 0),this.listen=lSe,this.config(n),yk(this,_o,t),this.assets=new Hgt(this,It(this,_o)),this.datasets=new Jgt(this,It(this,_o)),this.projects=new tvt(this,It(this,_o)),this.users=new rvt(this,It(this,_o)),this.observable=new ivt(t,n)}clone(){return new R$(It(this,_o),this.config())}config(t){if(t===void 0)return{...It(this,Hh)};if(It(this,Hh)&&It(this,Hh).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(t),yk(this,Hh,X2e(t,It(this,Hh)||{})),this}withConfig(t){return new R$(It(this,_o),{...this.config(),...t})}fetch(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return So(J2e(this,It(this,_o),t,n,r))}getDocument(t,n){return So(eSe(this,It(this,_o),t,n))}getDocuments(t,n){return So(tSe(this,It(this,_o),t,n))}create(t,n){return So(_T(this,It(this,_o),t,"create",n))}createIfNotExists(t,n){return So(nSe(this,It(this,_o),t,n))}createOrReplace(t,n){return So(rSe(this,It(this,_o),t,n))}delete(t,n){return So(oSe(this,It(this,_o),t,n))}mutate(t,n){return So(iSe(this,It(this,_o),t,n))}patch(t,n){return new ub(t,n,this)}transaction(t){return new Y2e(t,this)}request(t){return So(Ol(this,It(this,_o),t))}dataRequest(t,n,r){return So(Rw(this,It(this,_o),t,n,r))}getUrl(t,n){return L8(this,t,n)}getDataUrl(t,n){return N0(this,t,n)}};Hh=new WeakMap;_o=new WeakMap;let avt=svt;function lvt(e,t){return{requester:XG(e,{}).defaultRequester,createClient:i=>new t(XG(e,{maxRetries:i.maxRetries,retryDelay:i.retryDelay}),i)}}var cvt=[];const uvt=lvt(cvt,avt),pSe=uvt.createClient;var dvt=Wf,fvt=to,hvt=Xa,pvt="[object String]";function mvt(e){return typeof e=="string"||!fvt(e)&&hvt(e)&&dvt(e)==pvt}var gvt=mvt;const ST=Ie(gvt);function vvt(e,t,n,r){var o=-1,i=e==null?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}var yvt=vvt;function bvt(e){return function(t){return e==null?void 0:e[t]}}var xvt=bvt,wvt=xvt,Cvt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},_vt=wvt(Cvt),Svt=_vt,Evt=Svt,kvt=Mc,jvt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tvt="\\u0300-\\u036f",Avt="\\ufe20-\\ufe2f",Dvt="\\u20d0-\\u20ff",Ivt=Tvt+Avt+Dvt,Ovt="["+Ivt+"]",Pvt=RegExp(Ovt,"g");function Rvt(e){return e=kvt(e),e&&e.replace(jvt,Evt).replace(Pvt,"")}var mSe=Rvt;const eK=Ie(mSe);var $vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Mvt(e){return e.match($vt)||[]}var Fvt=Mvt,Lvt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function Bvt(e){return Lvt.test(e)}var Nvt=Bvt,gSe="\\ud800-\\udfff",zvt="\\u0300-\\u036f",Vvt="\\ufe20-\\ufe2f",Hvt="\\u20d0-\\u20ff",Uvt=zvt+Vvt+Hvt,vSe="\\u2700-\\u27bf",ySe="a-z\\xdf-\\xf6\\xf8-\\xff",Wvt="\\xac\\xb1\\xd7\\xf7",qvt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Yvt="\\u2000-\\u206f",Gvt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bSe="A-Z\\xc0-\\xd6\\xd8-\\xde",Kvt="\\ufe0e\\ufe0f",xSe=Wvt+qvt+Yvt+Gvt,wSe="['’]",tK="["+xSe+"]",Zvt="["+Uvt+"]",CSe="\\d+",Xvt="["+vSe+"]",_Se="["+ySe+"]",SSe="[^"+gSe+xSe+CSe+vSe+ySe+bSe+"]",Qvt="\\ud83c[\\udffb-\\udfff]",Jvt="(?:"+Zvt+"|"+Qvt+")",e0t="[^"+gSe+"]",ESe="(?:\\ud83c[\\udde6-\\uddff]){2}",kSe="[\\ud800-\\udbff][\\udc00-\\udfff]",mg="["+bSe+"]",t0t="\\u200d",nK="(?:"+_Se+"|"+SSe+")",n0t="(?:"+mg+"|"+SSe+")",rK="(?:"+wSe+"(?:d|ll|m|re|s|t|ve))?",oK="(?:"+wSe+"(?:D|LL|M|RE|S|T|VE))?",jSe=Jvt+"?",TSe="["+Kvt+"]?",r0t="(?:"+t0t+"(?:"+[e0t,ESe,kSe].join("|")+")"+TSe+jSe+")*",o0t="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",i0t="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",s0t=TSe+jSe+r0t,a0t="(?:"+[Xvt,ESe,kSe].join("|")+")"+s0t,l0t=RegExp([mg+"?"+_Se+"+"+rK+"(?="+[tK,mg,"$"].join("|")+")",n0t+"+"+oK+"(?="+[tK,mg+nK,"$"].join("|")+")",mg+"?"+nK+"+"+rK,mg+"+"+oK,i0t,o0t,CSe,a0t].join("|"),"g");function c0t(e){return e.match(l0t)||[]}var u0t=c0t,d0t=Fvt,f0t=Nvt,h0t=Mc,p0t=u0t;function m0t(e,t,n){return e=h0t(e),t=n?void 0:t,t===void 0?f0t(e)?p0t(e):d0t(e):e.match(t)||[]}var ASe=m0t;const DSe=Ie(ASe);var g0t=yvt,v0t=mSe,y0t=ASe,b0t="['’]",x0t=RegExp(b0t,"g");function w0t(e){return function(t){return g0t(y0t(v0t(t).replace(x0t,"")),e,"")}}var B8=w0t;function C0t(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),n=n>o?o:n,n<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}var ISe=C0t,_0t=ISe;function S0t(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:_0t(e,t,n)}var OSe=S0t,E0t="\\ud800-\\udfff",k0t="\\u0300-\\u036f",j0t="\\ufe20-\\ufe2f",T0t="\\u20d0-\\u20ff",A0t=k0t+j0t+T0t,D0t="\\ufe0e\\ufe0f",I0t="\\u200d",O0t=RegExp("["+I0t+E0t+A0t+D0t+"]");function P0t(e){return O0t.test(e)}var PSe=P0t;function R0t(e){return e.split("")}var $0t=R0t,RSe="\\ud800-\\udfff",M0t="\\u0300-\\u036f",F0t="\\ufe20-\\ufe2f",L0t="\\u20d0-\\u20ff",B0t=M0t+F0t+L0t,N0t="\\ufe0e\\ufe0f",z0t="["+RSe+"]",$$="["+B0t+"]",M$="\\ud83c[\\udffb-\\udfff]",V0t="(?:"+$$+"|"+M$+")",$Se="[^"+RSe+"]",MSe="(?:\\ud83c[\\udde6-\\uddff]){2}",FSe="[\\ud800-\\udbff][\\udc00-\\udfff]",H0t="\\u200d",LSe=V0t+"?",BSe="["+N0t+"]?",U0t="(?:"+H0t+"(?:"+[$Se,MSe,FSe].join("|")+")"+BSe+LSe+")*",W0t=BSe+LSe+U0t,q0t="(?:"+[$Se+$$+"?",$$,MSe,FSe,z0t].join("|")+")",Y0t=RegExp(M$+"(?="+M$+")|"+q0t+W0t,"g");function G0t(e){return e.match(Y0t)||[]}var K0t=G0t,Z0t=$0t,X0t=PSe,Q0t=K0t;function J0t(e){return X0t(e)?Q0t(e):Z0t(e)}var NSe=J0t,e1t=OSe,t1t=PSe,n1t=NSe,r1t=Mc;function o1t(e){return function(t){t=r1t(t);var n=t1t(t)?n1t(t):void 0,r=n?n[0]:t.charAt(0),o=n?e1t(n,1).join(""):t.slice(1);return r[e]()+o}}var i1t=o1t,s1t=i1t,a1t=s1t("toUpperCase"),N8=a1t;const zSe=Ie(N8);var l1t=B8,c1t=N8,u1t=l1t(function(e,t,n){return e+(n?" ":"")+c1t(t)}),d1t=u1t;const fn=Ie(d1t);let f1t=e=>crypto.getRandomValues(new Uint8Array(e)),h1t=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return(i=t)=>{let s="";for(;;){let a=n(o),c=o;for(;c--;)if(s+=e[a[c]&r]||"",s.length===i)return s}}},p1t=(e,t=21)=>h1t(e,t,f1t),m1t=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var g1t=["presence","listen"],bk=globalThis&&globalThis.__assign||function(){return bk=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bk.apply(this,arguments)},v1t=p1t("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),y1t="♥";function iK(e,t,n){return JSON.stringify({jsonrpc:"2.0",method:e,params:x1t(t,"v1"),id:n})}function b1t(e){try{return[null,JSON.parse(e)]}catch(t){return t instanceof Error?[t]:[new Error("".concat(t))]}}function x1t(e,t){return bk(bk({},e),{apiVersion:t})}var w1t=function(e,t){t===void 0&&(t={});var n=t.token$,r=t.getNextRequestId,o=r===void 0?v1t:r,i=JL(e.pipe(rt(function(m){return Pi(m,"message")})),function(m){return m.data===y1t}),s=i[0],a=i[1],c=a.pipe(ft(function(m){var v=b1t(m.data),g=v[0],b=v[1];return g?(console.warn("Unable to parse message: %s",g.message),Qn):!b||!b.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",b),Qn):ve(b)}),oa()),u=n?Ho([n,e]).pipe(Jn(function(m,v){var g=m[0],b=m[1],x=v[0],y=v[1];return g===x&&b===y}),rt(function(m){var v=m[0],g=m[1];return v?d(g,"authorization",{authorization:"Bearer ".concat(v)}).pipe(ji(1),tT(g)):ve(g)}),Do({refCount:!0,bufferSize:1})):e;function d(m,v,g){g===void 0&&(g={});var b=o();return an(c.pipe(pt(function(x){return x.id===b}),le(function(x){return x.result})),go(function(){return m.send(iK(v,g,b)),Qn}))}function f(m,v){return u.pipe(ji(1),ft(function(g){return d(g,m,v).pipe(ji(1))}))}function p(m,v){return u.pipe(ji(1),ft(function(g){return d(g,"".concat(m,"_subscribe"),v).pipe(ji(1),ft(function(b){return c.pipe(pt(function(x){return x.method==="".concat(m,"_subscription")&&x.params.subscription===b}),le(function(x){return x.params.result}),NCe(function(){g.readyState!==g.CLOSED&&g.readyState!==g.CLOSING&&g.send(iK("".concat(m,"_unsubscribe"),{subscriptionId:b},o()))}))}))}))}return{heartbeats:an(u,s,a).pipe(le(function(){return new Date})),request:function(m,v){return C1t(m)?p(m,v):f(m,v)}}};function C1t(e){return g1t.includes(e)}var _1t=globalThis&&globalThis.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),sK=function(e){_1t(t,e);function t(n,r,o,i){var s=e.call(this,n)||this;return s.type=r,s.code=o,s.reason=i,s}return t}(Error);function S1t(e){return function(t){return new mt(function(n){var r=e(t),o=!1,i=function(){n.next(r)},s=function(){n.error(new sK("WebSocket connection error","CONNECTION_ERROR"))},a=function(c){o?n.complete():n.error(new sK("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return r.onopen=i,r.onclose=a,r.onerror=s,function(){o=!0,r.close(1e3,"WebSockets connection closed by client")}})}}var E1t=function(e,t){return function(n){return hnt(n,Uo(e).pipe(ft(function(){return t})))}},aK;(function(e){e[e.BAD_REQUEST=4e3]="BAD_REQUEST",e[e.UNAUTHORIZED=4001]="UNAUTHORIZED",e[e.NOT_FOUND=4004]="NOT_FOUND",e[e.INVALID_REQUEST=-32600]="INVALID_REQUEST",e[e.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",e[e.INVALID_PARAMS=-32602]="INVALID_PARAMS",e[e.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",e[e.PARSE_ERROR=-32700]="PARSE_ERROR"})(aK||(aK={}));var k1t=function(e){return e};function j1t(e,t){t===void 0&&(t={});var n=t.timeout,r=t.token$,o=S1t(function(i,s){return new window.WebSocket(i,s)});return w1t(o(e).pipe(n?E1t(n,zu(function(){return new Error("Timeout after ".concat(n," while establishing WebSockets connection"))})):k1t,Do({refCount:!0}),n8(Pi(window,"beforeunload"))),{token$:r})}function T1t(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var A1t=T1t,D1t=w8,I1t=yT;function O1t(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;c===void 0&&(c=e[a]),o?I1t(n,a,c):D1t(n,a,c)}return n}var z0=O1t,P1t=z0,R1t=th;function $1t(e,t){return e&&P1t(t,R1t(t),e)}var M1t=$1t;function F1t(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var L1t=F1t,B1t=Za,N1t=hT,z1t=L1t,V1t=Object.prototype,H1t=V1t.hasOwnProperty;function U1t(e){if(!B1t(e))return z1t(e);var t=N1t(e),n=[];for(var r in e)r=="constructor"&&(t||!H1t.call(e,r))||n.push(r);return n}var W1t=U1t,q1t=n_e,Y1t=W1t,G1t=eh;function K1t(e){return G1t(e)?q1t(e,!0):Y1t(e)}var z8=K1t,Z1t=z0,X1t=z8;function Q1t(e,t){return e&&Z1t(t,X1t(t),e)}var J1t=Q1t,xk={exports:{}};xk.exports;(function(e,t){var n=Ll,r=t&&!t.nodeType&&t,o=r&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===r,s=i?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,p=a?a(f):new u.constructor(f);return u.copy(p),p}e.exports=c})(xk,xk.exports);var eyt=xk.exports;function tyt(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}var V8=tyt,nyt=z0,ryt=l8;function oyt(e,t){return nyt(e,ryt(e),t)}var iyt=oyt,syt=a8,ayt=x8,lyt=l8,cyt=e_e,uyt=Object.getOwnPropertySymbols,dyt=uyt?function(e){for(var t=[];e;)syt(t,lyt(e)),e=ayt(e);return t}:cyt,VSe=dyt,fyt=z0,hyt=VSe;function pyt(e,t){return fyt(e,hyt(e),t)}var myt=pyt,gyt=QCe,vyt=VSe,yyt=z8;function byt(e){return gyt(e,yyt,vyt)}var H8=byt,xyt=Object.prototype,wyt=xyt.hasOwnProperty;function Cyt(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&wyt.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var _yt=Cyt,lK=XCe;function Syt(e){var t=new e.constructor(e.byteLength);return new lK(t).set(new lK(e)),t}var U8=Syt,Eyt=U8;function kyt(e,t){var n=t?Eyt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var jyt=kyt,Tyt=/\w*$/;function Ayt(e){var t=new e.constructor(e.source,Tyt.exec(e));return t.lastIndex=e.lastIndex,t}var Dyt=Ayt,cK=g0,uK=cK?cK.prototype:void 0,dK=uK?uK.valueOf:void 0;function Iyt(e){return dK?Object(dK.call(e)):{}}var Oyt=Iyt,Pyt=U8;function Ryt(e,t){var n=t?Pyt(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var $yt=Ryt,Myt=U8,Fyt=jyt,Lyt=Dyt,Byt=Oyt,Nyt=$yt,zyt="[object Boolean]",Vyt="[object Date]",Hyt="[object Map]",Uyt="[object Number]",Wyt="[object RegExp]",qyt="[object Set]",Yyt="[object String]",Gyt="[object Symbol]",Kyt="[object ArrayBuffer]",Zyt="[object DataView]",Xyt="[object Float32Array]",Qyt="[object Float64Array]",Jyt="[object Int8Array]",ebt="[object Int16Array]",tbt="[object Int32Array]",nbt="[object Uint8Array]",rbt="[object Uint8ClampedArray]",obt="[object Uint16Array]",ibt="[object Uint32Array]";function sbt(e,t,n){var r=e.constructor;switch(t){case Kyt:return Myt(e);case zyt:case Vyt:return new r(+e);case Zyt:return Fyt(e,n);case Xyt:case Qyt:case Jyt:case ebt:case tbt:case nbt:case rbt:case obt:case ibt:return Nyt(e,n);case Hyt:return new r;case Uyt:case Yyt:return new r(e);case Wyt:return Lyt(e);case qyt:return new r;case Gyt:return Byt(e)}}var abt=sbt,lbt=Za,fK=Object.create,cbt=function(){function e(){}return function(t){if(!lbt(t))return{};if(fK)return fK(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),W8=cbt,ubt=W8,dbt=x8,fbt=hT;function hbt(e){return typeof e.constructor=="function"&&!fbt(e)?ubt(dbt(e)):{}}var pbt=hbt,mbt=Iw,gbt=Xa,vbt="[object Map]";function ybt(e){return gbt(e)&&mbt(e)==vbt}var bbt=ybt,xbt=bbt,wbt=$0,hK=u8,pK=hK&&hK.isMap,Cbt=pK?wbt(pK):xbt,_bt=Cbt,Sbt=Iw,Ebt=Xa,kbt="[object Set]";function jbt(e){return Ebt(e)&&Sbt(e)==kbt}var Tbt=jbt,Abt=Tbt,Dbt=$0,mK=u8,gK=mK&&mK.isSet,Ibt=gK?Dbt(gK):Abt,Obt=Ibt,Pbt=i8,Rbt=A1t,$bt=w8,Mbt=M1t,Fbt=J1t,Lbt=eyt,Bbt=V8,Nbt=iyt,zbt=myt,Vbt=i_e,Hbt=H8,Ubt=Iw,Wbt=_yt,qbt=abt,Ybt=pbt,Gbt=to,Kbt=dT,Zbt=_bt,Xbt=Za,Qbt=Obt,Jbt=th,ext=z8,txt=1,nxt=2,rxt=4,HSe="[object Arguments]",oxt="[object Array]",ixt="[object Boolean]",sxt="[object Date]",axt="[object Error]",USe="[object Function]",lxt="[object GeneratorFunction]",cxt="[object Map]",uxt="[object Number]",WSe="[object Object]",dxt="[object RegExp]",fxt="[object Set]",hxt="[object String]",pxt="[object Symbol]",mxt="[object WeakMap]",gxt="[object ArrayBuffer]",vxt="[object DataView]",yxt="[object Float32Array]",bxt="[object Float64Array]",xxt="[object Int8Array]",wxt="[object Int16Array]",Cxt="[object Int32Array]",_xt="[object Uint8Array]",Sxt="[object Uint8ClampedArray]",Ext="[object Uint16Array]",kxt="[object Uint32Array]",Hn={};Hn[HSe]=Hn[oxt]=Hn[gxt]=Hn[vxt]=Hn[ixt]=Hn[sxt]=Hn[yxt]=Hn[bxt]=Hn[xxt]=Hn[wxt]=Hn[Cxt]=Hn[cxt]=Hn[uxt]=Hn[WSe]=Hn[dxt]=Hn[fxt]=Hn[hxt]=Hn[pxt]=Hn[_xt]=Hn[Sxt]=Hn[Ext]=Hn[kxt]=!0;Hn[axt]=Hn[USe]=Hn[mxt]=!1;function hS(e,t,n,r,o,i){var s,a=t&txt,c=t&nxt,u=t&rxt;if(n&&(s=o?n(e,r,o,i):n(e)),s!==void 0)return s;if(!Xbt(e))return e;var d=Gbt(e);if(d){if(s=Wbt(e),!a)return Bbt(e,s)}else{var f=Ubt(e),p=f==USe||f==lxt;if(Kbt(e))return Lbt(e,a);if(f==WSe||f==HSe||p&&!o){if(s=c||p?{}:Ybt(e),!a)return c?zbt(e,Fbt(s,e)):Nbt(e,Mbt(s,e))}else{if(!Hn[f])return o?e:{};s=qbt(e,f,a)}}i||(i=new Pbt);var m=i.get(e);if(m)return m;i.set(e,s),Qbt(e)?e.forEach(function(b){s.add(hS(b,t,n,b,e,i))}):Zbt(e)&&e.forEach(function(b,x){s.set(x,hS(b,t,n,x,e,i))});var v=u?c?Hbt:Vbt:c?ext:Jbt,g=d?void 0:v(e);return Rbt(g||e,function(b,x){g&&(x=b,b=e[x]),$bt(s,x,hS(b,t,n,x,e,i))}),s}var q8=hS;function jxt(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Txt=jxt,Axt=Ow,Dxt=ISe;function Ixt(e,t){return t.length<2?e:Axt(e,Dxt(t,0,-1))}var Oxt=Ixt,Pxt=L0,Rxt=Txt,$xt=Oxt,Mxt=_m;function Fxt(e,t){return t=Pxt(t,e),e=$xt(e,t),e==null||delete e[Mxt(Rxt(t))]}var Lxt=Fxt,Bxt=z_e;function Nxt(e){return Bxt(e)?void 0:e}var zxt=Nxt,Vxt=$c,Hxt=q8,Uxt=Lxt,Wxt=L0,qxt=z0,Yxt=zxt,Gxt=C8,Kxt=H8,Zxt=1,Xxt=2,Qxt=4,Jxt=Gxt(function(e,t){var n={};if(e==null)return n;var r=!1;t=Vxt(t,function(i){return i=Wxt(i,e),r||(r=i.length>1),i}),qxt(e,Kxt(e),n),r&&(n=Hxt(n,Zxt|Xxt|Qxt,Yxt));for(var o=t.length;o--;)Uxt(n,t[o]);return n}),ewt=Jxt;const Ri=Ie(ewt);var twt=function(e){return e==null?[]:Array.isArray(e)?e:[e]};const Mw=Ie(twt);var nwt=to;function rwt(){if(!arguments.length)return[];var e=arguments[0];return nwt(e)?e:[e]}var owt=rwt;const Fw=Ie(owt);var iwt=$c,swt=nh,awt=A_e,lwt=to;function cwt(e,t){var n=lwt(e)?iwt:awt;return n(e,swt(t))}var uwt=cwt,dwt=F0,fwt=uwt;function hwt(e,t){return dwt(fwt(e,t),1)}var pwt=hwt;const mwt=Ie(pwt);var gwt="Expected a function";function vwt(e){if(typeof e!="function")throw new TypeError(gwt);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var qSe=vwt;const ywt=Ie(qSe);var bwt=$c,xwt=nh,wwt=V_e,Cwt=H8;function _wt(e,t){if(e==null)return{};var n=bwt(Cwt(e),function(r){return[r]});return t=xwt(t),wwt(e,n,function(r,o){return t(r,o[0])})}var Swt=_wt,Ewt=nh,kwt=qSe,jwt=Swt;function Twt(e,t){return jwt(e,kwt(Ewt(t)))}var Awt=Twt;const YSe=Ie(Awt);function Dwt(e){return e===void 0}var Iwt=Dwt;const GSe=Ie(Iwt);var Owt=Mc,Pwt=N8;function Rwt(e){return Pwt(Owt(e).toLowerCase())}var KSe=Rwt;const Tm=Ie(KSe);var $wt=$c,Mwt=V8,Fwt=to,Lwt=dm,Bwt=x_e,Nwt=_m,zwt=Mc;function Vwt(e){return Fwt(e)?$wt(e,Nwt):Lwt(e)?[e]:Mwt(Bwt(zwt(e)))}var Hwt=Vwt;const Uwt=Ie(Hwt);function Wwt(){}var Y8=Wwt;const ZSe=Ie(Y8);var o3=s_e,qwt=Y8,Ywt=s8,Gwt=1/0,Kwt=o3&&1/Ywt(new o3([,-0]))[1]==Gwt?function(e){return new o3(e)}:qwt,Zwt=Kwt,Xwt=lT,Qwt=y8,Jwt=b8,eCt=cT,tCt=Zwt,nCt=s8,rCt=200;function oCt(e,t,n){var r=-1,o=Qwt,i=e.length,s=!0,a=[],c=a;if(n)s=!1,o=Jwt;else if(i>=rCt){var u=t?null:tCt(e);if(u)return nCt(u);s=!1,o=eCt,c=new Xwt}else c=t?[]:a;e:for(;++r<i;){var d=e[r],f=t?t(d):d;if(d=n||d!==0?d:0,s&&f===f){for(var p=c.length;p--;)if(c[p]===f)continue e;t&&c.push(f),a.push(d)}else o(c,f,n)||(c!==a&&c.push(f),a.push(d))}return a}var ET=oCt,iCt=nh,sCt=ET;function aCt(e,t){return e&&e.length?sCt(e,iCt(t)):[]}var lCt=aCt;const Lf=Ie(lCt),is=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue"],vK=[...is],i3={name:"any",type:null,jsonType:"any"},cCt={get(){return i3},extend(e,t){const n=Object.assign(St(i3,vK),e,{type:i3,of:e.of.map(o=>({name:o.name,type:t(Ri(o,"name"))}))});return r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,vK),{type:o});return r(s)}}}}};var oh={prepare:e=>({title:String(e)})};const yK=[...is],s3={name:"string",title:"String",type:null,jsonType:"string"},uCt={get(){return s3},extend(e){const t=Object.assign(St(s3,yK),e,{type:s3,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,yK),{type:r});return n(i)}}}}},bK=[...is,"rows"],a3={name:"text",title:"Text",type:null,jsonType:"string"},dCt={get(){return a3},extend(e){const t=Object.assign(St(a3,bK),e,{type:a3,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,bK),{type:r});return n(i)}}}}},xK=[...is],l3={name:"datetime",title:"Datetime",type:null,jsonType:"string"},fCt={get(){return l3},extend(e){const t=Object.assign(St(l3,xK),e,{type:l3,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,xK),{type:r});return n(i)}}}}},wK=[...is],c3={name:"date",title:"Datetime",type:null,jsonType:"string"},hCt={get(){return c3},extend(e){const t=Object.assign(St(c3,wK),e,{type:c3,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,wK),{type:r});return n(i)}}}}},CK=[...is],u3={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},pCt={get(){return u3},extend(e){const t=Object.assign(St(u3,CK),e,{type:u3,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,CK),{type:r});return n(i)}}}}},_K=[...is],d3={name:"url",title:"Url",type:null,jsonType:"string"},mCt={get(){return d3},extend(e){const t=Object.assign(St(d3,_K),e,{type:d3,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,_K),{type:r});return n(i)}}}}},SK=[...is],f3={name:"email",title:"Email",type:null,jsonType:"string"},gCt={get(){return f3},extend(e){const t=Object.assign(St(f3,SK),e,{type:f3,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,SK),{type:r});return n(i)}}}}},EK=[...is],h3={name:"number",title:"Number",type:null,jsonType:"number"},vCt={get(){return h3},extend(e){const t=Object.assign(St(h3,EK),e,{type:h3,preview:oh});return n(t);function n(r){return{get(){return r},extend:o=>{const i=Object.assign({},r,St(o,EK),{type:r});return n(i)}}}}};function Yn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(e,t,{configurable:!0,enumerable:r.enumerable!==!1,get(){const o=n();return Object.defineProperty(e,t,{value:o,writable:!!r.writable,configurable:!1}),o}}),e}function yCt(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}function F$(e,t,n){if(n>t.maxDepth)return"...";if(Array.isArray(e)){if(e.length===0)return"[empty]";const o=Math.max(e.length-t.maxBreadth),i=e.slice(0,t.maxBreadth).map((s,a)=>F$(s,t,n+1)).concat(o>0?"…+".concat(o):[]).join(", ");return n===0?i:"[".concat(i,"]")}if(typeof e=="object"&&e!==null){const o=Object.keys(e).filter(s=>!t.ignoreKeys.includes(s)&&typeof e[s]<"u");if(yCt(St(e,o)))return"{empty}";const i=o.slice(0,t.maxBreadth).map(s=>"".concat(s,": ").concat(F$(e[s],t,n+1))).join(", ");return n===0?i:"{".concat(i,"}")}const r=String(e);return r===""?'""':r}function bCt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n={maxDepth:"maxDepth"in t?t.maxDepth:2,maxBreadth:"maxBreadth"in t?t.maxBreadth:2,ignoreKeys:"ignoreKeys"in t?t.ignoreKeys:[]};return F$(e,n,0)}const xCt={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function wCt(e){return t=>({title:bCt(St(t,e),xCt)})}function CCt(e){return e.type==="array"&&e.of&&e.of.some(t=>t.type==="block")}const XSe=["title","name","label","heading","header","caption"],_Ct=["description",...XSe];function QSe(e,t){return Mw(e.to||[]).some(n=>n.type===t)}function kK(e){return QSe(e,"sanity.imageAsset")}function SCt(e){const t=e.fields||[],n=t.find(kK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(kK));return r?"".concat(r.name,".asset"):void 0}function jK(e){return QSe(e,"sanity.fileAsset")}function ECt(e){const t=e.fields||[],n=t.find(jK);if(n)return n.name;const r=t.find(o=>(o.fields||[]).some(jK));return r?"".concat(r.name,".asset"):void 0}function kCt(e){const t={fields:[],...e},n=t.fields.filter(u=>u.type==="string").map(u=>u.name),r=t.fields.filter(CCt).map(u=>u.name);let o=XSe.find(u=>n.includes(u)||r.includes(u)),i=_Ct.find(u=>u!==o&&(n.includes(u)||r.includes(u)));o||(o=n[0]||r[0],i=n[1]||r[1]);const s=t.fields.find(u=>u.type==="image"),a=SCt(t);if(!o){const u=ECt(t);u&&(o="".concat(u,".originalFilename")),a&&(o="".concat(a,".originalFilename"))}if(!o&&!a){const u=t.fields.map(f=>f.name);return{select:u.reduce((f,p)=>(f[p]=p,f),{}),prepare:wCt(u)}}return{select:YSe({title:o,description:i,media:s?s.name:a},GSe)}}function jCt(e){e.options&&e.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(e.name,`".
`))}function TCt(e){const t=e.preview||(e.options||{}).preview;t&&"fields"in t&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(e.name,`".
`))}function ACt(e){return e.reduce((t,n)=>(t[n]=n,t),{})}function DCt(e){if(!e)return e;const t=e.select||e.fields||{};return Array.isArray(t)?{...St(e,["prepare","component"]),select:ACt(t)}:{...St(e,["prepare","component"]),select:t}}function Lw(e){return function(){return jCt(e),TCt(e),DCt(e.preview||(e.options||{}).preview)||kCt(e)}}const ICt=["title","name","label","heading","header","caption","description"],OCt=["string","boolean","number"],TK=e=>OCt.includes(e.type);function PCt(e){let t=ICt.filter(n=>e.fields.some(r=>TK(r)&&r.name===n));return t.length===0&&(t=e.fields.filter(TK).map(n=>n.name)),t.map(n=>({name:n,title:Tm(fn(n)),by:[{field:n,direction:"asc"}]}))}function AK(e){if(!Array.isArray(e))throw new Error("The search config of a document type must be an array of search config objects");return e.map(t=>{if(t==="defaults")return t;if(!Tr(t))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in t?t.weight:1,path:Uwt(t.path),mapWith:typeof t.mapWith=="string"?t.mapWith:void 0}})}const uv=Symbol("__cachedStringFields"),RCt=e=>e.type&&e.type.name==="reference",$Ct=["style","list"],G8=e=>e.name==="block"||e.type&&G8(e.type),MCt=e=>e.jsonType==="array"&&Array.isArray(e.of)&&e.of.some(G8);function kT(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return n;const i=t(n,e,r);return e.jsonType==="array"&&Array.isArray(e.of)?FCt(e,t,i,r,o):e.jsonType==="object"&&Array.isArray(e.fields)&&!RCt(e)?LCt(e,t,i,r,o):i}function FCt(e,t,n,r,o){return e.of.reduce((i,s)=>kT(s,t,i,r,o-1),n)}function LCt(e,t,n,r,o){const i=G8(e);return e.fields.reduce((s,a)=>{if(i&&$Ct.includes(a.name))return s;const c=[a.name].concat(a.type.jsonType==="array"?[[]]:[]);return kT(a.type,t,s,r.concat(c),o-1)},n)}const JSe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],DK={title:10,subtitle:5,description:1.5};function eEe(e){var t;const n=(t=e==null?void 0:e.preview)==null?void 0:t.select;return n?Object.keys(n).filter(r=>r in DK).map(r=>({weight:DK[r],path:n[r].split(".")})):[]}function BCt(e,t){return e[uv]||(e[uv]=Lf([...JSe,...eEe(e),...zCt(e,t).map(n=>({weight:1,path:n})),...VCt(e,t).map(n=>({weight:1,path:n,mapWith:"pt::text"}))],n=>n.path.join("."))),e[uv]}function NCt(e){return e[uv]||(e[uv]=Lf([...JSe,...eEe(e)],t=>t.path.join("."))),e[uv]}function zCt(e,t){return kT(e,(r,o,i)=>o.jsonType==="string"?[...r,i]:r,[],[],t)}function VCt(e,t){return kT(e,(r,o,i)=>MCt(o)?[...r,i]:r,[],[],t)}function HCt(e){return NCt(e)}function UCt(e){return BCt(e,4)}const IK=[...is,"orderings","__experimental_search","blockEditor","icon"],tEe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(e,t){const n={fields:[],...e},r={...n.options||{}},o=Object.assign(St(this.get(),IK),n,{type:this.get(),title:n.title||(n.name?fn(n.name):""),options:r,orderings:n.orderings||PCt(n),fields:n.fields.map(s=>{const{name:a,fieldset:c,group:u,...d}=s;return Yn({name:a,group:u,fieldset:c},"type",()=>t({...d,title:s.title||fn(a)}))})});return Yn(o,"fieldsets",()=>jT(n,o.fields)),Yn(o,"groups",()=>WCt(n,o.fields)),Yn(o,"preview",Lw(n)),Yn(o,"__experimental_search",()=>{const s=n.__experimental_search?AK(n.__experimental_search):null;return s?s.map(a=>a==="defaults"?AK(n):a):UCt(o)},{enumerable:!1}),i(o);function i(s){return{get(){return s},extend:a=>{if(a.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},s,St(a,IK),{title:a.title||n.title||(n.name?fn(n.name):""),type:s});return Yn(c,"__experimental_search",()=>s.__experimental_search),i(c)}}}}};function jT(e,t){const n={};for(const o of e.fieldsets||[]){if(n[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:fn(e.name),"'"));n[o.name]={title:fn(o.name),...o,fields:[]}}const r=new Set;for(const o of t){if(!o.fieldset){r.add({single:!0,field:o});continue}const i=n[o.fieldset];if(!i)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(e.name,"'"));i.fields.push(o),r.add(i)}return Array.from(r)}function WCt(e,t){const n={};let r=0;for(const o of e.groups||[]){if(n[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(e.title?e.title:fn(e.name),"'"));if(n[o.name]={title:fn(o.name),...o,fields:[]},o.default&&++r>1)throw new Error("More than one field group defined as default for type '".concat(e.title?e.title:fn(e.name),"' - only 1 is supported"))}return t.forEach(o=>{const i=Fw(o.group||[]);i.length!==0&&i.forEach(s=>{const a=n[s];if(!a)throw new Error("Field group '".concat(s,"' is not defined in schema for type '").concat(e.title?e.name:fn(e.name),"'"));a.fields.push(o)})}),mwt(n).filter(o=>o.fields.length>0)}const qCt={name:"_ref",title:"Referenced document ID",type:"string"},YCt={name:"_weak",title:"Weak reference",type:"boolean"},GCt=[qCt,YCt],OK=[...is],p3={name:"reference",title:"Reference",type:null,jsonType:"object"};function KCt(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function ZCt(e){return!e.to||e.to.length===0?"Reference":"Reference to ".concat(KCt(Mw(e.to).map(t=>t.title),"or").toLowerCase())}const XCt={get(){return p3},extend(e,t){if(!e.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(e.name));const n=Object.assign(St(p3,OK),e,{type:p3});return Yn(n,"fields",()=>GCt.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Yn(n,"fieldsets",()=>jT(e,n.fields)),Yn(n,"to",()=>Mw(e.to).map(o=>t(o))),Yn(n,"title",()=>e.title||ZCt(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,OK),{type:o});return r(s)}}}}},QCt={name:"_ref",title:"Referenced document ID",type:"string"},JCt={name:"_weak",title:"Weak reference marker",type:"boolean"},e_t={name:"_dataset",title:"Target dataset",type:"string"},t_t={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},n_t=[QCt,JCt,e_t,t_t],PK=[...is],m3={name:"crossDatasetReference",type:null,jsonType:"object"};function r_t(e,t){const n=e.length;if(n===1)return e[0];const r=e.slice(0,n-1),o=e[n-1];return"".concat(r.join(", ")," ").concat(t," ").concat(o)}function o_t(e){return!e.to||e.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(r_t(Mw(e.to).map(t=>t.title||Tm(t.type)),"or").toLowerCase())}const i_t={get(){return m3},extend(e,t){if(!e.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(e.name));const n=Object.assign(St(m3,PK),e,{type:m3});return Yn(n,"fields",()=>n_t.map(o=>{const{name:i,...s}=o;return{name:i,type:t(s)}})),Yn(n,"to",()=>Mw(e.to).map(o=>({...o,__experimental_search:HCt(o)}))),Yn(n,"title",()=>e.title||o_t(n)),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` of subtypes of "reference"');const s=Object.assign({},o,St(i,PK),{type:o});return r(s)}}}}},s_t={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},a_t={name:"hotspot",type:"sanity.imageHotspot"},l_t={name:"crop",type:"sanity.imageCrop"},RK=[...is],$K={name:"image",title:"Image",type:null,jsonType:"object"},c_t={},u_t={get(){return $K},extend(e,t){const n={...e.options||c_t};let r=[a_t,l_t];n.hotspot||(r=r.map(c=>({...c,hidden:!0})));const o=[s_t,...r,...e.fields||[]],i={...e,fields:o},s=Object.assign(St(this.get(),RK),i,{type:$K,title:i.title||(i.name?fn(i.name):""),options:n,fields:i.fields.map(c=>{const{name:u,fieldset:d,...f}=c,p={name:u,fieldset:d,isCustomized:!!e.fields};return Yn(p,"type",()=>t({...f,title:c.title||fn(u)}))})});return Yn(s,"fieldsets",()=>jT(i,s.fields)),Yn(s,"preview",Lw(Object.assign({},i,{fields:o}))),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const d=Object.assign({},c,St(u,RK),{type:c});return a(d)}}}}},d_t={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},MK=[...is],g3={name:"file",title:"File",type:null,jsonType:"object"},f_t={accept:""},h_t={get(){return g3},extend(e,t){const n={...e.options||f_t},r=[d_t,...e.fields||[]],o={...e,fields:r},i=Object.assign(St(g3,MK),o,{type:g3,title:o.title||(o.name?fn(o.name):""),options:n,fields:o.fields.map(a=>{const{name:c,fieldset:u,...d}=a,f={name:c,fieldset:u,isCustomized:!!e.fields};return Yn(f,"type",()=>t({...d,title:a.title||fn(c)}))})});return Yn(i,"fieldsets",()=>jT(o,i.fields)),Yn(i,"preview",Lw(Object.assign({},o,{fields:r}))),s(i);function s(a){return{get(){return a},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},a,St(c,MK),{type:a});return s(u)}}}}},p_t={name:"document",title:"Document",type:null,jsonType:"object"},m_t={get(){return p_t},extend:tEe.extend},FK=[...is],v3={name:"array",type:null,jsonType:"array",of:[]},g_t={get(){return v3},extend(e,t){const n=Object.assign(St(v3,FK),e,{type:v3});return Yn(n,"of",()=>e.of.map(o=>t(o))),r(n);function r(o){return{get(){return o},extend:i=>{if(i.of)throw new Error('Cannot override `of` property of subtypes of "array"');const s=Object.assign({},o,St(i,FK),{type:o});return r(s)}}}}},v_t={type:"object",name:"link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:e=>e.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},y_t={type:"text",name:"text",title:"Text"},b_t={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},LK={bullet:{title:"Bulleted list",value:"bullet"},numbered:{title:"Numbered list",value:"number"}},x_t=[LK.bullet,LK.numbered],tu={normal:{title:"Normal",value:"normal"},h1:{title:"Heading 1",value:"h1"},h2:{title:"Heading 2",value:"h2"},h3:{title:"Heading 3",value:"h3"},h4:{title:"Heading 4",value:"h4"},h5:{title:"Heading 5",value:"h5"},h6:{title:"Heading 6",value:"h6"},blockquote:{title:"Quote",value:"blockquote"}},w_t=[tu.normal,tu.h1,tu.h2,tu.h3,tu.h4,tu.h5,tu.h6,tu.blockquote],C_t={title:"Strong",value:"strong"},__t={title:"Italic",value:"em"},S_t={title:"Code",value:"code"},E_t={title:"Underline",value:"underline"},k_t={title:"Strike",value:"strike-through"},B1={strong:C_t,em:__t,code:S_t,underline:E_t,strikeThrough:k_t},j_t=[B1.strong,B1.em,B1.code,B1.underline,B1.strikeThrough],BK=["type","name","title","jsonType","description","options","fieldsets","icon"],y3={name:"block",title:"Block",type:null,jsonType:"object"},T_t={},A_t={get(){return y3},extend(e,t){const n={...e.options||T_t},{marks:r,styles:o,lists:i,of:s,...a}=e,c=P_t(r,s),u=I_t(o),d=O_t(i),f={name:"markDefs",title:"Mark definitions",type:"array",of:(r==null?void 0:r.annotations)||nEe},m=[c,u,d,f,{name:"level",title:"Indentation",type:"number"}].concat(e.fields||[]),v=Object.assign(St(y3,BK),a,{type:y3,options:n});return Yn(v,"fields",()=>m.map(b=>{const{name:x,...y}=b;return{name:x,type:t(y)}})),Yn(v,"preview",Lw(e)),g(v);function g(b){return{get(){return b},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const y=Object.assign({},b,St(x,BK),{type:b});return g(y)}}}}};function D_t(e){return e.some(t=>t.value==="normal")?e:[tu.normal,...e]}function I_t(e){return{name:"style",title:"Style",type:"string",options:{list:D_t(e||w_t)}}}function O_t(e){return{name:"listItem",title:"List type",type:"string",options:{list:e||x_t}}}const nEe=[v_t];function P_t(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[y_t,b_t],annotations:e&&e.annotations?e.annotations:nEe,decorators:e&&e.decorators?e.decorators:j_t},...t.filter(n=>n.type!=="span")]}}const NK=["type","name","title","jsonType","description","options","fieldsets","icon"],b3={name:"span",title:"Span",type:null,jsonType:"object"},R_t={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},$_t={name:"text",title:"Text",type:"string"},M_t={},F_t={get(){return b3},extend(e,t){const n={...e.options||M_t},{annotations:r=[],marks:o=[]}=e,i=[R_t,$_t],s=Object.assign(St(b3,NK),e,{type:b3,options:n});return Yn(s,"fields",()=>i.map(c=>{const{name:u,...d}=c;return{name:u,type:t(d)}})),Yn(s,"annotations",()=>r.map(t)),Yn(s,"marks",()=>o.map(t)),Yn(s,"preview",Lw(e)),a(s);function a(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const d=Object.assign({},c,St(u,NK),{type:c});return a(d)}}}}};var L_t=Object.freeze({__proto__:null,any:cCt,array:g_t,block:A_t,boolean:pCt,crossDatasetReference:i_t,date:hCt,datetime:fCt,document:m_t,email:gCt,file:h_t,image:u_t,number:vCt,object:tEe,reference:XCt,span:F_t,string:uCt,text:dCt,url:mCt});function B_t(e){const t=Object.assign(Object.create(null),L_t),n=e.types.reduce((s,a)=>{if(s[a.name])throw new Error("Duplicate type name added to schema: ".concat(a.name));return s[a.name]=a,s},{});return e.types.forEach(i),t;function r(s){if(!t[s]){if(!n[s])throw new Error("Unknown type: ".concat(s));i(n[s])}}function o(s){return r(s.type),t[s.type].extend(s,o).get()}function i(s){r(s.type),!t[s.name]&&(t[s.name]=t[s.type].extend(s,o))}}let N_t=class rEe{static compile(t){return new rEe(t)}constructor(t){this._original=t,this._registry=B_t(t)}get name(){return this._original.name}get(t){return this._registry[t]&&this._registry[t].get()}has(t){return t in this._registry}getTypeNames(){return Object.keys(this._registry)}};const K8=N_t;var z_t=ET;function V_t(e){return e&&e.length?z_t(e):[]}var H_t=V_t;const vo=Ie(H_t),U_t={},W_t=Object.freeze(Object.defineProperty({__proto__:null,default:U_t},Symbol.toStringTag,{value:"Module"})),q_t=HMe(W_t);var Z8=typeof Map=="function"&&Map.prototype,x3=Object.getOwnPropertyDescriptor&&Z8?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,wk=Z8&&x3&&typeof x3.get=="function"?x3.get:null,zK=Z8&&Map.prototype.forEach,X8=typeof Set=="function"&&Set.prototype,w3=Object.getOwnPropertyDescriptor&&X8?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ck=X8&&w3&&typeof w3.get=="function"?w3.get:null,VK=X8&&Set.prototype.forEach,Y_t=typeof WeakMap=="function"&&WeakMap.prototype,db=Y_t?WeakMap.prototype.has:null,G_t=typeof WeakSet=="function"&&WeakSet.prototype,fb=G_t?WeakSet.prototype.has:null,K_t=typeof WeakRef=="function"&&WeakRef.prototype,HK=K_t?WeakRef.prototype.deref:null,Z_t=Boolean.prototype.valueOf,X_t=Object.prototype.toString,Q_t=Function.prototype.toString,J_t=String.prototype.match,Q8=String.prototype.slice,Yd=String.prototype.replace,e2t=String.prototype.toUpperCase,UK=String.prototype.toLowerCase,oEe=RegExp.prototype.test,WK=Array.prototype.concat,ic=Array.prototype.join,t2t=Array.prototype.slice,qK=Math.floor,L$=typeof BigInt=="function"?BigInt.prototype.valueOf:null,C3=Object.getOwnPropertySymbols,B$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="object",$i=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Kv||"symbol")?Symbol.toStringTag:null,iEe=Object.prototype.propertyIsEnumerable,YK=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function GK(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||oEe.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var r=e<0?-qK(-e):qK(e);if(r!==e){var o=String(r),i=Q8.call(t,o.length+1);return Yd.call(o,n,"$&_")+"."+Yd.call(Yd.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yd.call(t,n,"$&_")}var N$=q_t,KK=N$.custom,ZK=aEe(KK)?KK:null,n2t=function e(t,n,r,o){var i=n||{};if(Id(i,"quoteStyle")&&i.quoteStyle!=="single"&&i.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Id(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=Id(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Id(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Id(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return cEe(t,i);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var c=String(t);return a?GK(t,c):c}if(typeof t=="bigint"){var u=String(t)+"n";return a?GK(t,u):u}var d=typeof i.depth>"u"?5:i.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof t=="object")return z$(t)?"[Array]":"[Object]";var f=x2t(i,r);if(typeof o>"u")o=[];else if(lEe(o,t)>=0)return"[Circular]";function p(I,O,$){if(O&&(o=t2t.call(o),o.push(O)),$){var R={depth:i.depth};return Id(i,"quoteStyle")&&(R.quoteStyle=i.quoteStyle),e(I,R,r+1,o)}return e(I,i,r+1,o)}if(typeof t=="function"&&!XK(t)){var m=d2t(t),v=v_(t,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+ic.call(v,", ")+" }":"")}if(aEe(t)){var g=Kv?Yd.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):B$.call(t);return typeof t=="object"&&!Kv?N1(g):g}if(v2t(t)){for(var b="<"+UK.call(String(t.nodeName)),x=t.attributes||[],y=0;y<x.length;y++)b+=" "+x[y].name+"="+sEe(r2t(x[y].value),"double",i);return b+=">",t.childNodes&&t.childNodes.length&&(b+="..."),b+="</"+UK.call(String(t.nodeName))+">",b}if(z$(t)){if(t.length===0)return"[]";var w=v_(t,p);return f&&!b2t(w)?"["+V$(w,f)+"]":"[ "+ic.call(w,", ")+" ]"}if(i2t(t)){var C=v_(t,p);return!("cause"in Error.prototype)&&"cause"in t&&!iEe.call(t,"cause")?"{ ["+String(t)+"] "+ic.call(WK.call("[cause]: "+p(t.cause),C),", ")+" }":C.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+ic.call(C,", ")+" }"}if(typeof t=="object"&&s){if(ZK&&typeof t[ZK]=="function"&&N$)return N$(t,{depth:d-r});if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(f2t(t)){var _=[];return zK&&zK.call(t,function(I,O){_.push(p(O,t,!0)+" => "+p(I,t))}),QK("Map",wk.call(t),_,f)}if(m2t(t)){var S=[];return VK&&VK.call(t,function(I){S.push(p(I,t))}),QK("Set",Ck.call(t),S,f)}if(h2t(t))return _3("WeakMap");if(g2t(t))return _3("WeakSet");if(p2t(t))return _3("WeakRef");if(a2t(t))return N1(p(Number(t)));if(c2t(t))return N1(p(L$.call(t)));if(l2t(t))return N1(Z_t.call(t));if(s2t(t))return N1(p(String(t)));if(typeof window<"u"&&t===window)return"{ [object Window] }";if(t===ws)return"{ [object globalThis] }";if(!o2t(t)&&!XK(t)){var E=v_(t,p),j=YK?YK(t)===Object.prototype:t instanceof Object||t.constructor===Object,k=t instanceof Object?"":"null prototype",T=!j&&$i&&Object(t)===t&&$i in t?Q8.call(ih(t),8,-1):k?"Object":"",A=j||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",D=A+(T||k?"["+ic.call(WK.call([],T||[],k||[]),": ")+"] ":"");return E.length===0?D+"{}":f?D+"{"+V$(E,f)+"}":D+"{ "+ic.call(E,", ")+" }"}return String(t)};function sEe(e,t,n){var r=(n.quoteStyle||t)==="double"?'"':"'";return r+e+r}function r2t(e){return Yd.call(String(e),/"/g,"&quot;")}function z$(e){return ih(e)==="[object Array]"&&(!$i||!(typeof e=="object"&&$i in e))}function o2t(e){return ih(e)==="[object Date]"&&(!$i||!(typeof e=="object"&&$i in e))}function XK(e){return ih(e)==="[object RegExp]"&&(!$i||!(typeof e=="object"&&$i in e))}function i2t(e){return ih(e)==="[object Error]"&&(!$i||!(typeof e=="object"&&$i in e))}function s2t(e){return ih(e)==="[object String]"&&(!$i||!(typeof e=="object"&&$i in e))}function a2t(e){return ih(e)==="[object Number]"&&(!$i||!(typeof e=="object"&&$i in e))}function l2t(e){return ih(e)==="[object Boolean]"&&(!$i||!(typeof e=="object"&&$i in e))}function aEe(e){if(Kv)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!B$)return!1;try{return B$.call(e),!0}catch{}return!1}function c2t(e){if(!e||typeof e!="object"||!L$)return!1;try{return L$.call(e),!0}catch{}return!1}var u2t=Object.prototype.hasOwnProperty||function(e){return e in this};function Id(e,t){return u2t.call(e,t)}function ih(e){return X_t.call(e)}function d2t(e){if(e.name)return e.name;var t=J_t.call(Q_t.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function lEe(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function f2t(e){if(!wk||!e||typeof e!="object")return!1;try{wk.call(e);try{Ck.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function h2t(e){if(!db||!e||typeof e!="object")return!1;try{db.call(e,db);try{fb.call(e,fb)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function p2t(e){if(!HK||!e||typeof e!="object")return!1;try{return HK.call(e),!0}catch{}return!1}function m2t(e){if(!Ck||!e||typeof e!="object")return!1;try{Ck.call(e);try{wk.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function g2t(e){if(!fb||!e||typeof e!="object")return!1;try{fb.call(e,fb);try{db.call(e,db)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function v2t(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function cEe(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return cEe(Q8.call(e,0,t.maxStringLength),t)+r}var o=Yd.call(Yd.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,y2t);return sEe(o,"single",t)}function y2t(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+e2t.call(t.toString(16))}function N1(e){return"Object("+e+")"}function _3(e){return e+" { ? }"}function QK(e,t,n,r){var o=r?V$(n,r):ic.call(n,", ");return e+" ("+t+") {"+o+"}"}function b2t(e){for(var t=0;t<e.length;t++)if(lEe(e[t],`
`)>=0)return!1;return!0}function x2t(e,t){var n;if(e.indent==="	")n="	";else if(typeof e.indent=="number"&&e.indent>0)n=ic.call(Array(e.indent+1)," ");else return null;return{base:n,prev:ic.call(Array(t+1),n)}}function V$(e,t){if(e.length===0)return"";var n=`
`+t.prev+t.base;return n+ic.call(e,","+n)+`
`+t.prev}function v_(e,t){var n=z$(e),r=[];if(n){r.length=e.length;for(var o=0;o<e.length;o++)r[o]=Id(e,o)?t(e[o],e):""}var i=typeof C3=="function"?C3(e):[],s;if(Kv){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var c in e)Id(e,c)&&(n&&String(Number(c))===c&&c<e.length||Kv&&s["$"+c]instanceof Symbol||(oEe.call(/[^\w$]/,c)?r.push(t(c,e)+": "+t(e[c],e)):r.push(c+": "+t(e[c],e))));if(typeof C3=="function")for(var u=0;u<i.length;u++)iEe.call(e,i[u])&&r.push("["+t(i[u])+"]: "+t(e[i[u]],e));return r}const zg=Ie(n2t);function w2t(e,t,n,r){for(var o=-1,i=e==null?0:e.length;++o<i;){var s=e[o];t(r,s,n(s),e)}return r}var C2t=w2t,_2t=T_e;function S2t(e,t,n,r){return _2t(e,function(o,i,s){t(r,o,n(o),s)}),r}var E2t=S2t,k2t=C2t,j2t=E2t,T2t=nh,A2t=to;function D2t(e,t){return function(n,r){var o=A2t(n)?k2t:j2t,i=t?t():{};return o(n,e,T2t(r),i)}}var J8=D2t,I2t=J8,O2t=I2t(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),P2t=O2t;const e9=Ie(P2t);var R2t=function(t,n){if(!Array.isArray(t))throw new TypeError("humanize-list expected an array");n=n||{},n.conjunction=n.conjunction||"and";var r=t.length;if(r===1)return t[0];if(n.skipConjunction)return t.join(", ");for(var o="",i=0;i<r;i++)i===r-1?(n.oxfordComma&&(o+=","),o+=" "+n.conjunction+" "):i!==0&&(o+=", "),o+=t[i];return o};const Cs=Ie(R2t);var t9={exports:{}};const S3=[],JK=[],uEe=(e,t)=>{if(e===t)return 0;const n=e;e.length>t.length&&(e=t,t=n);let r=e.length,o=t.length;for(;r>0&&e.charCodeAt(~-r)===t.charCodeAt(~-o);)r--,o--;let i=0;for(;i<r&&e.charCodeAt(i)===t.charCodeAt(i);)i++;if(r-=i,o-=i,r===0)return o;let s,a,c,u,d=0,f=0;for(;d<r;)JK[d]=e.charCodeAt(i+d),S3[d]=++d;for(;f<o;)for(s=t.charCodeAt(i+f),c=f++,a=f,d=0;d<r;d++)u=s===JK[d]?c:c+1,c=S3[d],a=S3[d]=c>a?u>a?a+1:u:u>c?c+1:u;return a};t9.exports=uEe;t9.exports.default=uEe;var $2t=t9.exports;const M2t=Ie($2t),F2t="https://docs.sanity.io/help/";function n9(e){return F2t+e}const nt={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function dEe(e,t,n){if(n&&!Object.keys(nt).some(r=>nt[r]===n))throw new Error('Used the unknown helpId "'.concat(n,'", please add it to the array in createValidationResult.js'));return{severity:e,message:t,helpId:n}}const De=(e,t)=>dEe("error",e,t),Vr=(e,t)=>dEe("warning",e,t);function L2t(e){return On(e.map(t=>fEe(t))).filter(t=>t.problems.length>0)}function Am(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n=>qn(n,e);return function(r,o){const i=[...o,{kind:"type",type:r.type,name:r.name}],s=t(r)||[],a=Array.isArray(s)?s.map(c=>{const u={kind:"property",name:e},d=[...i,u];return fEe(c,d)}):[[{path:i,problems:[De("Member declaration (".concat(e,") is not an array"))]}]];return[{path:i,problems:r._problems||[]},...On(a)]}}const B2t=e=>Array.isArray(e)?e:typeof e>"u"&&[]||[e],eZ=Am("fields"),N2t=Am("fields"),z2t=Am("fields"),V2t=Am("of"),H2t=Am("to",e=>"to"in e?B2t(e.to):[]),U2t=Am("marks.annotations"),W2t=Am("of"),q2t=(e,t)=>[...U2t(e,t),...W2t(e,t)];function Y2t(e){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:e.type,name:e.name}],problems:e._problems||[]}]}function fEe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(e.type){case"object":return eZ(e,t);case"document":return eZ(e,t);case"array":return V2t(e,t);case"reference":return H2t(e,t);case"block":return q2t(e,t);case"image":return N2t(e,t);case"file":return z2t(e,t);default:return Y2t(e,t)}}function TT(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>r;const n=e.reduce((r,o)=>{const i=t(o);return r[i]||(r[i]=[]),r[i].push(o),r},{});return Object.keys(n).map(r=>n[r].length>1?n[r]:null).filter(Boolean)}const G2t=e=>e,K2t={name:"type",type:null},Z2t=["any","time","date"];function X2t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:G2t;const r=Object.create(null),o=Object.create(null),i=t.map(v=>v.name),s=Z2t.concat(i),a=e.map(v=>v&&v.name).filter(Boolean);t.forEach(v=>{r[v.name]=v}),e.forEach((v,g)=>{o[v&&v.name||"__unnamed_".concat(g)]={}});function c(v){return v==="type"?K2t:r[v]||o[v]||null}const u=vo(On(TT(a)));function d(v){return u.includes(v)}function f(){return a.concat(i)}function p(v){return v==="type"||s.includes(v)}const m=v=>(g,b)=>n(g,{visit:m(!1),isRoot:v,getType:c,getTypeNames:f,isReserved:p,isDuplicate:d,index:b});return t.forEach(v=>{Object.assign(r[v.name],m(v))}),e.forEach((v,g)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(g)],m(!0)(v,g))}),{get(v){const g=o[v]||r[v];if(g)return g;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in r},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const hEe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],pEe=hEe.map(e=>e.name);function Q2t(e,t){return X2t(e,hEe,t)}const J2t=/^Symbol\(react\..+\)$/;function y_(e){return typeof e==="function"||typeof(e==null?void 0:e.$$typeof)=="symbol"&&J2t.test(String(e==null?void 0:e.$$typeof))}function mEe(e){const t="components"in e?e.components:!1;if(!t)return[];const n=[];return t.input&&!y_(t.input)&&n.push(Vr("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(zg(t.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),t.field&&!y_(t.field)&&n.push(Vr("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(zg(t.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),t.item&&!y_(t.item)&&n.push(Vr("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(zg(t.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),t.preview&&!y_(t.preview)&&n.push(Vr("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(zg(t.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),n}const tZ=/^[A-Za-z]+[0-9A-Za-z_]*$/,eSt=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function tSt(e){return typeof e!="string"?[De('Field names must be strings. Saw "'.concat(zg(e),'"'),nt.OBJECT_FIELD_NAME_INVALID)]:e.startsWith("_")?[De('Invalid field name "'.concat(e,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),nt.OBJECT_FIELD_NAME_INVALID)]:tZ.test(e)?eSt.test(e)?[]:[Vr("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),nt.OBJECT_FIELD_NAME_INVALID]:[De('Invalid field name: "'.concat(e,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(tZ),")."),nt.OBJECT_FIELD_NAME_INVALID)]}function r9(e,t){if(!Tr(e))return[De("Incorrect type for field definition - should be an object, saw ".concat(zg(e)),nt.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const n=[];return n.push(..."name"in e?tSt(e.name):[De("Missing field name",nt.OBJECT_FIELD_NAME_INVALID)]),n.push(...mEe(e)),n}function nSt(e){const t={};return e.forEach(n=>{t[n.name]||(t[n.name]=[]),t[n.name].push(n)}),Object.keys(t).map(n=>t[n].length>1?t[n]:null).filter(Boolean)}function o9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const n=[];if(!Array.isArray(e))return[De('The "fields" property must be an array of fields. Instead saw "'.concat(typeof e,'"'),nt.OBJECT_FIELDS_INVALID)];const o=e.filter(s=>typeof s.name=="string");nSt(o).forEach(s=>{n.push(De("Found ".concat(s.length,' fields with name "').concat(s[0].name,'" in object'),nt.OBJECT_FIELD_NOT_UNIQUE))}),e.length===0&&!t.allowEmpty&&n.push(De("Object should have at least one field",nt.OBJECT_FIELDS_INVALID));const i=e.filter(s=>s.type==="block").map(s=>'"'.concat(s.name,'"'));if(i.length>0){const s=i.join(", ");n.push(De("Invalid standalone block field(s) ".concat(s,". Block content must be defined as an array of blocks"),nt.STANDALONE_BLOCK_TYPE))}return n}function rSt(e){return Tr(e)?typeof e.prepare<"u"&&typeof e.prepare!="function"?[De('The "preview.prepare" property must be a function, instead saw "'.concat(typeof e.prepare,'"'))]:e.select?Tr(e.select)?Object.keys(e.select).reduce((t,n)=>typeof e.select[n]=="string"?t:t.concat(De('The key "'.concat(n,'" of "preview.select" must be a string, instead saw "').concat(typeof e.select[n],'"'))),[]):[De('The "preview.select" property must be an object, instead saw "'.concat(typeof e.prepare,'"'))]:[]:[De('The "preview" property must be an object, instead saw "'.concat(typeof e,'"'))]}var gEe=(e,t)=>{let n=o9(e.fields),r=e.preview;if(r){const o=rSt(e.preview);n=n.concat(o),r=o.some(i=>i.severity==="error")?{}:r}return e.type!=="document"&&e.type!=="object"&&typeof e.initialValue<"u"&&n.push(De('The "initialValue" property is currently only supported for document & object types.')),{...e,preview:r,fields:(Array.isArray(e.fields)?e.fields:[]).map((o,i)=>{const{name:s,...a}=o,{_problems:c,...u}=t.visit(a,i);return{name:s,...u,_problems:r9(o).concat(c||[])}}),_problems:n}},oSt=(e,t)=>{const n=gEe(e,t),{initialValue:r,initialValues:o}=n;return typeof r<"u"&&!Tr(r)&&typeof r!="function"&&n._problems.push(De('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&n._problems.push(De('Found property "initialValues" - did you mean "initialValue"?')),n};function iSt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}var sSt=(e,t)=>{const n=Array.isArray(e.to)||Tr(e.to),r=iSt(e),o=On([n?TT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.REFERENCE_TO_INVALID)):De('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.REFERENCE_TO_INVALID)]);return n&&r.length===0&&o.push(De('The reference type should define at least one accepted type. Please check the "to" property.',nt.REFERENCE_TO_INVALID)),o.push(...aSt(e)),{...e,to:(n?r:[]).map(t.visit),_problems:o}};function aSt(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Tr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Tr(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}function nZ(e){return e==="string"||e==="number"||e==="boolean"}function lSt(e,t){return(typeof t.name=="string"?t.name:t.type)===e}function hb(e){return'"'.concat(e,'"')}function rZ(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return e.length===1?"":t}function oZ(e){return Array.isArray(e)?"array with ".concat(e.length," entries"):typeof e=="object"&&e!==null?"object with keys ".concat(Cs(Object.keys(e).map(hb))):hb(e)}var cSt=(e,t)=>{var n,r,o;const i=Array.isArray(e.of);if(i){const v=e.of.reduce((g,b,x)=>{if(typeof b.name=="string"&&b.name!==b.type&&pEe.includes(b.name))return g.concat(De('Found array member declaration with the same type name as a built-in type ("'.concat(b.name,'"). Array members can not be given the same name as a built-in type.'),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(b.type==="object"&&b.name&&t.getType(b.name))return g.concat(Vr('Found array member declaration with the same name as the global schema type "'.concat(b.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(b.type==="array")return g.concat(De('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',nt.ARRAY_OF_ARRAY));if(b)return g;const y="Found ".concat(b===null?"null":typeof b,", expected member declaration");return g.concat(De("Found invalid type member declaration in array at index ".concat(x,": ").concat(y),nt.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...e,of:[],_problems:v}}const s=On([i?TT(e.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>De("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),nt.ARRAY_OF_NOT_UNIQUE)):De('The array type is missing or having an invalid value for the required "of" property',nt.ARRAY_OF_INVALID)]),a=i?e.of:[],c=a.some(v=>v.type==="object"&&typeof v.name>"u");a.some(v=>v.type==="block")&&c&&s.push(De("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",nt.ARRAY_OF_INVALID));const[d,f]=e9(a,v=>{var g;return nZ(v.type)||nZ((g=t.getType(v.type))==null?void 0:g.jsonType)}),p=d.length>0&&f.length>0;if(p){const v=d.map(b=>b.type),g=f.map(b=>b.type);s.push(De("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(rZ(v)," ").concat(Cs(v.map(hb))," and object type").concat(rZ(g)," ").concat(Cs(g.map(hb)),")"),nt.ARRAY_OF_INVALID))}const m=(n=e==null?void 0:e.options)==null?void 0:n.list;return!p&&Array.isArray(m)&&(d.length>0?m.forEach(g=>{var b;const x=(b=g==null?void 0:g.value)!=null?b:g;if(!d.some(w=>typeof x===t.getType(w.type).jsonType)){const w=Cs(d.map(C=>C.name||C.type),{conjunction:"or"});s.push(De("An invalid entry found in options.list: ".concat(oZ(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),nt.ARRAY_PREDEFINED_CHOICES_INVALID))}}):m.forEach(g=>{const b=g._type||"object";f.some(y=>lSt(b,y))||s.push(De("An invalid entry found in options.list: ".concat(oZ(g),'. Must be an object with "_type" set to ').concat(Cs(f.map(y=>y.name||y.type).map(y=>y==="object"?"undefined":hb(y)),{conjunction:"or"})),nt.ARRAY_PREDEFINED_CHOICES_INVALID))})),(r=e==null?void 0:e.options)!=null&&r.list&&((o=e==null?void 0:e.options)==null?void 0:o.layout)==="tags"&&s.push(Vr("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...e,of:a.map(t.visit),_problems:s}},uSt=(e,t)=>{const n=[];return e.options&&e.options.slugifyFn&&(n.push(Vr('Heads up! The "slugifyFn" option has been renamed to "slugify".',nt.SLUG_SLUGIFY_FN_RENAMED)),e.options.slugify=e.options.slugifyFn),{...e,_problems:n}},dSt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...o9(r,{allowEmpty:!0}));const o=Array.isArray(r)?r==null?void 0:r.filter(i=>i.name==="asset"):[];return e.options&&typeof e.options.metadata<"u"&&!Array.isArray(e.options.metadata)?n.push(De("Invalid type for file `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):o.length>0&&n.push(De("The name `asset` is not a valid field name for type `file`.")),{...e,fields:(Array.isArray(r)?r:[]).map((i,s)=>{const{name:a,...c}=i,{_problems:u,...d}=t.visit(c,s);return{name:a,...d,_problems:r9(i).concat(u||[])}}),_problems:n}};const iZ=["dimensions","hasAlpha","isOpaque"];var fSt=(e,t)=>{const n=[],r=e.fields;r&&n.push(...o9(r,{allowEmpty:!0}));let o=e.options;const i=o==null?void 0:o.metadata,s=Array.isArray(i)?i.filter(u=>iZ.includes(u)):[],a=["asset","hotspot","crop"],c=Array.isArray(r)?r==null?void 0:r.filter(u=>a.includes(u.name)):[];return typeof i<"u"&&!Array.isArray(i)?n.push(De("Invalid type for image `metadata` field - must be an array of strings",nt.ASSET_METADATA_FIELD_INVALID)):s.length>0?(n.push(Vr("Image `metadata` field contains superfluous properties (they are always included): ".concat(s.join(", ")))),o={...o,metadata:i.filter(u=>!iZ.includes(u))}):c.length>0&&n.push(De("The names `".concat(a.join("`, `"),"` are invalid field names for type `image`."))),{...e,options:o,fields:(Array.isArray(r)?r:[]).map((u,d)=>{const{name:f,...p}=u,{_problems:m,...v}=t.visit(p,d);return{name:f,...v,_problems:r9(u).concat(m||[])}}),_problems:n}};function vEe(e,t,n){if("jsonType"in e)return e.jsonType===t;const r=n.getType(e.type);if(!r)throw new Error("Could not resolve jsonType of ".concat(e.name,". No parent type found"));return vEe(r,t,n)}const Js=e=>Array.isArray(e)?"array":typeof e,Bw=e=>'"'.concat(e,'"'),hSt=["components","lists","marks","name","of","options","styles","title","type","validation"],pSt=["decorators","annotations"],mSt=["blockEditor","title","value","component"],gSt=["blockEditor","title","value","icon","component"],vSt=["title","value","icon","component"],sZ=["file","image","object","reference"];function ySt(e,t){const n=[];let r=e.styles,o=e.lists,i=e.marks,s=e.of;const a=Object.keys(e).filter(c=>!hSt.includes(c)&&!c.startsWith("_"));return a.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(Cs(a.map(Bw))))),i&&(i=bSt(e.marks,t,n)),r&&(r=wSt(r,t,n)),o&&(o=xSt(o,t,n)),s&&(s=SSt(s,t,n)),{...Ri(e,a),marks:i,styles:r,name:e.name||e.type,of:s,_problems:n}}function bSt(e,t,n){let r=e.decorators,o=e.annotations;if(!Tr(e))return n.push(De('"marks" declaration should be an object, got '.concat(Js(e)))),n;const i=Object.keys(e).filter(s=>!pSt.includes(s)&&!s.startsWith("_"));return i.length>0&&n.push(De("Found unknown properties for block declaration: ".concat(Cs(i.map(Bw))))),r&&!Array.isArray(r)?n.push(De('"marks.decorators" declaration should be an array, got '.concat(Js(r)))):r&&(r.filter(s=>!!s.blockEditor).forEach(s=>{s.icon=s.blockEditor.icon,s.component=s.blockEditor.render}),r=CSt(r,t,n)),o&&!Array.isArray(o)?n.push(De('"marks.annotations" declaration should be an array, got '.concat(Js(o)))):o&&(o=_St(o,t,n)),{...e,decorators:r,annotations:o}}function xSt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Tr(r)){n.push(De("List must be an object, got ".concat(Js(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!vSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for list ".concat(i,": ").concat(Cs(s.map(Bw))))),r.value?typeof r.value!="string"?n.push(De("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(Js(r.value)))):r.title||n.push(Vr("List type ".concat(i,' is missing recommended "title" property'))):n.push(De("List #".concat(o,' is missing required "value" property')))}),e):(n.push(De('"lists" declaration should be an array, got '.concat(Js(e)))),n)}function wSt(e,t,n){return Array.isArray(e)?(e.forEach((r,o)=>{if(!Tr(r)){n.push(De("Style must be an object, got ".concat(Js(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!mSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for style ".concat(i,": ").concat(Cs(s.map(Bw))))),r.value?typeof r.value!="string"?n.push(De("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(Js(r.value)))):r.title||n.push(Vr("Style ".concat(i,' is missing recommended "title" property'))):n.push(De("Style #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Vr('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.component=r.component||r.blockEditor.render)}),e):(n.push(De('"styles" declaration should be an array, got '.concat(Js(e)))),n)}function CSt(e,t,n){return e.forEach((r,o)=>{if(!Tr(r)){n.push(De("Annotation must be an object, got ".concat(Js(r))));return}const i=r.value||"#".concat(o),s=Object.keys(r).filter(a=>!gSt.includes(a)&&!a.startsWith("_"));s.length>0&&n.push(De("Found unknown properties for decorator ".concat(i,": ").concat(Cs(s.map(Bw))))),r.value?typeof r.value!="string"?n.push(De("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(Js(r.value)))):r.title||n.push(Vr("Decorator ".concat(i,' is missing recommended "title" property'))):n.push(De("Decorator #".concat(o,' is missing required "value" property'))),typeof r.blockEditor<"u"&&(n.push(Vr('Decorator "'.concat(i,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,r.component=r.component||r.blockEditor.render)}),e}function _St(e,t,n){return e.map(r=>{var o,i;if(!Tr(r))return{...r,_problems:[De("Annotation must be an object, got ".concat(Js(r)))]};const{_problems:s}=t.visit(r,t),a=r.type&&t.getType(r.type);return a&&!vEe(a,"object",t)&&s.push(De('Annotation cannot have type "'.concat(r.type,'" - annotation types must inherit from object'))),typeof r.blockEditor<"u"&&(n.push(Vr('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',nt.DEPRECATED_BLOCKEDITOR_KEY)),r.icon=r.icon||r.blockEditor.icon,(o=r.blockEditor)!=null&&o.render&&!((i=r.components)!=null&&i.annotation)&&(r.components=r.components||{},r.components.annotation=r.components.annotation||r.blockEditor.render)),{...r,_problems:s}})}function SSt(e,t,n){if(!Array.isArray(e)){n.push(De('"of" declaration should be an array, got '.concat(Js(e))));return}return e.map(r=>{const{_problems:o}=t.visit(r,t);if(r.type==="object"&&r.name&&t.getType(r.name))return{...r,_problems:[Vr('Found array member declaration with the same name as the global schema type "'.concat(r.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),nt.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let i=r;for(;i&&!i.jsonType;)i=t.getType(i.type);const s=pEe.filter(a=>!sZ.includes(a));return i&&i.jsonType!=="object"||s.some(a=>a===r.type)?{...r,_problems:[De("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(sZ.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),nt.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...r,_problems:o}})}function ESt(e,t){if(!("fields"in e))return[];let n=e;for(;n&&!n.jsonType;)n=t.getType(n.type);return n&&n.jsonType!=="object"?[De('Type has propery "fields", but is not an object/document type.')]:[]}const kSt=e=>'"'.concat(e,'"');function jSt(e,t){const n=t.getTypeNames();if(!e)return[De("Type is missing a type. Valid types are: ".concat(Cs(n)),nt.TYPE_MISSING_TYPE)];if(typeof e!="string")return[De('Type has an invalid "type"-property - should be a string. Valid types are: '.concat(Cs(n)),nt.TYPE_MISSING_TYPE)];if(!n.includes(e)){const o=n.map(s=>[M2t(e,s),s]).filter(s=>{let[a]=s;return a<3}).map(s=>{let[a,c]=s;return c}),i=o.length>0?" Did you mean ".concat(Cs(o.map(kSt),{conjunction:"or"}),"?"):"";return[De("Unknown type: ".concat(e,".").concat(i,`

Valid types are: `).concat(Cs(n)))]}return[]}function TSt(e){var t,n,r;const o=[];return e!=null&&e.inputComponent&&o.push(Vr('The "inputComponent" property is deprecated. Use "components.input" instead.')),(t=e==null?void 0:e.preview)!=null&&t.component&&o.push(Vr('The "preview.component" property is deprecated. Use "components.preview" instead.')),e!=null&&e.diffComponent&&o.push(Vr('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(n=e==null?void 0:e.options)!=null&&n.editModal&&o.push(Vr('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(r=e==null?void 0:e.options)!=null&&r.isHighlighted&&o.push(Vr('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var aZ=(e,t)=>({...e,_problems:[...jSt(e.type,t),...ESt(e,t),...TSt(e)].filter(Boolean)}),ASt=(e,t)=>{const n=!!e.name;if(!n&&Object.keys(e).length===1)return{...e,_problems:[De("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",nt.TYPE_INVALID)]};const r=[];return DSt(e)?r.push(De("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",nt.TYPE_IS_ESM_MODULE)):n?t.isReserved(e.name)&&r.push(De('Invalid type name: "'.concat(e.name,'" is a reserved name.'),nt.TYPE_NAME_RESERVED)):r.push(De("Missing type name",nt.TYPE_MISSING_NAME)),t.isDuplicate(e.name)&&r.push(De('Invalid type name: A type with name "'.concat(e.name,'" is already defined in the schema.'))),r.push(...mEe(e)),"title"in e&&typeof e.title!="string"&&r.push(Vr("Type title is not a string.",nt.TYPE_TITLE_INVALID)),{...e,_problems:r}};function DSt(e){return!e.name&&e.default&&(e.default.name||e.default.title)}function ISt(e){return Array.isArray(e.to)?e.to:e.to?[e.to]:e.to}const OSt=/^[a-z0-9~][-_a-z0-9]+$/;function PSt(e){return e.length>=2&&e.toLowerCase()===e&&OSt.test(e)||'The provided dataset "'.concat(e,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var RSt=(e,t)=>{const n=Array.isArray(e.to)||Tr(e.to),r=ISt(e),o=On([n?TT(r,i=>"".concat(i.name,";").concat(i.type)).map(i=>De("Found ".concat(i.length,' members with same type, but not unique names "').concat(i[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),nt.CROSS_DATASET_REFERENCE_INVALID)):De('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',nt.CROSS_DATASET_REFERENCE_INVALID)]);if(n&&r.length===0&&o.push(De('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',nt.CROSS_DATASET_REFERENCE_INVALID)),r.forEach((i,s)=>{i.type||o.push(De("The referenced type at index ".concat(s," must be named. Specify the name of the type you want to create references to."),nt.CROSS_DATASET_REFERENCE_INVALID)),Tr(i.preview)||o.push(De('Missing required preview config for the referenced type "'.concat(i.type||"<unknown type>",'"'),nt.CROSS_DATASET_REFERENCE_INVALID))}),typeof e.dataset=="string"){const i=PSt(e.dataset);i!==!0&&o.push(De(i,nt.CROSS_DATASET_REFERENCE_INVALID))}else o.push(De("A cross dataset reference must specify a `dataset`",nt.CROSS_DATASET_REFERENCE_INVALID));return e.studioUrl&&typeof e.studioUrl!="function"&&o.push(De('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',nt.CROSS_DATASET_REFERENCE_INVALID)),o.push(...$St(e)),{...e,_problems:o}};function $St(e){const{options:t}=e,n=[];return n.push(...["filter","filterParams"].filter(r=>r in e).map(r=>De("`".concat(r,"` is not allowed on a reference type definition - did you mean `options.").concat(r,"`?"),nt.REFERENCE_INVALID_OPTIONS_LOCATION))),t?Tr(t)?typeof t.filter=="function"&&typeof t.filterParams<"u"?n.concat(De("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",nt.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof t.filter=="function"||!t.filter&&!t.filterParams?n:typeof t.filter!="string"?n.concat(De("If set, `filter` must be a string. Got ".concat(typeof t.filter))):typeof t.filterParams<"u"&&!Tr(t.filterParams)?n.concat(De("If set, `filterParams` must be an object.")):t.filterParams?n.concat(Object.keys(t.filterParams).filter(r=>r.startsWith("__")||r.startsWith("$")).map(r=>De('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(r,'".')))):n:n.concat(De("The reference type expects `options` to be an object",nt.REFERENCE_INVALID_OPTIONS)):n}const MSt={array:cSt,object:gEe,slug:uSt,file:dSt,image:fSt,block:ySt,document:oSt,reference:sSt,crossDatasetReference:RSt},FSt=e=>t=>({name:"<unnamed_type_@_index_".concat(e.index,">"),...t,_problems:[]});function lZ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(r,o)=>t.reduce((i,s)=>{const a=s(i,o);return{...a,_problems:i._problems.concat(a._problems)}},{_problems:[],...r})}function LSt(e){return Q2t(e,(t,n)=>{const r=t&&t.type&&MSt[t.type]||FSt(n);return n.isRoot?lZ(ASt,aZ,r)(t,n):lZ(aZ,r)(t,n)})}const H$="__experimental_actions",yEe=["create","update","delete","publish"],E3=yEe,BSt=e=>H$ in e?e[H$]:yEe,NSt=(e,t)=>{if(!Array.isArray(t))throw new Error("The value of <type>.".concat(H$," should be an array with any of the actions ").concat(E3.join(", ")));const n=qp(t,E3);if(n.length>0)throw new Error("Invalid action".concat(n.length>1?"s":"",' configured for schema type "').concat(e,'": ').concat(n.join(", "),". Valid actions are: ").concat(E3.join(", ")));return t},zSt=e=>NSt(e.name,BSt(e)),cZ=(e,t)=>zSt(e).includes(t);var VSt=q8,HSt=1,USt=4;function WSt(e){return VSt(e,HSt|USt)}var qSt=WSt;const YSt=Ie(qSt);function Ge(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function GSt(e){return Ge(1,arguments),e instanceof Date||Il(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ze(e){Ge(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Il(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Uu(e){if(Ge(1,arguments),!GSt(e)&&typeof e!="number")return!1;var t=Ze(e);return!isNaN(Number(t))}function At(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function KSt(e,t){Ge(2,arguments);var n=Ze(e).getTime(),r=At(t);return new Date(n+r)}function bEe(e,t){Ge(2,arguments);var n=At(t);return KSt(e,-n)}var ZSt=864e5;function XSt(e){Ge(1,arguments);var t=Ze(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),o=n-r;return Math.floor(o/ZSt)+1}function Zv(e){Ge(1,arguments);var t=1,n=Ze(e),r=n.getUTCDay(),o=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-o),n.setUTCHours(0,0,0,0),n}function xEe(e){Ge(1,arguments);var t=Ze(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=Zv(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=Zv(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function QSt(e){Ge(1,arguments);var t=xEe(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=Zv(n);return r}var JSt=6048e5;function wEe(e){Ge(1,arguments);var t=Ze(e),n=Zv(t).getTime()-QSt(t).getTime();return Math.round(n/JSt)+1}var eEt={};function cd(){return eEt}function Yp(e,t){var n,r,o,i,s,a,c,u;Ge(1,arguments);var d=cd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ze(e),m=p.getUTCDay(),v=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-v),p.setUTCHours(0,0,0,0),p}function i9(e,t){var n,r,o,i,s,a,c,u;Ge(1,arguments);var d=Ze(e),f=d.getUTCFullYear(),p=cd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(f+1,0,m),v.setUTCHours(0,0,0,0);var g=Yp(v,t),b=new Date(0);b.setUTCFullYear(f,0,m),b.setUTCHours(0,0,0,0);var x=Yp(b,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function tEt(e,t){var n,r,o,i,s,a,c,u;Ge(1,arguments);var d=cd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=i9(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var v=Yp(m,t);return v}var nEt=6048e5;function CEe(e,t){Ge(1,arguments);var n=Ze(e),r=Yp(n,t).getTime()-tEt(n,t).getTime();return Math.round(r/nEt)+1}function xn(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var rEt={y:function(t,n){var r=t.getUTCFullYear(),o=r>0?r:1-r;return xn(n==="yy"?o%100:o,n.length)},M:function(t,n){var r=t.getUTCMonth();return n==="M"?String(r+1):xn(r+1,2)},d:function(t,n){return xn(t.getUTCDate(),n.length)},a:function(t,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(t,n){return xn(t.getUTCHours()%12||12,n.length)},H:function(t,n){return xn(t.getUTCHours(),n.length)},m:function(t,n){return xn(t.getUTCMinutes(),n.length)},s:function(t,n){return xn(t.getUTCSeconds(),n.length)},S:function(t,n){var r=n.length,o=t.getUTCMilliseconds(),i=Math.floor(o*Math.pow(10,r-3));return xn(i,n.length)}};const xd=rEt;var Xm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},oEt={G:function(t,n,r){var o=t.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(o,{width:"abbreviated"});case"GGGGG":return r.era(o,{width:"narrow"});case"GGGG":default:return r.era(o,{width:"wide"})}},y:function(t,n,r){if(n==="yo"){var o=t.getUTCFullYear(),i=o>0?o:1-o;return r.ordinalNumber(i,{unit:"year"})}return xd.y(t,n)},Y:function(t,n,r,o){var i=i9(t,o),s=i>0?i:1-i;if(n==="YY"){var a=s%100;return xn(a,2)}return n==="Yo"?r.ordinalNumber(s,{unit:"year"}):xn(s,n.length)},R:function(t,n){var r=xEe(t);return xn(r,n.length)},u:function(t,n){var r=t.getUTCFullYear();return xn(r,n.length)},Q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"Q":return String(o);case"QQ":return xn(o,2);case"Qo":return r.ordinalNumber(o,{unit:"quarter"});case"QQQ":return r.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(o,{width:"wide",context:"formatting"})}},q:function(t,n,r){var o=Math.ceil((t.getUTCMonth()+1)/3);switch(n){case"q":return String(o);case"qq":return xn(o,2);case"qo":return r.ordinalNumber(o,{unit:"quarter"});case"qqq":return r.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(o,{width:"wide",context:"standalone"})}},M:function(t,n,r){var o=t.getUTCMonth();switch(n){case"M":case"MM":return xd.M(t,n);case"Mo":return r.ordinalNumber(o+1,{unit:"month"});case"MMM":return r.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(o,{width:"wide",context:"formatting"})}},L:function(t,n,r){var o=t.getUTCMonth();switch(n){case"L":return String(o+1);case"LL":return xn(o+1,2);case"Lo":return r.ordinalNumber(o+1,{unit:"month"});case"LLL":return r.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(o,{width:"wide",context:"standalone"})}},w:function(t,n,r,o){var i=CEe(t,o);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):xn(i,n.length)},I:function(t,n,r){var o=wEe(t);return n==="Io"?r.ordinalNumber(o,{unit:"week"}):xn(o,n.length)},d:function(t,n,r){return n==="do"?r.ordinalNumber(t.getUTCDate(),{unit:"date"}):xd.d(t,n)},D:function(t,n,r){var o=XSt(t);return n==="Do"?r.ordinalNumber(o,{unit:"dayOfYear"}):xn(o,n.length)},E:function(t,n,r){var o=t.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(o,{width:"short",context:"formatting"});case"EEEE":default:return r.day(o,{width:"wide",context:"formatting"})}},e:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return xn(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,n,r,o){var i=t.getUTCDay(),s=(i-o.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return xn(s,n.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,n,r){var o=t.getUTCDay(),i=o===0?7:o;switch(n){case"i":return String(i);case"ii":return xn(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(o,{width:"short",context:"formatting"});case"iiii":default:return r.day(o,{width:"wide",context:"formatting"})}},a:function(t,n,r){var o=t.getUTCHours(),i=o/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,n,r){var o=t.getUTCHours(),i;switch(o===12?i=Xm.noon:o===0?i=Xm.midnight:i=o/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,n,r){var o=t.getUTCHours(),i;switch(o>=17?i=Xm.evening:o>=12?i=Xm.afternoon:o>=4?i=Xm.morning:i=Xm.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,n,r){if(n==="ho"){var o=t.getUTCHours()%12;return o===0&&(o=12),r.ordinalNumber(o,{unit:"hour"})}return xd.h(t,n)},H:function(t,n,r){return n==="Ho"?r.ordinalNumber(t.getUTCHours(),{unit:"hour"}):xd.H(t,n)},K:function(t,n,r){var o=t.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(o,{unit:"hour"}):xn(o,n.length)},k:function(t,n,r){var o=t.getUTCHours();return o===0&&(o=24),n==="ko"?r.ordinalNumber(o,{unit:"hour"}):xn(o,n.length)},m:function(t,n,r){return n==="mo"?r.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):xd.m(t,n)},s:function(t,n,r){return n==="so"?r.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):xd.s(t,n)},S:function(t,n){return xd.S(t,n)},X:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return dZ(s);case"XXXX":case"XX":return Uh(s);case"XXXXX":case"XXX":default:return Uh(s,":")}},x:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"x":return dZ(s);case"xxxx":case"xx":return Uh(s);case"xxxxx":case"xxx":default:return Uh(s,":")}},O:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+uZ(s,":");case"OOOO":default:return"GMT"+Uh(s,":")}},z:function(t,n,r,o){var i=o._originalDate||t,s=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+uZ(s,":");case"zzzz":default:return"GMT"+Uh(s,":")}},t:function(t,n,r,o){var i=o._originalDate||t,s=Math.floor(i.getTime()/1e3);return xn(s,n.length)},T:function(t,n,r,o){var i=o._originalDate||t,s=i.getTime();return xn(s,n.length)}};function uZ(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(i===0)return n+String(o);var s=t||"";return n+String(o)+s+xn(i,2)}function dZ(e,t){if(e%60===0){var n=e>0?"-":"+";return n+xn(Math.abs(e)/60,2)}return Uh(e,t)}function Uh(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e),i=xn(Math.floor(o/60),2),s=xn(o%60,2);return r+i+n+s}const iEt=oEt;var fZ=function(t,n){switch(t){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},_Ee=function(t,n){switch(t){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},sEt=function(t,n){var r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return fZ(t,n);var s;switch(o){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",fZ(o,n)).replace("{{time}}",_Ee(i,n))},aEt={p:_Ee,P:sEt};const U$=aEt;function _k(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var lEt=["D","DD"],cEt=["YY","YYYY"];function SEe(e){return lEt.indexOf(e)!==-1}function EEe(e){return cEt.indexOf(e)!==-1}function Sk(e,t,n){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var uEt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},dEt=function(t,n,r){var o,i=uEt[t];return typeof i=="string"?o=i:n===1?o=i.one:o=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};const fEt=dEt;function k3(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var hEt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pEt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mEt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gEt={date:k3({formats:hEt,defaultWidth:"full"}),time:k3({formats:pEt,defaultWidth:"full"}),dateTime:k3({formats:mEt,defaultWidth:"full"})};const vEt=gEt;var yEt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bEt=function(t,n,r,o){return yEt[t]};const xEt=bEt;function z1(e){return function(t,n){var r=n!=null&&n.context?String(n.context):"standalone",o;if(r==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=n!=null&&n.width?String(n.width):i;o=e.formattingValues[s]||e.formattingValues[i]}else{var a=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;o=e.values[c]||e.values[a]}var u=e.argumentCallback?e.argumentCallback(t):t;return o[u]}}var wEt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},CEt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Et={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SEt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EEt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kEt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jEt=function(t,n){var r=Number(t),o=r%100;if(o>20||o<10)switch(o%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},TEt={ordinalNumber:jEt,era:z1({values:wEt,defaultWidth:"wide"}),quarter:z1({values:CEt,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:z1({values:_Et,defaultWidth:"wide"}),day:z1({values:SEt,defaultWidth:"wide"}),dayPeriod:z1({values:EEt,defaultWidth:"wide",formattingValues:kEt,defaultFormattingWidth:"wide"})};const AEt=TEt;function V1(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s=i[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?IEt(a,function(f){return f.test(s)}):DEt(a,function(f){return f.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;var d=t.slice(s.length);return{value:u,rest:d}}}function DEt(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function IEt(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}function OEt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=n.valueCallback?n.valueCallback(s):s;var a=t.slice(o.length);return{value:s,rest:a}}}var PEt=/^(\d+)(th|st|nd|rd)?/i,REt=/\d+/i,$Et={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MEt={any:[/^b/i,/^(a|c)/i]},FEt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LEt={any:[/1/i,/2/i,/3/i,/4/i]},BEt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},NEt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zEt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VEt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},HEt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UEt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WEt={ordinalNumber:OEt({matchPattern:PEt,parsePattern:REt,valueCallback:function(t){return parseInt(t,10)}}),era:V1({matchPatterns:$Et,defaultMatchWidth:"wide",parsePatterns:MEt,defaultParseWidth:"any"}),quarter:V1({matchPatterns:FEt,defaultMatchWidth:"wide",parsePatterns:LEt,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:V1({matchPatterns:BEt,defaultMatchWidth:"wide",parsePatterns:NEt,defaultParseWidth:"any"}),day:V1({matchPatterns:zEt,defaultMatchWidth:"wide",parsePatterns:VEt,defaultParseWidth:"any"}),dayPeriod:V1({matchPatterns:HEt,defaultMatchWidth:"any",parsePatterns:UEt,defaultParseWidth:"any"})};const qEt=WEt;var YEt={code:"en-US",formatDistance:fEt,formatLong:vEt,formatRelative:xEt,localize:AEt,match:qEt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const kEe=YEt;var GEt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KEt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZEt=/^'([^]*?)'?$/,XEt=/''/g,QEt=/[a-zA-Z]/;function Jo(e,t,n){var r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,C;Ge(2,arguments);var _=String(t),S=cd(),E=(r=(o=n==null?void 0:n.locale)!==null&&o!==void 0?o:S.locale)!==null&&r!==void 0?r:kEe,j=At((i=(s=(a=(c=n==null?void 0:n.firstWeekContainsDate)!==null&&c!==void 0?c:n==null||(u=n.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&a!==void 0?a:S.firstWeekContainsDate)!==null&&s!==void 0?s:(f=S.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(j>=1&&j<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var k=At((m=(v=(g=(b=n==null?void 0:n.weekStartsOn)!==null&&b!==void 0?b:n==null||(x=n.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&g!==void 0?g:S.weekStartsOn)!==null&&v!==void 0?v:(w=S.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&m!==void 0?m:0);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ze(e);if(!Uu(T))throw new RangeError("Invalid time value");var A=_k(T),D=bEe(T,A),I={firstWeekContainsDate:j,weekStartsOn:k,locale:E,_originalDate:T},O=_.match(KEt).map(function($){var R=$[0];if(R==="p"||R==="P"){var z=U$[R];return z($,E.formatLong)}return $}).join("").match(GEt).map(function($){if($==="''")return"'";var R=$[0];if(R==="'")return JEt($);var z=iEt[R];if(z)return!(n!=null&&n.useAdditionalWeekYearTokens)&&EEe($)&&Sk($,t,String(e)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&SEe($)&&Sk($,t,String(e)),z(D,$,E.localize,I);if(R.match(QEt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return $}).join("");return O}function JEt(e){var t=e.match(ZEt);return t?t[1].replace(XEt,"'"):e}var ekt=Mc,tkt=0;function nkt(e){var t=++tkt;return ekt(e)+t}var rkt=nkt;const jEe=Ie(rkt);function Yi(e,t){Ge(2,arguments);var n=Ze(e),r=At(t);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function s9(e,t){Ge(2,arguments);var n=Ze(e),r=At(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var o=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var s=i.getDate();return o>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),o),n)}function Xv(e,t){var n,r,o,i,s,a,c,u;Ge(1,arguments);var d=cd(),f=At((n=(r=(o=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&o!==void 0?o:d.weekStartsOn)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ze(e),m=p.getDay(),v=(m<f?7:0)+m-f;return p.setDate(p.getDate()-v),p.setHours(0,0,0,0),p}function Bf(e){Ge(1,arguments);var t=Ze(e);return t.setHours(0,0,0,0),t}var okt=864e5;function ikt(e,t){Ge(2,arguments);var n=Bf(e),r=Bf(t),o=n.getTime()-_k(n),i=r.getTime()-_k(r);return Math.round((o-i)/okt)}function skt(e,t){Ge(2,arguments);var n=At(t),r=n*7;return Yi(e,r)}function pb(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t),o=n.getTime()-r.getTime();return o<0?-1:o>0?1:o}var AT=6e4,DT=36e5,akt=1e3;function Bd(e,t){Ge(2,arguments);var n=Bf(e),r=Bf(t);return n.getTime()===r.getTime()}function lkt(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t),o=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return o*12+i}function ckt(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t);return n.getFullYear()-r.getFullYear()}function hZ(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function TEe(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t),o=hZ(n,r),i=Math.abs(ikt(n,r));n.setDate(n.getDate()-o*i);var s=+(hZ(n,r)===-o),a=o*(i-s);return a===0?0:a}function a9(e,t){return Ge(2,arguments),Ze(e).getTime()-Ze(t).getTime()}var pZ={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},ukt="trunc";function IT(e){return e?pZ[e]:pZ[ukt]}function dkt(e,t,n){Ge(2,arguments);var r=a9(e,t)/DT;return IT(n==null?void 0:n.roundingMethod)(r)}function fkt(e,t,n){Ge(2,arguments);var r=a9(e,t)/AT;return IT(n==null?void 0:n.roundingMethod)(r)}function Ek(e){Ge(1,arguments);var t=Ze(e);return t.setHours(23,59,59,999),t}function hkt(e){Ge(1,arguments);var t=Ze(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function pkt(e){Ge(1,arguments);var t=Ze(e);return Ek(t).getTime()===hkt(t).getTime()}function mkt(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t),o=pb(n,r),i=Math.abs(lkt(n,r)),s;if(i<1)s=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var a=pb(n,r)===-o;pkt(Ze(e))&&i===1&&pb(e,r)===1&&(a=!1),s=o*(i-Number(a))}return s===0?0:s}function gkt(e,t,n){Ge(2,arguments);var r=a9(e,t)/1e3;return IT(n==null?void 0:n.roundingMethod)(r)}function vkt(e,t,n){Ge(2,arguments);var r=TEe(e,t)/7;return IT(n==null?void 0:n.roundingMethod)(r)}function ykt(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t),o=pb(n,r),i=Math.abs(ckt(n,r));n.setFullYear(1584),r.setFullYear(1584);var s=pb(n,r)===-o,a=o*(i-Number(s));return a===0?0:a}function mZ(e){Ge(1,arguments);var t=Ze(e);return t.setSeconds(0,0),t}function AEe(e,t){Ge(1,arguments);var n=e||{},r=Ze(n.start),o=Ze(n.end),i=o.getTime();if(!(r.getTime()<=i))throw new RangeError("Invalid interval");var s=Xv(r,t),a=Xv(o,t);s.setHours(15),a.setHours(15),i=a.getTime();for(var c=[],u=s;u.getTime()<=i;)u.setHours(0),c.push(Ze(u)),u=skt(u,1),u.setHours(15);return c}function DEe(e){Ge(1,arguments);var t=Ze(e);return t.setDate(1),t.setHours(0,0,0,0),t}function gZ(e){Ge(1,arguments);var t=Ze(e);return t.setSeconds(59,999),t}function bkt(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function xkt(e){Ge(1,arguments);var t=Ze(e),n=t.getFullYear(),r=t.getMonth(),o=new Date(0);return o.setFullYear(n,r+1,0),o.setHours(0,0,0,0),o.getDate()}function wkt(e){Ge(1,arguments);var t=Ze(e),n=t.getMinutes();return n}function Ckt(e,t){var n,r,o,i,s,a,c,u;Ge(1,arguments);var d=Ze(e),f=d.getFullYear(),p=cd(),m=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:p.firstWeekContainsDate)!==null&&r!==void 0?r:(c=p.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(f+1,0,m),v.setHours(0,0,0,0);var g=Xv(v,t),b=new Date(0);b.setFullYear(f,0,m),b.setHours(0,0,0,0);var x=Xv(b,t);return d.getTime()>=g.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function _kt(e,t){var n,r,o,i,s,a,c,u;Ge(1,arguments);var d=cd(),f=At((n=(r=(o=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(a=s.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&o!==void 0?o:d.firstWeekContainsDate)!==null&&r!==void 0?r:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),p=Ckt(e,t),m=new Date(0);m.setFullYear(p,0,f),m.setHours(0,0,0,0);var v=Xv(m,t);return v}var Skt=6048e5;function IEe(e,t){Ge(1,arguments);var n=Ze(e),r=Xv(n,t).getTime()-_kt(n,t).getTime();return Math.round(r/Skt)+1}function OEe(e){Ge(1,arguments);var t=Ze(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function W$(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t);return n.getTime()>r.getTime()}function PEe(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t);return n.getTime()<r.getTime()}function vZ(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ekt(e,t){if(e){if(typeof e=="string")return vZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vZ(e,t)}}function yZ(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ekt(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}function Ve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function un(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tk(e,t)}function kk(e){return kk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kk(e)}function kkt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function jkt(e,t){if(t&&(Il(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ve(e)}function dn(e){var t=kkt();return function(){var r=kk(e),o;if(t){var i=kk(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return jkt(this,o)}}function Xt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bZ(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n2e(r.key),r)}}function Qt(e,t,n){return t&&bZ(e.prototype,t),n&&bZ(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Tkt=10,REe=function(){function e(){Xt(this,e),Le(this,"priority",void 0),Le(this,"subPriority",0)}return Qt(e,[{key:"validate",value:function(n,r){return!0}}]),e}(),Akt=function(e){un(n,e);var t=dn(n);function n(r,o,i,s,a){var c;return Xt(this,n),c=t.call(this),c.value=r,c.validateValue=o,c.setValue=i,c.priority=s,a&&(c.subPriority=a),c}return Qt(n,[{key:"validate",value:function(o,i){return this.validateValue(o,this.value,i)}},{key:"set",value:function(o,i,s){return this.setValue(o,i,this.value,s)}}]),n}(REe),Dkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",Tkt),Le(Ve(r),"subPriority",-1),r}return Qt(n,[{key:"set",value:function(o,i){if(i.timestampIsSet)return o;var s=new Date(0);return s.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),s.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),s}}]),n}(REe),yn=function(){function e(){Xt(this,e),Le(this,"incompatibleTokens",void 0),Le(this,"priority",void 0),Le(this,"subPriority",void 0)}return Qt(e,[{key:"run",value:function(n,r,o,i){var s=this.parse(n,r,o,i);return s?{setter:new Akt(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}},{key:"validate",value:function(n,r,o){return!0}}]),e}(),Ikt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",140),Le(Ve(r),"incompatibleTokens",["R","u","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"G":case"GG":case"GGG":return s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"});case"GGGGG":return s.era(o,{width:"narrow"});case"GGGG":default:return s.era(o,{width:"wide"})||s.era(o,{width:"abbreviated"})||s.era(o,{width:"narrow"})}}},{key:"set",value:function(o,i,s){return i.era=s,o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Qr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},uc={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Jr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Rr(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function dc(e,t){var n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};var r=n[1]==="+"?1:-1,o=n[2]?parseInt(n[2],10):0,i=n[3]?parseInt(n[3],10):0,s=n[5]?parseInt(n[5],10):0;return{value:r*(o*DT+i*AT+s*akt),rest:t.slice(n[0].length)}}function $Ee(e){return Rr(Qr.anyDigitsSigned,e)}function qr(e,t){switch(e){case 1:return Rr(Qr.singleDigit,t);case 2:return Rr(Qr.twoDigits,t);case 3:return Rr(Qr.threeDigits,t);case 4:return Rr(Qr.fourDigits,t);default:return Rr(new RegExp("^\\d{1,"+e+"}"),t)}}function jk(e,t){switch(e){case 1:return Rr(Qr.singleDigitSigned,t);case 2:return Rr(Qr.twoDigitsSigned,t);case 3:return Rr(Qr.threeDigitsSigned,t);case 4:return Rr(Qr.fourDigitsSigned,t);default:return Rr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function l9(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function MEe(e,t){var n=t>0,r=n?t:1-t,o;if(r<=50)o=e||100;else{var i=r+50,s=Math.floor(i/100)*100,a=e>=i%100;o=e+s-(a?100:0)}return n?o:1-o}function FEe(e){return e%400===0||e%4===0&&e%100!==0}var Okt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",130),Le(Ve(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="yy"}};switch(i){case"y":return Jr(qr(4,o),a);case"yo":return Jr(s.ordinalNumber(o,{unit:"year"}),a);default:return Jr(qr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s){var a=o.getUTCFullYear();if(s.isTwoDigitYear){var c=MEe(s.year,a);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Pkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",130),Le(Ve(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return{year:u,isTwoDigitYear:i==="YY"}};switch(i){case"Y":return Jr(qr(4,o),a);case"Yo":return Jr(s.ordinalNumber(o,{unit:"year"}),a);default:return Jr(qr(i.length,o),a)}}},{key:"validate",value:function(o,i){return i.isTwoDigitYear||i.year>0}},{key:"set",value:function(o,i,s,a){var c=i9(o,a);if(s.isTwoDigitYear){var u=MEe(s.year,c);return o.setUTCFullYear(u,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Yp(o,a)}var d=!("era"in i)||i.era===1?s.year:1-s.year;return o.setUTCFullYear(d,0,a.firstWeekContainsDate),o.setUTCHours(0,0,0,0),Yp(o,a)}}]),n}(yn),Rkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",130),Le(Ve(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i){return jk(i==="R"?4:i.length,o)}},{key:"set",value:function(o,i,s){var a=new Date(0);return a.setUTCFullYear(s,0,4),a.setUTCHours(0,0,0,0),Zv(a)}}]),n}(yn),$kt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",130),Le(Ve(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i){return jk(i==="u"?4:i.length,o)}},{key:"set",value:function(o,i,s){return o.setUTCFullYear(s,0,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Mkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",120),Le(Ve(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"Q":case"QQ":return qr(i.length,o);case"Qo":return s.ordinalNumber(o,{unit:"quarter"});case"QQQ":return s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(o,{width:"wide",context:"formatting"})||s.quarter(o,{width:"abbreviated",context:"formatting"})||s.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Fkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",120),Le(Ve(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"q":case"qq":return qr(i.length,o);case"qo":return s.ordinalNumber(o,{unit:"quarter"});case"qqq":return s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(o,{width:"wide",context:"standalone"})||s.quarter(o,{width:"abbreviated",context:"standalone"})||s.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=1&&i<=4}},{key:"set",value:function(o,i,s){return o.setUTCMonth((s-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Lkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Le(Ve(r),"priority",110),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"M":return Jr(Rr(Qr.month,o),a);case"MM":return Jr(qr(2,o),a);case"Mo":return Jr(s.ordinalNumber(o,{unit:"month"}),a);case"MMM":return s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(o,{width:"wide",context:"formatting"})||s.month(o,{width:"abbreviated",context:"formatting"})||s.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Bkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",110),Le(Ve(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u-1};switch(i){case"L":return Jr(Rr(Qr.month,o),a);case"LL":return Jr(qr(2,o),a);case"Lo":return Jr(s.ordinalNumber(o,{unit:"month"}),a);case"LLL":return s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(o,{width:"wide",context:"standalone"})||s.month(o,{width:"abbreviated",context:"standalone"})||s.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){return o.setUTCMonth(s,1),o.setUTCHours(0,0,0,0),o}}]),n}(yn);function Nkt(e,t,n){Ge(2,arguments);var r=Ze(e),o=At(t),i=CEe(r,n)-o;return r.setUTCDate(r.getUTCDate()-i*7),r}var zkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",100),Le(Ve(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"w":return Rr(Qr.week,o);case"wo":return s.ordinalNumber(o,{unit:"week"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s,a){return Yp(Nkt(o,s,a),a)}}]),n}(yn);function Vkt(e,t){Ge(2,arguments);var n=Ze(e),r=At(t),o=wEe(n)-r;return n.setUTCDate(n.getUTCDate()-o*7),n}var Hkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",100),Le(Ve(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"I":return Rr(Qr.week,o);case"Io":return s.ordinalNumber(o,{unit:"week"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=53}},{key:"set",value:function(o,i,s){return Zv(Vkt(o,s))}}]),n}(yn),Ukt=[31,28,31,30,31,30,31,31,30,31,30,31],Wkt=[31,29,31,30,31,30,31,31,30,31,30,31],qkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",90),Le(Ve(r),"subPriority",1),Le(Ve(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"d":return Rr(Qr.date,o);case"do":return s.ordinalNumber(o,{unit:"date"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=FEe(s),c=o.getUTCMonth();return a?i>=1&&i<=Wkt[c]:i>=1&&i<=Ukt[c]}},{key:"set",value:function(o,i,s){return o.setUTCDate(s),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Ykt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",90),Le(Ve(r),"subpriority",1),Le(Ve(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"D":case"DD":return Rr(Qr.dayOfYear,o);case"Do":return s.ordinalNumber(o,{unit:"date"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){var s=o.getUTCFullYear(),a=FEe(s);return a?i>=1&&i<=366:i>=1&&i<=365}},{key:"set",value:function(o,i,s){return o.setUTCMonth(0,s),o.setUTCHours(0,0,0,0),o}}]),n}(yn);function c9(e,t,n){var r,o,i,s,a,c,u,d;Ge(2,arguments);var f=cd(),p=At((r=(o=(i=(s=n==null?void 0:n.weekStartsOn)!==null&&s!==void 0?s:n==null||(a=n.locale)===null||a===void 0||(c=a.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&i!==void 0?i:f.weekStartsOn)!==null&&o!==void 0?o:(u=f.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&r!==void 0?r:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ze(e),v=At(t),g=m.getUTCDay(),b=v%7,x=(b+7)%7,y=(x<p?7:0)+v-g;return m.setUTCDate(m.getUTCDate()+y),m}var Gkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",90),Le(Ve(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"E":case"EE":case"EEE":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=c9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Kkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",90),Le(Ve(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"e":case"ee":return Jr(qr(i.length,o),c);case"eo":return Jr(s.ordinalNumber(o,{unit:"day"}),c);case"eee":return s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeeee":return s.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=c9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Zkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",90),Le(Ve(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s,a){var c=function(d){var f=Math.floor((d-1)/7)*7;return(d+a.weekStartsOn+6)%7+f};switch(i){case"c":case"cc":return Jr(qr(i.length,o),c);case"co":return Jr(s.ordinalNumber(o,{unit:"day"}),c);case"ccc":return s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"ccccc":return s.day(o,{width:"narrow",context:"standalone"});case"cccccc":return s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(o,{width:"wide",context:"standalone"})||s.day(o,{width:"abbreviated",context:"standalone"})||s.day(o,{width:"short",context:"standalone"})||s.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,i){return i>=0&&i<=6}},{key:"set",value:function(o,i,s,a){return o=c9(o,s,a),o.setUTCHours(0,0,0,0),o}}]),n}(yn);function Xkt(e,t){Ge(2,arguments);var n=At(t);n%7===0&&(n=n-7);var r=1,o=Ze(e),i=o.getUTCDay(),s=n%7,a=(s+7)%7,c=(a<r?7:0)+n-i;return o.setUTCDate(o.getUTCDate()+c),o}var Qkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",90),Le(Ve(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){var a=function(u){return u===0?7:u};switch(i){case"i":case"ii":return qr(i.length,o);case"io":return s.ordinalNumber(o,{unit:"day"});case"iii":return Jr(s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiii":return Jr(s.day(o,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Jr(s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Jr(s.day(o,{width:"wide",context:"formatting"})||s.day(o,{width:"abbreviated",context:"formatting"})||s.day(o,{width:"short",context:"formatting"})||s.day(o,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(o,i){return i>=1&&i<=7}},{key:"set",value:function(o,i,s){return o=Xkt(o,s),o.setUTCHours(0,0,0,0),o}}]),n}(yn),Jkt=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",80),Le(Ve(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"a":case"aa":case"aaa":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(l9(s),0,0,0),o}}]),n}(yn),e5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",80),Le(Ve(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"b":case"bb":case"bbb":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(l9(s),0,0,0),o}}]),n}(yn),t5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",80),Le(Ve(r),"incompatibleTokens",["a","b","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"B":case"BB":case"BBB":return s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(o,{width:"wide",context:"formatting"})||s.dayPeriod(o,{width:"abbreviated",context:"formatting"})||s.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,i,s){return o.setUTCHours(l9(s),0,0,0),o}}]),n}(yn),n5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",70),Le(Ve(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"h":return Rr(Qr.hour12h,o);case"ho":return s.ordinalNumber(o,{unit:"hour"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=12}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):!a&&s===12?o.setUTCHours(0,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(yn),r5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",70),Le(Ve(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"H":return Rr(Qr.hour23h,o);case"Ho":return s.ordinalNumber(o,{unit:"hour"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=23}},{key:"set",value:function(o,i,s){return o.setUTCHours(s,0,0,0),o}}]),n}(yn),o5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",70),Le(Ve(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"K":return Rr(Qr.hour11h,o);case"Ko":return s.ordinalNumber(o,{unit:"hour"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=11}},{key:"set",value:function(o,i,s){var a=o.getUTCHours()>=12;return a&&s<12?o.setUTCHours(s+12,0,0,0):o.setUTCHours(s,0,0,0),o}}]),n}(yn),i5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",70),Le(Ve(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"k":return Rr(Qr.hour24h,o);case"ko":return s.ordinalNumber(o,{unit:"hour"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=1&&i<=24}},{key:"set",value:function(o,i,s){var a=s<=24?s%24:s;return o.setUTCHours(a,0,0,0),o}}]),n}(yn),s5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",60),Le(Ve(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"m":return Rr(Qr.minute,o);case"mo":return s.ordinalNumber(o,{unit:"minute"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCMinutes(s,0,0),o}}]),n}(yn),a5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",50),Le(Ve(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i,s){switch(i){case"s":return Rr(Qr.second,o);case"so":return s.ordinalNumber(o,{unit:"second"});default:return qr(i.length,o)}}},{key:"validate",value:function(o,i){return i>=0&&i<=59}},{key:"set",value:function(o,i,s){return o.setUTCSeconds(s,0),o}}]),n}(yn),l5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",30),Le(Ve(r),"incompatibleTokens",["t","T"]),r}return Qt(n,[{key:"parse",value:function(o,i){var s=function(c){return Math.floor(c*Math.pow(10,-i.length+3))};return Jr(qr(i.length,o),s)}},{key:"set",value:function(o,i,s){return o.setUTCMilliseconds(s),o}}]),n}(yn),c5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",10),Le(Ve(r),"incompatibleTokens",["t","T","x"]),r}return Qt(n,[{key:"parse",value:function(o,i){switch(i){case"X":return dc(uc.basicOptionalMinutes,o);case"XX":return dc(uc.basic,o);case"XXXX":return dc(uc.basicOptionalSeconds,o);case"XXXXX":return dc(uc.extendedOptionalSeconds,o);case"XXX":default:return dc(uc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(yn),u5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",10),Le(Ve(r),"incompatibleTokens",["t","T","X"]),r}return Qt(n,[{key:"parse",value:function(o,i){switch(i){case"x":return dc(uc.basicOptionalMinutes,o);case"xx":return dc(uc.basic,o);case"xxxx":return dc(uc.basicOptionalSeconds,o);case"xxxxx":return dc(uc.extendedOptionalSeconds,o);case"xxx":default:return dc(uc.extended,o)}}},{key:"set",value:function(o,i,s){return i.timestampIsSet?o:new Date(o.getTime()-s)}}]),n}(yn),d5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",40),Le(Ve(r),"incompatibleTokens","*"),r}return Qt(n,[{key:"parse",value:function(o){return $Ee(o)}},{key:"set",value:function(o,i,s){return[new Date(s*1e3),{timestampIsSet:!0}]}}]),n}(yn),f5t=function(e){un(n,e);var t=dn(n);function n(){var r;Xt(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),Le(Ve(r),"priority",20),Le(Ve(r),"incompatibleTokens","*"),r}return Qt(n,[{key:"parse",value:function(o){return $Ee(o)}},{key:"set",value:function(o,i,s){return[new Date(s),{timestampIsSet:!0}]}}]),n}(yn),h5t={G:new Ikt,y:new Okt,Y:new Pkt,R:new Rkt,u:new $kt,Q:new Mkt,q:new Fkt,M:new Lkt,L:new Bkt,w:new zkt,I:new Hkt,d:new qkt,D:new Ykt,E:new Gkt,e:new Kkt,c:new Zkt,i:new Qkt,a:new Jkt,b:new e5t,B:new t5t,h:new n5t,H:new r5t,K:new o5t,k:new i5t,m:new s5t,s:new a5t,S:new l5t,X:new c5t,x:new u5t,t:new d5t,T:new f5t},p5t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m5t=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g5t=/^'([^]*?)'?$/,v5t=/''/g,y5t=/\S/,b5t=/[a-zA-Z]/;function x5t(e,t,n,r){var o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,C,_;Ge(3,arguments);var S=String(e),E=String(t),j=cd(),k=(o=(i=r==null?void 0:r.locale)!==null&&i!==void 0?i:j.locale)!==null&&o!==void 0?o:kEe;if(!k.match)throw new RangeError("locale must contain match property");var T=At((s=(a=(c=(u=r==null?void 0:r.firstWeekContainsDate)!==null&&u!==void 0?u:r==null||(d=r.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&c!==void 0?c:j.firstWeekContainsDate)!==null&&a!==void 0?a:(p=j.locale)===null||p===void 0||(m=p.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(T>=1&&T<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var A=At((v=(g=(b=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(w=y.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&b!==void 0?b:j.weekStartsOn)!==null&&g!==void 0?g:(C=j.locale)===null||C===void 0||(_=C.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&v!==void 0?v:0);if(!(A>=0&&A<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(E==="")return S===""?Ze(n):new Date(NaN);var D={firstWeekContainsDate:T,weekStartsOn:A,locale:k},I=[new Dkt],O=E.match(m5t).map(function(ie){var ne=ie[0];if(ne in U$){var Y=U$[ne];return Y(ie,k.formatLong)}return ie}).join("").match(p5t),$=[],R=yZ(O),z;try{var B=function(){var ne=z.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&EEe(ne)&&Sk(ne,E,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&SEe(ne)&&Sk(ne,E,e);var Y=ne[0],X=h5t[Y];if(X){var ae=X.incompatibleTokens;if(Array.isArray(ae)){var he=$.find(function(xe){return ae.includes(xe.token)||xe.token===Y});if(he)throw new RangeError("The format string mustn't contain `".concat(he.fullToken,"` and `").concat(ne,"` at the same time"))}else if(X.incompatibleTokens==="*"&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(ne,"` and any other token at the same time"));$.push({token:Y,fullToken:ne});var ce=X.run(S,ne,k.match,D);if(!ce)return{v:new Date(NaN)};I.push(ce.setter),S=ce.rest}else{if(Y.match(b5t))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");if(ne==="''"?ne="'":Y==="'"&&(ne=w5t(ne)),S.indexOf(ne)===0)S=S.slice(ne.length);else return{v:new Date(NaN)}}};for(R.s();!(z=R.n()).done;){var U=B();if(Il(U)==="object")return U.v}}catch(ie){R.e(ie)}finally{R.f()}if(S.length>0&&y5t.test(S))return new Date(NaN);var W=I.map(function(ie){return ie.priority}).sort(function(ie,ne){return ne-ie}).filter(function(ie,ne,Y){return Y.indexOf(ie)===ne}).map(function(ie){return I.filter(function(ne){return ne.priority===ie}).sort(function(ne,Y){return Y.subPriority-ne.subPriority})}).map(function(ie){return ie[0]}),V=Ze(n);if(isNaN(V.getTime()))return new Date(NaN);var K=bEe(V,_k(V)),te={},N=yZ(W),G;try{for(N.s();!(G=N.n()).done;){var q=G.value;if(!q.validate(K,D))return new Date(NaN);var Z=q.set(K,te,D);Array.isArray(Z)?(K=Z[0],bkt(te,Z[1])):K=Z}}catch(ie){N.e(ie)}finally{N.f()}return K}function w5t(e){return e.match(g5t)[1].replace(v5t,"'")}function LEe(e,t){Ge(2,arguments);var n=Ze(e),r=Ze(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function C5t(e,t){Ge(2,arguments);var n=At(t);return Yi(e,-n)}function _5t(e,t){var n;Ge(1,arguments);var r=At((n=t==null?void 0:t.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var o=j5t(e),i;if(o.date){var s=T5t(o.date,r);i=A5t(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var a=i.getTime(),c=0,u;if(o.time&&(c=D5t(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=I5t(o.timezone),isNaN(u))return new Date(NaN)}else{var d=new Date(a+c),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(a+c+u)}var b_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},S5t=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,E5t=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,k5t=/^([+-])(\d{2})(?::?(\d{2}))?$/;function j5t(e){var t={},n=e.split(b_.dateTimeDelimiter),r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],b_.timeZoneDelimiter.test(t.date)&&(t.date=e.split(b_.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){var o=b_.timezone.exec(r);o?(t.time=r.replace(o[1],""),t.timezone=o[1]):t.time=r}return t}function T5t(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?o:i*100,restDateString:e.slice((r[1]||r[2]).length)}}function A5t(e,t){if(t===null)return new Date(NaN);var n=e.match(S5t);if(!n)return new Date(NaN);var r=!!n[4],o=H1(n[1]),i=H1(n[2])-1,s=H1(n[3]),a=H1(n[4]),c=H1(n[5])-1;if(r)return M5t(t,a,c)?O5t(t,a,c):new Date(NaN);var u=new Date(0);return!R5t(t,i,s)||!$5t(t,o)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(o,s)),u)}function H1(e){return e?parseInt(e):1}function D5t(e){var t=e.match(E5t);if(!t)return NaN;var n=j3(t[1]),r=j3(t[2]),o=j3(t[3]);return F5t(n,r,o)?n*DT+r*AT+o*1e3:NaN}function j3(e){return e&&parseFloat(e.replace(",","."))||0}function I5t(e){if(e==="Z")return 0;var t=e.match(k5t);if(!t)return 0;var n=t[1]==="+"?-1:1,r=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;return L5t(r,o)?n*(r*DT+o*AT):NaN}function O5t(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,i=(t-1)*7+n+1-o;return r.setUTCDate(r.getUTCDate()+i),r}var P5t=[31,null,31,30,31,30,31,31,30,31,30,31];function BEe(e){return e%400===0||e%4===0&&e%100!==0}function R5t(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(P5t[t]||(BEe(e)?29:28))}function $5t(e,t){return t>=1&&t<=(BEe(e)?366:365)}function M5t(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function F5t(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function L5t(e,t){return t>=0&&t<=59}function NEe(e,t){Ge(2,arguments);var n=Ze(e),r=At(t),o=n.getFullYear(),i=n.getDate(),s=new Date(0);s.setFullYear(o,r,15),s.setHours(0,0,0,0);var a=xkt(s);return n.setMonth(r,Math.min(i,a)),n}function B5t(e,t){if(Ge(2,arguments),Il(t)!=="object"||t===null)throw new RangeError("values parameter must be an object");var n=Ze(e);return isNaN(n.getTime())?new Date(NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=NEe(n,t.month)),t.date!=null&&n.setDate(At(t.date)),t.hours!=null&&n.setHours(At(t.hours)),t.minutes!=null&&n.setMinutes(At(t.minutes)),t.seconds!=null&&n.setSeconds(At(t.seconds)),t.milliseconds!=null&&n.setMilliseconds(At(t.milliseconds)),n)}function N5t(e,t){Ge(2,arguments);var n=Ze(e),r=At(t);return n.setDate(r),n}function T3(e,t){Ge(2,arguments);var n=Ze(e),r=At(t);return n.setHours(r),n}function pS(e,t){Ge(2,arguments);var n=Ze(e),r=At(t);return n.setMinutes(r),n}function z5t(e,t){Ge(2,arguments);var n=Ze(e),r=At(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function xZ(){return Bf(Date.now())}function V5t(e,t){Ge(2,arguments);var n=At(t);return s9(e,-n)}function wZ(e,t){if(Ge(2,arguments),!t||Il(t)!=="object")return new Date(NaN);var n=t.years?At(t.years):0,r=t.months?At(t.months):0,o=t.weeks?At(t.weeks):0,i=t.days?At(t.days):0,s=t.hours?At(t.hours):0,a=t.minutes?At(t.minutes):0,c=t.seconds?At(t.seconds):0,u=V5t(e,r+n*12),d=C5t(u,i+o*7),f=a+s*60,p=c+f*60,m=p*1e3,v=new Date(d.getTime()-m);return v}const u9=[],d9=[],zEe=new Set,Nw=new Map,zw=new Map,VEe=e=>typeof e=="string"?new RegExp("^".concat(e,"$"),"i"):e,Tk=(e,t)=>typeof t!="string"?e:e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase(),HEe=(e,t,n)=>{if(!e.length||zEe.has(e))return t;let{length:r}=n;for(;r--;){const o=n[r];if(o[0].test(t))return t.replace(o[0],function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];const[c,u]=s,d=o[1].replace(/\$(\d{1,2})/g,(f,p)=>s[p]||"");return Tk(c===""?t[u-1]:c,d)})}return t},UEe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?Tk(e,o):t.has(o)?Tk(e,t.get(o)):HEe(o,e,r)},WEe=(e,t,n,r)=>{const o=e.toLowerCase();return n.has(o)?!0:t.has(o)?!1:HEe(o,o,r)===o},Hr=(e,t,n)=>{const r=t===1?Hr.singular(e):Hr.plural(e);return n?"".concat(t," ").concat(r):r};Hr.plural=e=>UEe(e,zw,Nw,u9);Hr.singular=e=>UEe(e,Nw,zw,d9);Hr.addPluralRule=(e,t)=>{u9.push([VEe(e),t])};Hr.addSingularRule=(e,t)=>{d9.push([VEe(e),t])};Hr.addIrregularRule=(e,t)=>{const n=t.toLowerCase(),r=e.toLowerCase();zw.set(r,n),Nw.set(n,r)};Hr.addUncountableRule=e=>{if(typeof e=="string"){zEe.add(e.toLowerCase());return}Hr.addPluralRule(e,"$0"),Hr.addSingularRule(e,"$0")};Hr.isPlural=e=>WEe(e,zw,Nw,u9);Hr.isSingular=e=>WEe(e,Nw,zw,d9);const H5t=[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]],U5t=[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]],W5t=[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]],q5t=["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i];for(const[e,t]of H5t)Hr.addIrregularRule(e,t);for(const[e,t]of U5t)Hr.addPluralRule(e,t);for(const[e,t]of W5t)Hr.addSingularRule(e,t);for(const e of q5t)Hr.addUncountableRule(e);var qEe={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ws,function(){function n(){return n=Object.assign||function(A){for(var D=1;D<arguments.length;D++){var I=arguments[D];for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(A[O]=I[O])}return A},n.apply(this,arguments)}function r(A,D){if(A){if(typeof A=="string")return o(A,D);var I=Object.prototype.toString.call(A).slice(8,-1);if(I==="Object"&&A.constructor&&(I=A.constructor.name),I==="Map"||I==="Set")return Array.from(A);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return o(A,D)}}function o(A,D){(D==null||D>A.length)&&(D=A.length);for(var I=0,O=new Array(D);I<D;I++)O[I]=A[I];return O}function i(A,D){var I=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(I)return(I=I.call(A)).next.bind(I);if(Array.isArray(A)||(I=r(A))||D&&A&&typeof A.length=="number"){I&&(A=I);var O=0;return function(){return O>=A.length?{done:!0}:{done:!1,value:A[O++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function a(A){var D=A.split("-"),I=D[1],O=D[2],$=D[3];if(!I||!O||!$)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');var R=O.split("x"),z=R[0],B=R[1],U=+z,W=+B,V=isFinite(U)&&isFinite(W);if(!V)throw new Error("Malformed asset _ref '"+A+`'. Expected an id like "`+s+'".');return{id:I,width:U,height:W,format:$}}var c=function(D){var I=D;return I?typeof I._ref=="string":!1},u=function(D){var I=D;return I?typeof I._id=="string":!1},d=function(D){var I=D;return I&&I.asset?typeof I.asset.url=="string":!1};function f(A){if(!A)return null;var D;if(typeof A=="string"&&p(A))D={asset:{_ref:m(A)}};else if(typeof A=="string")D={asset:{_ref:A}};else if(c(A))D={asset:A};else if(u(A))D={asset:{_ref:A._id||""}};else if(d(A))D={asset:{_ref:m(A.asset.url)}};else if(typeof A.asset=="object")D=n({},A);else return null;var I=A;return I.crop&&(D.crop=I.crop),I.hotspot&&(D.hotspot=I.hotspot),v(D)}function p(A){return/^https?:\/\//.test(""+A)}function m(A){var D=A.split("/").slice(-1);return("image-"+D[0]).replace(/\.([a-z]+)$/,"-$1")}function v(A){if(A.crop&&A.hotspot)return A;var D=n({},A);return D.crop||(D.crop={left:0,top:0,bottom:0,right:0}),D.hotspot||(D.hotspot={x:.5,y:.5,height:1,width:1}),D}var g=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function b(A){var D=n({},A||{}),I=D.source;delete D.source;var O=f(I);if(!O)throw new Error("Unable to resolve image URL from source ("+JSON.stringify(I)+")");var $=O.asset._ref||O.asset._id||"",R=a($),z=Math.round(O.crop.left*R.width),B=Math.round(O.crop.top*R.height),U={left:z,top:B,width:Math.round(R.width-O.crop.right*R.width-z),height:Math.round(R.height-O.crop.bottom*R.height-B)},W=O.hotspot.height*R.height/2,V=O.hotspot.width*R.width/2,K=O.hotspot.x*R.width,te=O.hotspot.y*R.height,N={left:K-V,top:te-W,right:K+V,bottom:te+W};return D.rect||D.focalPoint||D.ignoreImageParams||D.crop||(D=n({},D,y({crop:U,hotspot:N},D))),x(n({},D,{asset:R}))}function x(A){var D=(A.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),I=A.asset.id+"-"+A.asset.width+"x"+A.asset.height+"."+A.asset.format,O=D+"/images/"+A.projectId+"/"+A.dataset+"/"+I,$=[];if(A.rect){var R=A.rect,z=R.left,B=R.top,U=R.width,W=R.height,V=z!==0||B!==0||W!==A.asset.height||U!==A.asset.width;V&&$.push("rect="+z+","+B+","+U+","+W)}A.bg&&$.push("bg="+A.bg),A.focalPoint&&($.push("fp-x="+A.focalPoint.x),$.push("fp-y="+A.focalPoint.y));var K=[A.flipHorizontal&&"h",A.flipVertical&&"v"].filter(Boolean).join("");return K&&$.push("flip="+K),g.forEach(function(te){var N=te[0],G=te[1];typeof A[N]<"u"?$.push(G+"="+encodeURIComponent(A[N])):typeof A[G]<"u"&&$.push(G+"="+encodeURIComponent(A[G]))}),$.length===0?O:O+"?"+$.join("&")}function y(A,D){var I,O=D.width,$=D.height;if(!(O&&$))return{width:O,height:$,rect:A.crop};var R=A.crop,z=A.hotspot,B=O/$,U=R.width/R.height;if(U>B){var W=Math.round(R.height),V=Math.round(W*B),K=Math.max(0,Math.round(R.top)),te=Math.round((z.right-z.left)/2+z.left),N=Math.max(0,Math.round(te-V/2));N<R.left?N=R.left:N+V>R.left+R.width&&(N=R.left+R.width-V),I={left:N,top:K,width:V,height:W}}else{var G=R.width,q=Math.round(G/B),Z=Math.max(0,Math.round(R.left)),ie=Math.round((z.bottom-z.top)/2+z.top),ne=Math.max(0,Math.round(ie-q/2));ne<R.top?ne=R.top:ne+q>R.top+R.height&&(ne=R.top+R.height-q),I={left:Z,top:ne,width:G,height:q}}return{width:O,height:$,rect:I}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],_=["format"];function S(A){return A&&"config"in A?typeof A.config=="function":!1}function E(A){return A&&"clientConfig"in A?typeof A.clientConfig=="object":!1}function j(A){for(var D=g,I=i(D),O;!(O=I()).done;){var $=O.value,R=$[0],z=$[1];if(A===R||A===z)return R}return A}function k(A){if(S(A)){var D=A.config(),I=D.apiHost,O=D.projectId,$=D.dataset,R=I||"https://api.sanity.io";return new T(null,{baseUrl:R.replace(/^https:\/\/api\./,"https://cdn."),projectId:O,dataset:$})}var z=A;if(E(z)){var B=z.clientConfig,U=B.apiHost,W=B.projectId,V=B.dataset,K=U||"https://api.sanity.io";return new T(null,{baseUrl:K.replace(/^https:\/\/api\./,"https://cdn."),projectId:W,dataset:V})}return new T(null,A)}var T=function(){function A(I,O){this.options=void 0,this.options=I?n({},I.options||{},O||{}):n({},O||{})}var D=A.prototype;return D.withOptions=function(O){var $=O.baseUrl||this.options.baseUrl,R={baseUrl:$};for(var z in O)if(O.hasOwnProperty(z)){var B=j(z);R[B]=O[z]}return new A(this,n({baseUrl:$},R))},D.image=function(O){return this.withOptions({source:O})},D.dataset=function(O){return this.withOptions({dataset:O})},D.projectId=function(O){return this.withOptions({projectId:O})},D.bg=function(O){return this.withOptions({bg:O})},D.dpr=function(O){return this.withOptions(O&&O!==1?{dpr:O}:{})},D.width=function(O){return this.withOptions({width:O})},D.height=function(O){return this.withOptions({height:O})},D.focalPoint=function(O,$){return this.withOptions({focalPoint:{x:O,y:$}})},D.maxWidth=function(O){return this.withOptions({maxWidth:O})},D.minWidth=function(O){return this.withOptions({minWidth:O})},D.maxHeight=function(O){return this.withOptions({maxHeight:O})},D.minHeight=function(O){return this.withOptions({minHeight:O})},D.size=function(O,$){return this.withOptions({width:O,height:$})},D.blur=function(O){return this.withOptions({blur:O})},D.sharpen=function(O){return this.withOptions({sharpen:O})},D.rect=function(O,$,R,z){return this.withOptions({rect:{left:O,top:$,width:R,height:z}})},D.format=function(O){return this.withOptions({format:O})},D.invert=function(O){return this.withOptions({invert:O})},D.orientation=function(O){return this.withOptions({orientation:O})},D.quality=function(O){return this.withOptions({quality:O})},D.forceDownload=function(O){return this.withOptions({download:O})},D.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},D.flipVertical=function(){return this.withOptions({flipVertical:!0})},D.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},D.fit=function(O){if(w.indexOf(O)===-1)throw new Error('Invalid fit mode "'+O+'"');return this.withOptions({fit:O})},D.crop=function(O){if(C.indexOf(O)===-1)throw new Error('Invalid crop mode "'+O+'"');return this.withOptions({crop:O})},D.saturation=function(O){return this.withOptions({saturation:O})},D.auto=function(O){if(_.indexOf(O)===-1)throw new Error('Invalid auto mode "'+O+'"');return this.withOptions({auto:O})},D.pad=function(O){return this.withOptions({pad:O})},D.url=function(){return b(this.options)},D.toString=function(){return this.url()},A}();return k})})(qEe);var Y5t=qEe.exports;const OT=Ie(Y5t);function G5t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hx(e,t)}function q$(e){return q$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q$(e)}function hx(e,t){return hx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},hx(e,t)}function K5t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mS(e,t,n){return K5t()?mS=Reflect.construct.bind():mS=function(o,i,s){var a=[null];a.push.apply(a,i);var c=Function.bind.apply(o,a),u=new c;return s&&hx(u,s.prototype),u},mS.apply(null,arguments)}function Z5t(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Y$(e){var t=typeof Map=="function"?new Map:void 0;return Y$=function(r){if(r===null||!Z5t(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,o)}function o(){return mS(r,arguments,q$(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),hx(o,r)},Y$(e)}var x_=Object.freeze({left:0,top:0,bottom:0,right:0}),w_=Object.freeze({x:.5,y:.5,height:1,width:1}),X5t=function(t){var n=t.top,r=t.bottom,o=t.left,i=t.right,s=x_.top,a=x_.bottom,c=x_.left,u=x_.right;return n===s&&r===a&&o===c&&i===u},Q5t=function(t){var n=t.x,r=t.y,o=t.width,i=t.height,s=w_.x,a=w_.y,c=w_.width,u=w_.height;return n===s&&r===a&&o===c&&i===u},f9=function(e){G5t(t,e);function t(n,r){var o;return r===void 0&&(r="Failed to resolve asset ID from source"),o=e.call(this,r)||this,o.unresolvable=!0,o.input=n,o}return t}(Y$(Error));function J5t(e){var t=e;return!!(t.unresolvable&&"input"in t)}function ejt(e){return function(){try{return e.apply(void 0,arguments)}catch(t){if(J5t(t))return;throw t}}}var Nd="https://cdn.sanity.io",tjt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,njt=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,YEe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,GEe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function rjt(e){return Vw(e)&&typeof e._ref=="string"}function ojt(e){return Vw(e)&&typeof e._id=="string"}function ijt(e){return Vw(e)&&typeof e.path=="string"}function sjt(e){return Vw(e)&&typeof e.url=="string"}function ajt(e){var t=e;return Vw(t)&&t.asset&&typeof t.asset=="object"}function Vw(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function ljt(e){if(YEe.test(e))return e;if(!e.startsWith(Nd+"/"))throw new f9('Failed to resolve path from URL "'+e+'"');var t=e.indexOf("?"),n=t===-1?void 0:t;return e.slice(Nd.length+1,n)}var cjt="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function ujt(e){var t=e.split("-"),n=t[1],r=t[2],o=t[3],i=(r||"").split("x").map(Number),s=i[0],a=i[1];if(!n||!r||!o||!(s>0)||!(a>0))throw new Error("Malformed asset ID '"+e+`'. Expected an id like "`+cjt+'".');return{type:"image",assetId:n,width:s,height:a,extension:o}}function djt(e){var t=KEe(e),n=ujt(t),r=n.width,o=n.height,i=r/o;return{width:r,height:o,aspectRatio:i}}function KEe(e){var t=ajt(e)?e.asset:e,n="";typeof t=="string"?n=fjt(t):rjt(t)?n=t._ref:ojt(t)?n=t._id:ijt(t)?n=Vg(Nd+"/"+t.path):sjt(t)&&(n=Vg(t.url));var r=n&&GEe.test(n);if(!r)throw new f9(e);return n}var ZEe=ejt(KEe);function fjt(e){if(GEe.test(e))return e;if(e.indexOf(Nd+"/images")===0||e.indexOf(Nd+"/files")===0)return Vg(e);if(YEe.test(e))return Vg(Nd+"/"+e);if(pjt(e))return Vg(Nd+"/files/a/b/"+e);if(hjt(e))return Vg(Nd+"/images/a/b/"+e);throw new f9(e)}function Vg(e){var t=ljt(e),n=t.split("/"),r=n[0],o=n[3],i=r.replace(/s$/,"");return i+"-"+o.replace(/\./g,"-")}function hjt(e){return njt.test(e)}function pjt(e){return tjt.test(e)}function CZ(e){var t=ZEe(e);return t?t.startsWith("file-"):!1}function mb(e){var t=ZEe(e);return t?t.startsWith("image-"):!1}function mjt(e){for(var t=-1,n=e==null?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}var gjt=mjt;const PT=Ie(gjt);var vjt=yT,yjt=J8,bjt=yjt(function(e,t,n){vjt(e,n,t)}),xjt=bjt;const h9=Ie(xjt);var wjt=Mc;function Cjt(e){return wjt(e).toLowerCase()}var _jt=Cjt;const dv=Ie(_jt);var Sjt=F0,Ejt=B0,kjt=ET,jjt=vT,Tjt=Ejt(function(e){return kjt(Sjt(e,1,jjt,!0))}),Ajt=Tjt;const XEe=Ie(Ajt);function Djt(){}var p9=Djt,Ijt=W8,Ojt=p9;function Ak(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}Ak.prototype=Ijt(Ojt.prototype);Ak.prototype.constructor=Ak;var m9=Ak,_Z=a_e,Pjt=_Z&&new _Z,Rjt=Pjt,SZ=Rjt,$jt=Y8,Mjt=SZ?function(e){return SZ.get(e)}:$jt,QEe=Mjt,Fjt={},Ljt=Fjt,EZ=Ljt,Bjt=Object.prototype,Njt=Bjt.hasOwnProperty;function zjt(e){for(var t=e.name+"",n=EZ[t],r=Njt.call(EZ,t)?n.length:0;r--;){var o=n[r],i=o.func;if(i==null||i==e)return o.name}return t}var JEe=zjt,Vjt=W8,Hjt=p9,Ujt=4294967295;function Dk(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ujt,this.__views__=[]}Dk.prototype=Vjt(Hjt.prototype);Dk.prototype.constructor=Dk;var g9=Dk,Wjt=g9,qjt=m9,Yjt=V8;function Gjt(e){if(e instanceof Wjt)return e.clone();var t=new qjt(e.__wrapped__,e.__chain__);return t.__actions__=Yjt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Kjt=Gjt,Zjt=g9,kZ=m9,Xjt=p9,Qjt=to,Jjt=Xa,eTt=Kjt,tTt=Object.prototype,nTt=tTt.hasOwnProperty;function Ik(e){if(Jjt(e)&&!Qjt(e)&&!(e instanceof Zjt)){if(e instanceof kZ)return e;if(nTt.call(e,"__wrapped__"))return eTt(e)}return new kZ(e)}Ik.prototype=Xjt.prototype;Ik.prototype.constructor=Ik;var rTt=Ik,oTt=g9,iTt=QEe,sTt=JEe,aTt=rTt;function lTt(e){var t=sTt(e),n=aTt[t];if(typeof n!="function"||!(t in oTt.prototype))return!1;if(e===n)return!0;var r=iTt(n);return!!r&&e===r[0]}var cTt=lTt,jZ=m9,uTt=C8,dTt=QEe,A3=JEe,fTt=to,TZ=cTt,hTt="Expected a function",pTt=8,mTt=32,gTt=128,vTt=256;function yTt(e){return uTt(function(t){var n=t.length,r=n,o=jZ.prototype.thru;for(e&&t.reverse();r--;){var i=t[r];if(typeof i!="function")throw new TypeError(hTt);if(o&&!s&&A3(i)=="wrapper")var s=new jZ([],!0)}for(r=s?r:n;++r<n;){i=t[r];var a=A3(i),c=a=="wrapper"?dTt(i):void 0;c&&TZ(c[0])&&c[1]==(gTt|pTt|mTt|vTt)&&!c[4].length&&c[9]==1?s=s[A3(c[0])].apply(s,c[3]):s=i.length==1&&TZ(i)?s[a]():s.thru(i)}return function(){var u=arguments,d=u[0];if(s&&u.length==1&&fTt(d))return s.plant(d).value();for(var f=0,p=n?t[f].apply(this,u):d;++f<n;)p=t[f].call(this,p);return p}})}var bTt=yTt,xTt=bTt,wTt=xTt(),CTt=wTt;const _Tt=Ie(CTt);var STt=v8;function ETt(e,t){for(var n=e.length;n--&&STt(t,e[n],0)>-1;);return n}var kTt=ETt,jTt=v8;function TTt(e,t){for(var n=-1,r=e.length;++n<r&&jTt(t,e[n],0)>-1;);return n}var ATt=TTt,DTt=C_e,ITt=Uve,OTt=OSe,PTt=kTt,RTt=ATt,AZ=NSe,$Tt=Mc;function MTt(e,t,n){if(e=$Tt(e),e&&(n||t===void 0))return ITt(e);if(!e||!(t=DTt(t)))return e;var r=AZ(e),o=AZ(t),i=RTt(r,o),s=PTt(r,o)+1;return OTt(r,i,s).join("")}var FTt=MTt;const LTt=Ie(FTt);var C_,BTt=new Uint8Array(16);function NTt(){if(!C_&&(C_=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!C_))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return C_(BTt)}const zTt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function VTt(e){return typeof e=="string"&&zTt.test(e)}var Ko=[];for(var D3=0;D3<256;++D3)Ko.push((D3+256).toString(16).substr(1));function HTt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ko[e[t+0]]+Ko[e[t+1]]+Ko[e[t+2]]+Ko[e[t+3]]+"-"+Ko[e[t+4]]+Ko[e[t+5]]+"-"+Ko[e[t+6]]+Ko[e[t+7]]+"-"+Ko[e[t+8]]+Ko[e[t+9]]+"-"+Ko[e[t+10]]+Ko[e[t+11]]+Ko[e[t+12]]+Ko[e[t+13]]+Ko[e[t+14]]+Ko[e[t+15]]).toLowerCase();if(!VTt(n))throw TypeError("Stringified UUID is invalid");return n}function ud(e,t,n){e=e||{};var r=e.random||(e.rng||NTt)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return HTt(r)}var UTt=D_e,DZ=to;function WTt(e,t,n,r){return e==null?[]:(DZ(t)||(t=t==null?[]:[t]),n=r?void 0:n,DZ(n)||(n=n==null?[]:[n]),UTt(e,t,n))}var qTt=WTt;const V0=Ie(qTt);function YTt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function G$(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Hw(e){const[t,n]=e;return[t,n]}function IZ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function v9(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function RT(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function y9(e){let t=e.map(f=>Hw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===Et?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Zn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[Dn,i]),t[r[o-1]+1][0]=Zn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=$T(t)),t=eke(t),s=1;s<t.length;){if(t[s-1][0]===Dn&&t[s][0]===Zn){const f=t[s-1][1],p=t[s][1],m=IZ(f,p),v=IZ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[Et,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[Et,f.substring(0,v)]),t[s-1][0]=Zn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=Dn,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const OZ=/[^a-zA-Z0-9]/,PZ=/\s/,RZ=/[\r\n]/,GTt=/\n\r?\n$/,KTt=/^\r?\n\r?\n/;function eke(e){const t=e.map(o=>Hw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(OZ),u=a.match(OZ),d=c&&s.match(PZ),f=u&&a.match(PZ),p=d&&s.match(RZ),m=f&&a.match(RZ),v=p&&o.match(GTt),g=m&&i.match(KTt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===Et&&t[r+1][0]===Et){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=RT(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function $T(e){let t=e.map(u=>Hw(u));t.push([Et,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Zn:o++,s+=t[n][1],n++;break;case Dn:r++,i+=t[n][1],n++;break;case Et:r+o>1?(r!==0&&o!==0&&(a=v9(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===Et?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[Et,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=RT(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[Dn,i]),n++),s.length&&(t.splice(n,0,[Zn,s]),n++),n++):n!==0&&t[n-1][0]===Et?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===Et&&t[n+1][0]===Et&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=$T(t)),t}function ZTt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function b9(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Hw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===Et?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===Dn?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&ZTt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[Dn,s]),n[o[i-1]+1][0]=Zn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=$T(n)),n}function XTt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let b=0;b<a;b++)c[b]=-1,u[b]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&c[y-1]<c[y+1]?w=c[y+1]:w=c[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[y]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return $Z(e,t,w,C,n)}}}for(let x=-b+v;x<=b-g;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[y]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return $Z(e,t,S,E,n)}}}}return[[Dn,e],[Zn,t]]}function $Z(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Gp(i,s,{checkLines:!1,deadline:o}),d=Gp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function QTt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=MZ(r,o,Math.ceil(r.length/4)),s=MZ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function MZ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=v9(e.slice(n),t.slice(o)),f=RT(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function JTt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function eAt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function tAt(e,t,n){let r=e,o=t;const i=eAt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Gp(r,o,{checkLines:!1,deadline:n.deadline});JTt(a,s),a=y9(a),a.push([Et,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Zn:d++,p+=a[c][1];break;case Dn:u++,f+=a[c][1];break;case Et:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Gp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function nAt(e,t,n){let r;if(!e)return[[Zn,t]];if(!t)return[[Dn,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Zn,o.substring(0,s)],[Et,i],[Zn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=Dn,r[2][0]=Dn),r;if(i.length===1)return[[Dn,e],[Zn,t]];const a=QTt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Gp(c,d,n),v=Gp(u,f,n);return m.concat([[Et,p]],v)}return n.checkLines&&e.length>100&&t.length>100?tAt(e,t,n):XTt(e,t,n.deadline)}const Dn=-1,Zn=1,Et=0;function Uw(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Gp(e,t,oAt(n||{}));return sAt(r),r}function Gp(e,t,n){let r=e,o=t;if(r===o)return r?[[Et,r]]:[];let i=v9(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=RT(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=nAt(r,o,n);return s&&c.unshift([Et,s]),a&&c.push([Et,a]),c=$T(c),c}function rAt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function oAt(e){return{checkLines:!0,deadline:rAt(e.timeout||1),...e}}function __(e,t,n){return n===1?e+t:t+e}function S_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function iAt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function FZ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Zn){o===null&&(o=s);continue}else if(u===Dn){i===null&&(i=s);continue}else if(u===Et){if(o===null&&i===null){const[f,p]=S_(e[t][1],n);e[t][1]=f,e[s][1]=__(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&iAt(e,o,i,n)){const[u,d]=S_(e[o][1],r),[f]=S_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=__(e[t][1],d,n);return}const[a,c]=S_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Zn,c]),i!==null&&i>=s&&i++):e[o][1]=__(e[o][1],c,r),i===null?e.splice(s,0,[Dn,c]):e[i][1]=__(e[i][1],c,r)}function sAt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];YTt(i)&&n===Et&&FZ(e,t,1),G$(o)&&n===Et&&FZ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const aAt={threshold:.5,distance:1e3};function lAt(e){return{...aAt,...e}}const cAt=32;function uAt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>cAt)throw new Error("Pattern too long for this browser.");const o=lAt(r),i=dAt(t);function s(v,g){const b=v/t.length,x=Math.abs(n-g);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let y=b;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const C=s(v,y-1);if(C<=a)if(a=C,c=y-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function dAt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function I3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return uAt(e,t,r)}function Ok(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function x9(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Zn&&(t[n]=e[n][1]);return t.join("")}function tke(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Dn&&(t[n]=e[n][1]);return t.join("")}function Gd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=nke(r)}return t}function fAt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=nke(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Hw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function nke(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const Od=32,w9=4,hAt={margin:4};function O3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...hAt,...e}}function rke(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=Uw(e,t,{checkLines:!0});return r.length>2&&(r=y9(r),r=b9(r)),P3(e,r,O3(n))}if(e&&Array.isArray(e)&&typeof t>"u")return P3(x9(e),e,O3(n));if(typeof e=="string"&&t&&Array.isArray(t))return P3(e,t,O3(n));throw new Error("Unknown call format to make()")}function P3(e,t,n){if(t.length===0)return[];const r=[];let o=Ok(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,b=g.length,x=Gd(g);switch(!i&&v!==Et&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Zn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case Dn:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case Et:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(LZ(o,d,n),r.push(o),o=Ok(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Zn&&(s+=b,c+=x),v!==Dn&&(a+=b,u+=x)}return i&&(LZ(o,d,n),r.push(o)),r}function LZ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<Od-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&G$(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([Et,s]);const a=s.length,c=Gd(s);let u=e.start2+e.length1+o;u<t.length&&G$(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([Et,d]);const f=d.length,p=Gd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function pAt(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Zn:n+=s.length;break;case Dn:r+=s.length;break;case Et:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function BZ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Zn&&(n+=e[s][1].length),e[s][0]!==Dn&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===Dn?i:i+(t-o)}function mAt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w9;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==Et)i.unshift([Et,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==Et)i.push([Et,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function gAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:w9;const n=Od;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=Ok(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Gd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([Et,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Gd(m);if(p===Zn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===Dn&&c.diffs.length===1&&c.diffs[0][0]===Et&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Gd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===Et?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=tke(c.diffs),a=a.substring(a.length-t);const d=x9(o.diffs).substring(0,t),f=Gd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===Et?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([Et,d])),u||e.splice(++r,0,c)}}}function oke(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=fAt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||w9,s=n.deleteThreshold||.4,a=mAt(o,i);r=a+r+a,gAt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=x9(o[d].diffs);let m,v=-1;if(p.length>Od?(m=I3(r,p.substring(0,Od),f),m!==-1&&(v=I3(r,p.substring(p.length-Od),f+p.length-Od),(v===-1||m>=v)&&(m=-1))):m=I3(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+Od),p===g)r=r.substring(0,m)+tke(o[d].diffs)+r.substring(m+p.length);else{let b=Uw(p,g,{checkLines:!1});if(p.length>Od&&pAt(b)/p.length>s)u[d]=!1;else{b=eke(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==Et&&(y=BZ(b,x)),C[0]===Zn?r=r.substring(0,m+y)+C[1]+r.substring(m+y):C[0]===Dn&&(r=r.substring(0,m+y)+r.substring(m+BZ(b,x+C[1].length))),C[0]!==Dn&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function ike(e){return e.map(vAt).join("")}function vAt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Zn:u="+";break;case Dn:u="-";break;case Et:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const yAt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function ske(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(yAt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=Ok(E_(o[1]),E_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=E_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=E_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Gd(c)-c.length;if(a==="-")i.diffs.push([Dn,c]),i.length1-=u;else if(a==="+")i.diffs.push([Zn,c]),i.length2-=u;else if(a===" ")i.diffs.push([Et,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function E_(e){return parseInt(e,10)}//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var ake;function Fe(){return ake.apply(null,arguments)}function bAt(e){ake=e}function Pl(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function jp(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function hn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function C9(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(hn(e,t))return!1;return!0}function fs(e){return e===void 0}function Wu(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Ww(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function lke(e,t){var n=[],r,o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function Kd(e,t){for(var n in t)hn(t,n)&&(e[n]=t[n]);return hn(t,"toString")&&(e.toString=t.toString),hn(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Lc(e,t,n,r){return Oke(e,t,n,r,!0).utc()}function xAt(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function kt(e){return e._pf==null&&(e._pf=xAt()),e._pf}var K$;Array.prototype.some?K$=Array.prototype.some:K$=function(e){var t=Object(this),n=t.length>>>0,r;for(r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function _9(e){if(e._isValid==null){var t=kt(e),n=K$.call(t.parsedDateParts,function(o){return o!=null}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=r;else return r}return e._isValid}function MT(e){var t=Lc(NaN);return e!=null?Kd(kt(t),e):kt(t).userInvalidated=!0,t}var NZ=Fe.momentProperties=[],R3=!1;function S9(e,t){var n,r,o,i=NZ.length;if(fs(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),fs(t._i)||(e._i=t._i),fs(t._f)||(e._f=t._f),fs(t._l)||(e._l=t._l),fs(t._strict)||(e._strict=t._strict),fs(t._tzm)||(e._tzm=t._tzm),fs(t._isUTC)||(e._isUTC=t._isUTC),fs(t._offset)||(e._offset=t._offset),fs(t._pf)||(e._pf=kt(t)),fs(t._locale)||(e._locale=t._locale),i>0)for(n=0;n<i;n++)r=NZ[n],o=t[r],fs(o)||(e[r]=o);return e}function qw(e){S9(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),R3===!1&&(R3=!0,Fe.updateOffset(this),R3=!1)}function Rl(e){return e instanceof qw||e!=null&&e._isAMomentObject!=null}function cke(e){Fe.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function nl(e,t){var n=!0;return Kd(function(){if(Fe.deprecationHandler!=null&&Fe.deprecationHandler(null,e),n){var r=[],o,i,s,a=arguments.length;for(i=0;i<a;i++){if(o="",typeof arguments[i]=="object"){o+=`
[`+i+"] ";for(s in arguments[0])hn(arguments[0],s)&&(o+=s+": "+arguments[0][s]+", ");o=o.slice(0,-2)}else o=arguments[i];r.push(o)}cke(e+`
Arguments: `+Array.prototype.slice.call(r).join("")+`
`+new Error().stack),n=!1}return t.apply(this,arguments)},t)}var zZ={};function uke(e,t){Fe.deprecationHandler!=null&&Fe.deprecationHandler(e,t),zZ[e]||(cke(t),zZ[e]=!0)}Fe.suppressDeprecationWarnings=!1;Fe.deprecationHandler=null;function Bc(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function wAt(e){var t,n;for(n in e)hn(e,n)&&(t=e[n],Bc(t)?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Z$(e,t){var n=Kd({},e),r;for(r in t)hn(t,r)&&(jp(e[r])&&jp(t[r])?(n[r]={},Kd(n[r],e[r]),Kd(n[r],t[r])):t[r]!=null?n[r]=t[r]:delete n[r]);for(r in e)hn(e,r)&&!hn(t,r)&&jp(e[r])&&(n[r]=Kd({},n[r]));return n}function E9(e){e!=null&&this.set(e)}var X$;Object.keys?X$=Object.keys:X$=function(e){var t,n=[];for(t in e)hn(e,t)&&n.push(t);return n};var CAt={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function _At(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return Bc(r)?r.call(t,n):r}function Tc(e,t,n){var r=""+Math.abs(e),o=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var k9=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,k_=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$3={},fv={};function et(e,t,n,r){var o=r;typeof r=="string"&&(o=function(){return this[r]()}),e&&(fv[e]=o),t&&(fv[t[0]]=function(){return Tc(o.apply(this,arguments),t[1],t[2])}),n&&(fv[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function SAt(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function EAt(e){var t=e.match(k9),n,r;for(n=0,r=t.length;n<r;n++)fv[t[n]]?t[n]=fv[t[n]]:t[n]=SAt(t[n]);return function(o){var i="",s;for(s=0;s<r;s++)i+=Bc(t[s])?t[s].call(o,e):t[s];return i}}function gS(e,t){return e.isValid()?(t=dke(t,e.localeData()),$3[t]=$3[t]||EAt(t),$3[t](e)):e.localeData().invalidDate()}function dke(e,t){var n=5;function r(o){return t.longDateFormat(o)||o}for(k_.lastIndex=0;n>=0&&k_.test(e);)e=e.replace(k_,r),k_.lastIndex=0,n-=1;return e}var kAt={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function jAt(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(k9).map(function(r){return r==="MMMM"||r==="MM"||r==="DD"||r==="dddd"?r.slice(1):r}).join(""),this._longDateFormat[e])}var TAt="Invalid date";function AAt(){return this._invalidDate}var DAt="%d",IAt=/\d{1,2}/;function OAt(e){return this._ordinal.replace("%d",e)}var PAt={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function RAt(e,t,n,r){var o=this._relativeTime[n];return Bc(o)?o(e,t,n,r):o.replace(/%d/i,e)}function $At(e,t){var n=this._relativeTime[e>0?"future":"past"];return Bc(n)?n(t):n.replace(/%s/i,t)}var gb={};function Fi(e,t){var n=e.toLowerCase();gb[n]=gb[n+"s"]=gb[t]=e}function rl(e){return typeof e=="string"?gb[e]||gb[e.toLowerCase()]:void 0}function j9(e){var t={},n,r;for(r in e)hn(e,r)&&(n=rl(r),n&&(t[n]=e[r]));return t}var fke={};function Li(e,t){fke[e]=t}function MAt(e){var t=[],n;for(n in e)hn(e,n)&&t.push({unit:n,priority:fke[n]});return t.sort(function(r,o){return r.priority-o.priority}),t}function FT(e){return e%4===0&&e%100!==0||e%400===0}function Ta(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Mt(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(n=Ta(t)),n}function H0(e,t){return function(n){return n!=null?(hke(this,e,n),Fe.updateOffset(this,t),this):Pk(this,e)}}function Pk(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function hke(e,t,n){e.isValid()&&!isNaN(n)&&(t==="FullYear"&&FT(e.year())&&e.month()===1&&e.date()===29?(n=Mt(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),HT(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function FAt(e){return e=rl(e),Bc(this[e])?this[e]():this}function LAt(e,t){if(typeof e=="object"){e=j9(e);var n=MAt(e),r,o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(e=rl(e),Bc(this[e]))return this[e](t);return this}var pke=/\d/,da=/\d\d/,mke=/\d{3}/,T9=/\d{4}/,LT=/[+-]?\d{6}/,pr=/\d\d?/,gke=/\d\d\d\d?/,vke=/\d\d\d\d\d\d?/,BT=/\d{1,3}/,A9=/\d{1,4}/,NT=/[+-]?\d{1,6}/,U0=/\d+/,zT=/[+-]?\d+/,BAt=/Z|[+-]\d\d:?\d\d/gi,VT=/Z|[+-]\d\d(?::?\d\d)?/gi,NAt=/[+-]?\d+(\.\d{1,3})?/,Yw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Rk;Rk={};function He(e,t,n){Rk[e]=Bc(t)?t:function(r,o){return r&&n?n:t}}function zAt(e,t){return hn(Rk,e)?Rk[e](t._strict,t._locale):new RegExp(VAt(e))}function VAt(e){return qs(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,n,r,o,i){return n||r||o||i}))}function qs(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var Q$={};function Mn(e,t){var n,r=t,o;for(typeof e=="string"&&(e=[e]),Wu(t)&&(r=function(i,s){s[t]=Mt(i)}),o=e.length,n=0;n<o;n++)Q$[e[n]]=r}function Gw(e,t){Mn(e,function(n,r,o,i){o._w=o._w||{},t(n,o._w,o,i)})}function HAt(e,t,n){t!=null&&hn(Q$,e)&&Q$[e](t,n._a,n,e)}var Ti=0,yu=1,fc=2,Ao=3,xl=4,bu=5,ip=6,UAt=7,WAt=8;function qAt(e,t){return(e%t+t)%t}var Zr;Array.prototype.indexOf?Zr=Array.prototype.indexOf:Zr=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function HT(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=qAt(t,12);return e+=(t-n)/12,n===1?FT(e)?29:28:31-n%7%2}et("M",["MM",2],"Mo",function(){return this.month()+1});et("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});et("MMMM",0,0,function(e){return this.localeData().months(this,e)});Fi("month","M");Li("month",8);He("M",pr);He("MM",pr,da);He("MMM",function(e,t){return t.monthsShortRegex(e)});He("MMMM",function(e,t){return t.monthsRegex(e)});Mn(["M","MM"],function(e,t){t[yu]=Mt(e)-1});Mn(["MMM","MMMM"],function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);o!=null?t[yu]=o:kt(n).invalidMonth=e});var YAt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),yke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),bke=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,GAt=Yw,KAt=Yw;function ZAt(e,t){return e?Pl(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||bke).test(t)?"format":"standalone"][e.month()]:Pl(this._months)?this._months:this._months.standalone}function XAt(e,t){return e?Pl(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[bke.test(t)?"format":"standalone"][e.month()]:Pl(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function QAt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=Lc([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?t==="MMM"?(o=Zr.call(this._shortMonthsParse,s),o!==-1?o:null):(o=Zr.call(this._longMonthsParse,s),o!==-1?o:null):t==="MMM"?(o=Zr.call(this._shortMonthsParse,s),o!==-1?o:(o=Zr.call(this._longMonthsParse,s),o!==-1?o:null)):(o=Zr.call(this._longMonthsParse,s),o!==-1?o:(o=Zr.call(this._shortMonthsParse,s),o!==-1?o:null))}function JAt(e,t,n){var r,o,i;if(this._monthsParseExact)return QAt.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=Lc([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="MMMM"&&this._longMonthsParse[r].test(e))return r;if(n&&t==="MMM"&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function xke(e,t){var n;if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Mt(t);else if(t=e.localeData().monthsParse(t),!Wu(t))return e}return n=Math.min(e.date(),HT(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function wke(e){return e!=null?(xke(this,e),Fe.updateOffset(this,!0),this):Pk(this,"Month")}function eDt(){return HT(this.year(),this.month())}function tDt(e){return this._monthsParseExact?(hn(this,"_monthsRegex")||Cke.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(hn(this,"_monthsShortRegex")||(this._monthsShortRegex=GAt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function nDt(e){return this._monthsParseExact?(hn(this,"_monthsRegex")||Cke.call(this),e?this._monthsStrictRegex:this._monthsRegex):(hn(this,"_monthsRegex")||(this._monthsRegex=KAt),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function Cke(){function e(s,a){return a.length-s.length}var t=[],n=[],r=[],o,i;for(o=0;o<12;o++)i=Lc([2e3,o]),t.push(this.monthsShort(i,"")),n.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(t.sort(e),n.sort(e),r.sort(e),o=0;o<12;o++)t[o]=qs(t[o]),n[o]=qs(n[o]);for(o=0;o<24;o++)r[o]=qs(r[o]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}et("Y",0,0,function(){var e=this.year();return e<=9999?Tc(e,4):"+"+e});et(0,["YY",2],0,function(){return this.year()%100});et(0,["YYYY",4],0,"year");et(0,["YYYYY",5],0,"year");et(0,["YYYYYY",6,!0],0,"year");Fi("year","y");Li("year",1);He("Y",zT);He("YY",pr,da);He("YYYY",A9,T9);He("YYYYY",NT,LT);He("YYYYYY",NT,LT);Mn(["YYYYY","YYYYYY"],Ti);Mn("YYYY",function(e,t){t[Ti]=e.length===2?Fe.parseTwoDigitYear(e):Mt(e)});Mn("YY",function(e,t){t[Ti]=Fe.parseTwoDigitYear(e)});Mn("Y",function(e,t){t[Ti]=parseInt(e,10)});function vb(e){return FT(e)?366:365}Fe.parseTwoDigitYear=function(e){return Mt(e)+(Mt(e)>68?1900:2e3)};var _ke=H0("FullYear",!0);function rDt(){return FT(this.year())}function oDt(e,t,n,r,o,i,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,o,i,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,o,i,s),a}function px(e){var t,n;return e<100&&e>=0?(n=Array.prototype.slice.call(arguments),n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function $k(e,t,n){var r=7+t-n,o=(7+px(e,0,r).getUTCDay()-t)%7;return-o+r-1}function Ske(e,t,n,r,o){var i=(7+n-r)%7,s=$k(e,r,o),a=1+7*(t-1)+i+s,c,u;return a<=0?(c=e-1,u=vb(c)+a):a>vb(e)?(c=e+1,u=a-vb(e)):(c=e,u=a),{year:c,dayOfYear:u}}function mx(e,t,n){var r=$k(e.year(),t,n),o=Math.floor((e.dayOfYear()-r-1)/7)+1,i,s;return o<1?(s=e.year()-1,i=o+ju(s,t,n)):o>ju(e.year(),t,n)?(i=o-ju(e.year(),t,n),s=e.year()+1):(s=e.year(),i=o),{week:i,year:s}}function ju(e,t,n){var r=$k(e,t,n),o=$k(e+1,t,n);return(vb(e)-r+o)/7}et("w",["ww",2],"wo","week");et("W",["WW",2],"Wo","isoWeek");Fi("week","w");Fi("isoWeek","W");Li("week",5);Li("isoWeek",5);He("w",pr);He("ww",pr,da);He("W",pr);He("WW",pr,da);Gw(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=Mt(e)});function iDt(e){return mx(e,this._week.dow,this._week.doy).week}var sDt={dow:0,doy:6};function aDt(){return this._week.dow}function lDt(){return this._week.doy}function cDt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function uDt(e){var t=mx(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}et("d",0,"do","day");et("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});et("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});et("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});et("e",0,0,"weekday");et("E",0,0,"isoWeekday");Fi("day","d");Fi("weekday","e");Fi("isoWeekday","E");Li("day",11);Li("weekday",11);Li("isoWeekday",11);He("d",pr);He("e",pr);He("E",pr);He("dd",function(e,t){return t.weekdaysMinRegex(e)});He("ddd",function(e,t){return t.weekdaysShortRegex(e)});He("dddd",function(e,t){return t.weekdaysRegex(e)});Gw(["dd","ddd","dddd"],function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);o!=null?t.d=o:kt(n).invalidWeekday=e});Gw(["d","e","E"],function(e,t,n,r){t[r]=Mt(e)});function dDt(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function fDt(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function D9(e,t){return e.slice(t,7).concat(e.slice(0,t))}var hDt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Eke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),pDt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),mDt=Yw,gDt=Yw,vDt=Yw;function yDt(e,t){var n=Pl(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?D9(n,this._week.dow):e?n[e.day()]:n}function bDt(e){return e===!0?D9(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function xDt(e){return e===!0?D9(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function wDt(e,t,n){var r,o,i,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=Lc([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?t==="dddd"?(o=Zr.call(this._weekdaysParse,s),o!==-1?o:null):t==="ddd"?(o=Zr.call(this._shortWeekdaysParse,s),o!==-1?o:null):(o=Zr.call(this._minWeekdaysParse,s),o!==-1?o:null):t==="dddd"?(o=Zr.call(this._weekdaysParse,s),o!==-1||(o=Zr.call(this._shortWeekdaysParse,s),o!==-1)?o:(o=Zr.call(this._minWeekdaysParse,s),o!==-1?o:null)):t==="ddd"?(o=Zr.call(this._shortWeekdaysParse,s),o!==-1||(o=Zr.call(this._weekdaysParse,s),o!==-1)?o:(o=Zr.call(this._minWeekdaysParse,s),o!==-1?o:null)):(o=Zr.call(this._minWeekdaysParse,s),o!==-1||(o=Zr.call(this._weekdaysParse,s),o!==-1)?o:(o=Zr.call(this._shortWeekdaysParse,s),o!==-1?o:null))}function CDt(e,t,n){var r,o,i;if(this._weekdaysParseExact)return wDt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=Lc([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&t==="dddd"&&this._fullWeekdaysParse[r].test(e))return r;if(n&&t==="ddd"&&this._shortWeekdaysParse[r].test(e))return r;if(n&&t==="dd"&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function _Dt(e){if(!this.isValid())return e!=null?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=dDt(e,this.localeData()),this.add(e-t,"d")):t}function SDt(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function EDt(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=fDt(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function kDt(e){return this._weekdaysParseExact?(hn(this,"_weekdaysRegex")||I9.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(hn(this,"_weekdaysRegex")||(this._weekdaysRegex=mDt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function jDt(e){return this._weekdaysParseExact?(hn(this,"_weekdaysRegex")||I9.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hn(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=gDt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function TDt(e){return this._weekdaysParseExact?(hn(this,"_weekdaysRegex")||I9.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hn(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=vDt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function I9(){function e(d,f){return f.length-d.length}var t=[],n=[],r=[],o=[],i,s,a,c,u;for(i=0;i<7;i++)s=Lc([2e3,1]).day(i),a=qs(this.weekdaysMin(s,"")),c=qs(this.weekdaysShort(s,"")),u=qs(this.weekdays(s,"")),t.push(a),n.push(c),r.push(u),o.push(a),o.push(c),o.push(u);t.sort(e),n.sort(e),r.sort(e),o.sort(e),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function O9(){return this.hours()%12||12}function ADt(){return this.hours()||24}et("H",["HH",2],0,"hour");et("h",["hh",2],0,O9);et("k",["kk",2],0,ADt);et("hmm",0,0,function(){return""+O9.apply(this)+Tc(this.minutes(),2)});et("hmmss",0,0,function(){return""+O9.apply(this)+Tc(this.minutes(),2)+Tc(this.seconds(),2)});et("Hmm",0,0,function(){return""+this.hours()+Tc(this.minutes(),2)});et("Hmmss",0,0,function(){return""+this.hours()+Tc(this.minutes(),2)+Tc(this.seconds(),2)});function kke(e,t){et(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}kke("a",!0);kke("A",!1);Fi("hour","h");Li("hour",13);function jke(e,t){return t._meridiemParse}He("a",jke);He("A",jke);He("H",pr);He("h",pr);He("k",pr);He("HH",pr,da);He("hh",pr,da);He("kk",pr,da);He("hmm",gke);He("hmmss",vke);He("Hmm",gke);He("Hmmss",vke);Mn(["H","HH"],Ao);Mn(["k","kk"],function(e,t,n){var r=Mt(e);t[Ao]=r===24?0:r});Mn(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e});Mn(["h","hh"],function(e,t,n){t[Ao]=Mt(e),kt(n).bigHour=!0});Mn("hmm",function(e,t,n){var r=e.length-2;t[Ao]=Mt(e.substr(0,r)),t[xl]=Mt(e.substr(r)),kt(n).bigHour=!0});Mn("hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Ao]=Mt(e.substr(0,r)),t[xl]=Mt(e.substr(r,2)),t[bu]=Mt(e.substr(o)),kt(n).bigHour=!0});Mn("Hmm",function(e,t,n){var r=e.length-2;t[Ao]=Mt(e.substr(0,r)),t[xl]=Mt(e.substr(r))});Mn("Hmmss",function(e,t,n){var r=e.length-4,o=e.length-2;t[Ao]=Mt(e.substr(0,r)),t[xl]=Mt(e.substr(r,2)),t[bu]=Mt(e.substr(o))});function DDt(e){return(e+"").toLowerCase().charAt(0)==="p"}var IDt=/[ap]\.?m?\.?/i,ODt=H0("Hours",!0);function PDt(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var Tke={calendar:CAt,longDateFormat:kAt,invalidDate:TAt,ordinal:DAt,dayOfMonthOrdinalParse:IAt,relativeTime:PAt,months:YAt,monthsShort:yke,week:sDt,weekdays:hDt,weekdaysMin:pDt,weekdaysShort:Eke,meridiemParse:IDt},xr={},U1={},gx;function RDt(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function VZ(e){return e&&e.toLowerCase().replace("_","-")}function $Dt(e){for(var t=0,n,r,o,i;t<e.length;){for(i=VZ(e[t]).split("-"),n=i.length,r=VZ(e[t+1]),r=r?r.split("-"):null;n>0;){if(o=UT(i.slice(0,n).join("-")),o)return o;if(r&&r.length>=n&&RDt(i,r)>=n-1)break;n--}t++}return gx}function MDt(e){return e.match("^[^/\\\\]*$")!=null}function UT(e){var t=null,n;if(xr[e]===void 0&&typeof module<"u"&&module&&module.exports&&MDt(e))try{t=gx._abbr,n=require,n("./locale/"+e),vf(t)}catch{xr[e]=null}return xr[e]}function vf(e,t){var n;return e&&(fs(t)?n=dd(e):n=P9(e,t),n?gx=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),gx._abbr}function P9(e,t){if(t!==null){var n,r=Tke;if(t.abbr=e,xr[e]!=null)uke("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=xr[e]._config;else if(t.parentLocale!=null)if(xr[t.parentLocale]!=null)r=xr[t.parentLocale]._config;else if(n=UT(t.parentLocale),n!=null)r=n._config;else return U1[t.parentLocale]||(U1[t.parentLocale]=[]),U1[t.parentLocale].push({name:e,config:t}),null;return xr[e]=new E9(Z$(r,t)),U1[e]&&U1[e].forEach(function(o){P9(o.name,o.config)}),vf(e),xr[e]}else return delete xr[e],null}function FDt(e,t){if(t!=null){var n,r,o=Tke;xr[e]!=null&&xr[e].parentLocale!=null?xr[e].set(Z$(xr[e]._config,t)):(r=UT(e),r!=null&&(o=r._config),t=Z$(o,t),r==null&&(t.abbr=e),n=new E9(t),n.parentLocale=xr[e],xr[e]=n),vf(e)}else xr[e]!=null&&(xr[e].parentLocale!=null?(xr[e]=xr[e].parentLocale,e===vf()&&vf(e)):xr[e]!=null&&delete xr[e]);return xr[e]}function dd(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return gx;if(!Pl(e)){if(t=UT(e),t)return t;e=[e]}return $Dt(e)}function LDt(){return X$(xr)}function R9(e){var t,n=e._a;return n&&kt(e).overflow===-2&&(t=n[yu]<0||n[yu]>11?yu:n[fc]<1||n[fc]>HT(n[Ti],n[yu])?fc:n[Ao]<0||n[Ao]>24||n[Ao]===24&&(n[xl]!==0||n[bu]!==0||n[ip]!==0)?Ao:n[xl]<0||n[xl]>59?xl:n[bu]<0||n[bu]>59?bu:n[ip]<0||n[ip]>999?ip:-1,kt(e)._overflowDayOfYear&&(t<Ti||t>fc)&&(t=fc),kt(e)._overflowWeeks&&t===-1&&(t=UAt),kt(e)._overflowWeekday&&t===-1&&(t=WAt),kt(e).overflow=t),e}var BDt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,NDt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zDt=/Z|[+-]\d\d(?::?\d\d)?/,j_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],M3=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],VDt=/^\/?Date\((-?\d+)/i,HDt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,UDt={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ake(e){var t,n,r=e._i,o=BDt.exec(r)||NDt.exec(r),i,s,a,c,u=j_.length,d=M3.length;if(o){for(kt(e).iso=!0,t=0,n=u;t<n;t++)if(j_[t][1].exec(o[1])){s=j_[t][0],i=j_[t][2]!==!1;break}if(s==null){e._isValid=!1;return}if(o[3]){for(t=0,n=d;t<n;t++)if(M3[t][1].exec(o[3])){a=(o[2]||" ")+M3[t][0];break}if(a==null){e._isValid=!1;return}}if(!i&&a!=null){e._isValid=!1;return}if(o[4])if(zDt.exec(o[4]))c="Z";else{e._isValid=!1;return}e._f=s+(a||"")+(c||""),M9(e)}else e._isValid=!1}function WDt(e,t,n,r,o,i){var s=[qDt(e),yke.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(o,10)];return i&&s.push(parseInt(i,10)),s}function qDt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function YDt(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function GDt(e,t,n){if(e){var r=Eke.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(r!==o)return kt(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function KDt(e,t,n){if(e)return UDt[e];if(t)return 0;var r=parseInt(n,10),o=r%100,i=(r-o)/100;return i*60+o}function Dke(e){var t=HDt.exec(YDt(e._i)),n;if(t){if(n=WDt(t[4],t[3],t[2],t[5],t[6],t[7]),!GDt(t[1],n,e))return;e._a=n,e._tzm=KDt(t[8],t[9],t[10]),e._d=px.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),kt(e).rfc2822=!0}else e._isValid=!1}function ZDt(e){var t=VDt.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(Ake(e),e._isValid===!1)delete e._isValid;else return;if(Dke(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Fe.createFromInputFallback(e)}Fe.createFromInputFallback=nl("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function gg(e,t,n){return e??t??n}function XDt(e){var t=new Date(Fe.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function $9(e){var t,n,r=[],o,i,s;if(!e._d){for(o=XDt(e),e._w&&e._a[fc]==null&&e._a[yu]==null&&QDt(e),e._dayOfYear!=null&&(s=gg(e._a[Ti],o[Ti]),(e._dayOfYear>vb(s)||e._dayOfYear===0)&&(kt(e)._overflowDayOfYear=!0),n=px(s,0,e._dayOfYear),e._a[yu]=n.getUTCMonth(),e._a[fc]=n.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=r[t]=o[t];for(;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[Ao]===24&&e._a[xl]===0&&e._a[bu]===0&&e._a[ip]===0&&(e._nextDay=!0,e._a[Ao]=0),e._d=(e._useUTC?px:oDt).apply(null,r),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ao]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(kt(e).weekdayMismatch=!0)}}function QDt(e){var t,n,r,o,i,s,a,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,s=4,n=gg(t.GG,e._a[Ti],mx(ur(),1,4).year),r=gg(t.W,1),o=gg(t.E,1),(o<1||o>7)&&(c=!0)):(i=e._locale._week.dow,s=e._locale._week.doy,u=mx(ur(),i,s),n=gg(t.gg,e._a[Ti],u.year),r=gg(t.w,u.week),t.d!=null?(o=t.d,(o<0||o>6)&&(c=!0)):t.e!=null?(o=t.e+i,(t.e<0||t.e>6)&&(c=!0)):o=i),r<1||r>ju(n,i,s)?kt(e)._overflowWeeks=!0:c!=null?kt(e)._overflowWeekday=!0:(a=Ske(n,r,o,i,s),e._a[Ti]=a.year,e._dayOfYear=a.dayOfYear)}Fe.ISO_8601=function(){};Fe.RFC_2822=function(){};function M9(e){if(e._f===Fe.ISO_8601){Ake(e);return}if(e._f===Fe.RFC_2822){Dke(e);return}e._a=[],kt(e).empty=!0;var t=""+e._i,n,r,o,i,s,a=t.length,c=0,u,d;for(o=dke(e._f,e._locale).match(k9)||[],d=o.length,n=0;n<d;n++)i=o[n],r=(t.match(zAt(i,e))||[])[0],r&&(s=t.substr(0,t.indexOf(r)),s.length>0&&kt(e).unusedInput.push(s),t=t.slice(t.indexOf(r)+r.length),c+=r.length),fv[i]?(r?kt(e).empty=!1:kt(e).unusedTokens.push(i),HAt(i,r,e)):e._strict&&!r&&kt(e).unusedTokens.push(i);kt(e).charsLeftOver=a-c,t.length>0&&kt(e).unusedInput.push(t),e._a[Ao]<=12&&kt(e).bigHour===!0&&e._a[Ao]>0&&(kt(e).bigHour=void 0),kt(e).parsedDateParts=e._a.slice(0),kt(e).meridiem=e._meridiem,e._a[Ao]=JDt(e._locale,e._a[Ao],e._meridiem),u=kt(e).era,u!==null&&(e._a[Ti]=e._locale.erasConvertYear(u,e._a[Ti])),$9(e),R9(e)}function JDt(e,t,n){var r;return n==null?t:e.meridiemHour!=null?e.meridiemHour(t,n):(e.isPM!=null&&(r=e.isPM(n),r&&t<12&&(t+=12),!r&&t===12&&(t=0)),t)}function eIt(e){var t,n,r,o,i,s,a=!1,c=e._f.length;if(c===0){kt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(o=0;o<c;o++)i=0,s=!1,t=S9({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[o],M9(t),_9(t)&&(s=!0),i+=kt(t).charsLeftOver,i+=kt(t).unusedTokens.length*10,kt(t).score=i,a?i<r&&(r=i,n=t):(r==null||i<r||s)&&(r=i,n=t,s&&(a=!0));Kd(e,n||t)}function tIt(e){if(!e._d){var t=j9(e._i),n=t.day===void 0?t.date:t.day;e._a=lke([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(r){return r&&parseInt(r,10)}),$9(e)}}function nIt(e){var t=new qw(R9(Ike(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Ike(e){var t=e._i,n=e._f;return e._locale=e._locale||dd(e._l),t===null||n===void 0&&t===""?MT({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Rl(t)?new qw(R9(t)):(Ww(t)?e._d=t:Pl(n)?eIt(e):n?M9(e):rIt(e),_9(e)||(e._d=null),e))}function rIt(e){var t=e._i;fs(t)?e._d=new Date(Fe.now()):Ww(t)?e._d=new Date(t.valueOf()):typeof t=="string"?ZDt(e):Pl(t)?(e._a=lke(t.slice(0),function(n){return parseInt(n,10)}),$9(e)):jp(t)?tIt(e):Wu(t)?e._d=new Date(t):Fe.createFromInputFallback(e)}function Oke(e,t,n,r,o){var i={};return(t===!0||t===!1)&&(r=t,t=void 0),(n===!0||n===!1)&&(r=n,n=void 0),(jp(e)&&C9(e)||Pl(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=e,i._f=t,i._strict=r,nIt(i)}function ur(e,t,n,r){return Oke(e,t,n,r,!1)}var oIt=nl("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ur.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:MT()}),iIt=nl("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ur.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:MT()});function Pke(e,t){var n,r;if(t.length===1&&Pl(t[0])&&(t=t[0]),!t.length)return ur();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function sIt(){var e=[].slice.call(arguments,0);return Pke("isBefore",e)}function aIt(){var e=[].slice.call(arguments,0);return Pke("isAfter",e)}var lIt=function(){return Date.now?Date.now():+new Date},W1=["year","quarter","month","week","day","hour","minute","second","millisecond"];function cIt(e){var t,n=!1,r,o=W1.length;for(t in e)if(hn(e,t)&&!(Zr.call(W1,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(r=0;r<o;++r)if(e[W1[r]]){if(n)return!1;parseFloat(e[W1[r]])!==Mt(e[W1[r]])&&(n=!0)}return!0}function uIt(){return this._isValid}function dIt(){return zl(NaN)}function WT(e){var t=j9(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=cIt(t),this._milliseconds=+d+u*1e3+c*6e4+a*1e3*60*60,this._days=+s+i*7,this._months=+o+r*3+n*12,this._data={},this._locale=dd(),this._bubble()}function vS(e){return e instanceof WT}function J$(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function fIt(e,t,n){var r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),i=0,s;for(s=0;s<r;s++)(n&&e[s]!==t[s]||!n&&Mt(e[s])!==Mt(t[s]))&&i++;return i+o}function Rke(e,t){et(e,0,0,function(){var n=this.utcOffset(),r="+";return n<0&&(n=-n,r="-"),r+Tc(~~(n/60),2)+t+Tc(~~n%60,2)})}Rke("Z",":");Rke("ZZ","");He("Z",VT);He("ZZ",VT);Mn(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=F9(VT,e)});var hIt=/([\+\-]|\d\d)/gi;function F9(e,t){var n=(t||"").match(e),r,o,i;return n===null?null:(r=n[n.length-1]||[],o=(r+"").match(hIt)||["-",0,0],i=+(o[1]*60)+Mt(o[2]),i===0?0:o[0]==="+"?i:-i)}function L9(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(Rl(e)||Ww(e)?e.valueOf():ur(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),Fe.updateOffset(n,!1),n):ur(e).local()}function eM(e){return-Math.round(e._d.getTimezoneOffset())}Fe.updateOffset=function(){};function pIt(e,t,n){var r=this._offset||0,o;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=F9(VT,e),e===null)return this}else Math.abs(e)<16&&!n&&(e=e*60);return!this._isUTC&&t&&(o=eM(this)),this._offset=e,this._isUTC=!0,o!=null&&this.add(o,"m"),r!==e&&(!t||this._changeInProgress?Fke(this,zl(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Fe.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?r:eM(this)}function mIt(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function gIt(e){return this.utcOffset(0,e)}function vIt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(eM(this),"m")),this}function yIt(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=F9(BAt,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function bIt(e){return this.isValid()?(e=e?ur(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function xIt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wIt(){if(!fs(this._isDSTShifted))return this._isDSTShifted;var e={},t;return S9(e,this),e=Ike(e),e._a?(t=e._isUTC?Lc(e._a):ur(e._a),this._isDSTShifted=this.isValid()&&fIt(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function CIt(){return this.isValid()?!this._isUTC:!1}function _It(){return this.isValid()?this._isUTC:!1}function $ke(){return this.isValid()?this._isUTC&&this._offset===0:!1}var SIt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,EIt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function zl(e,t){var n=e,r=null,o,i,s;return vS(e)?n={ms:e._milliseconds,d:e._days,M:e._months}:Wu(e)||!isNaN(+e)?(n={},t?n[t]=+e:n.milliseconds=+e):(r=SIt.exec(e))?(o=r[1]==="-"?-1:1,n={y:0,d:Mt(r[fc])*o,h:Mt(r[Ao])*o,m:Mt(r[xl])*o,s:Mt(r[bu])*o,ms:Mt(J$(r[ip]*1e3))*o}):(r=EIt.exec(e))?(o=r[1]==="-"?-1:1,n={y:Ch(r[2],o),M:Ch(r[3],o),w:Ch(r[4],o),d:Ch(r[5],o),h:Ch(r[6],o),m:Ch(r[7],o),s:Ch(r[8],o)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(s=kIt(ur(n.from),ur(n.to)),n={},n.ms=s.milliseconds,n.M=s.months),i=new WT(n),vS(e)&&hn(e,"_locale")&&(i._locale=e._locale),vS(e)&&hn(e,"_isValid")&&(i._isValid=e._isValid),i}zl.fn=WT.prototype;zl.invalid=dIt;function Ch(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function HZ(e,t){var n={};return n.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function kIt(e,t){var n;return e.isValid()&&t.isValid()?(t=L9(t,e),e.isBefore(t)?n=HZ(e,t):(n=HZ(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Mke(e,t){return function(n,r){var o,i;return r!==null&&!isNaN(+r)&&(uke(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),o=zl(n,r),Fke(this,o,e),this}}function Fke(e,t,n,r){var o=t._milliseconds,i=J$(t._days),s=J$(t._months);e.isValid()&&(r=r??!0,s&&xke(e,Pk(e,"Month")+s*n),i&&hke(e,"Date",Pk(e,"Date")+i*n),o&&e._d.setTime(e._d.valueOf()+o*n),r&&Fe.updateOffset(e,i||s))}var jIt=Mke(1,"add"),TIt=Mke(-1,"subtract");function Lke(e){return typeof e=="string"||e instanceof String}function AIt(e){return Rl(e)||Ww(e)||Lke(e)||Wu(e)||IIt(e)||DIt(e)||e===null||e===void 0}function DIt(e){var t=jp(e)&&!C9(e),n=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,i,s=r.length;for(o=0;o<s;o+=1)i=r[o],n=n||hn(e,i);return t&&n}function IIt(e){var t=Pl(e),n=!1;return t&&(n=e.filter(function(r){return!Wu(r)&&Lke(e)}).length===0),t&&n}function OIt(e){var t=jp(e)&&!C9(e),n=!1,r=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,i;for(o=0;o<r.length;o+=1)i=r[o],n=n||hn(e,i);return t&&n}function PIt(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function RIt(e,t){arguments.length===1&&(arguments[0]?AIt(arguments[0])?(e=arguments[0],t=void 0):OIt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||ur(),r=L9(n,this).startOf("day"),o=Fe.calendarFormat(this,r)||"sameElse",i=t&&(Bc(t[o])?t[o].call(this,n):t[o]);return this.format(i||this.localeData().calendar(o,this,ur(n)))}function $It(){return new qw(this)}function MIt(e,t){var n=Rl(e)?e:ur(e);return this.isValid()&&n.isValid()?(t=rl(t)||"millisecond",t==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf()):!1}function FIt(e,t){var n=Rl(e)?e:ur(e);return this.isValid()&&n.isValid()?(t=rl(t)||"millisecond",t==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf()):!1}function LIt(e,t,n,r){var o=Rl(e)?e:ur(e),i=Rl(t)?t:ur(t);return this.isValid()&&o.isValid()&&i.isValid()?(r=r||"()",(r[0]==="("?this.isAfter(o,n):!this.isBefore(o,n))&&(r[1]===")"?this.isBefore(i,n):!this.isAfter(i,n))):!1}function BIt(e,t){var n=Rl(e)?e:ur(e),r;return this.isValid()&&n.isValid()?(t=rl(t)||"millisecond",t==="millisecond"?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf())):!1}function NIt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function zIt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function VIt(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(r=L9(e,this),!r.isValid())return NaN;switch(o=(r.utcOffset()-this.utcOffset())*6e4,t=rl(t),t){case"year":i=yS(this,r)/12;break;case"month":i=yS(this,r);break;case"quarter":i=yS(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:Ta(i)}function yS(e,t){if(e.date()<t.date())return-yS(t,e);var n=(t.year()-e.year())*12+(t.month()-e.month()),r=e.clone().add(n,"months"),o,i;return t-r<0?(o=e.clone().add(n-1,"months"),i=(t-r)/(r-o)):(o=e.clone().add(n+1,"months"),i=(t-r)/(o-r)),-(n+i)||0}Fe.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Fe.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function HIt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function UIt(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?gS(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Bc(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gS(n,"Z")):gS(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function WIt(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",n,r,o,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(n+r+o+i)}function qIt(e){e||(e=this.isUtc()?Fe.defaultFormatUtc:Fe.defaultFormat);var t=gS(this,e);return this.localeData().postformat(t)}function YIt(e,t){return this.isValid()&&(Rl(e)&&e.isValid()||ur(e).isValid())?zl({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function GIt(e){return this.from(ur(),e)}function KIt(e,t){return this.isValid()&&(Rl(e)&&e.isValid()||ur(e).isValid())?zl({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ZIt(e){return this.to(ur(),e)}function Bke(e){var t;return e===void 0?this._locale._abbr:(t=dd(e),t!=null&&(this._locale=t),this)}var Nke=nl("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function zke(){return this._locale}var Mk=1e3,hv=60*Mk,Fk=60*hv,Vke=(365*400+97)*24*Fk;function pv(e,t){return(e%t+t)%t}function Hke(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-Vke:new Date(e,t,n).valueOf()}function Uke(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-Vke:Date.UTC(e,t,n)}function XIt(e){var t,n;if(e=rl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Uke:Hke,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=pv(t+(this._isUTC?0:this.utcOffset()*hv),Fk);break;case"minute":t=this._d.valueOf(),t-=pv(t,hv);break;case"second":t=this._d.valueOf(),t-=pv(t,Mk);break}return this._d.setTime(t),Fe.updateOffset(this,!0),this}function QIt(e){var t,n;if(e=rl(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?Uke:Hke,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Fk-pv(t+(this._isUTC?0:this.utcOffset()*hv),Fk)-1;break;case"minute":t=this._d.valueOf(),t+=hv-pv(t,hv)-1;break;case"second":t=this._d.valueOf(),t+=Mk-pv(t,Mk)-1;break}return this._d.setTime(t),Fe.updateOffset(this,!0),this}function JIt(){return this._d.valueOf()-(this._offset||0)*6e4}function e3t(){return Math.floor(this.valueOf()/1e3)}function t3t(){return new Date(this.valueOf())}function n3t(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function r3t(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function o3t(){return this.isValid()?this.toISOString():null}function i3t(){return _9(this)}function s3t(){return Kd({},kt(this))}function a3t(){return kt(this).overflow}function l3t(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}et("N",0,0,"eraAbbr");et("NN",0,0,"eraAbbr");et("NNN",0,0,"eraAbbr");et("NNNN",0,0,"eraName");et("NNNNN",0,0,"eraNarrow");et("y",["y",1],"yo","eraYear");et("y",["yy",2],0,"eraYear");et("y",["yyy",3],0,"eraYear");et("y",["yyyy",4],0,"eraYear");He("N",B9);He("NN",B9);He("NNN",B9);He("NNNN",b3t);He("NNNNN",x3t);Mn(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,r){var o=n._locale.erasParse(e,r,n._strict);o?kt(n).era=o:kt(n).invalidEra=e});He("y",U0);He("yy",U0);He("yyy",U0);He("yyyy",U0);He("yo",w3t);Mn(["y","yy","yyy","yyyy"],Ti);Mn(["yo"],function(e,t,n,r){var o;n._locale._eraYearOrdinalRegex&&(o=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Ti]=n._locale.eraYearOrdinalParse(e,o):t[Ti]=parseInt(e,10)});function c3t(e,t){var n,r,o,i=this._eras||dd("en")._eras;for(n=0,r=i.length;n<r;++n){switch(typeof i[n].since){case"string":o=Fe(i[n].since).startOf("day"),i[n].since=o.valueOf();break}switch(typeof i[n].until){case"undefined":i[n].until=1/0;break;case"string":o=Fe(i[n].until).startOf("day").valueOf(),i[n].until=o.valueOf();break}}return i}function u3t(e,t,n){var r,o,i=this.eras(),s,a,c;for(e=e.toUpperCase(),r=0,o=i.length;r<o;++r)if(s=i[r].name.toUpperCase(),a=i[r].abbr.toUpperCase(),c=i[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return i[r];break;case"NNNN":if(s===e)return i[r];break;case"NNNNN":if(c===e)return i[r];break}else if([s,a,c].indexOf(e)>=0)return i[r]}function d3t(e,t){var n=e.since<=e.until?1:-1;return t===void 0?Fe(e.since).year():Fe(e.since).year()+(t-e.offset)*n}function f3t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function h3t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function p3t(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function m3t(){var e,t,n,r,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,r=this.clone().startOf("day").valueOf(),o[e].since<=r&&r<=o[e].until||o[e].until<=r&&r<=o[e].since)return(this.year()-Fe(o[e].since).year())*n+o[e].offset;return this.year()}function g3t(e){return hn(this,"_erasNameRegex")||N9.call(this),e?this._erasNameRegex:this._erasRegex}function v3t(e){return hn(this,"_erasAbbrRegex")||N9.call(this),e?this._erasAbbrRegex:this._erasRegex}function y3t(e){return hn(this,"_erasNarrowRegex")||N9.call(this),e?this._erasNarrowRegex:this._erasRegex}function B9(e,t){return t.erasAbbrRegex(e)}function b3t(e,t){return t.erasNameRegex(e)}function x3t(e,t){return t.erasNarrowRegex(e)}function w3t(e,t){return t._eraYearOrdinalRegex||U0}function N9(){var e=[],t=[],n=[],r=[],o,i,s=this.eras();for(o=0,i=s.length;o<i;++o)t.push(qs(s[o].name)),e.push(qs(s[o].abbr)),n.push(qs(s[o].narrow)),r.push(qs(s[o].name)),r.push(qs(s[o].abbr)),r.push(qs(s[o].narrow));this._erasRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}et(0,["gg",2],0,function(){return this.weekYear()%100});et(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qT(e,t){et(0,[e,e.length],0,t)}qT("gggg","weekYear");qT("ggggg","weekYear");qT("GGGG","isoWeekYear");qT("GGGGG","isoWeekYear");Fi("weekYear","gg");Fi("isoWeekYear","GG");Li("weekYear",1);Li("isoWeekYear",1);He("G",zT);He("g",zT);He("GG",pr,da);He("gg",pr,da);He("GGGG",A9,T9);He("gggg",A9,T9);He("GGGGG",NT,LT);He("ggggg",NT,LT);Gw(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=Mt(e)});Gw(["gg","GG"],function(e,t,n,r){t[r]=Fe.parseTwoDigitYear(e)});function C3t(e){return Wke.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function _3t(e){return Wke.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function S3t(){return ju(this.year(),1,4)}function E3t(){return ju(this.isoWeekYear(),1,4)}function k3t(){var e=this.localeData()._week;return ju(this.year(),e.dow,e.doy)}function j3t(){var e=this.localeData()._week;return ju(this.weekYear(),e.dow,e.doy)}function Wke(e,t,n,r,o){var i;return e==null?mx(this,r,o).year:(i=ju(e,r,o),t>i&&(t=i),T3t.call(this,e,t,n,r,o))}function T3t(e,t,n,r,o){var i=Ske(e,t,n,r,o),s=px(i.year,0,i.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}et("Q",0,"Qo","quarter");Fi("quarter","Q");Li("quarter",7);He("Q",pke);Mn("Q",function(e,t){t[yu]=(Mt(e)-1)*3});function A3t(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}et("D",["DD",2],"Do","date");Fi("date","D");Li("date",9);He("D",pr);He("DD",pr,da);He("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Mn(["D","DD"],fc);Mn("Do",function(e,t){t[fc]=Mt(e.match(pr)[0])});var qke=H0("Date",!0);et("DDD",["DDDD",3],"DDDo","dayOfYear");Fi("dayOfYear","DDD");Li("dayOfYear",4);He("DDD",BT);He("DDDD",mke);Mn(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Mt(e)});function D3t(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}et("m",["mm",2],0,"minute");Fi("minute","m");Li("minute",14);He("m",pr);He("mm",pr,da);Mn(["m","mm"],xl);var I3t=H0("Minutes",!1);et("s",["ss",2],0,"second");Fi("second","s");Li("second",15);He("s",pr);He("ss",pr,da);Mn(["s","ss"],bu);var O3t=H0("Seconds",!1);et("S",0,0,function(){return~~(this.millisecond()/100)});et(0,["SS",2],0,function(){return~~(this.millisecond()/10)});et(0,["SSS",3],0,"millisecond");et(0,["SSSS",4],0,function(){return this.millisecond()*10});et(0,["SSSSS",5],0,function(){return this.millisecond()*100});et(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});et(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});et(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});et(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Fi("millisecond","ms");Li("millisecond",16);He("S",BT,pke);He("SS",BT,da);He("SSS",BT,mke);var Zd,Yke;for(Zd="SSSS";Zd.length<=9;Zd+="S")He(Zd,U0);function P3t(e,t){t[ip]=Mt(("0."+e)*1e3)}for(Zd="S";Zd.length<=9;Zd+="S")Mn(Zd,P3t);Yke=H0("Milliseconds",!1);et("z",0,0,"zoneAbbr");et("zz",0,0,"zoneName");function R3t(){return this._isUTC?"UTC":""}function $3t(){return this._isUTC?"Coordinated Universal Time":""}var Te=qw.prototype;Te.add=jIt;Te.calendar=RIt;Te.clone=$It;Te.diff=VIt;Te.endOf=QIt;Te.format=qIt;Te.from=YIt;Te.fromNow=GIt;Te.to=KIt;Te.toNow=ZIt;Te.get=FAt;Te.invalidAt=a3t;Te.isAfter=MIt;Te.isBefore=FIt;Te.isBetween=LIt;Te.isSame=BIt;Te.isSameOrAfter=NIt;Te.isSameOrBefore=zIt;Te.isValid=i3t;Te.lang=Nke;Te.locale=Bke;Te.localeData=zke;Te.max=iIt;Te.min=oIt;Te.parsingFlags=s3t;Te.set=LAt;Te.startOf=XIt;Te.subtract=TIt;Te.toArray=n3t;Te.toObject=r3t;Te.toDate=t3t;Te.toISOString=UIt;Te.inspect=WIt;typeof Symbol<"u"&&Symbol.for!=null&&(Te[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Te.toJSON=o3t;Te.toString=HIt;Te.unix=e3t;Te.valueOf=JIt;Te.creationData=l3t;Te.eraName=f3t;Te.eraNarrow=h3t;Te.eraAbbr=p3t;Te.eraYear=m3t;Te.year=_ke;Te.isLeapYear=rDt;Te.weekYear=C3t;Te.isoWeekYear=_3t;Te.quarter=Te.quarters=A3t;Te.month=wke;Te.daysInMonth=eDt;Te.week=Te.weeks=cDt;Te.isoWeek=Te.isoWeeks=uDt;Te.weeksInYear=k3t;Te.weeksInWeekYear=j3t;Te.isoWeeksInYear=S3t;Te.isoWeeksInISOWeekYear=E3t;Te.date=qke;Te.day=Te.days=_Dt;Te.weekday=SDt;Te.isoWeekday=EDt;Te.dayOfYear=D3t;Te.hour=Te.hours=ODt;Te.minute=Te.minutes=I3t;Te.second=Te.seconds=O3t;Te.millisecond=Te.milliseconds=Yke;Te.utcOffset=pIt;Te.utc=gIt;Te.local=vIt;Te.parseZone=yIt;Te.hasAlignedHourOffset=bIt;Te.isDST=xIt;Te.isLocal=CIt;Te.isUtcOffset=_It;Te.isUtc=$ke;Te.isUTC=$ke;Te.zoneAbbr=R3t;Te.zoneName=$3t;Te.dates=nl("dates accessor is deprecated. Use date instead.",qke);Te.months=nl("months accessor is deprecated. Use month instead",wke);Te.years=nl("years accessor is deprecated. Use year instead",_ke);Te.zone=nl("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mIt);Te.isDSTShifted=nl("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wIt);function M3t(e){return ur(e*1e3)}function F3t(){return ur.apply(null,arguments).parseZone()}function Gke(e){return e}var pn=E9.prototype;pn.calendar=_At;pn.longDateFormat=jAt;pn.invalidDate=AAt;pn.ordinal=OAt;pn.preparse=Gke;pn.postformat=Gke;pn.relativeTime=RAt;pn.pastFuture=$At;pn.set=wAt;pn.eras=c3t;pn.erasParse=u3t;pn.erasConvertYear=d3t;pn.erasAbbrRegex=v3t;pn.erasNameRegex=g3t;pn.erasNarrowRegex=y3t;pn.months=ZAt;pn.monthsShort=XAt;pn.monthsParse=JAt;pn.monthsRegex=nDt;pn.monthsShortRegex=tDt;pn.week=iDt;pn.firstDayOfYear=lDt;pn.firstDayOfWeek=aDt;pn.weekdays=yDt;pn.weekdaysMin=xDt;pn.weekdaysShort=bDt;pn.weekdaysParse=CDt;pn.weekdaysRegex=kDt;pn.weekdaysShortRegex=jDt;pn.weekdaysMinRegex=TDt;pn.isPM=DDt;pn.meridiem=PDt;function Lk(e,t,n,r){var o=dd(),i=Lc().set(r,t);return o[n](i,e)}function Kke(e,t,n){if(Wu(e)&&(t=e,e=void 0),e=e||"",t!=null)return Lk(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=Lk(e,r,n,"month");return o}function z9(e,t,n,r){typeof e=="boolean"?(Wu(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,Wu(t)&&(n=t,t=void 0),t=t||"");var o=dd(),i=e?o._week.dow:0,s,a=[];if(n!=null)return Lk(t,(n+i)%7,r,"day");for(s=0;s<7;s++)a[s]=Lk(t,(s+i)%7,r,"day");return a}function L3t(e,t){return Kke(e,t,"months")}function B3t(e,t){return Kke(e,t,"monthsShort")}function N3t(e,t,n){return z9(e,t,n,"weekdays")}function z3t(e,t,n){return z9(e,t,n,"weekdaysShort")}function V3t(e,t,n){return z9(e,t,n,"weekdaysMin")}vf("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=Mt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}});Fe.lang=nl("moment.lang is deprecated. Use moment.locale instead.",vf);Fe.langData=nl("moment.langData is deprecated. Use moment.localeData instead.",dd);var Kc=Math.abs;function H3t(){var e=this._data;return this._milliseconds=Kc(this._milliseconds),this._days=Kc(this._days),this._months=Kc(this._months),e.milliseconds=Kc(e.milliseconds),e.seconds=Kc(e.seconds),e.minutes=Kc(e.minutes),e.hours=Kc(e.hours),e.months=Kc(e.months),e.years=Kc(e.years),this}function Zke(e,t,n,r){var o=zl(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function U3t(e,t){return Zke(this,e,t,1)}function W3t(e,t){return Zke(this,e,t,-1)}function UZ(e){return e<0?Math.floor(e):Math.ceil(e)}function q3t(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,o,i,s,a,c;return e>=0&&t>=0&&n>=0||e<=0&&t<=0&&n<=0||(e+=UZ(tM(n)+t)*864e5,t=0,n=0),r.milliseconds=e%1e3,o=Ta(e/1e3),r.seconds=o%60,i=Ta(o/60),r.minutes=i%60,s=Ta(i/60),r.hours=s%24,t+=Ta(s/24),c=Ta(Xke(t)),n+=c,t-=UZ(tM(c)),a=Ta(n/12),n%=12,r.days=t,r.months=n,r.years=a,this}function Xke(e){return e*4800/146097}function tM(e){return e*146097/4800}function Y3t(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if(e=rl(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+r/864e5,n=this._months+Xke(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(tM(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return t*24+r/36e5;case"minute":return t*1440+r/6e4;case"second":return t*86400+r/1e3;case"millisecond":return Math.floor(t*864e5)+r;default:throw new Error("Unknown unit "+e)}}function G3t(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+Mt(this._months/12)*31536e6:NaN}function fd(e){return function(){return this.as(e)}}var K3t=fd("ms"),Z3t=fd("s"),X3t=fd("m"),Q3t=fd("h"),J3t=fd("d"),eOt=fd("w"),tOt=fd("M"),nOt=fd("Q"),rOt=fd("y");function oOt(){return zl(this)}function iOt(e){return e=rl(e),this.isValid()?this[e+"s"]():NaN}function Dm(e){return function(){return this.isValid()?this._data[e]:NaN}}var sOt=Dm("milliseconds"),aOt=Dm("seconds"),lOt=Dm("minutes"),cOt=Dm("hours"),uOt=Dm("days"),dOt=Dm("months"),fOt=Dm("years");function hOt(){return Ta(this.days()/7)}var lu=Math.round,Hg={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function pOt(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}function mOt(e,t,n,r){var o=zl(e).abs(),i=lu(o.as("s")),s=lu(o.as("m")),a=lu(o.as("h")),c=lu(o.as("d")),u=lu(o.as("M")),d=lu(o.as("w")),f=lu(o.as("y")),p=i<=n.ss&&["s",i]||i<n.s&&["ss",i]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||c<=1&&["d"]||c<n.d&&["dd",c];return n.w!=null&&(p=p||d<=1&&["w"]||d<n.w&&["ww",d]),p=p||u<=1&&["M"]||u<n.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=r,pOt.apply(null,p)}function gOt(e){return e===void 0?lu:typeof e=="function"?(lu=e,!0):!1}function vOt(e,t){return Hg[e]===void 0?!1:t===void 0?Hg[e]:(Hg[e]=t,e==="s"&&(Hg.ss=t-1),!0)}function yOt(e,t){if(!this.isValid())return this.localeData().invalidDate();var n=!1,r=Hg,o,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(n=e),typeof t=="object"&&(r=Object.assign({},Hg,t),t.s!=null&&t.ss==null&&(r.ss=t.s-1)),o=this.localeData(),i=mOt(this,!n,r,o),n&&(i=o.pastFuture(+this,i)),o.postformat(i)}var F3=Math.abs;function Qm(e){return(e>0)-(e<0)||+e}function YT(){if(!this.isValid())return this.localeData().invalidDate();var e=F3(this._milliseconds)/1e3,t=F3(this._days),n=F3(this._months),r,o,i,s,a=this.asSeconds(),c,u,d,f;return a?(r=Ta(e/60),o=Ta(r/60),e%=60,r%=60,i=Ta(n/12),n%=12,s=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=a<0?"-":"",u=Qm(this._months)!==Qm(a)?"-":"",d=Qm(this._days)!==Qm(a)?"-":"",f=Qm(this._milliseconds)!==Qm(a)?"-":"",c+"P"+(i?u+i+"Y":"")+(n?u+n+"M":"")+(t?d+t+"D":"")+(o||r||e?"T":"")+(o?f+o+"H":"")+(r?f+r+"M":"")+(e?f+s+"S":"")):"P0D"}var sn=WT.prototype;sn.isValid=uIt;sn.abs=H3t;sn.add=U3t;sn.subtract=W3t;sn.as=Y3t;sn.asMilliseconds=K3t;sn.asSeconds=Z3t;sn.asMinutes=X3t;sn.asHours=Q3t;sn.asDays=J3t;sn.asWeeks=eOt;sn.asMonths=tOt;sn.asQuarters=nOt;sn.asYears=rOt;sn.valueOf=G3t;sn._bubble=q3t;sn.clone=oOt;sn.get=iOt;sn.milliseconds=sOt;sn.seconds=aOt;sn.minutes=lOt;sn.hours=cOt;sn.days=uOt;sn.weeks=hOt;sn.months=dOt;sn.years=fOt;sn.humanize=yOt;sn.toISOString=YT;sn.toString=YT;sn.toJSON=YT;sn.locale=Bke;sn.localeData=zke;sn.toIsoString=nl("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",YT);sn.lang=Nke;et("X",0,0,"unix");et("x",0,0,"valueOf");He("x",zT);He("X",NAt);Mn("X",function(e,t,n){n._d=new Date(parseFloat(e)*1e3)});Mn("x",function(e,t,n){n._d=new Date(Mt(e))});//! moment.js
Fe.version="2.29.4";bAt(ur);Fe.fn=Te;Fe.min=sIt;Fe.max=aIt;Fe.now=lIt;Fe.utc=Lc;Fe.unix=M3t;Fe.months=L3t;Fe.isDate=Ww;Fe.locale=vf;Fe.invalid=MT;Fe.duration=zl;Fe.isMoment=Rl;Fe.weekdays=N3t;Fe.parseZone=F3t;Fe.localeData=dd;Fe.isDuration=vS;Fe.monthsShort=B3t;Fe.weekdaysMin=V3t;Fe.defineLocale=P9;Fe.updateLocale=FDt;Fe.locales=LDt;Fe.weekdaysShort=z3t;Fe.normalizeUnits=rl;Fe.relativeTimeRounding=gOt;Fe.relativeTimeThreshold=vOt;Fe.calendarFormat=PIt;Fe.prototype=Te;Fe.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};function GT(e,t){return Fe(e).format(t)}function V9(e,t){const n=Fe(e,t,!0);return n.isValid()?{isValid:!0,date:n.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(t,'"')}}function H9(e){return window.crypto.getRandomValues(e)}var Qke=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function bOt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&Qke(e,t)&&!U9(e[t]))return!1;return!0}function xOt(e){for(let t=0;t<e.length;t++)if(!U9(e[t]))return!1;return!0}function U9(e){if(e==null)return!0;const t=typeof e;return Array.isArray(e)?xOt(e):t==="object"?bOt(e):!1}function wOt(e){for(const t in e)if(!(t==="_type"||t==="_key")&&Qke(e,t)&&e[t]!==void 0)return!1;return!0}const COt=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function _Ot(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return H9(t),t}function Kw(e){const t=COt();return _Ot(e).reduce((n,r)=>n+t[r],"").slice(0,e)}const SOt=Object.prototype.toString;function EOt(e){switch(SOt.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof e=="object"&&e&&typeof e.length=="number")try{if(typeof e.callee=="function")return"arguments"}catch(t){if(t instanceof TypeError)return"arguments"}return e===null?"null":e===void 0?"undefined":e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function js(e){const t=EOt(e);if(t!=="object")return t;const n=e;return"_type"in n&&n._type||t}var nM={exports:{}};function kOt(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=gT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var jOt=kOt;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=jOt(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(nM,nM.exports);var TOt=nM.exports;const Dy=Ie(TOt);var AOt=OOt,Jke="֑-߿יִ-﷽ﹰ-ﻼ",e5e="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",DOt=new RegExp("^[^"+e5e+"]*["+Jke+"]"),IOt=new RegExp("^[^"+Jke+"]*["+e5e+"]");function OOt(e){return e=String(e||""),DOt.test(e)?"rtl":IOt.test(e)?"ltr":"neutral"}const t5e=Ie(AOt),WZ=e=>typeof e=="object"&&e!=null&&e.nodeType===1,qZ=(e,t)=>(!t||e!=="hidden")&&e!=="visible"&&e!=="clip",L3=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return qZ(n.overflowY,t)||qZ(n.overflowX,t)||(r=>{const o=(i=>{if(!i.ownerDocument||!i.ownerDocument.defaultView)return null;try{return i.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!o&&(o.clientHeight<r.scrollHeight||o.clientWidth<r.scrollWidth)})(e)}return!1},T_=(e,t,n,r,o,i,s,a)=>i<e&&s>t||i>e&&s<t?0:i<=e&&a<=n||s>=t&&a>=n?i-e-r:s>t&&a<n||i<e&&a>n?s-t+o:0,POt=e=>{const t=e.parentElement;return t??(e.getRootNode().host||null)},YZ=(e,t)=>{var n,r,o,i;if(typeof document>"u")return[];const{scrollMode:s,block:a,inline:c,boundary:u,skipOverflowHiddenElements:d}=t,f=typeof u=="function"?u:R=>R!==u;if(!WZ(e))throw new TypeError("Invalid target");const p=document.scrollingElement||document.documentElement,m=[];let v=e;for(;WZ(v)&&f(v);){if(v=POt(v),v===p){m.push(v);break}v!=null&&v===document.body&&L3(v)&&!L3(document.documentElement)||v!=null&&L3(v,d)&&m.push(v)}const g=(r=(n=window.visualViewport)==null?void 0:n.width)!=null?r:innerWidth,b=(i=(o=window.visualViewport)==null?void 0:o.height)!=null?i:innerHeight,{scrollX:x,scrollY:y}=window,{height:w,width:C,top:_,right:S,bottom:E,left:j}=e.getBoundingClientRect(),{top:k,right:T,bottom:A,left:D}=(R=>{const z=window.getComputedStyle(R);return{top:parseFloat(z.scrollMarginTop)||0,right:parseFloat(z.scrollMarginRight)||0,bottom:parseFloat(z.scrollMarginBottom)||0,left:parseFloat(z.scrollMarginLeft)||0}})(e);let I=a==="start"||a==="nearest"?_-k:a==="end"?E+A:_+w/2-k+A,O=c==="center"?j+C/2-D+T:c==="end"?S+T:j-D;const $=[];for(let R=0;R<m.length;R++){const z=m[R],{height:B,width:U,top:W,right:V,bottom:K,left:te}=z.getBoundingClientRect();if(s==="if-needed"&&_>=0&&j>=0&&E<=b&&S<=g&&_>=W&&E<=K&&j>=te&&S<=V)return $;const N=getComputedStyle(z),G=parseInt(N.borderLeftWidth,10),q=parseInt(N.borderTopWidth,10),Z=parseInt(N.borderRightWidth,10),ie=parseInt(N.borderBottomWidth,10);let ne=0,Y=0;const X="offsetWidth"in z?z.offsetWidth-z.clientWidth-G-Z:0,ae="offsetHeight"in z?z.offsetHeight-z.clientHeight-q-ie:0,he="offsetWidth"in z?z.offsetWidth===0?0:U/z.offsetWidth:0,ce="offsetHeight"in z?z.offsetHeight===0?0:B/z.offsetHeight:0;if(p===z)ne=a==="start"?I:a==="end"?I-b:a==="nearest"?T_(y,y+b,b,q,ie,y+I,y+I+w,w):I-b/2,Y=c==="start"?O:c==="center"?O-g/2:c==="end"?O-g:T_(x,x+g,g,G,Z,x+O,x+O+C,C),ne=Math.max(0,ne+y),Y=Math.max(0,Y+x);else{ne=a==="start"?I-W-q:a==="end"?I-K+ie+ae:a==="nearest"?T_(W,K,B,q,ie+ae,I,I+w,w):I-(W+B/2)+ae/2,Y=c==="start"?O-te-G:c==="center"?O-(te+U/2)+X/2:c==="end"?O-V+Z+X:T_(te,V,U,G,Z+X,O,O+C,C);const{scrollLeft:xe,scrollTop:Se}=z;ne=ce===0?0:Math.max(0,Math.min(Se+ne/ce,z.scrollHeight-B/ce+ae)),Y=he===0?0:Math.max(0,Math.min(xe+Y/he,z.scrollWidth-U/he+X)),I+=Se-ne,O+=xe-Y}$.push({el:z,top:ne,left:Y})}return $},ROt=e=>e===!1?{block:"end",inline:"nearest"}:(t=>t===Object(t)&&Object.keys(t).length!==0)(e)?e:{block:"start",inline:"nearest"};function Qv(e,t){if(!e.isConnected||!(o=>{let i=o;for(;i&&i.parentNode;){if(i.parentNode===document)return!0;i=i.parentNode instanceof ShadowRoot?i.parentNode.host:i.parentNode}return!1})(e))return;const n=(o=>{const i=window.getComputedStyle(o);return{top:parseFloat(i.scrollMarginTop)||0,right:parseFloat(i.scrollMarginRight)||0,bottom:parseFloat(i.scrollMarginBottom)||0,left:parseFloat(i.scrollMarginLeft)||0}})(e);if((o=>typeof o=="object"&&typeof o.behavior=="function")(t))return t.behavior(YZ(e,t));const r=typeof t=="boolean"||t==null?void 0:t.behavior;for(const{el:o,top:i,left:s}of YZ(e,ROt(t))){const a=i-n.top+n.bottom,c=s-n.left+n.right;o.scroll({top:a,left:c,behavior:r})}}/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function GZ(e){return Object.prototype.toString.call(e)==="[object Object]"}function _i(e){var t,n;return GZ(e)===!1?!1:(t=e.constructor,t===void 0?!0:(n=t.prototype,!(GZ(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)))}var n5e=Symbol.for("immer-nothing"),KZ=Symbol.for("immer-draftable"),ia=Symbol.for("immer-state");function ml(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Jv=Object.getPrototypeOf;function Kp(e){return!!e&&!!e[ia]}function Zp(e){var t;return e?r5e(e)||Array.isArray(e)||!!e[KZ]||!!((t=e.constructor)!=null&&t[KZ])||ZT(e)||XT(e):!1}var $Ot=Object.prototype.constructor.toString();function r5e(e){if(!e||typeof e!="object")return!1;const t=Jv(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===$Ot}function vx(e,t){KT(e)===0?Object.entries(e).forEach(([n,r])=>{t(n,r,e)}):e.forEach((n,r)=>t(r,n,e))}function KT(e){const t=e[ia];return t?t.type_:Array.isArray(e)?1:ZT(e)?2:XT(e)?3:0}function rM(e,t){return KT(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function o5e(e,t,n){const r=KT(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function MOt(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ZT(e){return e instanceof Map}function XT(e){return e instanceof Set}function Wh(e){return e.copy_||e.base_}function oM(e,t){if(ZT(e))return new Map(e);if(XT(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&r5e(e))return Jv(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[ia];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const i=r[o],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[i]})}return Object.create(Jv(e),n)}function W9(e,t=!1){return QT(e)||Kp(e)||!Zp(e)||(KT(e)>1&&(e.set=e.add=e.clear=e.delete=FOt),Object.freeze(e),t&&vx(e,(n,r)=>W9(r,!0))),e}function FOt(){ml(2)}function QT(e){return Object.isFrozen(e)}var LOt={};function Xp(e){const t=LOt[e];return t||ml(0,e),t}var yx;function i5e(){return yx}function BOt(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ZZ(e,t){t&&(Xp("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iM(e){sM(e),e.drafts_.forEach(NOt),e.drafts_=null}function sM(e){e===yx&&(yx=e.parent_)}function XZ(e){return yx=BOt(yx,e)}function NOt(e){const t=e[ia];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function QZ(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ia].modified_&&(iM(t),ml(4)),Zp(e)&&(e=Bk(t,e),t.parent_||Nk(t,e)),t.patches_&&Xp("Patches").generateReplacementPatches_(n[ia].base_,e,t.patches_,t.inversePatches_)):e=Bk(t,n,[]),iM(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==n5e?e:void 0}function Bk(e,t,n){if(QT(t))return t;const r=t[ia];if(!r)return vx(t,(o,i)=>JZ(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Nk(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),vx(i,(a,c)=>JZ(e,r,o,a,c,n,s)),Nk(e,o,!1),n&&e.patches_&&Xp("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function JZ(e,t,n,r,o,i,s){if(Kp(o)){const a=i&&t&&t.type_!==3&&!rM(t.assigned_,r)?i.concat(r):void 0,c=Bk(e,o,a);if(o5e(n,r,c),Kp(c))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(Zp(o)&&!QT(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bk(e,o),(!t||!t.scope_.parent_)&&Nk(e,o)}}function Nk(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&W9(t,n)}function zOt(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:i5e(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=q9;n&&(o=[r],i=bx);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var q9={get(e,t){if(t===ia)return e;const n=Wh(e);if(!rM(n,t))return VOt(e,n,t);const r=n[t];return e.finalized_||!Zp(r)?r:r===B3(e.base_,t)?(N3(e),e.copy_[t]=lM(r,e)):r},has(e,t){return t in Wh(e)},ownKeys(e){return Reflect.ownKeys(Wh(e))},set(e,t,n){const r=s5e(Wh(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=B3(Wh(e),t),i=o==null?void 0:o[ia];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(MOt(n,o)&&(n!==void 0||rM(e.base_,t)))return!0;N3(e),aM(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return B3(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,N3(e),aM(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Wh(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){ml(11)},getPrototypeOf(e){return Jv(e.base_)},setPrototypeOf(){ml(12)}},bx={};vx(q9,(e,t)=>{bx[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});bx.deleteProperty=function(e,t){return bx.set.call(this,e,t,void 0)};bx.set=function(e,t,n){return q9.set.call(this,e[0],t,n,e[0])};function B3(e,t){const n=e[ia];return(n?Wh(n):e)[t]}function VOt(e,t,n){var o;const r=s5e(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function s5e(e,t){if(!(t in e))return;let n=Jv(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Jv(n)}}function aM(e){e.modified_||(e.modified_=!0,e.parent_&&aM(e.parent_))}function N3(e){e.copy_||(e.copy_=oM(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var HOt=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(c=i,...u){return s.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&ml(6),r!==void 0&&typeof r!="function"&&ml(7);let o;if(Zp(t)){const i=XZ(this),s=lM(t,void 0);let a=!0;try{o=n(s),a=!1}finally{a?iM(i):sM(i)}return ZZ(i,r),QZ(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===n5e&&(o=void 0),this.autoFreeze_&&W9(o,!0),r){const i=[],s=[];Xp("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else ml(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,c=>t(c,...a));let r,o;return[this.produce(t,n,(s,a)=>{r=s,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zp(e)||ml(8),Kp(e)&&(e=UOt(e));const t=XZ(this),n=lM(e,void 0);return n[ia].isManual_=!0,sM(t),n}finishDraft(e,t){const n=e&&e[ia];(!n||!n.isManual_)&&ml(9);const{scope_:r}=n;return ZZ(r,t),QZ(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=Xp("Patches").applyPatches_;return Kp(e)?r(e,t):this.produce(e,o=>r(o,t))}};function lM(e,t){const n=ZT(e)?Xp("MapSet").proxyMap_(e,t):XT(e)?Xp("MapSet").proxySet_(e,t):zOt(e,t);return(t?t.scope_:i5e()).drafts_.push(n),n}function UOt(e){return Kp(e)||ml(10,e),a5e(e)}function a5e(e){if(!Zp(e)||QT(e))return e;const t=e[ia];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=oM(e,t.scope_.immer_.useStrictShallowCopy_)}else n=oM(e,!0);return vx(n,(r,o)=>{o5e(n,r,a5e(o))}),t&&(t.finalized_=!1),n}var sa=new HOt,Y9=sa.produce;sa.produceWithPatches.bind(sa);sa.setAutoFreeze.bind(sa);sa.setUseStrictShallowCopy.bind(sa);sa.applyPatches.bind(sa);var eX=sa.createDraft.bind(sa),tX=sa.finishDraft.bind(sa),WOt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=J.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},qOt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=Ot.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},YOt={transform(e,t){var{current:n,affinity:r}=e;if(n!=null){var o=ue.transform(n,t,{affinity:r});e.current=o,o==null&&e.unref()}}},zk=new WeakMap,Vk=new WeakMap,yb=new WeakMap,l5e=new WeakMap,nX=new WeakMap,rX=new WeakMap,oX=new WeakMap,J={ancestors(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=J.levels(e,t);return n?r=r.slice(1):r=r.slice(0,-1),r},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var o=e[r],i=t[r];if(o!==i)break;n.push(o)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i>s},endsAt(e,t){var n=e.length,r=e.slice(0,n),o=t.slice(0,n);return J.equals(r,o)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),o=t.slice(0,n),i=e[n],s=t[n];return J.equals(r,o)&&i<s},equals(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])},hasPrevious(e){return e[e.length-1]>0},isAfter(e,t){return J.compare(e,t)===1},isAncestor(e,t){return e.length<t.length&&J.compare(e,t)===0},isBefore(e,t){return J.compare(e,t)===-1},isChild(e,t){return e.length===t.length+1&&J.compare(e,t)===0},isCommon(e,t){return e.length<=t.length&&J.compare(e,t)===0},isDescendant(e,t){return e.length>t.length&&J.compare(e,t)===0},isParent(e,t){return e.length+1===t.length&&J.compare(e,t)===0},isPath(e){return Array.isArray(e)&&(e.length===0||typeof e[0]=="number")},isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1),o=e[e.length-1],i=t[t.length-1];return o!==i&&J.equals(n,r)},levels(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,r=[],o=0;o<=e.length;o++)r.push(e.slice(0,o));return n&&r.reverse(),r},next(e){if(e.length===0)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(e.length===0)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(e.length===0)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!J.isAncestor(t,e)&&!J.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:o="forward"}=n;if(e.length===0)return r;switch(t.type){case"insert_node":{var{path:i}=t;(J.equals(i,r)||J.endsBefore(i,r)||J.isAncestor(i,r))&&(r[i.length-1]+=1);break}case"remove_node":{var{path:s}=t;if(J.equals(s,r)||J.isAncestor(s,r))return null;J.endsBefore(s,r)&&(r[s.length-1]-=1);break}case"merge_node":{var{path:a,position:c}=t;J.equals(a,r)||J.endsBefore(a,r)?r[a.length-1]-=1:J.isAncestor(a,r)&&(r[a.length-1]-=1,r[a.length]+=c);break}case"split_node":{var{path:u,position:d}=t;if(J.equals(u,r)){if(o==="forward")r[r.length-1]+=1;else if(o!=="backward")return null}else J.endsBefore(u,r)?r[u.length-1]+=1:J.isAncestor(u,r)&&e[u.length]>=d&&(r[u.length-1]+=1,r[u.length]-=d);break}case"move_node":{var{path:f,newPath:p}=t;if(J.equals(f,p))return r;if(J.isAncestor(f,r)||J.equals(f,r)){var m=p.slice();return J.endsBefore(f,p)&&f.length<p.length&&(m[f.length-1]-=1),m.concat(r.slice(f.length))}else J.isSibling(f,p)&&(J.isAncestor(p,r)||J.equals(p,r))?J.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:J.endsBefore(p,r)||J.equals(p,r)||J.isAncestor(p,r)?(J.endsBefore(f,r)&&(r[f.length-1]-=1),r[p.length-1]+=1):J.endsBefore(f,r)&&(J.equals(p,r)&&(r[p.length-1]+=1),r[f.length-1]-=1);break}}return r}};function xx(e){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xx(e)}function GOt(e,t){if(xx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(xx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KOt(e){var t=GOt(e,"string");return xx(t)==="symbol"?t:String(t)}function ss(e,t,n){return t=KOt(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function q1(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ZOt=(e,t,n)=>{switch(n.type){case"insert_node":{var{path:r,node:o}=n,i=_e.parent(e,r),s=r[r.length-1];if(s>i.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(i.children.splice(s,0,o),t)for(var[a,c]of ue.points(t))t[c]=Ot.transform(a,n);break}case"insert_text":{var{path:u,offset:d,text:f}=n;if(f.length===0)break;var p=_e.leaf(e,u),m=p.text.slice(0,d),v=p.text.slice(d);if(p.text=m+f+v,t)for(var[g,b]of ue.points(t))t[b]=Ot.transform(g,n);break}case"merge_node":{var{path:x}=n,y=_e.get(e,x),w=J.previous(x),C=_e.get(e,w),_=_e.parent(e,x),S=x[x.length-1];if(we.isText(y)&&we.isText(C))C.text+=y.text;else if(!we.isText(y)&&!we.isText(C))C.children.push(...y.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(Bo.stringify(y)," ").concat(Bo.stringify(C)));if(_.children.splice(S,1),t)for(var[E,j]of ue.points(t))t[j]=Ot.transform(E,n);break}case"move_node":{var{path:k,newPath:T}=n;if(J.isAncestor(k,T))throw new Error("Cannot move a path [".concat(k,"] to new path [").concat(T,"] because the destination is inside itself."));var A=_e.get(e,k),D=_e.parent(e,k),I=k[k.length-1];D.children.splice(I,1);var O=J.transform(k,n),$=_e.get(e,J.parent(O)),R=O[O.length-1];if($.children.splice(R,0,A),t)for(var[z,B]of ue.points(t))t[B]=Ot.transform(z,n);break}case"remove_node":{var{path:U}=n,W=U[U.length-1],V=_e.parent(e,U);if(V.children.splice(W,1),t)for(var[K,te]of ue.points(t)){var N=Ot.transform(K,n);if(t!=null&&N!=null)t[te]=N;else{var G=void 0,q=void 0;for(var[Z,ie]of _e.texts(e))if(J.compare(ie,U)===-1)G=[Z,ie];else{q=[Z,ie];break}var ne=!1;G&&q&&(J.equals(q[1],U)?ne=!J.hasPrevious(q[1]):ne=J.common(G[1],U).length<J.common(q[1],U).length),G&&!ne?(K.path=G[1],K.offset=G[0].text.length):q?(K.path=q[1],K.offset=0):t=null}}break}case"remove_text":{var{path:Y,offset:X,text:ae}=n;if(ae.length===0)break;var he=_e.leaf(e,Y),ce=he.text.slice(0,X),xe=he.text.slice(X+ae.length);if(he.text=ce+xe,t)for(var[Se,pe]of ue.points(t))t[pe]=Ot.transform(Se,n);break}case"set_node":{var{path:be,properties:Be,newProperties:$e}=n;if(be.length===0)throw new Error("Cannot set properties on the root node!");var ct=_e.get(e,be);for(var ot in $e){if(ot==="children"||ot==="text")throw new Error('Cannot set the "'.concat(ot,'" property of nodes!'));var Lt=$e[ot];Lt==null?delete ct[ot]:ct[ot]=Lt}for(var Rt in Be)$e.hasOwnProperty(Rt)||delete ct[Rt];break}case"set_selection":{var{newProperties:Ae}=n;if(Ae==null)t=Ae;else{if(t==null){if(!ue.isRange(Ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Bo.stringify(Ae)," when there is no current selection."));t=q1({},Ae)}for(var Ke in Ae){var Ye=Ae[Ke];if(Ye==null){if(Ke==="anchor"||Ke==="focus")throw new Error('Cannot remove the "'.concat(Ke,'" selection property'));delete t[Ke]}else t[Ke]=Ye}}break}case"split_node":{var{path:tt,position:wt,properties:Ee}=n;if(tt.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(tt,"] because the root node cannot be split."));var Ne=_e.get(e,tt),ut=_e.parent(e,tt),ui=tt[tt.length-1],er;if(we.isText(Ne)){var Go=Ne.text.slice(0,wt),Yt=Ne.text.slice(wt);Ne.text=Go,er=q1(q1({},Ee),{},{text:Yt})}else{var no=Ne.children.slice(0,wt),sl=Ne.children.slice(wt);Ne.children=no,er=q1(q1({},Ee),{},{children:sl})}if(ut.children.splice(ui+1,0,er),t)for(var[al,Is]of ue.points(t))t[Is]=Ot.transform(al,n);break}}return t},XOt={transform(e,t){e.children=eX(e.children);var n=e.selection&&eX(e.selection);try{n=ZOt(e,n,t)}finally{e.children=tX(e.children),n?e.selection=Kp(n)?tX(n):n:e.selection=null}}},QOt={insertNodes(e,t,n){e.insertNodes(t,n)},liftNodes(e,t){e.liftNodes(t)},mergeNodes(e,t){e.mergeNodes(t)},moveNodes(e,t){e.moveNodes(t)},removeNodes(e,t){e.removeNodes(t)},setNodes(e,t,n){e.setNodes(t,n)},splitNodes(e,t){e.splitNodes(t)},unsetNodes(e,t,n){e.unsetNodes(t,n)},unwrapNodes(e,t){e.unwrapNodes(t)},wrapNodes(e,t,n){e.wrapNodes(t,n)}},JOt={collapse(e,t){e.collapse(t)},deselect(e){e.deselect()},move(e,t){e.move(t)},select(e,t){e.select(t)},setPoint(e,t,n){e.setPoint(t,n)},setSelection(e,t){e.setSelection(t)}},c5e=(e,t)=>{for(var n in e){var r=e[n],o=t[n];if(_i(r)&&_i(o)){if(!c5e(r,o))return!1}else if(Array.isArray(r)&&Array.isArray(o)){if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++)if(r[i]!==o[i])return!1}else if(r!==o)return!1}for(var s in t)if(e[s]===void 0&&t[s]!==void 0)return!1;return!0};function ePt(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function qu(e,t){if(e==null)return{};var n=ePt(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var tPt=["anchor","focus"];function sX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function nPt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ue={edges(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:o}=e;return ue.isBackward(e)===n?[r,o]:[o,r]},end(e){var[,t]=ue.edges(e);return t},equals(e,t){return Ot.equals(e.anchor,t.anchor)&&Ot.equals(e.focus,t.focus)},includes(e,t){if(ue.isRange(t)){if(ue.includes(e,t.anchor)||ue.includes(e,t.focus))return!0;var[n,r]=ue.edges(e),[o,i]=ue.edges(t);return Ot.isBefore(n,o)&&Ot.isAfter(r,i)}var[s,a]=ue.edges(e),c=!1,u=!1;return Ot.isPoint(t)?(c=Ot.compare(t,s)>=0,u=Ot.compare(t,a)<=0):(c=J.compare(t,s.path)>=0,u=J.compare(t,a.path)<=0),c&&u},intersection(e,t){var n=qu(e,tPt),[r,o]=ue.edges(e),[i,s]=ue.edges(t),a=Ot.isBefore(r,i)?i:r,c=Ot.isBefore(o,s)?o:s;return Ot.isBefore(c,a)?null:nPt({anchor:a,focus:c},n)},isBackward(e){var{anchor:t,focus:n}=e;return Ot.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return Ot.equals(t,n)},isExpanded(e){return!ue.isCollapsed(e)},isForward(e){return!ue.isBackward(e)},isRange(e){return _i(e)&&Ot.isPoint(e.anchor)&&Ot.isPoint(e.focus)},*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=ue.edges(e);return t},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Y9(e,r=>{if(r===null)return null;var{affinity:o="inward"}=n,i,s;if(o==="inward"){var a=ue.isCollapsed(r);ue.isForward(r)?(i="forward",s=a?i:"backward"):(i="backward",s=a?i:"forward")}else o==="outward"?ue.isForward(r)?(i="backward",s="forward"):(i="forward",s="backward"):(i=o,s=o);var c=Ot.transform(r.anchor,t,{affinity:i}),u=Ot.transform(r.focus,t,{affinity:s});if(!c||!u)return null;r.anchor=c,r.focus=u})}},aX=e=>_i(e)&&_e.isNodeList(e.children)&&!F.isEditor(e),Oe={isAncestor(e){return _i(e)&&_e.isNodeList(e.children)},isElement:aX,isElementList(e){return Array.isArray(e)&&e.every(t=>Oe.isElement(t))},isElementProps(e){return e.children!==void 0},isElementType:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return aX(t)&&t[r]===n},matches(e,t){for(var n in t)if(n!=="children"&&e[n]!==t[n])return!1;return!0}},rPt=["children"],oPt=["text"],lX=new WeakMap,_e={ancestor(e,t){var n=_e.get(e,t);if(we.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(Bo.stringify(n)));return n},ancestors(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of J.ancestors(t,n)){var o=_e.ancestor(e,r),i=[o,r];yield i}}()},child(e,t){if(we.isText(e))throw new Error("Cannot get the child of a text node: ".concat(Bo.stringify(e)));var n=e.children[t];if(n==null)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(Bo.stringify(e)));return n},children(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:r=!1}=n,o=_e.ancestor(e,t),{children:i}=o,s=r?i.length-1:0;r?s>=0:s<i.length;){var a=_e.child(o,s),c=t.concat(s);yield[a,c],s=r?s-1:s+1}}()},common(e,t,n){var r=J.common(t,n),o=_e.get(e,r);return[o,r]},descendant(e,t){var n=_e.get(e,t);if(F.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(Bo.stringify(n)));return n},descendants(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of _e.nodes(e,t))r.length!==0&&(yield[n,r])}()},elements(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of _e.nodes(e,t))Oe.isElement(n)&&(yield[n,r])}()},extractProps(e){if(Oe.isAncestor(e)){var t=qu(e,rPt);return t}else{var t=qu(e,oPt);return t}},first(e,t){for(var n=t.slice(),r=_e.get(e,n);r&&!(we.isText(r)||r.children.length===0);)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(we.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Bo.stringify(e)));var n=Y9({children:e.children},r=>{var[o,i]=ue.edges(t),s=_e.nodes(r,{reverse:!0,pass:p=>{var[,m]=p;return!ue.includes(t,m)}});for(var[,a]of s){if(!ue.includes(t,a)){var c=_e.parent(r,a),u=a[a.length-1];c.children.splice(u,1)}if(J.equals(a,i.path)){var d=_e.leaf(r,a);d.text=d.text.slice(0,i.offset)}if(J.equals(a,o.path)){var f=_e.leaf(r,a);f.text=f.text.slice(o.offset)}}F.isEditor(r)&&(r.selection=null)});return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(Bo.stringify(e)));n=n.children[o]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var o=t[r];if(we.isText(n)||!n.children[o])return!1;n=n.children[o]}return!0},isNode(e){return we.isText(e)||Oe.isElement(e)||F.isEditor(e)},isNodeList(e){if(!Array.isArray(e))return!1;var t=lX.get(e);if(t!==void 0)return t;var n=e.every(r=>_e.isNode(r));return lX.set(e,n),n},last(e,t){for(var n=t.slice(),r=_e.get(e,n);r&&!(we.isText(r)||r.children.length===0);){var o=r.children.length-1;r=r.children[o],n.push(o)}return[r,n]},leaf(e,t){var n=_e.get(e,t);if(!we.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(Bo.stringify(n)));return n},levels(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var r of J.levels(t,n)){var o=_e.get(e,r);yield[o,r]}}()},matches(e,t){return Oe.isElement(e)&&Oe.isElementProps(t)&&Oe.matches(e,t)||we.isText(e)&&we.isTextProps(t)&&we.matches(e,t)},nodes(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:n,reverse:r=!1}=t,{from:o=[],to:i}=t,s=new Set,a=[],c=e;!(i&&(r?J.isBefore(a,i):J.isAfter(a,i)));){if(s.has(c)||(yield[c,a]),!s.has(c)&&!we.isText(c)&&c.children.length!==0&&(n==null||n([c,a])===!1)){s.add(c);var u=r?c.children.length-1:0;J.isAncestor(a,o)&&(u=o[a.length]),a=a.concat(u),c=_e.get(e,a);continue}if(a.length===0)break;if(!r){var d=J.next(a);if(_e.has(e,d)){a=d,c=_e.get(e,a);continue}}if(r&&a[a.length-1]!==0){var f=J.previous(a);a=f,c=_e.get(e,a);continue}a=J.parent(a),c=_e.get(e,a),s.add(c)}}()},parent(e,t){var n=J.parent(t),r=_e.get(e,n);if(we.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string(e){return we.isText(e)?e.text:e.children.map(_e.string).join("")},texts(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[n,r]of _e.nodes(e,t))we.isText(n)&&(yield[n,r])}()}};function cX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ug={isNodeOperation(e){return Ug.isOperation(e)&&e.type.endsWith("_node")},isOperation(e){if(!_i(e))return!1;switch(e.type){case"insert_node":return J.isPath(e.path)&&_e.isNode(e.node);case"insert_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"merge_node":return typeof e.position=="number"&&J.isPath(e.path)&&_i(e.properties);case"move_node":return J.isPath(e.path)&&J.isPath(e.newPath);case"remove_node":return J.isPath(e.path)&&_e.isNode(e.node);case"remove_text":return typeof e.offset=="number"&&typeof e.text=="string"&&J.isPath(e.path);case"set_node":return J.isPath(e.path)&&_i(e.properties)&&_i(e.newProperties);case"set_selection":return e.properties===null&&ue.isRange(e.newProperties)||e.newProperties===null&&ue.isRange(e.properties)||_i(e.properties)&&_i(e.newProperties);case"split_node":return J.isPath(e.path)&&typeof e.position=="number"&&_i(e.properties);default:return!1}},isOperationList(e){return Array.isArray(e)&&e.every(t=>Ug.isOperation(t))},isSelectionOperation(e){return Ug.isOperation(e)&&e.type.endsWith("_selection")},isTextOperation(e){return Ug.isOperation(e)&&e.type.endsWith("_text")},inverse(e){switch(e.type){case"insert_node":return vr(vr({},e),{},{type:"remove_node"});case"insert_text":return vr(vr({},e),{},{type:"remove_text"});case"merge_node":return vr(vr({},e),{},{type:"split_node",path:J.previous(e.path)});case"move_node":{var{newPath:t,path:n}=e;if(J.equals(t,n))return e;if(J.isSibling(n,t))return vr(vr({},e),{},{path:t,newPath:n});var r=J.transform(n,e),o=J.transform(J.next(n),e);return vr(vr({},e),{},{path:r,newPath:o})}case"remove_node":return vr(vr({},e),{},{type:"insert_node"});case"remove_text":return vr(vr({},e),{},{type:"insert_text"});case"set_node":{var{properties:i,newProperties:s}=e;return vr(vr({},e),{},{properties:s,newProperties:i})}case"set_selection":{var{properties:a,newProperties:c}=e;return a==null?vr(vr({},e),{},{properties:c,newProperties:null}):c==null?vr(vr({},e),{},{properties:null,newProperties:a}):vr(vr({},e),{},{properties:c,newProperties:a})}case"split_node":return vr(vr({},e),{},{type:"merge_node",path:J.next(e.path)})}}},uX=new WeakMap,iPt=e=>{var t=uX.get(e);if(t!==void 0)return t;if(!_i(e))return!1;var n=typeof e.addMark=="function"&&typeof e.apply=="function"&&typeof e.deleteFragment=="function"&&typeof e.insertBreak=="function"&&typeof e.insertSoftBreak=="function"&&typeof e.insertFragment=="function"&&typeof e.insertNode=="function"&&typeof e.insertText=="function"&&typeof e.isElementReadOnly=="function"&&typeof e.isInline=="function"&&typeof e.isSelectable=="function"&&typeof e.isVoid=="function"&&typeof e.normalizeNode=="function"&&typeof e.onChange=="function"&&typeof e.removeMark=="function"&&typeof e.getDirtyPaths=="function"&&(e.marks===null||_i(e.marks))&&(e.selection===null||ue.isRange(e.selection))&&_e.isNodeList(e.children)&&Ug.isOperationList(e.operations);return uX.set(e,n),n},F={above(e,t){return e.above(t)},addMark(e,t,n){e.addMark(t,n)},after(e,t,n){return e.after(t,n)},before(e,t,n){return e.before(t,n)},deleteBackward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e,t){e.deleteFragment(t)},edges(e,t){return e.edges(t)},elementReadOnly(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.elementReadOnly(t)},end(e,t){return e.end(t)},first(e,t){return e.first(t)},fragment(e,t){return e.fragment(t)},hasBlocks(e,t){return e.hasBlocks(t)},hasInlines(e,t){return e.hasInlines(t)},hasPath(e,t){return e.hasPath(t)},hasTexts(e,t){return e.hasTexts(t)},insertBreak(e){e.insertBreak()},insertFragment(e,t,n){e.insertFragment(t,n)},insertNode(e,t){e.insertNode(t)},insertSoftBreak(e){e.insertSoftBreak()},insertText(e,t){e.insertText(t)},isBlock(e,t){return e.isBlock(t)},isEdge(e,t,n){return e.isEdge(t,n)},isEditor(e){return iPt(e)},isElementReadOnly(e,t){return e.isElementReadOnly(t)},isEmpty(e,t){return e.isEmpty(t)},isEnd(e,t,n){return e.isEnd(t,n)},isInline(e,t){return e.isInline(t)},isNormalizing(e){return e.isNormalizing()},isSelectable(e,t){return e.isSelectable(t)},isStart(e,t,n){return e.isStart(t,n)},isVoid(e,t){return e.isVoid(t)},last(e,t){return e.last(t)},leaf(e,t,n){return e.leaf(t,n)},levels(e,t){return e.levels(t)},marks(e){return e.getMarks()},next(e,t){return e.next(t)},node(e,t,n){return e.node(t,n)},nodes(e,t){return e.nodes(t)},normalize(e,t){e.normalize(t)},parent(e,t,n){return e.parent(t,n)},path(e,t,n){return e.path(t,n)},pathRef(e,t,n){return e.pathRef(t,n)},pathRefs(e){return e.pathRefs()},point(e,t,n){return e.point(t,n)},pointRef(e,t,n){return e.pointRef(t,n)},pointRefs(e){return e.pointRefs()},positions(e,t){return e.positions(t)},previous(e,t){return e.previous(t)},range(e,t,n){return e.range(t,n)},rangeRef(e,t,n){return e.rangeRef(t,n)},rangeRefs(e){return e.rangeRefs()},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){e.setNormalizing(t)},start(e,t){return e.start(t)},string(e,t,n){return e.string(t,n)},unhangRange(e,t,n){return e.unhangRange(t,n)},void(e,t){return e.void(t)},withoutNormalizing(e,t){e.withoutNormalizing(t)}},sPt={isSpan(e){return Array.isArray(e)&&e.length===2&&e.every(J.isPath)}};function dX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function fX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Ot={compare(e,t){var n=J.compare(e.path,t.path);return n===0?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter(e,t){return Ot.compare(e,t)===1},isBefore(e,t){return Ot.compare(e,t)===-1},equals(e,t){return e.offset===t.offset&&J.equals(e.path,t.path)},isPoint(e){return _i(e)&&typeof e.offset=="number"&&J.isPath(e.path)},transform(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Y9(e,r=>{if(r===null)return null;var{affinity:o="forward"}=n,{path:i,offset:s}=r;switch(t.type){case"insert_node":case"move_node":{r.path=J.transform(i,t,n);break}case"insert_text":{J.equals(t.path,i)&&(t.offset<s||t.offset===s&&o==="forward")&&(r.offset+=t.text.length);break}case"merge_node":{J.equals(t.path,i)&&(r.offset+=t.position),r.path=J.transform(i,t,n);break}case"remove_text":{J.equals(t.path,i)&&t.offset<=s&&(r.offset-=Math.min(s-t.offset,t.text.length));break}case"remove_node":{if(J.equals(t.path,i)||J.isAncestor(t.path,i))return null;r.path=J.transform(i,t,n);break}case"split_node":{if(J.equals(t.path,i)){if(t.position===s&&o==null)return null;(t.position<s||t.position===s&&o==="forward")&&(r.offset-=t.position,r.path=J.transform(i,t,fX(fX({},n),{},{affinity:"forward"})))}else r.path=J.transform(i,t,n);break}}})}},hX=void 0,Bo={setScrubber(e){hX=e},stringify(e){return JSON.stringify(e,hX)}},aPt=["text"],lPt=["anchor","focus"];function pX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var we={equals(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:r=!1}=n;function o(i){var s=qu(i,aPt);return s}return c5e(r?o(e):e,r?o(t):t)},isText(e){return _i(e)&&typeof e.text=="string"},isTextList(e){return Array.isArray(e)&&e.every(t=>we.isText(t))},isTextProps(e){return e.text!==void 0},matches(e,t){for(var n in t)if(n!=="text"&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Zc({},e)];for(var r of t){var o=qu(r,lPt),[i,s]=ue.edges(r),a=[],c=0,u=i.offset,d=s.offset;for(var f of n){var{length:p}=f.text,m=c;if(c+=p,u<=m&&c<=d){Object.assign(f,o),a.push(f);continue}if(u!==d&&(u===c||d===m)||u>c||d<m||d===m&&m!==0){a.push(f);continue}var v=f,g=void 0,b=void 0;if(d<c){var x=d-m;b=Zc(Zc({},v),{},{text:v.text.slice(x)}),v=Zc(Zc({},v),{},{text:v.text.slice(0,x)})}if(u>m){var y=u-m;g=Zc(Zc({},v),{},{text:v.text.slice(0,y)}),v=Zc(Zc({},v),{},{text:v.text.slice(y)})}Object.assign(v,o),g&&a.push(g),a.push(v),b&&a.push(b)}n=a}return n}},G9=e=>e.selection?e.selection:e.children.length>0?F.end(e,[]):[0],W0=(e,t)=>{var[n]=F.node(e,t);return r=>r===n},K9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=!n,o=n?pPt(t):t,i=yt.None,s=yt.None,a=0,c=null,u=null;for(var d of o){var f=d.codePointAt(0);if(!f)break;var p=kPt(d,f);if([i,s]=r?[s,p]:[p,i],Wg(i,yt.ZWJ)&&Wg(s,yt.ExtPict)&&(r?c=mX(t.substring(0,a)):c=mX(t.substring(0,t.length-a)),!c)||Wg(i,yt.RI)&&Wg(s,yt.RI)&&(u!==null?u=!u:r?u=!0:u=IPt(t.substring(0,t.length-a)),!u)||i!==yt.None&&s!==yt.None&&TPt(i,s))break;a+=d.length}return a||1},cPt=/\s/,uPt=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,dPt=/['\u2018\u2019]/,fPt=function(t){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=0,o=!1;t.length>0;){var i=K9(t,n),[s,a]=Z9(t,i,n);if(hPt(s,a,n))o=!0,r+=i;else if(!o)r+=i;else break;t=a}return r},Z9=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},hPt=function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(cPt.test(t))return!1;if(dPt.test(t)){var o=K9(n,r),[i,s]=Z9(n,o,r);if(e(i,s,r))return!0}return!uPt.test(t)},pPt=function*(t){for(var n=t.length-1,r=0;r<t.length;r++){var o=t.charAt(n-r);if(gPt(o.charCodeAt(0))){var i=t.charAt(n-r-1);if(mPt(i.charCodeAt(0))){yield i+o,r++;continue}}yield o}},mPt=e=>e>=55296&&e<=56319,gPt=e=>e>=56320&&e<=57343,yt;(function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"})(yt||(yt={}));var vPt=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,yPt=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,bPt=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,xPt=/^[\u1100-\u115F\uA960-\uA97C]$/,wPt=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,CPt=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,_Pt=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,SPt=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,EPt=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,kPt=(e,t)=>{var n=yt.Any;return e.search(vPt)!==-1&&(n|=yt.Extend),t===8205&&(n|=yt.ZWJ),t>=127462&&t<=127487&&(n|=yt.RI),e.search(yPt)!==-1&&(n|=yt.Prepend),e.search(bPt)!==-1&&(n|=yt.SpacingMark),e.search(xPt)!==-1&&(n|=yt.L),e.search(wPt)!==-1&&(n|=yt.V),e.search(CPt)!==-1&&(n|=yt.T),e.search(_Pt)!==-1&&(n|=yt.LV),e.search(SPt)!==-1&&(n|=yt.LVT),e.search(EPt)!==-1&&(n|=yt.ExtPict),n};function Wg(e,t){return(e&t)!==0}var jPt=[[yt.L,yt.L|yt.V|yt.LV|yt.LVT],[yt.LV|yt.V,yt.V|yt.T],[yt.LVT|yt.T,yt.T],[yt.Any,yt.Extend|yt.ZWJ],[yt.Any,yt.SpacingMark],[yt.Prepend,yt.Any],[yt.ZWJ,yt.ExtPict],[yt.RI,yt.RI]];function TPt(e,t){return jPt.findIndex(n=>Wg(e,n[0])&&Wg(t,n[1]))===-1}var APt=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,mX=e=>e.search(APt)!==-1,DPt=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,IPt=e=>{var t=e.match(DPt);if(t===null)return!1;var n=t[0].length/2;return n%2===1},OPt={delete(e,t){e.delete(t)},insertFragment(e,t,n){e.insertFragment(t,n)},insertText(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(e,()=>{var{voids:r=!1}=n,{at:o=G9(e)}=n;if(J.isPath(o)&&(o=F.range(e,o)),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var i=ue.end(o);if(!r&&F.void(e,{at:i}))return;var s=ue.start(o),a=F.pointRef(e,s),c=F.pointRef(e,i);se.delete(e,{at:o,voids:r});var u=a.unref(),d=c.unref();o=u||d,se.setSelection(e,{anchor:o,focus:o})}if(!(!r&&F.void(e,{at:o})||F.elementReadOnly(e,{at:o}))){var{path:f,offset:p}=o;t.length>0&&e.apply({type:"insert_text",path:f,offset:p,text:t})}})}};function gX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function A_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var se=A_(A_(A_(A_({},XOt),QOt),JOt),OPt),PPt=(e,t)=>{for(var n of F.pathRefs(e))WOt.transform(n,t);for(var r of F.pointRefs(e))qOt.transform(r,t);for(var o of F.rangeRefs(e))YOt.transform(o,t);var i=zk.get(e)||[],s=Vk.get(e)||new Set,a,c,u=v=>{if(v){var g=v.join(",");c.has(g)||(c.add(g),a.push(v))}};if(J.operationCanTransformPath(t)){a=[],c=new Set;for(var d of i){var f=J.transform(d,t);u(f)}}else a=i,c=s;var p=e.getDirtyPaths(t);for(var m of p)u(m);zk.set(e,a),Vk.set(e,c),se.transform(e,t),e.operations.push(t),F.normalize(e,{operation:t}),t.type==="set_selection"&&(e.marks=null),yb.get(e)||(yb.set(e,!0),Promise.resolve().then(()=>{yb.set(e,!1),e.onChange({operation:t}),e.operations=[]}))},RPt=(e,t)=>{switch(t.type){case"insert_text":case"remove_text":case"set_node":{var{path:n}=t;return J.levels(n)}case"insert_node":{var{node:r,path:o}=t,i=J.levels(o),s=we.isText(r)?[]:Array.from(_e.nodes(r),T=>{var[,A]=T;return o.concat(A)});return[...i,...s]}case"merge_node":{var{path:a}=t,c=J.ancestors(a),u=J.previous(a);return[...c,u]}case"move_node":{var{path:d,newPath:f}=t;if(J.equals(d,f))return[];var p=[],m=[];for(var v of J.ancestors(d)){var g=J.transform(v,t);p.push(g)}for(var b of J.ancestors(f)){var x=J.transform(b,t);m.push(x)}var y=m[m.length-1],w=f[f.length-1],C=y.concat(w);return[...p,...m,C]}case"remove_node":{var{path:_}=t,S=J.ancestors(_);return[...S]}case"split_node":{var{path:E}=t,j=J.levels(E),k=J.next(E);return[...j,k]}default:return[]}},$Pt=e=>{var{selection:t}=e;return t?_e.fragment(e,t):[]},MPt=(e,t)=>{var[n,r]=t;if(!we.isText(n)){if(Oe.isElement(n)&&n.children.length===0){var o={text:""};se.insertNodes(e,o,{at:r.concat(0),voids:!0});return}for(var i=F.isEditor(n)?!1:Oe.isElement(n)&&(e.isInline(n)||n.children.length===0||we.isText(n.children[0])||e.isInline(n.children[0])),s=0,a=0;a<n.children.length;a++,s++){var c=_e.get(e,r);if(!we.isText(c)){var u=c.children[s],d=c.children[s-1],f=a===n.children.length-1,p=we.isText(u)||Oe.isElement(u)&&e.isInline(u);if(p!==i)se.removeNodes(e,{at:r.concat(s),voids:!0}),s--;else if(Oe.isElement(u)){if(e.isInline(u)){if(d==null||!we.isText(d)){var m={text:""};se.insertNodes(e,m,{at:r.concat(s),voids:!0}),s++}else if(f){var v={text:""};se.insertNodes(e,v,{at:r.concat(s+1),voids:!0}),s++}}}else d!=null&&we.isText(d)&&(we.equals(u,d,{loose:!0})?(se.mergeNodes(e,{at:r.concat(s),voids:!0}),s--):d.text===""?(se.removeNodes(e,{at:r.concat(s-1),voids:!0}),s--):u.text===""&&(se.removeNodes(e,{at:r.concat(s),voids:!0}),s--))}}}},FPt=(e,t)=>{var{iteration:n,initialDirtyPathsLength:r}=t,o=r*42;if(n>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},LPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:r=!1,mode:o="lowest",at:i=t.selection,match:s}=n;if(i){var a=F.path(t,i),c=o==="lowest";for(var[u,d]of F.levels(t,{at:a,voids:r,match:s,reverse:c}))if(!we.isText(u)){if(ue.isRange(i)){if(J.isAncestor(d,i.anchor.path)&&J.isAncestor(d,i.focus.path))return[u,d]}else if(!J.equals(a,d))return[u,d]}}};function vX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function yX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var BPt=(e,t,n)=>{var{selection:r}=e;if(r){var o=(f,p)=>{if(!we.isText(f))return!1;var[m,v]=F.parent(e,p);return!e.isVoid(m)||e.markableVoid(m)},i=ue.isExpanded(r),s=!1;if(!i){var[a,c]=F.node(e,r);if(a&&o(a,c)){var[u]=F.parent(e,c);s=u&&e.markableVoid(u)}}if(i||s)se.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var d=yX(yX({},F.marks(e)||{}),{},{[t]:n});e.marks=d,yb.get(e)||e.onChange()}}};function bX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function xX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var NPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.point(t,n,{edge:"end"}),i=F.end(t,[]),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,xX(xX({},r),{},{at:s}))){if(c>a)break;c!==0&&(u=d),c++}return u};function wX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function CX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var zPt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.start(t,[]),i=F.point(t,n,{edge:"start"}),s={anchor:o,focus:i},{distance:a=1}=r,c=0,u;for(var d of F.positions(t,CX(CX({},r),{},{at:s,reverse:!0}))){if(c>a)break;c!==0&&(u=d),c++}return u},VPt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t,reverse:!0})},HPt=(e,t)=>{var{selection:n}=e;n&&ue.isCollapsed(n)&&se.delete(e,{unit:t})},UPt=function(t){var{direction:n="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t;r&&ue.isExpanded(r)&&se.delete(t,{reverse:n==="backward"})},WPt=(e,t)=>[F.start(e,t),F.end(e,t)];function _X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function SX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_X(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_X(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var qPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,SX(SX({},n),{},{match:r=>Oe.isElement(r)&&F.isElementReadOnly(t,r)}))},YPt=(e,t)=>F.point(e,t,{edge:"end"}),GPt=(e,t)=>{var n=F.path(e,t,{edge:"start"});return F.node(e,n)},KPt=(e,t)=>{var n=F.range(e,t);return _e.fragment(e,n)};function EX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function kX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?EX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var ZPt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return F.above(t,kX(kX({},n),{},{match:r=>Oe.isElement(r)&&F.isVoid(t,r)}))},XPt=(e,t)=>t.children.some(n=>Oe.isElement(n)&&F.isBlock(e,n)),QPt=(e,t)=>t.children.some(n=>we.isText(n)||F.isInline(e,n)),JPt=(e,t)=>_e.has(e,t),eRt=(e,t)=>t.children.every(n=>we.isText(n)),tRt=e=>{se.splitNodes(e,{always:!0})},nRt=(e,t,n)=>{se.insertNodes(e,t,n)},rRt=e=>{se.splitNodes(e,{always:!0})};function jX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oRt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var iRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:i}=t;if(o){if(i){var s=oRt({text:n},i);se.insertNodes(t,s,{at:r.at,voids:r.voids})}else se.insertText(t,n,r);t.marks=null}},sRt=(e,t)=>!e.isInline(t),aRt=(e,t,n)=>F.isStart(e,t,n)||F.isEnd(e,t,n),lRt=(e,t)=>{var{children:n}=t,[r]=n;return n.length===0||n.length===1&&we.isText(r)&&r.text===""&&!e.isVoid(t)},cRt=(e,t,n)=>{var r=F.end(e,n);return Ot.equals(t,r)},uRt=e=>{var t=l5e.get(e);return t===void 0?!0:t},dRt=(e,t,n)=>{if(t.offset!==0)return!1;var r=F.start(e,n);return Ot.equals(t,r)},fRt=(e,t)=>{var n=F.path(e,t,{edge:"end"});return F.node(e,n)},hRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=_e.leaf(t,o);return[i,o]};function pRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,reverse:r=!1,voids:o=!1}=t,{match:i}=t;if(i==null&&(i=()=>!0),!!n){var s=[],a=F.path(e,n);for(var[c,u]of _e.levels(e,a))if(i(c,u)&&(s.push([c,u]),!o&&Oe.isElement(c)&&F.isVoid(e,c)))break;r&&s.reverse(),yield*s}}()}var mRt=["text"],gRt=["text"],vRt=function(t){var{marks:n,selection:r}=t;if(!r)return null;if(n)return n;if(ue.isExpanded(r)){var[o]=F.nodes(t,{match:we.isText});if(o){var[i]=o,s=qu(i,mRt);return s}else return{}}var{anchor:a}=r,{path:c}=a,[u]=F.leaf(t,c);if(a.offset===0){var d=F.previous(t,{at:c,match:we.isText}),f=F.above(t,{match:x=>Oe.isElement(x)&&F.isVoid(t,x)&&t.markableVoid(x)});if(!f){var p=F.above(t,{match:x=>Oe.isElement(x)&&F.isBlock(t,x)});if(d&&p){var[m,v]=d,[,g]=p;J.isAncestor(g,v)&&(u=m)}}}var b=qu(u,gRt);return b},yRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.after(t,s,{voids:o});if(a){var[,c]=F.last(t,[]),u=[a.path,c];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the next node from the root node!");if(i==null)if(J.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{at:u,match:i,mode:r,voids:o});return f}}},bRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=_e.get(t,o);return[i,o]};function xRt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,mode:r="all",universal:o=!1,reverse:i=!1,voids:s=!1,ignoreNonSelectable:a=!1}=t,{match:c}=t;if(c||(c=()=>!0),!!n){var u,d;if(sPt.isSpan(n))u=n[0],d=n[1];else{var f=F.path(e,n,{edge:"start"}),p=F.path(e,n,{edge:"end"});u=i?p:f,d=i?f:p}var m=_e.nodes(e,{reverse:i,from:u,to:d,pass:C=>{var[_]=C;return Oe.isElement(_)?!!(!s&&(F.isVoid(e,_)||F.isElementReadOnly(e,_))||a&&!F.isSelectable(e,_)):!1}}),v=[],g;for(var[b,x]of m)if(!(a&&Oe.isElement(b)&&!F.isSelectable(e,b))){var y=g&&J.compare(x,g[1])===0;if(!(r==="highest"&&y)){if(!c(b,x)){if(o&&!y&&we.isText(b))return;continue}if(r==="lowest"&&y){g=[b,x];continue}var w=r==="lowest"?g:[b,x];w&&(o?v.push(w):yield w),g=[b,x]}}r==="lowest"&&g&&(o?v.push(g):yield g),o&&(yield*v)}}()}var wRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:r=!1,operation:o}=n,i=d=>zk.get(d)||[],s=d=>Vk.get(d)||new Set,a=d=>{var f=i(d).pop(),p=f.join(",");return s(d).delete(p),f};if(F.isNormalizing(t)){if(r){var c=Array.from(_e.nodes(t),d=>{var[,f]=d;return f}),u=new Set(c.map(d=>d.join(",")));zk.set(t,c),Vk.set(t,u)}i(t).length!==0&&F.withoutNormalizing(t,()=>{for(var d of i(t))if(_e.has(t,d)){var f=F.node(t,d),[p,m]=f;Oe.isElement(p)&&p.children.length===0&&t.normalizeNode(f,{operation:o})}for(var v=i(t),g=v.length,b=0;v.length!==0;){if(!t.shouldNormalize({dirtyPaths:v,iteration:b,initialDirtyPathsLength:g,operation:o}))return;var x=a(t);if(_e.has(t,x)){var y=F.node(t,x);t.normalizeNode(y,{operation:o})}b++,v=i(t)}})}},CRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=F.path(t,n,r),i=J.parent(o),s=F.node(t,i);return s},_Rt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pathRefs(t);return c.delete(i),i.current=null,a}},s=F.pathRefs(t);return s.add(i),i},SRt=e=>{var t=nX.get(e);return t||(t=new Set,nX.set(e,t)),t},ERt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:i}=r;if(J.isPath(n)){if(i==="start"){var[,s]=_e.first(t,n);n=s}else if(i==="end"){var[,a]=_e.last(t,n);n=a}}return ue.isRange(n)&&(i==="start"?n=ue.start(n):i==="end"?n=ue.end(n):n=J.common(n.anchor.path,n.focus.path)),Ot.isPoint(n)&&(n=n.path),o!=null&&(n=n.slice(0,o)),n},kRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.pointRefs(t);return c.delete(i),i.current=null,a}},s=F.pointRefs(t);return s.add(i),i},jRt=e=>{var t=rX.get(e);return t||(t=new Set,rX.set(e,t)),t},TRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=r;if(J.isPath(n)){var i;if(o==="end"){var[,s]=_e.last(t,n);i=s}else{var[,a]=_e.first(t,n);i=a}var c=_e.get(t,i);if(!we.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(n,"] because it has no ").concat(o," text node."));return{path:i,offset:o==="end"?c.text.length:0}}if(ue.isRange(n)){var[u,d]=ue.edges(n);return o==="start"?u:d}return n};function ARt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:n=e.selection,unit:r="offset",reverse:o=!1,voids:i=!1,ignoreNonSelectable:s=!1}=t;if(!n)return;var a=F.range(e,n),[c,u]=ue.edges(a),d=o?u:c,f=!1,p="",m=0,v=0,g=0;for(var[b,x]of F.nodes(e,{at:n,reverse:o,voids:i,ignoreNonSelectable:s})){if(Oe.isElement(b)){if(!i&&(e.isVoid(b)||e.isElementReadOnly(b))){yield F.start(e,x);continue}if(e.isInline(b))continue;if(F.hasInlines(e,b)){var y=J.isAncestor(x,u.path)?u:F.end(e,x),w=J.isAncestor(x,c.path)?c:F.start(e,x);p=F.string(e,{anchor:w,focus:y},{voids:i}),f=!0}}if(we.isText(b)){var C=J.equals(x,d.path);for(C?(v=o?d.offset:b.text.length-d.offset,g=d.offset):(v=b.text.length,g=o?v:0),(C||f||r==="offset")&&(yield{path:x,offset:g},f=!1);;){if(m===0){if(p==="")break;m=_(p,r,o),p=Z9(p,m,o)[1]}if(g=o?g-m:g+m,v=v-m,v<0){m=-v;break}m=0,yield{path:x,offset:g}}}}function _(S,E,j){return E==="character"?K9(S,j):E==="word"?fPt(S,j):E==="line"||E==="block"?S.length:1}}()}var DRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection}=n;if(s){var a=F.before(t,s,{voids:o});if(a){var[,c]=F.first(t,[]),u=[a.path,c];if(J.isPath(s)&&s.length===0)throw new Error("Cannot get the previous node from the root node!");if(i==null)if(J.isPath(s)){var[d]=F.parent(t,s);i=p=>d.children.includes(p)}else i=()=>!0;var[f]=F.nodes(t,{reverse:!0,at:u,match:i,mode:r,voids:o});return f}}},IRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=r,i={current:n,affinity:o,unref(){var{current:a}=i,c=F.rangeRefs(t);return c.delete(i),i.current=null,a}},s=F.rangeRefs(t);return s.add(i),i},ORt=e=>{var t=oX.get(e);return t||(t=new Set,oX.set(e,t)),t},PRt=(e,t,n)=>{if(ue.isRange(t)&&!n)return t;var r=F.start(e,t),o=F.end(e,n||t);return{anchor:r,focus:o}};function TX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function RRt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $Rt=(e,t)=>{var{selection:n}=e;if(n){var r=(d,f)=>{if(!we.isText(d))return!1;var[p,m]=F.parent(e,f);return!e.isVoid(p)||e.markableVoid(p)},o=ue.isExpanded(n),i=!1;if(!o){var[s,a]=F.node(e,n);if(s&&r(s,a)){var[c]=F.parent(e,a);i=c&&e.markableVoid(c)}}if(o||i)se.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var u=RRt({},F.marks(e)||{});delete u[t],e.marks=u,yb.get(e)||e.onChange()}}},MRt=(e,t)=>{l5e.set(e,t)},FRt=(e,t)=>F.point(e,t,{edge:"start"}),LRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,i=F.range(t,n),[s,a]=ue.edges(i),c="";for(var[u,d]of F.nodes(t,{at:i,match:we.isText,voids:o})){var f=u.text;J.equals(d,a.path)&&(f=f.slice(0,a.offset)),J.equals(d,s.path)&&(f=f.slice(s.offset)),c+=f}return c},BRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=r,[i,s]=ue.edges(n);if(i.offset!==0||s.offset!==0||ue.isCollapsed(n)||J.hasPrevious(s.path))return n;var a=F.above(t,{at:s,match:v=>Oe.isElement(v)&&F.isBlock(t,v),voids:o}),c=a?a[1]:[],u=F.start(t,i),d={anchor:u,focus:s},f=!0;for(var[p,m]of F.nodes(t,{at:d,match:we.isText,reverse:!0,voids:o})){if(f){f=!1;continue}if(p.text!==""||J.isBefore(m,c)){s={path:m,offset:p.text.length};break}}return{anchor:i,focus:s}},NRt=(e,t)=>{var n=F.isNormalizing(e);F.setNormalizing(e,!1);try{t()}finally{F.setNormalizing(e,n)}F.normalize(e)},zRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var r,o,{reverse:i=!1,unit:s="character",distance:a=1,voids:c=!1}=n,{at:u=t.selection,hanging:d=!1}=n;if(u){var f=!1;if(ue.isRange(u)&&ue.isCollapsed(u)&&(f=!0,u=u.anchor),Ot.isPoint(u)){var p=F.void(t,{at:u,mode:"highest"});if(!c&&p){var[,m]=p;u=m}else{var v={unit:s,distance:a},g=i?F.before(t,u,v)||F.start(t,[]):F.after(t,u,v)||F.end(t,[]);u={anchor:u,focus:g},d=!0}}if(J.isPath(u)){se.removeNodes(t,{at:u,voids:c});return}if(!ue.isCollapsed(u)){if(!d){var[,b]=ue.edges(u),x=F.end(t,[]);Ot.equals(b,x)||(u=F.unhangRange(t,u,{voids:c}))}var[y,w]=ue.edges(u),C=F.above(t,{match:ce=>Oe.isElement(ce)&&F.isBlock(t,ce),at:y,voids:c}),_=F.above(t,{match:ce=>Oe.isElement(ce)&&F.isBlock(t,ce),at:w,voids:c}),S=C&&_&&!J.equals(C[1],_[1]),E=J.equals(y.path,w.path),j=c?null:(r=F.void(t,{at:y,mode:"highest"}))!==null&&r!==void 0?r:F.elementReadOnly(t,{at:y,mode:"highest"}),k=c?null:(o=F.void(t,{at:w,mode:"highest"}))!==null&&o!==void 0?o:F.elementReadOnly(t,{at:w,mode:"highest"});if(j){var T=F.before(t,y);T&&C&&J.isAncestor(C[1],T.path)&&(y=T)}if(k){var A=F.after(t,w);A&&_&&J.isAncestor(_[1],A.path)&&(w=A)}var D=[],I;for(var O of F.nodes(t,{at:u,voids:c})){var[$,R]=O;I&&J.compare(R,I)===0||(!c&&Oe.isElement($)&&(F.isVoid(t,$)||F.isElementReadOnly(t,$))||!J.isCommon(R,y.path)&&!J.isCommon(R,w.path))&&(D.push(O),I=R)}var z=Array.from(D,ce=>{var[,xe]=ce;return F.pathRef(t,xe)}),B=F.pointRef(t,y),U=F.pointRef(t,w),W="";if(!E&&!j){var V=B.current,[K]=F.leaf(t,V),{path:te}=V,{offset:N}=y,G=K.text.slice(N);G.length>0&&(t.apply({type:"remove_text",path:te,offset:N,text:G}),W=G)}if(z.reverse().map(ce=>ce.unref()).filter(ce=>ce!==null).forEach(ce=>se.removeNodes(t,{at:ce,voids:c})),!k){var q=U.current,[Z]=F.leaf(t,q),{path:ie}=q,ne=E?y.offset:0,Y=Z.text.slice(ne,w.offset);Y.length>0&&(t.apply({type:"remove_text",path:ie,offset:ne,text:Y}),W=Y)}!E&&S&&U.current&&B.current&&se.mergeNodes(t,{at:U.current,hanging:!0,voids:c}),f&&i&&s==="character"&&W.length>1&&W.match(/[\u0E00-\u0E7F]+/)&&se.insertText(t,W.slice(0,W.length-a));var X=B.unref(),ae=U.unref(),he=i?X||ae:ae||X;n.at==null&&he&&se.select(t,he)}}})},VRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1}=r,{at:s=G9(t)}=r;if(n.length){if(ue.isRange(s))if(o||(s=F.unhangRange(t,s,{voids:i})),ue.isCollapsed(s))s=s.anchor;else{var[,a]=ue.edges(s);if(!i&&F.void(t,{at:a}))return;var c=F.pointRef(t,a);se.delete(t,{at:s}),s=c.unref()}else J.isPath(s)&&(s=F.start(t,s));if(!(!i&&F.void(t,{at:s}))){var u=F.above(t,{at:s,match:N=>Oe.isElement(N)&&F.isInline(t,N),mode:"highest",voids:i});if(u){var[,d]=u;if(F.isEnd(t,s,d)){var f=F.after(t,d);s=f}else if(F.isStart(t,s,d)){var p=F.before(t,d);s=p}}var m=F.above(t,{match:N=>Oe.isElement(N)&&F.isBlock(t,N),at:s,voids:i}),[,v]=m,g=F.isStart(t,s,v),b=F.isEnd(t,s,v),x=g&&b,y=!g||g&&b,w=!b,[,C]=_e.first({children:n},[]),[,_]=_e.last({children:n},[]),S=[],E=N=>{var[G,q]=N,Z=q.length===0;return Z?!1:x?!0:!(y&&J.isAncestor(q,C)&&Oe.isElement(G)&&!t.isVoid(G)&&!t.isInline(G)||w&&J.isAncestor(q,_)&&Oe.isElement(G)&&!t.isVoid(G)&&!t.isInline(G))};for(var j of _e.nodes({children:n},{pass:E}))E(j)&&S.push(j);var k=[],T=[],A=[],D=!0,I=!1;for(var[O]of S)Oe.isElement(O)&&!t.isInline(O)?(D=!1,I=!0,T.push(O)):D?k.push(O):A.push(O);var[$]=F.nodes(t,{at:s,match:N=>we.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),[,R]=$,z=F.isStart(t,s,R),B=F.isEnd(t,s,R),U=F.pathRef(t,b&&!A.length?J.next(v):v),W=F.pathRef(t,B?J.next(R):R);se.splitNodes(t,{at:s,match:N=>I?Oe.isElement(N)&&F.isBlock(t,N):we.isText(N)||F.isInline(t,N),mode:I?"lowest":"highest",always:I&&(!g||k.length>0)&&(!b||A.length>0),voids:i});var V=F.pathRef(t,!z||z&&B?J.next(R):R);if(se.insertNodes(t,k,{at:V.current,match:N=>we.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),x&&!k.length&&T.length&&!A.length&&se.delete(t,{at:v,voids:i}),se.insertNodes(t,T,{at:U.current,match:N=>Oe.isElement(N)&&F.isBlock(t,N),mode:"lowest",voids:i}),se.insertNodes(t,A,{at:W.current,match:N=>we.isText(N)||F.isInline(t,N),mode:"highest",voids:i}),!r.at){var K;if(A.length>0&&W.current?K=J.previous(W.current):T.length>0&&U.current?K=J.previous(U.current):V.current&&(K=J.previous(V.current)),K){var te=F.end(t,K);se.select(t,te)}}V.unref(),U.unref(),W.unref()}}})},HRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:r="anchor"}=n,{selection:o}=t;if(o){if(r==="anchor")se.select(t,o.anchor);else if(r==="focus")se.select(t,o.focus);else if(r==="start"){var[i]=ue.edges(o);se.select(t,i)}else if(r==="end"){var[,s]=ue.edges(o);se.select(t,s)}}else return},URt=e=>{var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},WRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:r}=t,{distance:o=1,unit:i="character",reverse:s=!1}=n,{edge:a=null}=n;if(r){a==="start"&&(a=ue.isBackward(r)?"focus":"anchor"),a==="end"&&(a=ue.isBackward(r)?"anchor":"focus");var{anchor:c,focus:u}=r,d={distance:o,unit:i,ignoreNonSelectable:!0},f={};if(a==null||a==="anchor"){var p=s?F.before(t,c,d):F.after(t,c,d);p&&(f.anchor=p)}if(a==null||a==="focus"){var m=s?F.before(t,u,d):F.after(t,u,d);m&&(f.focus=m)}se.setSelection(t,f)}},qRt=(e,t)=>{var{selection:n}=e;if(t=F.range(e,t),n){se.setSelection(e,t);return}if(!ue.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Bo.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})};function AX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function DX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var YRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=t,{edge:i="both"}=r;if(o){i==="start"&&(i=ue.isBackward(o)?"focus":"anchor"),i==="end"&&(i=ue.isBackward(o)?"anchor":"focus");var{anchor:s,focus:a}=o,c=i==="anchor"?s:a;se.setSelection(t,{[i==="anchor"?"anchor":"focus"]:DX(DX({},c),n)})}},GRt=(e,t)=>{var{selection:n}=e,r={},o={};if(n){for(var i in t)(i==="anchor"&&t.anchor!=null&&!Ot.equals(t.anchor,n.anchor)||i==="focus"&&t.focus!=null&&!Ot.equals(t.focus,n.focus)||i!=="anchor"&&i!=="focus"&&t[i]!==n[i])&&(r[i]=n[i],o[i]=t[i]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:o})}},KRt=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{hanging:o=!1,voids:i=!1,mode:s="lowest"}=r,{at:a,match:c,select:u}=r;if(_e.isNode(n)&&(n=[n]),n.length!==0){var[d]=n;if(a||(a=G9(t),u=!0),u==null&&(u=!1),ue.isRange(a))if(o||(a=F.unhangRange(t,a,{voids:i})),ue.isCollapsed(a))a=a.anchor;else{var[,f]=ue.edges(a),p=F.pointRef(t,f);se.delete(t,{at:a}),a=p.unref()}if(Ot.isPoint(a)){c==null&&(we.isText(d)?c=E=>we.isText(E):t.isInline(d)?c=E=>we.isText(E)||F.isInline(t,E):c=E=>Oe.isElement(E)&&F.isBlock(t,E));var[m]=F.nodes(t,{at:a.path,match:c,mode:s,voids:i});if(m){var[,v]=m,g=F.pathRef(t,v),b=F.isEnd(t,a,v);se.splitNodes(t,{at:a,match:c,mode:s,voids:i});var x=g.unref();a=b?J.next(x):x}else return}var y=J.parent(a),w=a[a.length-1];if(!(!i&&F.void(t,{at:y}))){for(var C of n){var _=y.concat(w);w++,t.apply({type:"insert_node",path:_,node:C}),a=J.next(a)}if(a=J.previous(a),u){var S=F.end(t,a);S&&se.select(t,S)}}}})},ZRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{at:r=t.selection,mode:o="lowest",voids:i=!1}=n,{match:s}=n;if(s==null&&(s=J.isPath(r)?W0(t,r):C=>Oe.isElement(C)&&F.isBlock(t,C)),!!r){var a=F.nodes(t,{at:r,match:s,mode:o,voids:i}),c=Array.from(a,C=>{var[,_]=C;return F.pathRef(t,_)});for(var u of c){var d=u.unref();if(d.length<2)throw new Error("Cannot lift node at a path [".concat(d,"] because it has a depth of less than `2`."));var f=F.node(t,J.parent(d)),[p,m]=f,v=d[d.length-1],{length:g}=p.children;if(g===1){var b=J.next(m);se.moveNodes(t,{at:d,to:b,voids:i}),se.removeNodes(t,{at:m,voids:i})}else if(v===0)se.moveNodes(t,{at:d,to:m,voids:i});else if(v===g-1){var x=J.next(m);se.moveNodes(t,{at:d,to:x,voids:i})}else{var y=J.next(d),w=J.next(m);se.splitNodes(t,{at:y,voids:i}),se.moveNodes(t,{at:d,to:w,voids:i})}}}})},XRt=["text"],QRt=["children"],u5e=(e,t)=>{if(Oe.isElement(t)){var n=t;return F.isVoid(e,t)?!0:n.children.length===1?u5e(e,n.children[0]):!1}else return!F.isEditor(t)},JRt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{match:r,at:o=t.selection}=n,{hanging:i=!1,voids:s=!1,mode:a="lowest"}=n;if(o){if(r==null)if(J.isPath(o)){var[c]=F.parent(t,o);r=T=>c.children.includes(T)}else r=T=>Oe.isElement(T)&&F.isBlock(t,T);if(!i&&ue.isRange(o)&&(o=F.unhangRange(t,o,{voids:s})),ue.isRange(o))if(ue.isCollapsed(o))o=o.anchor;else{var[,u]=ue.edges(o),d=F.pointRef(t,u);se.delete(t,{at:o}),o=d.unref(),n.at==null&&se.select(t,o)}var[f]=F.nodes(t,{at:o,match:r,voids:s,mode:a}),p=F.previous(t,{at:o,match:r,voids:s,mode:a});if(!(!f||!p)){var[m,v]=f,[g,b]=p;if(!(v.length===0||b.length===0)){var x=J.next(b),y=J.common(v,b),w=J.isSibling(v,b),C=Array.from(F.levels(t,{at:v}),T=>{var[A]=T;return A}).slice(y.length).slice(0,-1),_=F.above(t,{at:v,mode:"highest",match:T=>C.includes(T)&&u5e(t,T)}),S=_&&F.pathRef(t,_[1]),E,j;if(we.isText(m)&&we.isText(g)){var k=qu(m,XRt);j=g.text.length,E=k}else if(Oe.isElement(m)&&Oe.isElement(g)){var k=qu(m,QRt);j=g.children.length,E=k}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(Bo.stringify(m)," ").concat(Bo.stringify(g)));w||se.moveNodes(t,{at:v,to:x,voids:s}),S&&se.removeNodes(t,{at:S.current,voids:s}),Oe.isElement(g)&&F.isEmpty(t,g)||we.isText(g)&&g.text===""&&b[b.length-1]!==0?se.removeNodes(t,{at:b,voids:s}):t.apply({type:"merge_node",path:x,position:j,properties:E}),S&&S.unref()}}}})},e$t=(e,t)=>{F.withoutNormalizing(e,()=>{var{to:n,at:r=e.selection,mode:o="lowest",voids:i=!1}=t,{match:s}=t;if(r){s==null&&(s=J.isPath(r)?W0(e,r):m=>Oe.isElement(m)&&F.isBlock(e,m));var a=F.pathRef(e,n),c=F.nodes(e,{at:r,match:s,mode:o,voids:i}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(e,v)});for(var d of u){var f=d.unref(),p=a.current;f.length!==0&&e.apply({type:"move_node",path:f,newPath:p}),a.current&&J.isSibling(p,f)&&J.isAfter(p,f)&&(a.current=J.next(a.current))}a.unref()}})},t$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{hanging:r=!1,voids:o=!1,mode:i="lowest"}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?W0(t,s):m=>Oe.isElement(m)&&F.isBlock(t,m)),!r&&ue.isRange(s)&&(s=F.unhangRange(t,s,{voids:o}));var c=F.nodes(t,{at:s,match:a,mode:i,voids:o}),u=Array.from(c,m=>{var[,v]=m;return F.pathRef(t,v)});for(var d of u){var f=d.unref();if(f){var[p]=F.node(t,f);t.apply({type:"remove_node",path:f,node:p})}}}})},n$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{match:o,at:i=t.selection,compare:s,merge:a}=r,{hanging:c=!1,mode:u="lowest",split:d=!1,voids:f=!1}=r;if(i){if(o==null&&(o=J.isPath(i)?W0(t,i):j=>Oe.isElement(j)&&F.isBlock(t,j)),!c&&ue.isRange(i)&&(i=F.unhangRange(t,i,{voids:f})),d&&ue.isRange(i)){if(ue.isCollapsed(i)&&F.leaf(t,i.anchor)[0].text.length>0)return;var p=F.rangeRef(t,i,{affinity:"inward"}),[m,v]=ue.edges(i),g=u==="lowest"?"lowest":"highest",b=F.isEnd(t,v,v.path);se.splitNodes(t,{at:v,match:o,mode:g,voids:f,always:!b});var x=F.isStart(t,m,m.path);se.splitNodes(t,{at:m,match:o,mode:g,voids:f,always:!x}),i=p.unref(),r.at==null&&se.select(t,i)}s||(s=(j,k)=>j!==k);for(var[y,w]of F.nodes(t,{at:i,match:o,mode:u,voids:f})){var C={},_={};if(w.length!==0){var S=!1;for(var E in n)E==="children"||E==="text"||s(n[E],y[E])&&(S=!0,y.hasOwnProperty(E)&&(C[E]=y[E]),a?n[E]!=null&&(_[E]=a(y[E],n[E])):n[E]!=null&&(_[E]=n[E]));S&&t.apply({type:"set_node",path:w,properties:C,newProperties:_})}}}})},r$t=(e,t)=>{if(ue.isCollapsed(t))return t.anchor;var[,n]=ue.edges(t),r=F.pointRef(e,n);return se.delete(e,{at:t}),r.unref()},o$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",voids:o=!1}=n,{match:i,at:s=t.selection,height:a=0,always:c=!1}=n;if(i==null&&(i=U=>Oe.isElement(U)&&F.isBlock(t,U)),ue.isRange(s)&&(s=r$t(t,s)),J.isPath(s)){var u=s,d=F.point(t,u),[f]=F.parent(t,u);i=U=>U===f,a=d.path.length-u.length+1,s=d,c=!0}if(s){var p=F.pointRef(t,s,{affinity:"backward"}),m;try{var[v]=F.nodes(t,{at:s,match:i,mode:r,voids:o});if(!v)return;var g=F.void(t,{at:s,mode:"highest"}),b=0;if(!o&&g){var[x,y]=g;if(Oe.isElement(x)&&t.isInline(x)){var w=F.after(t,y);if(!w){var C={text:""},_=J.next(y);se.insertNodes(t,C,{at:_,voids:o}),w=F.point(t,_)}s=w,c=!0}var S=s.path.length-y.length;a=S+1,c=!0}m=F.pointRef(t,s);var E=s.path.length-a,[,j]=v,k=s.path.slice(0,E),T=a===0?s.offset:s.path[E]+b;for(var[A,D]of F.levels(t,{at:k,reverse:!0,voids:o})){var I=!1;if(D.length<j.length||D.length===0||!o&&Oe.isElement(A)&&F.isVoid(t,A))break;var O=p.current,$=F.isEnd(t,O,D);if(c||!p||!F.isEdge(t,O,D)){I=!0;var R=_e.extractProps(A);t.apply({type:"split_node",path:D,position:T,properties:R})}T=D[D.length-1]+(I||$?1:0)}if(n.at==null){var z=m.current||F.end(t,[]);se.select(t,z)}}finally{var B;p.unref(),(B=m)===null||B===void 0||B.unref()}}})},i$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(n)||(n=[n]);var o={};for(var i of n)o[i]=null;se.setNodes(t,o,r)},s$t=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};F.withoutNormalizing(t,()=>{var{mode:r="lowest",split:o=!1,voids:i=!1}=n,{at:s=t.selection,match:a}=n;if(s){a==null&&(a=J.isPath(s)?W0(t,s):m=>Oe.isElement(m)&&F.isBlock(t,m)),J.isPath(s)&&(s=F.range(t,s));var c=ue.isRange(s)?F.rangeRef(t,s):null,u=F.nodes(t,{at:s,match:a,mode:r,voids:i}),d=Array.from(u,m=>{var[,v]=m;return F.pathRef(t,v)}).reverse(),f=function(){var v=p.unref(),[g]=F.node(t,v),b=F.range(t,v);o&&c&&(b=ue.intersection(c.current,b)),se.liftNodes(t,{at:b,match:x=>Oe.isAncestor(g)&&g.children.includes(x),voids:i})};for(var p of d)f();c&&c.unref()}})};function IX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function OX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IX(Object(n),!0).forEach(function(r){ss(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var a$t=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};F.withoutNormalizing(t,()=>{var{mode:o="lowest",split:i=!1,voids:s=!1}=r,{match:a,at:c=t.selection}=r;if(c){if(a==null&&(J.isPath(c)?a=W0(t,c):t.isInline(n)?a=b=>Oe.isElement(b)&&F.isInline(t,b)||we.isText(b):a=b=>Oe.isElement(b)&&F.isBlock(t,b)),i&&ue.isRange(c)){var[u,d]=ue.edges(c),f=F.rangeRef(t,c,{affinity:"inward"});se.splitNodes(t,{at:d,match:a,voids:s}),se.splitNodes(t,{at:u,match:a,voids:s}),c=f.unref(),r.at==null&&se.select(t,c)}var p=Array.from(F.nodes(t,{at:c,match:t.isInline(n)?b=>Oe.isElement(b)&&F.isBlock(t,b):b=>F.isEditor(b),mode:"lowest",voids:s})),m=function(){var x=ue.isRange(c)?ue.intersection(c,F.range(t,g)):c;if(!x)return 0;var y=Array.from(F.nodes(t,{at:x,match:a,mode:o,voids:s}));if(y.length>0){var[w]=y,C=y[y.length-1],[,_]=w,[,S]=C;if(_.length===0&&S.length===0)return 0;var E=J.equals(_,S)?J.parent(_):J.common(_,S),j=F.range(t,_,S),k=F.node(t,E),[T]=k,A=E.length+1,D=J.next(S.slice(0,A)),I=OX(OX({},n),{},{children:[]});se.insertNodes(t,I,{at:D,voids:s}),se.moveNodes(t,{at:j,match:O=>Oe.isAncestor(T)&&T.children.includes(O),to:D.concat(0),voids:s})}},v;for(var[,g]of p)v=m()}})},l$t=()=>{var e={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PPt(e,...r)},addMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BPt(e,...r)},deleteBackward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VPt(e,...r)},deleteForward:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HPt(e,...r)},deleteFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return UPt(e,...r)},getFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Pt(e,...r)},insertBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return tRt(e,...r)},insertSoftBreak:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return rRt(e,...r)},insertFragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return VRt(e,...r)},insertNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return nRt(e,...r)},insertText:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return iRt(e,...r)},normalizeNode:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MPt(e,...r)},removeMark:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return $Rt(e,...r)},getDirtyPaths:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return RPt(e,...r)},shouldNormalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FPt(e,...r)},above:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LPt(e,...r)},after:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NPt(e,...r)},before:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zPt(e,...r)},collapse:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return HRt(e,...r)},delete:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return zRt(e,...r)},deselect:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return URt(e,...r)},edges:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WPt(e,...r)},elementReadOnly:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qPt(e,...r)},end:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YPt(e,...r)},first:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GPt(e,...r)},fragment:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KPt(e,...r)},getMarks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return vRt(e,...r)},hasBlocks:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return XPt(e,...r)},hasInlines:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return QPt(e,...r)},hasPath:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JPt(e,...r)},hasTexts:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return eRt(e,...r)},insertNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return KRt(e,...r)},isBlock:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return sRt(e,...r)},isEdge:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return aRt(e,...r)},isEmpty:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return lRt(e,...r)},isEnd:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return cRt(e,...r)},isNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return uRt(e,...r)},isStart:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return dRt(e,...r)},last:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return fRt(e,...r)},leaf:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return hRt(e,...r)},levels:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return pRt(e,...r)},liftNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZRt(e,...r)},mergeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return JRt(e,...r)},move:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return WRt(e,...r)},moveNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e$t(e,...r)},next:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return yRt(e,...r)},node:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return bRt(e,...r)},nodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return xRt(e,...r)},normalize:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return wRt(e,...r)},parent:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return CRt(e,...r)},path:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ERt(e,...r)},pathRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return _Rt(e,...r)},pathRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return SRt(e,...r)},point:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return TRt(e,...r)},pointRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return kRt(e,...r)},pointRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return jRt(e,...r)},positions:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ARt(e,...r)},previous:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return DRt(e,...r)},range:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return PRt(e,...r)},rangeRef:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return IRt(e,...r)},rangeRefs:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ORt(e,...r)},removeNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t$t(e,...r)},select:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return qRt(e,...r)},setNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return n$t(e,...r)},setNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return MRt(e,...r)},setPoint:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return YRt(e,...r)},setSelection:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return GRt(e,...r)},splitNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return o$t(e,...r)},start:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return FRt(e,...r)},string:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return LRt(e,...r)},unhangRange:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return BRt(e,...r)},unsetNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return i$t(e,...r)},unwrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s$t(e,...r)},void:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return ZPt(e,...r)},withoutNormalizing:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return NRt(e,...r)},wrapNodes:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return a$t(e,...r)}};return e},hd={};Object.defineProperty(hd,"__esModule",{value:!0});var c$t=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),z3={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},d5e={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:c$t?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},X9={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var D_=1;D_<20;D_++)X9["f"+D_]=111+D_;function JT(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return f5e(s,t)}),o=function(a){return r.some(function(c){return h5e(c,a)})},i=n==null?o:o(n);return i}function u$t(e,t){return JT(e,t)}function d$t(e,t){return JT(e,{byKey:!0},t)}function f5e(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in z3)r[z3[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=Q9(p),g=z3[v];if(p.length>1&&!g&&!d5e[p]&&!X9[v])throw new TypeError('Unknown modifier: "'+p+'"');(i===1||!g)&&(n?r.key=v:r.which=p5e(p)),g&&(r[g]=m?null:!0)}}catch(b){c=!0,u=b}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function h5e(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function p5e(e){e=Q9(e);var t=X9[e]||e.toUpperCase().charCodeAt(0);return t}function Q9(e){return e=e.toLowerCase(),e=d5e[e]||e,e}hd.default=JT;var V3=hd.isHotkey=JT;hd.isCodeHotkey=u$t;hd.isKeyHotkey=d$t;hd.parseHotkey=f5e;hd.compareHotkey=h5e;hd.toKeyCode=p5e;hd.toKeyName=Q9;function f$t(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function e0(e,t){if(e==null)return{};var n=f$t(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wx(e){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(e)}function h$t(e,t){if(wx(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(wx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p$t(e){var t=h$t(e,"string");return wx(t)==="symbol"?t:String(t)}function Na(e,t,n){return t=p$t(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J9=h.createContext(null),Nc=()=>{var e=h.useContext(J9);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},m5e=parseInt(re.version.split(".")[0],10),m$t=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,PX=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),xs=typeof navigator<"u"&&/Android/.test(navigator.userAgent),qg=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Iy=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),g$t=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),g5e=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),v$t=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),y$t=xs&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),b$t=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),x$t=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),w$t=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),bS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wd=(!v$t||!y$t)&&!g$t&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",e7=new WeakMap,t7=new WeakMap,v5e=new WeakMap,xS=new WeakMap,cM=new WeakMap,Cx=new WeakMap,Tp=new WeakMap,Hk=new WeakMap,eA=new WeakMap,uM=new WeakMap,Xd=new WeakMap,sp=new WeakMap,bb=new WeakMap,dM=new WeakMap,n7=new WeakMap,wl=new WeakMap,xu=new WeakMap,hs=new WeakMap,Pd=new WeakMap,Rd=new WeakMap,y5e=new WeakMap,t0=Symbol("placeholder"),b5e=Symbol("mark-placeholder"),C$t=globalThis.Text,r7=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,_$t=e=>Nf(e)&&e.nodeType===8,Ia=e=>Nf(e)&&e.nodeType===1,Nf=e=>{var t=r7(e);return!!t&&e instanceof t.Node},fM=e=>{var t=e&&e.anchorNode&&r7(e.anchorNode);return!!t&&e instanceof t.Selection},x5e=e=>Nf(e)&&e.nodeType===3,S$t=e=>e.clipboardData&&e.clipboardData.getData("text/plain")!==""&&e.clipboardData.types.length===1,E$t=e=>{var[t,n]=e;if(Ia(t)&&t.childNodes.length){var r=n===t.childNodes.length,o=r?n-1:n;for([t,o]=w5e(t,o,r?"backward":"forward"),r=o<n;Ia(t)&&t.childNodes.length;){var i=r?t.childNodes.length-1:0;t=j$t(t,i,r?"backward":"forward")}n=r&&t.textContent!=null?t.textContent.length:0}return[t,n]},k$t=e=>{for(var t=e&&e.parentNode;t;){if(t.toString()==="[object ShadowRoot]")return!0;t=t.parentNode}return!1},w5e=(e,t,n)=>{for(var{childNodes:r}=e,o=r[t],i=t,s=!1,a=!1;(_$t(o)||Ia(o)&&o.childNodes.length===0||Ia(o)&&o.getAttribute("contenteditable")==="false")&&!(s&&a);){if(i>=r.length){s=!0,i=t-1,n="backward";continue}if(i<0){a=!0,i=t+1,n="forward";continue}o=r[i],t=i,i+=n==="forward"?1:-1}return[o,t]},j$t=(e,t,n)=>{var[r]=w5e(e,t,n);return r},C5e=e=>{var t="";if(x5e(e)&&e.nodeValue)return e.nodeValue;if(Ia(e)){for(var n of Array.from(e.childNodes))t+=C5e(n);var r=getComputedStyle(e).getPropertyValue("display");(r==="block"||r==="list"||e.tagName==="BR")&&(t+=`
`)}return t},T$t=/data-slate-fragment="(.+?)"/m,A$t=e=>{var t=e.getData("text/html"),[,n]=t.match(T$t)||[];return n},o7=(e,t,n)=>{var{target:r}=t;if(Ia(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:o}=me.getWindow(e);if(o.contains(r))return me.hasDOMNode(e,r,{editable:!0});var i=n.find(s=>{var{addedNodes:a,removedNodes:c}=s;for(var u of a)if(u===r||u.contains(r))return!0;for(var d of c)if(d===r||d.contains(r))return!0});return!i||i===t?!1:o7(e,i,n)},D$t=0;class I$t{constructor(){Na(this,"id",void 0),this.id="".concat(D$t++)}}var me={androidPendingDiffs:e=>hs.get(e),androidScheduleFlush:e=>{var t;(t=n7.get(e))===null||t===void 0||t()},blur:e=>{var t=me.toDOMNode(e,e),n=me.findDocumentOrShadowRoot(e);Xd.set(e,!1),n.activeElement===t&&t.blur()},deselect:e=>{var{selection:t}=e,n=me.findDocumentOrShadowRoot(e),r=n.getSelection();r&&r.rangeCount>0&&r.removeAllRanges(),t&&se.deselect(e)},findDocumentOrShadowRoot:e=>{var t=me.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&n.getSelection!=null?n:t.ownerDocument},findEventRange:(e,t)=>{"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:o}=t;if(n==null||r==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var i=me.toSlateNode(e,t.target),s=me.findPath(e,i);if(Oe.isElement(i)&&F.isVoid(e,i)){var a=o.getBoundingClientRect(),c=e.isInline(i)?n-a.left<a.left+a.width-n:r-a.top<a.top+a.height-r,u=F.point(e,s,{edge:c?"start":"end"}),d=c?F.before(e,u):F.after(e,u);if(d){var f=F.range(e,d);return f}}var p,{document:m}=me.getWindow(e);if(m.caretRangeFromPoint)p=m.caretRangeFromPoint(n,r);else{var v=m.caretPositionFromPoint(n,r);v&&(p=m.createRange(),p.setStart(v.offsetNode,v.offset),p.setEnd(v.offsetNode,v.offset))}if(!p)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var g=me.toSlateRange(e,p,{exactMatch:!1,suppressThrow:!1});return g},findKey:(e,t)=>{var n=Hk.get(t);return n||(n=new I$t,Hk.set(t,n)),n},findPath:(e,t)=>{for(var n=[],r=t;;){var o=t7.get(r);if(o==null){if(F.isEditor(r))return n;break}var i=e7.get(r);if(i==null)break;n.unshift(i),r=o}throw new Error("Unable to find the path for Slate node: ".concat(Bo.stringify(t)))},focus:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!Xd.get(t)){if(n.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(t.operations.length>0){setTimeout(()=>{me.focus(t,{retries:n.retries-1})},10);return}var r=me.toDOMNode(t,t),o=me.findDocumentOrShadowRoot(t);if(o.activeElement!==r){if(t.selection&&o instanceof Document){var i=o.getSelection(),s=me.toDOMRange(t,t.selection);i==null||i.removeAllRanges(),i==null||i.addRange(s)}t.selection||(se.select(t,F.start(t,[])),t.onChange()),r.focus({preventScroll:!0}),Xd.set(t,!0)}}},getWindow:e=>{var t=v5e.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},hasDOMNode:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=r,i=me.toDOMNode(t,t),s;try{s=Ia(n)?n:n.parentElement}catch(a){if(a instanceof Error&&!a.message.includes('Permission denied to access property "nodeType"'))throw a}return s?s.closest("[data-slate-editor]")===i&&(!o||s.isContentEditable?!0:typeof s.isContentEditable=="boolean"&&s.closest('[contenteditable="false"]')===i||!!s.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(e,t)=>Nf(t)&&me.hasDOMNode(e,t,{editable:!0}),hasRange:(e,t)=>{var{anchor:n,focus:r}=t;return F.hasPath(e,n.path)&&F.hasPath(e,r.path)},hasSelectableTarget:(e,t)=>me.hasEditableTarget(e,t)||me.isTargetInsideNonReadonlyVoid(e,t),hasTarget:(e,t)=>Nf(t)&&me.hasDOMNode(e,t),insertData:(e,t)=>{e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),isComposing:e=>!!sp.get(e),isFocused:e=>!!Xd.get(e),isReadOnly:e=>!!uM.get(e),isTargetInsideNonReadonlyVoid:(e,t)=>{if(uM.get(e))return!1;var n=me.hasTarget(e,t)&&me.toSlateNode(e,t);return Oe.isElement(n)&&F.isVoid(e,n)},setFragmentData:(e,t,n)=>e.setFragmentData(t,n),toDOMNode:(e,t)=>{var n=eA.get(e),r=F.isEditor(t)?xS.get(e):n==null?void 0:n.get(me.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Bo.stringify(t)));return r},toDOMPoint:(e,t)=>{var[n]=F.node(e,t.path),r=me.toDOMNode(e,n),o;F.void(e,{at:t})&&(t={path:t.path,offset:0});for(var i="[data-slate-string], [data-slate-zero-width]",s=Array.from(r.querySelectorAll(i)),a=0,c=0;c<s.length;c++){var u=s[c],d=u.childNodes[0];if(!(d==null||d.textContent==null)){var{length:f}=d.textContent,p=u.getAttribute("data-slate-length"),m=p==null?f:parseInt(p,10),v=a+m,g=s[c+1];if(t.offset===v&&g!==null&&g!==void 0&&g.hasAttribute("data-slate-mark-placeholder")){var b,x=g.childNodes[0];o=[x instanceof C$t?x:g,(b=g.textContent)!==null&&b!==void 0&&b.startsWith("\uFEFF")?1:0];break}if(t.offset<=v){var y=Math.min(f,Math.max(0,t.offset-a));o=[d,y];break}a=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Bo.stringify(t)));return o},toDOMRange:(e,t)=>{var{anchor:n,focus:r}=t,o=ue.isBackward(t),i=me.toDOMPoint(e,n),s=ue.isCollapsed(t)?i:me.toDOMPoint(e,r),a=me.getWindow(e),c=a.document.createRange(),[u,d]=o?s:i,[f,p]=o?i:s,m=Ia(u)?u:u.parentElement,v=!!m.getAttribute("data-slate-zero-width"),g=Ia(f)?f:f.parentElement,b=!!g.getAttribute("data-slate-zero-width");return c.setStart(u,v?1:d),c.setEnd(f,b?1:p),c},toSlateNode:(e,t)=>{var n=Ia(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?Cx.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},toSlatePoint:(e,t,n)=>{var{exactMatch:r,suppressThrow:o}=n,[i,s]=r?t:E$t(t),a=i.parentNode,c=null,u=0;if(a){var d,f,p=me.toDOMNode(e,e),m=a.closest('[data-slate-void="true"]'),v=m&&p.contains(m)?m:null,g=a.closest("[data-slate-leaf]"),b=null;if(g){if(c=g.closest('[data-slate-node="text"]'),c){var x=me.getWindow(e),y=x.document.createRange();y.setStart(c,0),y.setEnd(i,s);var w=y.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(O=>{if(xs&&!r&&O.hasAttribute("data-slate-zero-width")&&O.textContent.length>0&&O.textContext!=="\uFEFF"){O.textContent.startsWith("\uFEFF")&&(O.textContent=O.textContent.slice(1));return}O.parentNode.removeChild(O)}),u=w.textContent.length,b=c}}else if(v){for(var _=v.querySelectorAll("[data-slate-leaf]"),S=0;S<_.length;S++){var E=_[S];if(me.hasDOMNode(e,E)){g=E;break}}g?(c=g.closest('[data-slate-node="text"]'),b=g,u=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(O=>{u-=O.textContent.length})):u=1}b&&u===b.textContent.length&&xs&&b.getAttribute("data-slate-zero-width")==="z"&&(d=b.textContent)!==null&&d!==void 0&&d.startsWith("\uFEFF")&&(a.hasAttribute("data-slate-zero-width")||qg&&(f=b.textContent)!==null&&f!==void 0&&f.endsWith(`

`))&&u--}if(xs&&!c&&!r){var j=a.hasAttribute("data-slate-node")?a:a.closest("[data-slate-node]");if(j&&me.hasDOMNode(e,j,{editable:!0})){var k=me.toSlateNode(e,j),{path:T,offset:A}=F.start(e,me.findPath(e,k));return j.querySelector("[data-slate-leaf]")||(A=s),{path:T,offset:A}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var D=me.toSlateNode(e,c),I=me.findPath(e,D);return{path:I,offset:u}},toSlateRange:(e,t,n)=>{var r,{exactMatch:o,suppressThrow:i}=n,s=fM(t)?t.anchorNode:t.startContainer,a,c,u,d,f;if(s)if(fM(t)){if(qg&&t.rangeCount>1){u=t.focusNode;var p=t.getRangeAt(0),m=t.getRangeAt(t.rangeCount-1);if(u instanceof HTMLTableRowElement&&p.startContainer instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement){let S=function(E){return E.childElementCount>0?S(E.children[0]):E};var v=p.startContainer,g=m.startContainer,b=S(v.children[p.startOffset]),x=S(g.children[m.startOffset]);d=0,x.childNodes.length>0?a=x.childNodes[0]:a=x,b.childNodes.length>0?u=b.childNodes[0]:u=b,x instanceof HTMLElement?c=x.innerHTML.length:c=0}else p.startContainer===u?(a=m.endContainer,c=m.endOffset,d=p.startOffset):(a=p.startContainer,c=p.endOffset,d=m.startOffset)}else a=t.anchorNode,c=t.anchorOffset,u=t.focusNode,d=t.focusOffset;g5e&&k$t(a)||qg?f=t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:f=t.isCollapsed}else a=t.startContainer,c=t.startOffset,u=t.endContainer,d=t.endOffset,f=t.collapsed;if(a==null||u==null||c==null||d==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));if(qg&&(r=u.textContent)!==null&&r!==void 0&&r.endsWith(`

`)&&d===u.textContent.length&&d--,"getAttribute"in u&&u.getAttribute("contenteditable")==="false"&&u.getAttribute("data-slate-void")!=="true"){var y;u=a,d=((y=a.textContent)===null||y===void 0?void 0:y.length)||0}var w=me.toSlatePoint(e,[a,c],{exactMatch:o,suppressThrow:i});if(!w)return null;var C=f?w:me.toSlatePoint(e,[u,d],{exactMatch:o,suppressThrow:i});if(!C)return null;var _={anchor:w,focus:C};return ue.isExpanded(_)&&ue.isForward(_)&&Ia(u)&&F.void(e,{at:_.focus,mode:"highest"})&&(_=F.unhangRange(e,_,{voids:!0})),_}};function O$t(e,t){var{path:n,diff:r}=t;if(!F.hasPath(e,n))return!1;var o=_e.get(e,n);if(!we.isText(o))return!1;if(r.start!==o.text.length||r.text.length===0)return o.text.slice(r.start,r.start+r.text.length)===r.text;var i=J.next(n);if(!F.hasPath(e,i))return!1;var s=_e.get(e,i);return we.isText(s)&&s.text.startsWith(r.text)}function _5e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((o,i)=>o.slice(0,i.start)+i.text+o.slice(i.end),e)}function P$t(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}function R$t(e,t,n){for(var r=Math.min(e.length,t.length,n),o=0;o<r;o++)if(e.charAt(e.length-o-1)!==t.charAt(t.length-o-1))return o;return r}function S5e(e,t){var{start:n,end:r,text:o}=t,i=e.slice(n,r),s=P$t(i,o),a=Math.min(i.length-s,o.length-s),c=R$t(i,o,a),u={start:n+s,end:r-c,text:o.slice(s,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function $$t(e,t,n){var r=Math.min(t.start,n.start),o=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),i=_5e(e,t,n),s=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-o),a=i.slice(r,s),c=Math.max(t.end,n.end-t.text.length+(t.end-t.start));return S5e(e,{start:r,end:c,text:a})}function M$t(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function hM(e,t){var{path:n,offset:r}=t;if(!F.hasPath(e,n))return null;var o=_e.get(e,n);if(!we.isText(o))return null;var i=F.above(e,{match:a=>Oe.isElement(a)&&F.isBlock(e,a),at:n});if(!i)return null;for(;r>o.text.length;){var s=F.next(e,{at:n,match:we.isText});if(!s||!J.isDescendant(s[1],i[1]))return null;r-=o.text.length,o=s[0],n=s[1]}return{path:n,offset:r}}function RX(e,t){var n=hM(e,t.anchor);if(!n)return null;if(ue.isCollapsed(t))return{anchor:n,focus:n};var r=hM(e,t.focus);return r?{anchor:n,focus:r}:null}function pM(e,t,n){var r=hs.get(e),o=r==null?void 0:r.find(d=>{var{path:f}=d;return J.equals(f,t.path)});if(!o||t.offset<=o.diff.start)return Ot.transform(t,n,{affinity:"backward"});var{diff:i}=o;if(t.offset<=i.start+i.text.length){var s={path:t.path,offset:i.start},a=Ot.transform(s,n,{affinity:"backward"});return a?{path:a.path,offset:a.offset+t.offset-i.start}:null}var c={path:t.path,offset:t.offset-i.text.length+i.end-i.start},u=Ot.transform(c,n,{affinity:"backward"});return u?n.type==="split_node"&&J.equals(n.path,t.path)&&c.offset<n.position&&i.start<n.position?u:{path:u.path,offset:u.offset+i.text.length-i.end+i.start}:null}function $X(e,t,n){var r=pM(e,t.anchor,n);if(!r)return null;if(ue.isCollapsed(t))return{anchor:r,focus:r};var o=pM(e,t.focus,n);return o?{anchor:r,focus:o}:null}function F$t(e,t){var{path:n,diff:r,id:o}=e;switch(t.type){case"insert_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:o,path:n};case"remove_text":return!J.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:o,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:o,path:n};case"split_node":return!J.equals(t.path,n)||t.position>=r.end?{diff:r,id:o,path:J.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:o,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:o,path:J.transform(n,t,{affinity:"forward"})};case"merge_node":return J.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:o,path:J.transform(n,t)}:{diff:r,id:o,path:J.transform(n,t)}}var i=J.transform(n,t);return i?{diff:r,path:i,id:o}:null}function MX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function I_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MX(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var L$t=25,B$t=200,N$t=function(){},z$t=e=>(e==null?void 0:e.constructor.name)==="DataTransfer";function V$t(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,o=!1,i=null,s=null,a=null,c=0,u=!1,d=()=>{var D=Rd.get(t);if(Rd.delete(t),D){var{selection:I}=t,O=RX(t,D);O&&(!I||!ue.equals(O,I))&&se.select(t,O)}},f=()=>{var D=Pd.get(t);if(Pd.delete(t),!!D){if(D.at){var I=Ot.isPoint(D.at)?hM(t,D.at):RX(t,D.at);if(!I)return;var O=F.range(t,I);(!t.selection||!ue.equals(t.selection,O))&&se.select(t,I)}D.run()}},p=()=>{if(s&&(clearTimeout(s),s=null),a&&(clearTimeout(a),a=null),!C()&&!w()){d();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var D=t.selection&&F.rangeRef(t,t.selection,{affinity:"forward"});xu.set(t,t.marks),N$t("flush",Pd.get(t),hs.get(t));for(var I=C(),O;O=($=hs.get(t))===null||$===void 0?void 0:$[0];){var $,R,z=wl.get(t);z!==void 0&&(wl.delete(t),t.marks=z),z&&u===!1&&(u=null);var B=M$t(O);(!t.selection||!ue.equals(t.selection,B))&&se.select(t,B),O.diff.text?F.insertText(t,O.diff.text):F.deleteFragment(t),hs.set(t,(R=hs.get(t))===null||R===void 0?void 0:R.filter(V=>{var{id:K}=V;return K!==O.id})),O$t(t,O)||(I=!1,Pd.delete(t),xu.delete(t),o="action",Rd.delete(t),n.cancel(),r.cancel(),D==null||D.unref())}var U=D==null?void 0:D.unref();if(U&&!Rd.get(t)&&(!t.selection||!ue.equals(U,t.selection))&&se.select(t,U),w()){f();return}I&&n(),n.flush(),r.flush(),d();var W=xu.get(t);xu.delete(t),W!==void 0&&(t.marks=W,t.onChange())},m=D=>{i&&clearTimeout(i),i=setTimeout(()=>{sp.set(t,!1),p()},L$t)},v=D=>{sp.set(t,!0),i&&(clearTimeout(i),i=null)},g=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,O=cM.get(t);if(O){if(C()||I){O.style.display="none";return}O.style.removeProperty("display")}},b=(D,I)=>{var O,$=(O=hs.get(t))!==null&&O!==void 0?O:[];hs.set(t,$);var R=_e.leaf(t,D),z=$.findIndex(W=>J.equals(W.path,D));if(z<0){var B=S5e(R.text,I);B&&$.push({path:D,diff:I,id:c++}),g();return}var U=$$t(R.text,$[z].diff,I);if(!U){$.splice(z,1),g();return}$[z]=I_(I_({},$[z]),{},{diff:U})},x=function(I){var{at:O}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,Rd.delete(t),n.cancel(),r.cancel(),w()&&p(),Pd.set(t,{at:O,run:I}),a=setTimeout(p)},y=D=>{var I;s&&(clearTimeout(s),s=null);var{inputType:O}=D,$=null,R=D.dataTransfer||D.data||void 0;u!==!1&&O!=="insertText"&&O!=="insertCompositionText"&&(u=!1);var[z]=D.getTargetRanges();z&&($=me.toSlateRange(t,z,{exactMatch:!1,suppressThrow:!0}));var B=me.getWindow(t),U=B.getSelection();if(!$&&U&&(z=U,$=me.toSlateRange(t,U,{exactMatch:!1,suppressThrow:!0})),$=(I=$)!==null&&I!==void 0?I:t.selection,!!$){var W=!0;if(O.startsWith("delete")){if(ue.isExpanded($)){var[V,K]=ue.edges($),te=_e.leaf(t,V.path);if(te.text.length===V.offset&&K.offset===0){var N=F.next(t,{at:V.path,match:we.isText});N&&J.equals(N[1],K.path)&&($={anchor:K,focus:K})}}var G=O.endsWith("Backward")?"backward":"forward",[q,Z]=ue.edges($),[ie,ne]=F.leaf(t,q.path),Y={text:"",start:q.offset,end:Z.offset},X=hs.get(t),ae=X==null?void 0:X.find(tt=>J.equals(tt.path,ne)),he=ae?[ae.diff,Y]:[Y],ce=_5e(ie.text,...he);if(ce.length===0&&(W=!1),ue.isExpanded($)){if(W&&J.equals($.anchor.path,$.focus.path)){var xe={path:$.anchor.path,offset:q.offset},Se=F.range(t,xe,xe);return E(Se),b($.anchor.path,{text:"",end:Z.offset,start:q.offset})}return x(()=>F.deleteFragment(t,{direction:G}),{at:$})}}switch(O){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>F.deleteFragment(t),{at:$});case"deleteContent":case"deleteContentForward":{var{anchor:pe}=$;if(W&&ue.isCollapsed($)){var be=_e.leaf(t,pe.path);if(pe.offset<be.text.length)return b(pe.path,{text:"",start:pe.offset,end:pe.offset+1})}return x(()=>F.deleteForward(t),{at:$})}case"deleteContentBackward":{var Be,{anchor:$e}=$,ct=fM(z)?z.isCollapsed:!!((Be=z)!==null&&Be!==void 0&&Be.collapsed);return W&&ct&&ue.isCollapsed($)&&$e.offset>0?b($e.path,{text:"",start:$e.offset-1,end:$e.offset}):x(()=>F.deleteBackward(t),{at:$})}case"deleteEntireSoftLine":return x(()=>{F.deleteBackward(t,{unit:"line"}),F.deleteForward(t,{unit:"line"})},{at:$});case"deleteHardLineBackward":return x(()=>F.deleteBackward(t,{unit:"block"}),{at:$});case"deleteSoftLineBackward":return x(()=>F.deleteBackward(t,{unit:"line"}),{at:$});case"deleteHardLineForward":return x(()=>F.deleteForward(t,{unit:"block"}),{at:$});case"deleteSoftLineForward":return x(()=>F.deleteForward(t,{unit:"line"}),{at:$});case"deleteWordBackward":return x(()=>F.deleteBackward(t,{unit:"word"}),{at:$});case"deleteWordForward":return x(()=>F.deleteForward(t,{unit:"word"}),{at:$});case"insertLineBreak":return x(()=>F.insertSoftBreak(t),{at:$});case"insertParagraph":return x(()=>F.insertBreak(t),{at:$});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(z$t(R))return x(()=>me.insertData(t,R),{at:$});var ot=R??"";if(wl.get(t)&&(ot=ot.replace("\uFEFF","")),O==="insertText"&&/.*\n.*\n$/.test(ot)&&(ot=ot.slice(0,-1)),ot.includes(`
`))return x(()=>{var tt=ot.split(`
`);tt.forEach((wt,Ee)=>{wt&&F.insertText(t,wt),Ee!==tt.length-1&&F.insertSoftBreak(t)})},{at:$});if(J.equals($.anchor.path,$.focus.path)){var[Lt,Rt]=ue.edges($),Ae={start:Lt.offset,end:Rt.offset,text:ot};if(ot&&u&&O==="insertCompositionText"){var Ke=u.start+u.text.search(/\S|$/),Ye=Ae.start+Ae.text.search(/\S|$/);Ye===Ke+1&&Ae.end===u.start+u.text.length?(Ae.start-=1,u=null,T()):u=!1}else O==="insertText"?u===null?u=Ae:u&&ue.isCollapsed($)&&u.end+u.text.length===Lt.offset?u=I_(I_({},u),{},{text:u.text+ot}):u=!1:u=!1;if(W){b(Lt.path,Ae);return}}return x(()=>F.insertText(t,ot),{at:$})}}}},w=()=>!!Pd.get(t),C=()=>{var D;return!!((D=hs.get(t))!==null&&D!==void 0&&D.length)},_=()=>w()||C(),S=()=>o,E=D=>{Rd.set(t,D),s&&(clearTimeout(s),s=null);var{selection:I}=t;if(D){var O=!I||!J.equals(I.anchor.path,D.anchor.path),$=!I||!J.equals(I.anchor.path.slice(0,-1),D.anchor.path.slice(0,-1));(O&&u||$)&&(u=!1),(O||C())&&(s=setTimeout(p,B$t))}},j=()=>{(w()||!C())&&p()},k=D=>{C()||(g(!0),setTimeout(g))},T=()=>{w()||(a=setTimeout(p))},A=D=>{if(!(C()||w())&&D.some(O=>o7(t,O,D))){var I;(I=y5e.get(t))===null||I===void 0||I()}};return{flush:p,scheduleFlush:T,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:_,isFlushing:S,handleUserSelect:E,handleCompositionEnd:m,handleCompositionStart:v,handleDOMBeforeInput:y,handleKeyDown:k,handleDomMutations:A,handleInput:j}}function H$t(){var e=h.useRef(!1);return h.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e.current}var _x=bS?h.useLayoutEffect:h.useEffect;function U$t(e,t,n){var[r]=h.useState(()=>new MutationObserver(t));_x(()=>{r.takeRecords()}),h.useEffect(()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()},[r,e,n])}var W$t=["node"];function FX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function q$t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FX(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var Y$t={subtree:!0,childList:!0,characterData:!0},G$t=xs?e=>{var{node:t}=e,n=e0(e,W$t);if(!xs)return null;var r=Nc(),o=H$t(),[i]=h.useState(()=>V$t(q$t({editor:r},n)));return U$t(t,i.handleDomMutations,Y$t),n7.set(r,i.scheduleFlush),o&&i.flush(),i}:()=>null,K$t=["anchor","focus"],Z$t=["anchor","focus"],X$t=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every(n=>t.hasOwnProperty(n)&&e[n]===t[n]),E5e=(e,t)=>{var n=e0(e,K$t),r=e0(t,Z$t);return e[t0]===t[t0]&&X$t(n,r)},Q$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(!ue.equals(r,o)||!E5e(r,o))return!1}return!0},J$t=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],o=t[n];if(r.anchor.offset!==o.anchor.offset||r.focus.offset!==o.focus.offset||!E5e(r,o))return!1}return!0};function LX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function eMt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LX(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var tMt=e=>{var{isLast:t,leaf:n,parent:r,text:o}=e,i=Nc(),s=me.findPath(i,o),a=J.parent(s),c=!!n[b5e];return i.isVoid(r)?re.createElement(H3,{length:_e.string(r).length}):n.text===""&&r.children[r.children.length-1]===o&&!i.isInline(r)&&F.string(i,a)===""?re.createElement(H3,{isLineBreak:!0,isMarkPlaceholder:c}):n.text===""?re.createElement(H3,{isMarkPlaceholder:c}):t&&n.text.slice(-1)===`
`?re.createElement(BX,{isTrailing:!0,text:n.text}):re.createElement(BX,{text:n.text})},BX=e=>{var{text:t,isTrailing:n=!1}=e,r=h.useRef(null),o=()=>"".concat(t??"").concat(n?`
`:""),[i]=h.useState(o);return _x(()=>{var s=o();r.current&&r.current.textContent!==s&&(r.current.textContent=s)}),re.createElement(nMt,{ref:r},i)},nMt=h.memo(h.forwardRef((e,t)=>re.createElement("span",{"data-slate-string":!0,ref:t},e.children))),H3=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,o={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(o["data-slate-mark-placeholder"]=!0),re.createElement("span",eMt({},o),!xs||!n?"\uFEFF":null,n?re.createElement("br",null):null)};function NX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function k5e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NX(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rMt(e,t){e.current&&(e.current.disconnect(),t&&(e.current=null))}function zX(e){e.current&&(clearTimeout(e.current),e.current=null)}var oMt=e=>{var{leaf:t,isLast:n,text:r,parent:o,renderPlaceholder:i,renderLeaf:s=y=>re.createElement(sMt,k5e({},y))}=e,a=Nc(),c=h.useRef(null),u=h.useRef(null),[d,f]=h.useState(!1),p=h.useRef(null),m=h.useCallback(y=>{if(rMt(c,y==null),y==null){var w;cM.delete(a),(w=t.onPlaceholderResize)===null||w===void 0||w.call(t,null)}else{if(cM.set(a,y),!c.current){var C=window.ResizeObserver||g_e;c.current=new C(()=>{var _;(_=t.onPlaceholderResize)===null||_===void 0||_.call(t,y)})}c.current.observe(y),u.current=y}},[u,t,a]),v=re.createElement(tMt,{isLast:n,leaf:t,parent:o,text:r}),g=!!t[t0];if(h.useEffect(()=>(g?p.current||(p.current=setTimeout(()=>{f(!0),p.current=null},300)):(zX(p),f(!1)),()=>zX(p)),[g,f]),g&&d){var b={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:Iy?"inherit":void 0},contentEditable:!1,ref:m}};v=re.createElement(re.Fragment,null,i(b),v)}var x={"data-slate-leaf":!0};return s({attributes:x,children:v,leaf:t,text:r})},iMt=re.memo(oMt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&we.equals(t.leaf,e.leaf)&&t.leaf[t0]===e.leaf[t0]),sMt=e=>{var{attributes:t,children:n}=e;return re.createElement("span",k5e({},t),n)},aMt=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:o,renderLeaf:i,text:s}=e,a=Nc(),c=h.useRef(null),u=we.decorations(s,t),d=me.findKey(a,s),f=[],p=0;p<u.length;p++){var m=u[p];f.push(re.createElement(iMt,{isLast:n&&p===u.length-1,key:"".concat(d.id,"-").concat(p),renderPlaceholder:o,leaf:m,text:s,parent:r,renderLeaf:i}))}var v=h.useCallback(g=>{var b=eA.get(a);g?(b==null||b.set(d,g),Tp.set(s,g),Cx.set(g,s)):(b==null||b.delete(d),Tp.delete(s),c.current&&Cx.delete(c.current)),c.current=g},[c,a,d,s]);return re.createElement("span",{"data-slate-node":"text",ref:v},f)},j5e=re.memo(aMt,(e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&J$t(t.decorations,e.decorations));function VX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function mM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VX(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var lMt=e=>{var{decorations:t,element:n,renderElement:r=y=>re.createElement(uMt,mM({},y)),renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=Nc(),c=fMt(),u=a.isInline(n),d=me.findKey(a,n),f=h.useCallback(y=>{var w=eA.get(a);y?(w==null||w.set(d,y),Tp.set(n,y),Cx.set(y,n)):(w==null||w.delete(d),Tp.delete(n))},[a,d,n]),p=I5e({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}),m={"data-slate-node":"element",ref:f};if(u&&(m["data-slate-inline"]=!0),!u&&F.hasInlines(a,n)){var v=_e.string(n),g=t5e(v);g==="rtl"&&(m.dir=g)}if(F.isVoid(a,n)){m["data-slate-void"]=!0,!c&&u&&(m.contentEditable=!1);var b=u?"span":"div",[[x]]=_e.texts(n);p=re.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},re.createElement(j5e,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:x})),e7.set(x,0),t7.set(x,n)}return r({attributes:m,children:p,element:n})},cMt=re.memo(lMt,(e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&e.renderPlaceholder===t.renderPlaceholder&&Q$t(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&ue.equals(e.selection,t.selection))),uMt=e=>{var{attributes:t,children:n,element:r}=e,o=Nc(),i=o.isInline(r)?"span":"div";return re.createElement(i,mM(mM({},t),{},{style:{position:"relative"}}),n)},T5e=h.createContext(()=>[]),dMt=()=>h.useContext(T5e),A5e=h.createContext(!1),D5e=()=>h.useContext(A5e),I5e=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:s}=e,a=dMt(),c=Nc(),u=me.findPath(c,n),d=[],f=Oe.isElement(n)&&!c.isInline(n)&&F.hasInlines(c,n),p=0;p<n.children.length;p++){var m=u.concat(p),v=n.children[p],g=me.findKey(c,v),b=F.range(c,m),x=s&&ue.intersection(b,s),y=a([v,m]);for(var w of t){var C=ue.intersection(w,b);C&&y.push(C)}Oe.isElement(v)?d.push(re.createElement(A5e.Provider,{key:"provider-".concat(g.id),value:!!x},re.createElement(cMt,{decorations:y,element:v,key:g.id,renderElement:r,renderPlaceholder:o,renderLeaf:i,selection:x}))):d.push(re.createElement(j5e,{decorations:y,key:g.id,isLast:f&&p===n.children.length-1,parent:n,renderPlaceholder:o,renderLeaf:i,text:v})),e7.set(v,p),t7.set(v,n)}return d},O5e=h.createContext(!1),fMt=()=>h.useContext(O5e),P5e=h.createContext(null),tA=()=>{var e=h.useContext(P5e);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t};function hMt(){var e=Nc(),t=h.useRef(!1),n=h.useRef(0),r=h.useCallback(()=>{if(!t.current){t.current=!0;var o=me.getWindow(e);o.cancelAnimationFrame(n.current),n.current=o.requestAnimationFrame(()=>{t.current=!1})}},[e]);return h.useEffect(()=>()=>cancelAnimationFrame(n.current),[]),{receivedUserInput:t,onUserInput:r}}var pMt=3,mMt={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},gMt={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},vMt={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},yr=e=>{var t=mMt[e],n=gMt[e],r=vMt[e],o=t&&V3(t),i=n&&V3(n),s=r&&V3(r);return a=>!!(o&&o(a)||PX&&i&&i(a)||!PX&&s&&s(a))},Dr={isBold:yr("bold"),isCompose:yr("compose"),isMoveBackward:yr("moveBackward"),isMoveForward:yr("moveForward"),isDeleteBackward:yr("deleteBackward"),isDeleteForward:yr("deleteForward"),isDeleteLineBackward:yr("deleteLineBackward"),isDeleteLineForward:yr("deleteLineForward"),isDeleteWordBackward:yr("deleteWordBackward"),isDeleteWordForward:yr("deleteWordForward"),isExtendBackward:yr("extendBackward"),isExtendForward:yr("extendForward"),isExtendLineBackward:yr("extendLineBackward"),isExtendLineForward:yr("extendLineForward"),isItalic:yr("italic"),isMoveLineBackward:yr("moveLineBackward"),isMoveLineForward:yr("moveLineForward"),isMoveWordBackward:yr("moveWordBackward"),isMoveWordForward:yr("moveWordForward"),isRedo:yr("redo"),isSoftBreak:yr("insertSoftBreak"),isSplitBlock:yr("splitBlock"),isTransposeCharacter:yr("transposeCharacter"),isUndo:yr("undo")},yMt=(e,t)=>{var n=[],r=()=>{n=[]},o=s=>{if(t.current){var a=s.filter(c=>o7(e,c,s));n.push(...a)}};function i(){n.length>0&&(n.reverse().forEach(s=>{s.type!=="characterData"&&(s.removedNodes.forEach(a=>{s.target.insertBefore(a,s.nextSibling)}),s.addedNodes.forEach(a=>{s.target.removeChild(a)}))}),r())}return{registerMutations:o,restoreDOM:i,clear:r}},bMt={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class R5e extends h.Component{constructor(){super(...arguments),Na(this,"context",null),Na(this,"manager",null),Na(this,"mutationObserver",null)}observe(){var t,{node:n}=this.props;if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(t=this.mutationObserver)===null||t===void 0||t.observe(n.current,bMt)}componentDidMount(){var{receivedUserInput:t}=this.props,n=this.context;this.manager=yMt(n,t),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var t,n,r,o=(t=this.mutationObserver)===null||t===void 0?void 0:t.takeRecords();if(o!=null&&o.length){var i;(i=this.manager)===null||i===void 0||i.registerMutations(o)}return(n=this.mutationObserver)===null||n===void 0||n.disconnect(),(r=this.manager)===null||r===void 0||r.restoreDOM(),null}componentDidUpdate(){var t;(t=this.manager)===null||t===void 0||t.clear(),this.observe()}componentWillUnmount(){var t;(t=this.mutationObserver)===null||t===void 0||t.disconnect()}render(){return this.props.children}}Na(R5e,"contextType",J9);var xMt=xs?R5e:e=>{var{children:t}=e;return re.createElement(re.Fragment,null,t)},wMt=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],CMt=["text"];function HX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HX(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var _Mt=e=>re.createElement(re.Fragment,null,I5e(e)),SMt=e=>{var t=h.useCallback(N=>re.createElement(EMt,Ql({},N)),[]),{autoFocus:n,decorate:r=kMt,onDOMBeforeInput:o,placeholder:i,readOnly:s=!1,renderElement:a,renderLeaf:c,renderPlaceholder:u=t,scrollSelectionIntoView:d=jMt,style:f={},as:p="div",disableDefaultStyles:m=!1}=e,v=e0(e,wMt),g=tA(),[b,x]=h.useState(!1),y=h.useRef(null),w=h.useRef([]),[C,_]=h.useState(),{onUserInput:S,receivedUserInput:E}=hMt(),[,j]=h.useReducer(N=>N+1,0);y5e.set(g,j),uM.set(g,s);var k=h.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);h.useEffect(()=>{y.current&&n&&y.current.focus()},[n]);var T=h.useRef(),A=h.useMemo(()=>pT(()=>{var N=T.current;if((xs||!me.isComposing(g))&&(!k.isUpdatingSelection||N!=null&&N.isFlushing())&&!k.isDraggingInternally){var G=me.findDocumentOrShadowRoot(g),{activeElement:q}=G,Z=me.toDOMNode(g,g),ie=G.getSelection();if(q===Z?(k.latestElement=q,Xd.set(g,!0)):Xd.delete(g),!ie)return se.deselect(g);var{anchorNode:ne,focusNode:Y}=ie,X=me.hasEditableTarget(g,ne)||me.isTargetInsideNonReadonlyVoid(g,ne),ae=me.hasEditableTarget(g,Y)||me.isTargetInsideNonReadonlyVoid(g,Y);if(X&&ae){var he=me.toSlateRange(g,ie,{exactMatch:!1,suppressThrow:!0});he&&(!me.isComposing(g)&&!(N!=null&&N.hasPendingChanges())&&!(N!=null&&N.isFlushing())?se.select(g,he):N==null||N.handleUserSelect(he))}s&&(!X||!ae)&&se.deselect(g)}},100),[g,s,k]),D=h.useMemo(()=>aw(A,0),[A]);T.current=G$t({node:y,onDOMSelectionChange:A,scheduleOnDOMSelectionChange:D}),_x(()=>{var N,G,q;y.current&&(q=r7(y.current))?(v5e.set(g,q),xS.set(g,y.current),Tp.set(g,y.current),Cx.set(y.current,g)):Tp.delete(g);var{selection:Z}=g,ie=me.findDocumentOrShadowRoot(g),ne=ie.getSelection();if(!(!ne||!me.isFocused(g)||(N=T.current)!==null&&N!==void 0&&N.hasPendingAction())){var Y=ce=>{var xe=ne.type!=="None";if(!(!Z&&!xe)){var Se=ne.focusNode,pe;if(qg&&ne.rangeCount>1){var be=ne.getRangeAt(0),Be=ne.getRangeAt(ne.rangeCount-1);be.startContainer===Se?pe=Be.endContainer:pe=be.startContainer}else pe=ne.anchorNode;var $e=xS.get(g),ct=!1;if($e.contains(pe)&&$e.contains(Se)&&(ct=!0),xe&&ct&&Z&&!ce){var ot=me.toSlateRange(g,ne,{exactMatch:!0,suppressThrow:!0});if(ot&&ue.equals(ot,Z)){var Lt;if(!k.hasMarkPlaceholder||(Lt=pe)!==null&&Lt!==void 0&&(Lt=Lt.parentElement)!==null&&Lt!==void 0&&Lt.hasAttribute("data-slate-mark-placeholder"))return}}if(Z&&!me.hasRange(g,Z)){g.selection=me.toSlateRange(g,ne,{exactMatch:!1,suppressThrow:!0});return}k.isUpdatingSelection=!0;var Rt=Z&&me.toDOMRange(g,Z);return Rt?(me.isComposing(g)&&!xs?ne.collapseToEnd():ue.isBackward(Z)?ne.setBaseAndExtent(Rt.endContainer,Rt.endOffset,Rt.startContainer,Rt.startOffset):ne.setBaseAndExtent(Rt.startContainer,Rt.startOffset,Rt.endContainer,Rt.endOffset),d(g,Rt)):ne.removeAllRanges(),Rt}};ne.rangeCount<=1&&Y();var X=((G=T.current)===null||G===void 0?void 0:G.isFlushing())==="action";if(!xs||!X){setTimeout(()=>{k.isUpdatingSelection=!1});return}var ae=null,he=requestAnimationFrame(()=>{if(X){var ce=xe=>{try{var Se=me.toDOMNode(g,g);Se.focus(),Y(xe)}catch{}};ce(),ae=setTimeout(()=>{ce(!0),k.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(he),ae&&clearTimeout(ae)}}});var I=h.useCallback(N=>{if(S(),!s&&me.hasEditableTarget(g,N.target)&&!TMt(N,o)){var G;if(T.current)return T.current.handleDOMBeforeInput(N);D.flush(),A.flush();var{selection:q}=g,{inputType:Z}=N,ie=N.dataTransfer||N.data||void 0,ne=Z==="insertCompositionText"||Z==="deleteCompositionText";if(ne&&me.isComposing(g))return;var Y=!1;if(Z==="insertText"&&q&&ue.isCollapsed(q)&&N.data&&N.data.length===1&&/[a-z ]/i.test(N.data)&&q.anchor.offset!==0){var X,ae;Y=!0,g.marks&&(Y=!1);var{anchor:he}=q,[ce,xe]=me.toDOMPoint(g,he),Se=(X=ce.parentElement)===null||X===void 0?void 0:X.closest("a"),pe=me.getWindow(g);if(Y&&Se&&me.hasDOMNode(g,Se)){var be,Be=pe==null?void 0:pe.document.createTreeWalker(Se,NodeFilter.SHOW_TEXT).lastChild();Be===ce&&((be=Be.textContent)===null||be===void 0?void 0:be.length)===xe&&(Y=!1)}if(Y&&ce.parentElement&&(pe==null||(ae=pe.getComputedStyle(ce.parentElement))===null||ae===void 0?void 0:ae.whiteSpace)==="pre"){var $e=F.above(g,{at:he.path,match:Ke=>Oe.isElement(Ke)&&F.isBlock(g,Ke)});$e&&_e.string($e[0]).includes("	")&&(Y=!1)}}if(!Z.startsWith("delete")||Z.startsWith("deleteBy")){var[ct]=N.getTargetRanges();if(ct){var ot=me.toSlateRange(g,ct,{exactMatch:!1,suppressThrow:!1});if(!q||!ue.equals(q,ot)){Y=!1;var Lt=!ne&&g.selection&&F.rangeRef(g,g.selection);se.select(g,ot),Lt&&bb.set(g,Lt)}}}if(ne)return;if(Y||N.preventDefault(),q&&ue.isExpanded(q)&&Z.startsWith("delete")){var Rt=Z.endsWith("Backward")?"backward":"forward";F.deleteFragment(g,{direction:Rt});return}switch(Z){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{F.deleteFragment(g);break}case"deleteContent":case"deleteContentForward":{F.deleteForward(g);break}case"deleteContentBackward":{F.deleteBackward(g);break}case"deleteEntireSoftLine":{F.deleteBackward(g,{unit:"line"}),F.deleteForward(g,{unit:"line"});break}case"deleteHardLineBackward":{F.deleteBackward(g,{unit:"block"});break}case"deleteSoftLineBackward":{F.deleteBackward(g,{unit:"line"});break}case"deleteHardLineForward":{F.deleteForward(g,{unit:"block"});break}case"deleteSoftLineForward":{F.deleteForward(g,{unit:"line"});break}case"deleteWordBackward":{F.deleteBackward(g,{unit:"word"});break}case"deleteWordForward":{F.deleteForward(g,{unit:"word"});break}case"insertLineBreak":F.insertSoftBreak(g);break;case"insertParagraph":{F.insertBreak(g);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{Z==="insertFromComposition"&&me.isComposing(g)&&(x(!1),sp.set(g,!1)),(ie==null?void 0:ie.constructor.name)==="DataTransfer"?me.insertData(g,ie):typeof ie=="string"&&(Y?w.current.push(()=>F.insertText(g,ie)):F.insertText(g,ie));break}}var Ae=(G=bb.get(g))===null||G===void 0?void 0:G.unref();bb.delete(g),Ae&&(!g.selection||!ue.equals(g.selection,Ae))&&se.select(g,Ae)}},[g,A,S,o,s,D]),O=h.useCallback(N=>{N==null?(A.cancel(),D.cancel(),xS.delete(g),Tp.delete(g),y.current&&wd&&y.current.removeEventListener("beforeinput",I)):wd&&N.addEventListener("beforeinput",I),y.current=N},[A,D,g,I]);_x(()=>{var N=me.getWindow(g);return N.document.addEventListener("selectionchange",D),()=>{N.document.removeEventListener("selectionchange",D)}},[D]);var $=r([g,[]]),R=i&&g.children.length===1&&Array.from(_e.texts(g)).length===1&&_e.string(g)===""&&!b,z=h.useCallback(N=>{if(N&&R){var G;_((G=N.getBoundingClientRect())===null||G===void 0?void 0:G.height)}else _(void 0)},[R]);if(R){var B=F.start(g,[]);$.push({[t0]:!0,placeholder:i,onPlaceholderResize:z,anchor:B,focus:B})}var{marks:U}=g;if(k.hasMarkPlaceholder=!1,g.selection&&ue.isCollapsed(g.selection)&&U){var{anchor:W}=g.selection,V=_e.leaf(g,W.path),K=e0(V,CMt);if(!we.equals(V,U,{loose:!0})){k.hasMarkPlaceholder=!0;var te=Object.fromEntries(Object.keys(K).map(N=>[N,null]));$.push(Ql(Ql(Ql({[b5e]:!0},te),U),{},{anchor:W,focus:W}))}}return h.useEffect(()=>{setTimeout(()=>{var{selection:N}=g;if(N){var{anchor:G}=N,q=_e.leaf(g,G.path);if(U&&!we.equals(q,U,{loose:!0})){wl.set(g,U);return}}wl.delete(g)})}),re.createElement(O5e.Provider,{value:s},re.createElement(T5e.Provider,{value:r},re.createElement(xMt,{node:y,receivedUserInput:E},re.createElement(p,Ql(Ql({role:s?void 0:"textbox","aria-multiline":s?void 0:!0},v),{},{spellCheck:wd||!bS?v.spellCheck:!1,autoCorrect:wd||!bS?v.autoCorrect:"false",autoCapitalize:wd||!bS?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:O,style:Ql(Ql({},m?{}:Ql({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),f),onBeforeInput:h.useCallback(N=>{if(!wd&&!s&&!Hi(N,v.onBeforeInput)&&me.hasSelectableTarget(g,N.target)&&(N.preventDefault(),!me.isComposing(g))){var G=N.data;F.insertText(g,G)}},[v.onBeforeInput,g,s]),onInput:h.useCallback(N=>{if(!Hi(N,v.onInput)){if(T.current){T.current.handleInput();return}for(var G of w.current)G();w.current=[]}},[v.onInput]),onBlur:h.useCallback(N=>{if(!(s||k.isUpdatingSelection||!me.hasSelectableTarget(g,N.target)||Hi(N,v.onBlur))){var G=me.findDocumentOrShadowRoot(g);if(k.latestElement!==G.activeElement){var{relatedTarget:q}=N,Z=me.toDOMNode(g,g);if(q!==Z&&!(Ia(q)&&q.hasAttribute("data-slate-spacer"))){if(q!=null&&Nf(q)&&me.hasDOMNode(g,q)){var ie=me.toSlateNode(g,q);if(Oe.isElement(ie)&&!g.isVoid(ie))return}if(Iy){var ne=G.getSelection();ne==null||ne.removeAllRanges()}Xd.delete(g)}}}},[s,k.isUpdatingSelection,k.latestElement,g,v.onBlur]),onClick:h.useCallback(N=>{if(me.hasTarget(g,N.target)&&!Hi(N,v.onClick)&&Nf(N.target)){var G=me.toSlateNode(g,N.target),q=me.findPath(g,G);if(!F.hasPath(g,q)||_e.get(g,q)!==G)return;if(N.detail===pMt&&q.length>=1){var Z=q;if(!(Oe.isElement(G)&&F.isBlock(g,G))){var ie,ne=F.above(g,{match:Se=>Oe.isElement(Se)&&F.isBlock(g,Se),at:q});Z=(ie=ne==null?void 0:ne[1])!==null&&ie!==void 0?ie:q.slice(0,1)}var Y=F.range(g,Z);se.select(g,Y);return}if(s)return;var X=F.start(g,q),ae=F.end(g,q),he=F.void(g,{at:X}),ce=F.void(g,{at:ae});if(he&&ce&&J.equals(he[1],ce[1])){var xe=F.range(g,X);se.select(g,xe)}}},[g,v.onClick,s]),onCompositionEnd:h.useCallback(N=>{if(me.hasSelectableTarget(g,N.target)){var G;if(me.isComposing(g)&&(x(!1),sp.set(g,!1)),(G=T.current)===null||G===void 0||G.handleCompositionEnd(N),Hi(N,v.onCompositionEnd)||xs)return;if(!Iy&&!b$t&&!m$t&&!w$t&&!x$t&&N.data){var q=wl.get(g);wl.delete(g),q!==void 0&&(xu.set(g,g.marks),g.marks=q),F.insertText(g,N.data);var Z=xu.get(g);xu.delete(g),Z!==void 0&&(g.marks=Z)}}},[v.onCompositionEnd,g]),onCompositionUpdate:h.useCallback(N=>{me.hasSelectableTarget(g,N.target)&&!Hi(N,v.onCompositionUpdate)&&(me.isComposing(g)||(x(!0),sp.set(g,!0)))},[v.onCompositionUpdate,g]),onCompositionStart:h.useCallback(N=>{if(me.hasSelectableTarget(g,N.target)){var G;if((G=T.current)===null||G===void 0||G.handleCompositionStart(N),Hi(N,v.onCompositionStart)||xs)return;x(!0);var{selection:q}=g;if(q){if(ue.isExpanded(q)){F.deleteFragment(g);return}var Z=F.above(g,{match:Y=>Oe.isElement(Y)&&F.isInline(g,Y),mode:"highest"});if(Z){var[,ie]=Z;if(F.isEnd(g,q.anchor,ie)){var ne=F.after(g,ie);se.setSelection(g,{anchor:ne,focus:ne})}}}}},[v.onCompositionStart,g]),onCopy:h.useCallback(N=>{me.hasSelectableTarget(g,N.target)&&!Hi(N,v.onCopy)&&!UX(N)&&(N.preventDefault(),me.setFragmentData(g,N.clipboardData,"copy"))},[v.onCopy,g]),onCut:h.useCallback(N=>{if(!s&&me.hasSelectableTarget(g,N.target)&&!Hi(N,v.onCut)&&!UX(N)){N.preventDefault(),me.setFragmentData(g,N.clipboardData,"cut");var{selection:G}=g;if(G)if(ue.isExpanded(G))F.deleteFragment(g);else{var q=_e.parent(g,G.anchor.path);F.isVoid(g,q)&&se.delete(g)}}},[s,g,v.onCut]),onDragOver:h.useCallback(N=>{if(me.hasTarget(g,N.target)&&!Hi(N,v.onDragOver)){var G=me.toSlateNode(g,N.target);Oe.isElement(G)&&F.isVoid(g,G)&&N.preventDefault()}},[v.onDragOver,g]),onDragStart:h.useCallback(N=>{if(!s&&me.hasTarget(g,N.target)&&!Hi(N,v.onDragStart)){var G=me.toSlateNode(g,N.target),q=me.findPath(g,G),Z=Oe.isElement(G)&&F.isVoid(g,G)||F.void(g,{at:q,voids:!0});if(Z){var ie=F.range(g,q);se.select(g,ie)}k.isDraggingInternally=!0,me.setFragmentData(g,N.dataTransfer,"drag")}},[s,g,v.onDragStart,k]),onDrop:h.useCallback(N=>{if(!s&&me.hasTarget(g,N.target)&&!Hi(N,v.onDrop)){N.preventDefault();var G=g.selection,q=me.findEventRange(g,N),Z=N.dataTransfer;se.select(g,q),k.isDraggingInternally&&G&&!ue.equals(G,q)&&!F.void(g,{at:q,voids:!0})&&se.delete(g,{at:G}),me.insertData(g,Z),me.isFocused(g)||me.focus(g)}k.isDraggingInternally=!1},[s,g,v.onDrop,k]),onDragEnd:h.useCallback(N=>{!s&&k.isDraggingInternally&&v.onDragEnd&&me.hasTarget(g,N.target)&&v.onDragEnd(N),k.isDraggingInternally=!1},[s,k,v,g]),onFocus:h.useCallback(N=>{if(!s&&!k.isUpdatingSelection&&me.hasEditableTarget(g,N.target)&&!Hi(N,v.onFocus)){var G=me.toDOMNode(g,g),q=me.findDocumentOrShadowRoot(g);if(k.latestElement=q.activeElement,qg&&N.target!==G){G.focus();return}Xd.set(g,!0)}},[s,k,g,v.onFocus]),onKeyDown:h.useCallback(N=>{if(!s&&me.hasEditableTarget(g,N.target)){var G;(G=T.current)===null||G===void 0||G.handleKeyDown(N);var{nativeEvent:q}=N;if(me.isComposing(g)&&q.isComposing===!1&&(sp.set(g,!1),x(!1)),Hi(N,v.onKeyDown)||me.isComposing(g))return;var{selection:Z}=g,ie=g.children[Z!==null?Z.focus.path[0]:0],ne=t5e(_e.string(ie))==="rtl";if(Dr.isRedo(q)){N.preventDefault();var Y=g;typeof Y.redo=="function"&&Y.redo();return}if(Dr.isUndo(q)){N.preventDefault();var X=g;typeof X.undo=="function"&&X.undo();return}if(Dr.isMoveLineBackward(q)){N.preventDefault(),se.move(g,{unit:"line",reverse:!0});return}if(Dr.isMoveLineForward(q)){N.preventDefault(),se.move(g,{unit:"line"});return}if(Dr.isExtendLineBackward(q)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus",reverse:!0});return}if(Dr.isExtendLineForward(q)){N.preventDefault(),se.move(g,{unit:"line",edge:"focus"});return}if(Dr.isMoveBackward(q)){N.preventDefault(),Z&&ue.isCollapsed(Z)?se.move(g,{reverse:!ne}):se.collapse(g,{edge:"start"});return}if(Dr.isMoveForward(q)){N.preventDefault(),Z&&ue.isCollapsed(Z)?se.move(g,{reverse:ne}):se.collapse(g,{edge:"end"});return}if(Dr.isMoveWordBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:!ne});return}if(Dr.isMoveWordForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)&&se.collapse(g,{edge:"focus"}),se.move(g,{unit:"word",reverse:ne});return}if(wd){if((g5e||Iy)&&Z&&(Dr.isDeleteBackward(q)||Dr.isDeleteForward(q))&&ue.isCollapsed(Z)){var ae=_e.parent(g,Z.anchor.path);if(Oe.isElement(ae)&&F.isVoid(g,ae)&&(F.isInline(g,ae)||F.isBlock(g,ae))){N.preventDefault(),F.deleteBackward(g,{unit:"block"});return}}}else{if(Dr.isBold(q)||Dr.isItalic(q)||Dr.isTransposeCharacter(q)){N.preventDefault();return}if(Dr.isSoftBreak(q)){N.preventDefault(),F.insertSoftBreak(g);return}if(Dr.isSplitBlock(q)){N.preventDefault(),F.insertBreak(g);return}if(Dr.isDeleteBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g);return}if(Dr.isDeleteForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g);return}if(Dr.isDeleteLineBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"line"});return}if(Dr.isDeleteLineForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"line"});return}if(Dr.isDeleteWordBackward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"backward"}):F.deleteBackward(g,{unit:"word"});return}if(Dr.isDeleteWordForward(q)){N.preventDefault(),Z&&ue.isExpanded(Z)?F.deleteFragment(g,{direction:"forward"}):F.deleteForward(g,{unit:"word"});return}}}},[s,g,v.onKeyDown]),onPaste:h.useCallback(N=>{!s&&me.hasEditableTarget(g,N.target)&&!Hi(N,v.onPaste)&&(!wd||S$t(N.nativeEvent)||Iy)&&(N.preventDefault(),me.insertData(g,N.clipboardData))},[s,g,v.onPaste])}),re.createElement(_Mt,{decorations:$,node:g,renderElement:a,renderPlaceholder:u,renderLeaf:c,selection:g.selection})))))},EMt=e=>{var{attributes:t,children:n}=e;return re.createElement("span",Ql({},t),n,xs&&re.createElement("br",null))},kMt=()=>[],jMt=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&ue.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),Qv(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Hi=(e,t)=>{if(!t)return!1;var n=t(e);return n??(e.isDefaultPrevented()||e.isPropagationStopped())},UX=e=>Nf(e.target)&&(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement),TMt=(e,t)=>{if(!t)return!1;var n=t(e);return n??e.defaultPrevented},AMt=h.createContext(!1),DMt=h.createContext({});function IMt(e){var t=h.useRef([]).current,n=h.useRef({editor:e}).current,r=h.useCallback(i=>{n.editor=i,t.forEach(s=>s(i))},[t,n]),o=h.useMemo(()=>({getSlate:()=>n.editor,addEventListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1)})}),[t,n]);return{selectorContext:o,onChange:r}}var OMt=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],PMt=e=>{var{editor:t,children:n,onChange:r,onSelectionChange:o,onValueChange:i,initialValue:s}=e,a=e0(e,OMt),[c,u]=re.useState(()=>{if(!_e.isNodeList(s))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Bo.stringify(s)));if(!F.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(Bo.stringify(t)));return t.children=s,Object.assign(t,a),{v:0,editor:t}}),{selectorContext:d,onChange:f}=IMt(t),p=h.useCallback(g=>{var b;switch(r&&r(t.children),g==null||(b=g.operation)===null||b===void 0?void 0:b.type){case"set_selection":o==null||o(t.selection);break;default:i==null||i(t.children)}u(x=>({v:x.v+1,editor:t})),f(t)},[t,f,r,o,i]);h.useEffect(()=>(dM.set(t,p),()=>{dM.set(t,()=>{})}),[t,p]);var[m,v]=h.useState(me.isFocused(t));return h.useEffect(()=>{v(me.isFocused(t))},[t]),_x(()=>{var g=()=>v(me.isFocused(t));return m5e>=17?(document.addEventListener("focusin",g),document.addEventListener("focusout",g),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",g)}):(document.addEventListener("focus",g,!0),document.addEventListener("blur",g,!0),()=>{document.removeEventListener("focus",g,!0),document.removeEventListener("blur",g,!0)})},[]),re.createElement(DMt.Provider,{value:d},re.createElement(P5e.Provider,{value:c},re.createElement(J9.Provider,{value:c.editor},re.createElement(AMt.Provider,{value:m},n))))},WX=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},qX=(e,t,n)=>{var r=me.toDOMRange(e,t).getBoundingClientRect(),o=me.toDOMRange(e,n).getBoundingClientRect();return WX(r,o)&&WX(o,r)},RMt=(e,t)=>{var n=F.range(e,ue.end(t)),r=Array.from(F.positions(e,{at:t})),o=0,i=r.length,s=Math.floor(i/2);if(qX(e,F.range(e,r[o]),n))return F.range(e,r[o],n);if(r.length<2)return F.range(e,r[r.length-1],n);for(;s!==r.length&&s!==o;)qX(e,F.range(e,r[s]),n)?i=s:o=s,s=Math.floor((o+i)/2);return F.range(e,r[i],n)};function YX(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function GX(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YX(Object(n),!0).forEach(function(r){Na(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YX(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var $Mt=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",r=t,{apply:o,onChange:i,deleteBackward:s,addMark:a,removeMark:c}=r;return eA.set(r,new WeakMap),r.addMark=(u,d)=>{var f,p;(f=n7.get(r))===null||f===void 0||f(),!wl.get(r)&&(p=hs.get(r))!==null&&p!==void 0&&p.length&&wl.set(r,null),xu.delete(r),a(u,d)},r.removeMark=u=>{var d;!wl.get(r)&&(d=hs.get(r))!==null&&d!==void 0&&d.length&&wl.set(r,null),xu.delete(r),c(u)},r.deleteBackward=u=>{if(u!=="line")return s(u);if(r.selection&&ue.isCollapsed(r.selection)){var d=F.above(r,{match:v=>Oe.isElement(v)&&F.isBlock(r,v),at:r.selection});if(d){var[,f]=d,p=F.range(r,f,r.selection.anchor),m=RMt(r,p);ue.isCollapsed(m)||se.delete(r,{at:m})}}},r.apply=u=>{var d=[],f=[],p=hs.get(r);if(p!=null&&p.length){var m=p.map(O=>F$t(O,u)).filter(Boolean);hs.set(r,m)}var v=Rd.get(r);v&&Rd.set(r,$X(r,v,u));var g=Pd.get(r);if(g!=null&&g.at){var b=Ot.isPoint(g==null?void 0:g.at)?pM(r,g.at,u):$X(r,g.at,u);Pd.set(r,b?GX(GX({},g),{},{at:b}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{d.push(...Jm(r,u.path));break}case"set_selection":{var x;(x=bb.get(r))===null||x===void 0||x.unref(),bb.delete(r);break}case"insert_node":case"remove_node":{d.push(...Jm(r,J.parent(u.path)));break}case"merge_node":{var y=J.previous(u.path);d.push(...Jm(r,y));break}case"move_node":{var w=J.common(J.parent(u.path),J.parent(u.newPath));d.push(...Jm(r,w));var C;J.isBefore(u.path,u.newPath)?(d.push(...Jm(r,J.parent(u.path))),C=u.newPath):(d.push(...Jm(r,J.parent(u.newPath))),C=u.path);var _=_e.get(t,J.parent(C)),S=me.findKey(r,_),E=F.pathRef(r,J.parent(C));f.push([E,S]);break}}o(u);for(var[j,k]of d){var[T]=F.node(r,j);Hk.set(T,k)}for(var[A,D]of f)if(A.current){var[I]=F.node(r,A.current);Hk.set(I,D)}},r.setFragmentData=u=>{var{selection:d}=r;if(d){var[f,p]=ue.edges(d),m=F.void(r,{at:f.path}),v=F.void(r,{at:p.path});if(!(ue.isCollapsed(d)&&!m)){var g=me.toDOMRange(r,d),b=g.cloneContents(),x=b.childNodes[0];if(b.childNodes.forEach(T=>{T.textContent&&T.textContent.trim()!==""&&(x=T)}),v){var[y]=v,w=g.cloneRange(),C=me.toDOMNode(r,y);w.setEndAfter(C),b=w.cloneContents()}if(m&&(x=b.querySelector("[data-slate-spacer]")),Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(T=>{var A=T.getAttribute("data-slate-zero-width")==="n";T.textContent=A?`
`:""}),x5e(x)){var _=x.ownerDocument.createElement("span");_.style.whiteSpace="pre",_.appendChild(x),b.appendChild(_),x=_}var S=r.getFragment(),E=JSON.stringify(S),j=window.btoa(encodeURIComponent(E));x.setAttribute("data-slate-fragment",j),u.setData("application/".concat(n),j);var k=b.ownerDocument.createElement("div");return k.appendChild(b),k.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(k),u.setData("text/html",k.innerHTML),u.setData("text/plain",C5e(k)),b.ownerDocument.body.removeChild(k),u}}},r.insertData=u=>{r.insertFragmentData(u)||r.insertTextData(u)},r.insertFragmentData=u=>{var d=u.getData("application/".concat(n))||A$t(u);if(d){var f=decodeURIComponent(window.atob(d)),p=JSON.parse(f);return r.insertFragment(p),!0}return!1},r.insertTextData=u=>{var d=u.getData("text/plain");if(d){var f=d.split(/\r\n|\r|\n/),p=!1;for(var m of f)p&&se.splitNodes(r,{always:!0}),r.insertText(m),p=!0;return!0}return!1},r.onChange=u=>{var d=m5e<18?iUe.unstable_batchedUpdates:f=>f();d(()=>{var f=dM.get(r);f&&f(u),i(u)})},r},Jm=(e,t)=>{var n=[];for(var[r,o]of F.levels(e,{at:t})){var i=me.findKey(e,r);n.push([o,i])}return n},MMt=qve,KX=1/0,FMt=17976931348623157e292;function LMt(e){if(!e)return e===0?e:0;if(e=MMt(e),e===KX||e===-KX){var t=e<0?-1:1;return t*FMt}return e===e?e:0}var $5e=LMt,BMt=$5e;function NMt(e){var t=BMt(e),n=t%1;return t===t?n?t-n:t:0}var zMt=NMt,VMt=L_e,HMt=nh,UMt=zMt,WMt=Math.max;function qMt(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var o=n==null?0:UMt(n);return o<0&&(o=WMt(r+o,0)),VMt(e,HMt(t),o)}var M5e=qMt;const i7=Ie(M5e);var YMt=q8,GMt=4;function KMt(e){return YMt(e,GMt)}var ZMt=KMt;const F5e=Ie(ZMt);var pd={};Object.defineProperty(pd,"__esModule",{value:!0});var XMt=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),U3={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},QMt={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:XMt?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},L5e={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var O_=1;O_<20;O_++)L5e["f"+O_]=111+O_;function nA(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map(function(s){return B5e(s,t)}),o=function(a){return r.some(function(c){return N5e(c,a)})},i=n==null?o:o(n);return i}function JMt(e,t){return nA(e,t)}function e4t(e,t){return nA(e,{byKey:!0},t)}function B5e(e,t){var n=t&&t.byKey,r={};e=e.replace("++","+add");var o=e.split("+"),i=o.length;for(var s in U3)r[U3[s]]=!1;var a=!0,c=!1,u=void 0;try{for(var d=o[Symbol.iterator](),f;!(a=(f=d.next()).done);a=!0){var p=f.value,m=p.endsWith("?")&&p.length>1;m&&(p=p.slice(0,-1));var v=s7(p),g=U3[v];(i===1||!g)&&(n?r.key=v:r.which=z5e(p)),g&&(r[g]=m?null:!0)}}catch(b){c=!0,u=b}finally{try{!a&&d.return&&d.return()}finally{if(c)throw u}}return r}function N5e(e,t){for(var n in e){var r=e[n],o=void 0;if(r!=null&&(n==="key"&&t.key!=null?o=t.key.toLowerCase():n==="which"?o=r===91&&t.which===93?91:t.which:o=t[n],!(o==null&&r===!1)&&o!==r))return!1}return!0}function z5e(e){e=s7(e);var t=L5e[e]||e.toUpperCase().charCodeAt(0);return t}function s7(e){return e=e.toLowerCase(),e=QMt[e]||e,e}var bi=pd.default=nA;pd.isHotkey=nA;pd.isCodeHotkey=JMt;pd.isKeyHotkey=e4t;pd.parseHotkey=B5e;pd.compareHotkey=N5e;pd.toKeyCode=z5e;pd.toKeyName=s7;function wS(e){return!!e&&(typeof e=="object"||typeof e=="function")}function Uk(e){return wS(e)&&typeof e._type=="string"&&Array.isArray(e.children)&&e.children.every(t=>wS(t))&&("markDefs"in e?Array.isArray(e.markDefs)&&e.markDefs.every(t=>wS(t)):!1)&&("style"in e?typeof e.style=="string":!0)}function W3(e){return wS(e)&&e._type==="span"&&typeof e.text=="string"&&("marks"in e?Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"):!0)}function Yu(e){return!!e&&(typeof e=="object"||typeof e=="function")}function ZX(e){return Yu(e)?e.jsonType==="object":!1}function t4t(e){return Yu(e)?e.jsonType==="array":!1}function n4t(e){return typeof e=="object"&&e!==null&&"title"in e&&"value"in e}function r4t(e){return Yu(e)?Array.isArray(e.annotations)&&Array.isArray(e.decorators):!1}function o4t(e){if(!Yu(e)||!Array.isArray(e.fields))return!1;const t=e.fields.find(yM),n=e.fields.find(gM),r=e.fields.find(vM);return yM(t)&&gM(n)&&vM(r)}function gM(e){return!Yu(e)||e.name!=="style"?!1:Yu(e.type)&&e.type.jsonType==="string"}function vM(e){return!Yu(e)||e.name!=="listItem"?!1:Yu(e.type)&&e.type.jsonType==="string"}function yM(e){return!Yu(e)||e.name!=="children"||!t4t(e.type)?!1:e.type.of.some(r4t)}function a7(e){return e.type?a7(e.type):e.name==="block"}function i4t(e){var t,n;if(!e)throw new Error("Parameter 'blockContentType' required");const r=e.of.find(a7);if(!o4t(r))throw new Error("'block' type is not defined in this schema (required).");const o=(n=(t=r.fields.find(yM))==null?void 0:t.type)==null?void 0:n.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const i=o.find(c=>c.name==="span");if(!i)throw new Error("No `span` type found in `block` schema type `children` definition");const s=o.filter(c=>c.name!=="span"&&ZX(c)),a=e.of.filter(c=>c.name!==r.name&&ZX(c));return{styles:s4t(r),decorators:l4t(i),annotations:a4t(i),lists:c4t(r),types:{block:e,span:i,inlineObjects:s,blockObjects:a}}}function s4t(e){const t=e.fields.find(gM);if(!t)throw new Error("A field with name 'style' is not defined in the block type (required).");const n=V5e(t.type.options);if(n.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return n}function a4t(e){return e.annotations.map(t=>({title:t.title,type:t,value:t.name,icon:t.icon}))}function l4t(e){return e.decorators}function c4t(e){const t=e.fields.find(vM);if(!t)throw new Error("A field with name 'list' is not defined in the block type (required).");const n=V5e(t.type.options);if(!n)throw new Error("The list field need at least to be an empty array");return n}function V5e(e){const t=e?e.list:void 0;return Array.isArray(t)?t.map(n=>n4t(n)?n:{title:n,value:n}):[]}const u4t=Object.prototype.toString;function H5e(e){switch(u4t.call(e)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return e===null?"null":e===void 0?"undefined":e&&typeof e=="object"&&"nodeType"in e&&e.nodeType===1?"element":e===Object(e)?"object":typeof e}function d4t(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return H9(t),t}const U5e=[];for(let e=0;e<256;++e)U5e[e]=(e+256).toString(16).substring(1);function bM(e){return d4t(e).reduce((t,n)=>t+U5e[n],"").slice(0,e)}const f4t=["pre","textarea","code"],n0="normal",gs=Object.freeze({_type:"block",markDefs:[],style:n0}),CS=Object.freeze({_type:"span",marks:[]}),Wk={p:gs,blockquote:{...gs,style:"blockquote"}},W5e={span:{object:"text"}},qk={ol:{object:null},ul:{object:null}},Yk={h1:{...gs,style:"h1"},h2:{...gs,style:"h2"},h3:{...gs,style:"h3"},h4:{...gs,style:"h4"},h5:{...gs,style:"h5"},h6:{...gs,style:"h6"}},h4t={br:{...gs,style:n0}},q5e={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},Y5e={li:{...gs,style:n0,level:1,listItem:"bullet"}},p4t={...Wk,...W5e,...qk,...Y5e,...Yk,...h4t};vo(Object.values(p4t).filter(e=>"style"in e).map(e=>e.style));vo(Object.values(q5e));const Qp={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var m4t=(e,t)=>{function n(r){var o,i;if(r.nodeType===Qp.BOOLEAN_TYPE&&!f4t.includes(((o=r.parentElement)==null?void 0:o.tagName.toLowerCase())||""))r.textContent=((i=r.textContent)==null?void 0:i.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let s=0;s<r.childNodes.length;s++)n(r.childNodes[s])}return n(t.body),t};const g4t=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var v4t=(e,t)=>{var n,r,o;const i=t.evaluate("/html/body/text()",t,null,Qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=i.snapshotLength-1;a>=0;a--){const c=i.snapshotItem(a),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const d=t.createElement("span");d.appendChild(t.createTextNode(u)),(n=c.parentNode)==null||n.replaceChild(d,c)}else(r=c.parentNode)==null||r.removeChild(c)}const s=t.evaluate(g4t.join("|"),t,null,Qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let a=s.snapshotLength-1;a>=0;a--){const c=s.snapshotItem(a);c&&((o=c.parentNode)==null||o.removeChild(c))}return t};const y4t=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,b4t=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],x4t=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],w4t={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function C4t(e){return y4t.test(e)}var _4t=(e,t)=>{var n;if(!C4t(e))return t;const r=t.evaluate(b4t.join("|"),t,i=>i==="o"?"urn:schemas-microsoft-com:office:office":null,Qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=r.snapshotLength-1;i>=0;i--){const s=r.snapshotItem(i);s!=null&&s.parentNode&&s.parentNode.removeChild(s)}const o=t.evaluate(x4t.join("|"),t,null,Qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i),a=w4t[s.className],c=new Text(s.textContent||"");if(!a)continue;const u=document.createElement(a[0]);let d=u,f=u;a.slice(1).forEach(p=>{f=document.createElement(p),d.appendChild(f),d=f}),f.appendChild(c),(n=s==null?void 0:s.parentNode)==null||n.replaceChild(u,s)}return t},S4t=(e,t)=>{var n;const r=t.evaluate('//b[contains(@id, "docs-internal-guid")]',t,null,Qp.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(r){const o=t.evaluate("//*",t,null,Qp.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let i=o.snapshotLength-1;i>=0;i--){const s=o.snapshotItem(i);s==null||s.setAttribute("data-is-google-docs","true")}return(n=t.body.firstElementChild)==null||n.replaceWith(...Array.from(r.childNodes)),t}return t},E4t=[m4t,_4t,S4t,v4t];function k4t(e){const t=i4t(e),n=t.styles.map(s=>s.value||s.title),r=t.decorators.map(s=>s.value||s.title),o=t.annotations.map(s=>s.value||s.title||""),i=t.lists.map(s=>s.value||s.title||"");return{enabledBlockStyles:n,enabledSpanDecorators:r,enabledBlockAnnotations:o,enabledListTypes:i}}function Ir(e){if(e&&"tagName"in e)return e.tagName.toLowerCase()}function j4t(e,t){const n=t(T4t(e));return E4t.forEach(r=>{r(e,n)}),n}function T4t(e){return e.trim()}function A4t(){if(H5e(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return e=>new DOMParser().parseFromString(e,"text/html")}function D4t(e){let t=0;const n=[],r=o=>{const i=[];o.forEach(s=>{t===0&&n.push(s),Uk(s)&&(t>0&&(i.push(s),n.push(s)),t++,r(s.children)),s._type==="__block"&&(i.push(s),n.push(s.block))}),i.forEach(s=>{o.splice(o.indexOf(s),1)}),t--};return r(e),n}function I4t(e,t){const n=e.children[t+1];return n&&n._type==="span"?n:null}function O4t(e,t){const n=e.children[t-1];return n&&n._type==="span"?n:null}function XX(e){return[" "," "].includes(e)}function P4t(e){return e.forEach(t=>{Uk(t)&&t.children.forEach((n,r)=>{if(!mv(n))return;const o=I4t(t,r),i=O4t(t,r);r===0&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),r===t.children.length-1&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(n.text.length-1))&&o&&mv(o)&&/\s/.test(o.text.substring(0,1))&&(n.text=n.text.replace(/[^\S\n]+$/g,"")),/\s/.test(n.text.substring(0,1))&&i&&mv(i)&&/\s/.test(i.text.substring(i.text.length-1))&&(n.text=n.text.replace(/^[^\S\n]+/g,"")),n.text||t.children.splice(r,1),i&&Ut(i.marks,n.marks)&&XX(n.text)?(i.text+=" ",t.children.splice(r,1)):o&&Ut(o.marks,n.marks)&&XX(n.text)&&(o.text=" ".concat(o.text),t.children.splice(r,1))})}),e}function R4t(e){return e.reduce((t,n,r,o)=>{if(n._type==="block")return t.push(n),t;if(n._type==="__block")return t.push(n.block),t;const i=t[t.length-1];if(r>0&&!Uk(o[r-1])&&Uk(i))return i.children.push(n),t;const s={...gs,children:[n]};return t.push(s),t},[])}function $4t(e){return Object.prototype.toString.call(e)=="[object NodeList]"}function mv(e){return e._type==="span"}function QX(e){return e._type==="block"}function JX(e){return e._type==="__decorator"}function eQ(e){return e._type==="__annotation"}function sh(e){return e.nodeType===1}function M4t(e,t){if(e==="ul"&&t.includes("bullet"))return"bullet";if(e==="ol"&&t.includes("number"))return"number"}function F4t(e,t){return[{deserialize(n){if(Ir(n)==="pre")return;const o=(n.nodeType===3&&(n.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&n.nextSibling&&n.nextSibling.nodeType!==3&&n.previousSibling&&n.previousSibling.nodeType!==3||n.textContent!==" ")&&Ir(n.parentNode)!=="body";if(n.nodeName==="#text"&&o)return{...CS,marks:[],text:(n.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(n){if(Ir(n)!=="pre")return;const r=t.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...CS,marks:r?["code"]:[],text:n.textContent||""}]}}},{deserialize(n,r){if(Ir(n)!=="blockquote")return;const o={...Wk,...Yk};delete o.blockquote;const i=[];return n.childNodes.forEach((s,a)=>{if(s.nodeType===1&&Object.keys(o).includes(s.localName.toLowerCase())){if(!n.ownerDocument)return;const c=n.ownerDocument.createElement("span");c.appendChild(n.ownerDocument.createTextNode("\r")),s.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),a!==n.childNodes.length&&c.appendChild(n.ownerDocument.createTextNode("\r")),i.push(c)}else i.push(s)}),{_type:"block",style:"blockquote",markDefs:[],children:r(i)}}},{deserialize(n,r){const o={...Wk,...Yk},i=Ir(n);let s=i?o[i]:void 0;if(s)return n.parentNode&&Ir(n.parentNode)==="li"?r(n.childNodes):(t.enabledBlockStyles.includes(s.style)||(s=gs),{...s,children:r(n.childNodes)})}},{deserialize(n,r){const o=Ir(n);if(!(!o||!(o in W5e)))return r(n.childNodes)}},{deserialize(n,r){if(Ir(n)==="div")return r(n.childNodes)}},{deserialize(n,r){const o=Ir(n);if(!(!o||!(o in qk)))return r(n.childNodes)}},{deserialize(n){if(Ir(n)==="br")return{...CS,text:`
`}}},{deserialize(n,r,o){const i=Ir(n),s=i?Y5e[i]:void 0,a=Ir(n.parentNode)||"";if(!s||!n.parentNode||!qk[a])return;const c=M4t(a,t.enabledListTypes);return c?(s.listItem=c,{...s,children:r(n.childNodes)}):o({_type:"block",children:r(n.childNodes)})}},{deserialize(n,r){const o=q5e[Ir(n)||""];if(!(!o||!t.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:r(n.childNodes)}}},{deserialize(n,r){if(Ir(n)!="a")return;const o=t.enabledBlockAnnotations.includes("link"),i=sh(n)&&n.getAttribute("href");if(!i)return r(n.childNodes);let s;return o?(s={_key:bM(12),_type:"link",href:i},{_type:"__annotation",markDef:s,children:r(n.childNodes)}):n.appendChild(n.ownerDocument.createTextNode(" (".concat(i,")")))&&r(n.childNodes)}}]}const G5e=Object.keys(qk);function L4t(e){const t=sh(e)&&e.getAttribute("style");return/font-style:italic/.test(t||"")}function B4t(e){const t=sh(e)&&e.getAttribute("style");return/font-weight:700/.test(t||"")}function tQ(e){return sh(e)&&!!e.getAttribute("data-is-google-docs")}function N4t(e){const t=Ir(e.parentNode);if(!(t&&!G5e.includes(t)))return Ir(e.parentNode)==="ul"?"bullet":"number"}function z4t(e){let t=0;if(Ir(e)==="li"){let n=e.parentNode;for(;n;){const r=Ir(n);r&&G5e.includes(r)&&t++,n=n.parentNode}}else t=1;return t}const V4t={...Wk,...Yk};function H4t(e,t){const n=Ir(e.firstChild),r=n&&V4t[n];return!r||!t.includes(r.style)?n0:r.style}function U4t(e,t){return[{deserialize(n){if(sh(n)&&Ir(n)==="span"&&tQ(n)){const r={...CS,marks:[],text:n.textContent};return B4t(n)&&r.marks.push("strong"),L4t(n)&&r.marks.push("em"),r}}},{deserialize(n,r){var o;if(Ir(n)==="li"&&tQ(n))return{...gs,listItem:N4t(n),level:z4t(n),style:H4t(n,t.enabledBlockStyles),children:r(((o=n.firstChild)==null?void 0:o.childNodes)||[])}}}]}function W4t(e){const t=sh(e)&&e.getAttribute("style");if(t&&t.match(/lfo\d+/))return t.match("lfo1")?"bullet":"number"}function q4t(e){const t=sh(e)&&e.getAttribute("style");if(!t)return;const n=t.match(/level\d+/);if(!n)return;const[r]=n[0].match(/\d/)||[];return(r?parseInt(r,10):1)||1}function Y4t(e){return sh(e)&&e.className?e.className==="MsoListParagraphCxSpFirst"||e.className==="MsoListParagraphCxSpMiddle"||e.className==="MsoListParagraphCxSpLast":!1}function G4t(){return[{deserialize(e,t){if(Ir(e)==="p"&&Y4t(e))return{...gs,listItem:W4t(e),level:q4t(e),style:n0,children:t(e.childNodes)}}}]}function K4t(e,t){return[...G4t(),...U4t(e,t),...F4t(e,t)]}class Z4t{constructor(t){var n=this;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=a=>{this._markDefs=[];const{parseHtml:c}=this,u=c(a),d=Array.from(u.childNodes),f=P4t(D4t(R4t(this.deserializeElements(d))));this._markDefs.length>0&&f.filter(m=>m._type==="block").forEach(m=>{m.markDefs=m.markDefs||[],m.markDefs=m.markDefs.concat(this._markDefs.filter(v=>On(m.children.map(g=>g.marks||[])).includes(v._key)))});const p=this.blockContentType.of.find(a7);return p?f.map(m=>(m._type==="block"&&(m._type=p.name),m)):f},this.deserializeElements=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return a.forEach(u=>{c=c.concat(n.deserializeElement(u))}),c},this.deserializeElement=a=>{var c,u;const d=m=>{if($4t(m))return this.deserializeElements(Array.from(m));if(Array.isArray(m))return this.deserializeElements(m);if(m)return this.deserializeElement(m)},f=m=>({_type:"__block",block:m});let p;for(let m=0;m<this.rules.length;m++){const v=this.rules[m];if(!v.deserialize)continue;const g=v.deserialize(a,d,f),b=H5e(g);if(b!=="array"&&b!=="object"&&b!=="null"&&b!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(p,'".'));if(g!==void 0){{if(g===null)throw new Error("Deserializer rule returned `null`");Array.isArray(g)?p=g:JX(g)?p=this.deserializeDecorator(g):eQ(g)?p=this.deserializeAnnotation(g):p=g}if(g&&!Array.isArray(g)&&QX(g)&&"listItem"in g){let x=(c=a.parentNode)==null?void 0:c.parentNode;for(;x&&Ir(x)==="li";)x=(u=x.parentNode)==null?void 0:u.parentNode,g.level=g.level?g.level+1:1}g&&!Array.isArray(g)&&QX(g)&&g.style==="blockquote"&&g.children.forEach((x,y)=>{mv(x)&&x.text==="\r"&&(x.text=`

`,(y===0||y===g.children.length-1)&&g.children.splice(y,1))});break}}return p||d(a.childNodes)||[]},this.deserializeDecorator=a=>{const{name:c}=a,u=d=>{if(JX(d))return this.deserializeDecorator(d);if(mv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])},this.deserializeAnnotation=a=>{const{markDef:c}=a;this._markDefs.push(c);const u=d=>{if(eQ(d))return this.deserializeAnnotation(d);if(mv(d))d.marks=d.marks||[],d.text.trim()&&d.marks.unshift(c._key);else if("children"in d&&Array.isArray(d.children)){const f=d;f.children=f.children.map(u)}return d};return a.children.reduce((d,f)=>{const p=u(f);return Array.isArray(p)?d.concat(p):(d.push(p),d)},[])};const{rules:o=[]}=r;if(!t)throw new Error("Parameter 'blockContentType' is required");const i=K4t(t,k4t(t));this.rules=[...o,...i];const s=r.parseHtml||A4t();this.blockContentType=t,this.parseHtml=a=>j4t(a,s).body}}function Sx(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e._type!==(t.blockTypeName||"block"))return"_key"in e?e:{...e,_key:bM(12)};const n={_key:bM(12),children:[],markDefs:[],...e},r=n.children[n.children.length-1];if(!r)return n.children=[{_type:"span",_key:"".concat(n._key).concat(0),text:"",marks:[]}],n;const o=[],i=t.allowedDecorators&&Array.isArray(t.allowedDecorators)?t.allowedDecorators:!1;return n.children=n.children.reduce((s,a)=>{const c=s[s.length-1];return c&&W3(a)&&W3(c)&&Ut(c.marks,a.marks)?(r&&r===a&&a.text===""&&n.children.length>1||(c.text+=a.text),s):(s.push(a),s)},[]).map((s,a)=>{if(!s)throw new Error("missing child");return s._key="".concat(n._key).concat(a),W3(s)&&(s.marks?i&&(s.marks=s.marks.filter(c=>{var u;const d=i.includes(c),f=(u=n.markDefs)==null?void 0:u.some(p=>p._key===c);return d||f})):s.marks=[],o.push(...s.marks)),s}),n.markDefs=(n.markDefs||[]).filter(s=>o.includes(s._key)),n}function nQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Z4t(t,n).deserialize(e).map(o=>Sx(o))}function rQ(e){return K8.compile({name:"blockTypeSchema",types:[e]}).get(e.name)}function oQ(e){var t,n,r;if(!e)throw new Error("Parameter 'portabletextType' missing (required)");const o=(t=e.of)==null?void 0:t.find(K5e);if(!o)throw new Error("Block type is not defined in this schema (required)");const i=(n=o.fields)==null?void 0:n.find(d=>d.name==="children");if(!i)throw new Error("Children field for block type found in schema (required)");const s=i.type.of;if(!s)throw new Error("Valid types for block children not found in schema (required)");const a=s.find(d=>d.name==="span");if(!a)throw new Error("Span type not found in schema (required)");const c=s.filter(d=>d.name!=="span")||[],u=((r=e.of)==null?void 0:r.filter(d=>d.name!==o.name))||[];return{styles:X4t(o),decorators:Q4t(a),lists:J4t(o),block:o,span:a,portableText:e,inlineObjects:c,blockObjects:u,annotations:a.annotations}}function X4t(e){var t,n,r;const o=(t=e.fields)==null?void 0:t.find(s=>s.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const i=((n=o.type.options)==null?void 0:n.list)&&((r=o.type.options.list)==null?void 0:r.filter(s=>s.value));if(!i||i.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return i}function Q4t(e){return e.decorators}function J4t(e){var t,n;const r=(t=e.fields)==null?void 0:t.find(i=>i.name==="listItem");if(!r)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((n=r.type.options)==null?void 0:n.list)&&r.type.options.list.filter(i=>i.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function K5e(e){return e.type?K5e(e.type):e.name==="block"?e:null}const xM="sanity-pte:";Dy(xM);function Yr(e){const t="".concat(xM).concat(e);return Dy&&Dy.enabled(t)?Dy(t):Dy(xM)}const Gk=()=>Kw(12),Z5e=h.createContext(Gk),eFt=()=>{const e=h.useContext(Z5e);if(e===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return e},Kk=new WeakMap,_S=new WeakMap,P_=new WeakMap,Y1=new WeakMap,G1=new WeakMap,K1=new WeakMap,wM=new WeakMap,_a=new WeakMap,Zk=new WeakMap;function tFt(e){const t=e.charCodeAt(0);return t>=55296&&t<=56319}function CM(e){const t=e.charCodeAt(0);return t>=56320&&t<=57343}function Zw(e){const[t,n]=e;return[t,n]}function iQ(e,t){let n=e,r=t;const o=n.length,i=r.length;if(o===0||i===0)return 0;o>i?n=n.substring(o-i):o<i&&(r=r.substring(0,o));const s=Math.min(o,i);if(n===r)return s;let a=0,c=1;for(let u=0;u!==-1;){const d=n.substring(s-c);if(u=r.indexOf(d),u===-1)return a;c+=u,(u===0||n.substring(s-c)===r.substring(0,c))&&(a=c,c++)}return a}function l7(e,t){if(!e||!t||e[0]!==t[0])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(i,o)===t.substring(i,o)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function rA(e,t){if(!e||!t||e[e.length-1]!==t[t.length-1])return 0;let n=0,r=Math.min(e.length,t.length),o=r,i=0;for(;n<o;)e.substring(e.length-o,e.length-i)===t.substring(t.length-o,t.length-i)?(n=o,i=n):r=o,o=Math.floor((r-n)/2+n);return o}function X5e(e){let t=e.map(f=>Zw(f)),n=!1;const r=[];let o=0,i=null,s=0,a=0,c=0,u=0,d=0;for(;s<t.length;)t[s][0]===_t?(r[o++]=s,a=u,c=d,u=0,d=0,i=t[s][1]):(t[s][0]===Xn?u+=t[s][1].length:d+=t[s][1].length,i&&i.length<=Math.max(a,c)&&i.length<=Math.max(u,d)&&(t.splice(r[o-1],0,[In,i]),t[r[o-1]+1][0]=Xn,o--,o--,s=o>0?r[o-1]:-1,a=0,c=0,u=0,d=0,i=null,n=!0)),s++;for(n&&(t=oA(t)),t=Q5e(t),s=1;s<t.length;){if(t[s-1][0]===In&&t[s][0]===Xn){const f=t[s-1][1],p=t[s][1],m=iQ(f,p),v=iQ(p,f);m>=v?(m>=f.length/2||m>=p.length/2)&&(t.splice(s,0,[_t,p.substring(0,m)]),t[s-1][1]=f.substring(0,f.length-m),t[s+1][1]=p.substring(m),s++):(v>=f.length/2||v>=p.length/2)&&(t.splice(s,0,[_t,f.substring(0,v)]),t[s-1][0]=Xn,t[s-1][1]=p.substring(0,p.length-v),t[s+1][0]=In,t[s+1][1]=f.substring(v),s++),s++}s++}return t}const sQ=/[^a-zA-Z0-9]/,aQ=/\s/,lQ=/[\r\n]/,nFt=/\n\r?\n$/,rFt=/^\r?\n\r?\n/;function Q5e(e){const t=e.map(o=>Zw(o));function n(o,i){if(!o||!i)return 6;const s=o.charAt(o.length-1),a=i.charAt(0),c=s.match(sQ),u=a.match(sQ),d=c&&s.match(aQ),f=u&&a.match(aQ),p=d&&s.match(lQ),m=f&&a.match(lQ),v=p&&o.match(nFt),g=m&&i.match(rFt);return v||g?5:p||m?4:c&&!d&&f?3:d||f?2:c||u?1:0}let r=1;for(;r<t.length-1;){if(t[r-1][0]===_t&&t[r+1][0]===_t){let o=t[r-1][1],i=t[r][1],s=t[r+1][1];const a=rA(o,i);if(a){const p=i.substring(i.length-a);o=o.substring(0,o.length-a),i=p+i.substring(0,i.length-a),s=p+s}let c=o,u=i,d=s,f=n(o,i)+n(i,s);for(;i.charAt(0)===s.charAt(0);){o+=i.charAt(0),i=i.substring(1)+s.charAt(0),s=s.substring(1);const p=n(o,i)+n(i,s);p>=f&&(f=p,c=o,u=i,d=s)}t[r-1][1]!==c&&(c?t[r-1][1]=c:(t.splice(r-1,1),r--),t[r][1]=u,d?t[r+1][1]=d:(t.splice(r+1,1),r--))}r++}return t}function oA(e){let t=e.map(u=>Zw(u));t.push([_t,""]);let n=0,r=0,o=0,i="",s="",a;for(;n<t.length;)switch(t[n][0]){case Xn:o++,s+=t[n][1],n++;break;case In:r++,i+=t[n][1],n++;break;case _t:r+o>1?(r!==0&&o!==0&&(a=l7(s,i),a!==0&&(n-r-o>0&&t[n-r-o-1][0]===_t?t[n-r-o-1][1]+=s.substring(0,a):(t.splice(0,0,[_t,s.substring(0,a)]),n++),s=s.substring(a),i=i.substring(a)),a=rA(s,i),a!==0&&(t[n][1]=s.substring(s.length-a)+t[n][1],s=s.substring(0,s.length-a),i=i.substring(0,i.length-a))),n-=r+o,t.splice(n,r+o),i.length&&(t.splice(n,0,[In,i]),n++),s.length&&(t.splice(n,0,[Xn,s]),n++),n++):n!==0&&t[n-1][0]===_t?(t[n-1][1]+=t[n][1],t.splice(n,1)):n++,o=0,r=0,i="",s="";break;default:throw new Error("Unknown diff operation")}t[t.length-1][1]===""&&t.pop();let c=!1;for(n=1;n<t.length-1;)t[n-1][0]===_t&&t[n+1][0]===_t&&(t[n][1].substring(t[n][1].length-t[n-1][1].length)===t[n-1][1]?(t[n][1]=t[n-1][1]+t[n][1].substring(0,t[n][1].length-t[n-1][1].length),t[n+1][1]=t[n-1][1]+t[n+1][1],t.splice(n-1,1),c=!0):t[n][1].substring(0,t[n+1][1].length)===t[n+1][1]&&(t[n-1][1]+=t[n+1][1],t[n][1]=t[n][1].substring(t[n+1][1].length)+t[n+1][1],t.splice(n+1,1),c=!0)),n++;return c&&(t=oA(t)),t}function oFt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r+(o?1:0),0)}function J5e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,n=e.map(p=>Zw(p)),r=!1;const o=[];let i=0,s=null,a=0,c=!1,u=!1,d=!1,f=!1;for(;a<n.length;)n[a][0]===_t?(n[a][1].length<t&&(d||f)?(o[i++]=a,c=d,u=f,s=n[a][1]):(i=0,s=null),d=!1,f=!1):(n[a][0]===In?f=!0:d=!0,s&&(c&&u&&d&&f||s.length<t/2&&oFt(c,u,d,f)===3)&&(n.splice(o[i-1],0,[In,s]),n[o[i-1]+1][0]=Xn,i--,s=null,c&&u?(d=!0,f=!0,i=0):(i--,a=i>0?o[i-1]:-1,d=!1,f=!1),r=!0)),a++;return r&&(n=oA(n)),n}function iFt(e,t,n){const r=e.length,o=t.length,i=Math.ceil((r+o)/2),s=i,a=2*i,c=new Array(a),u=new Array(a);for(let b=0;b<a;b++)c[b]=-1,u[b]=-1;c[s+1]=0,u[s+1]=0;const d=r-o,f=d%2!==0;let p=0,m=0,v=0,g=0;for(let b=0;b<i&&!(Date.now()>n);b++){for(let x=-b+p;x<=b-m;x+=2){const y=s+x;let w;x===-b||x!==b&&c[y-1]<c[y+1]?w=c[y+1]:w=c[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(w)===t.charAt(C);)w++,C++;if(c[y]=w,w>r)m+=2;else if(C>o)p+=2;else if(f){const _=s+d-x;if(_>=0&&_<a&&u[_]!==-1){const S=r-u[_];if(w>=S)return cQ(e,t,w,C,n)}}}for(let x=-b+v;x<=b-g;x+=2){const y=s+x;let w;x===-b||x!==b&&u[y-1]<u[y+1]?w=u[y+1]:w=u[y-1]+1;let C=w-x;for(;w<r&&C<o&&e.charAt(r-w-1)===t.charAt(o-C-1);)w++,C++;if(u[y]=w,w>r)g+=2;else if(C>o)v+=2;else if(!f){const _=s+d-x;if(_>=0&&_<a&&c[_]!==-1){const S=c[_],E=s+S-_;if(w=r-w,S>=w)return cQ(e,t,S,E,n)}}}}return[[In,e],[Xn,t]]}function cQ(e,t,n,r,o){const i=e.substring(0,n),s=t.substring(0,r),a=e.substring(n),c=t.substring(r),u=Jp(i,s,{checkLines:!1,deadline:o}),d=Jp(a,c,{checkLines:!1,deadline:o});return u.concat(d)}function sFt(e,t){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const r=e.length>t.length?e:t,o=e.length>t.length?t:e;if(r.length<4||o.length*2<r.length)return null;const i=uQ(r,o,Math.ceil(r.length/4)),s=uQ(r,o,Math.ceil(r.length/2));let a;if(i&&s)a=i[4].length>s[4].length?i:s;else{if(!i&&!s)return null;s?i||(a=s):a=i}if(!a)throw new Error("Unable to find a half match.");let c,u,d,f;e.length>t.length?(c=a[0],u=a[1],d=a[2],f=a[3]):(d=a[0],f=a[1],c=a[2],u=a[3]);const p=a[4];return[c,u,d,f,p]}function uQ(e,t,n){const r=e.slice(n,n+Math.floor(e.length/4));let o=-1,i="",s,a,c,u;for(;(o=t.indexOf(r,o+1))!==-1;){const d=l7(e.slice(n),t.slice(o)),f=rA(e.slice(0,n),t.slice(0,o));i.length<f+d&&(i=t.slice(o-f,o)+t.slice(o,o+d),s=e.slice(0,n-f),a=e.slice(n+d),c=t.slice(0,o-f),u=t.slice(o+d))}return i.length*2>=e.length?[s||"",a||"",c||"",u||"",i||""]:null}function aFt(e,t){for(let n=0;n<e.length;n++){const r=e[n][1],o=[];for(let i=0;i<r.length;i++)o[i]=t[r.charCodeAt(i)];e[n][1]=o.join("")}}function lFt(e,t){const n=[],r={};n[0]="";function o(c){let u="",d=0,f=-1,p=n.length;for(;f<c.length-1;){f=c.indexOf(`
`,d),f===-1&&(f=c.length-1);let m=c.slice(d,f+1);(r.hasOwnProperty?r.hasOwnProperty(m):r[m]!==void 0)?u+=String.fromCharCode(r[m]):(p===i&&(m=c.slice(d),f=c.length),u+=String.fromCharCode(p),r[m]=p,n[p++]=m),d=f+1}return u}let i=4e4;const s=o(e);i=65535;const a=o(t);return{chars1:s,chars2:a,lineArray:n}}function cFt(e,t,n){let r=e,o=t;const i=lFt(r,o);r=i.chars1,o=i.chars2;const s=i.lineArray;let a=Jp(r,o,{checkLines:!1,deadline:n.deadline});aFt(a,s),a=X5e(a),a.push([_t,""]);let c=0,u=0,d=0,f="",p="";for(;c<a.length;){switch(a[c][0]){case Xn:d++,p+=a[c][1];break;case In:u++,f+=a[c][1];break;case _t:if(u>=1&&d>=1){a.splice(c-u-d,u+d),c=c-u-d;const m=Jp(f,p,{checkLines:!1,deadline:n.deadline});for(let v=m.length-1;v>=0;v--)a.splice(c,0,m[v]);c+=m.length}d=0,u=0,f="",p="";break;default:throw new Error("Unknown diff operation.")}c++}return a.pop(),a}function uFt(e,t,n){let r;if(!e)return[[Xn,t]];if(!t)return[[In,e]];const o=e.length>t.length?e:t,i=e.length>t.length?t:e,s=o.indexOf(i);if(s!==-1)return r=[[Xn,o.substring(0,s)],[_t,i],[Xn,o.substring(s+i.length)]],e.length>t.length&&(r[0][0]=In,r[2][0]=In),r;if(i.length===1)return[[In,e],[Xn,t]];const a=sFt(e,t);if(a){const c=a[0],u=a[1],d=a[2],f=a[3],p=a[4],m=Jp(c,d,n),v=Jp(u,f,n);return m.concat([[_t,p]],v)}return n.checkLines&&e.length>100&&t.length>100?cFt(e,t,n):iFt(e,t,n.deadline)}const In=-1,Xn=1,_t=0;function c7(e,t,n){if(e===null||t===null)throw new Error("Null input. (diff)");const r=Jp(e,t,fFt(n||{}));return pFt(r),r}function Jp(e,t,n){let r=e,o=t;if(r===o)return r?[[_t,r]]:[];let i=l7(r,o);const s=r.substring(0,i);r=r.substring(i),o=o.substring(i),i=rA(r,o);const a=r.substring(r.length-i);r=r.substring(0,r.length-i),o=o.substring(0,o.length-i);let c=uFt(r,o,n);return s&&c.unshift([_t,s]),a&&c.push([_t,a]),c=oA(c),c}function dFt(e){let t=1;return typeof e<"u"&&(t=e<=0?Number.MAX_VALUE:e),Date.now()+t*1e3}function fFt(e){return{checkLines:!0,deadline:dFt(e.timeout||1),...e}}function R_(e,t,n){return n===1?e+t:t+e}function $_(e,t){return t===1?[e.substring(0,e.length-1),e[e.length-1]]:[e.substring(1),e[0]]}function hFt(e,t,n,r){return r===1?e[t][1][e[t][1].length-1]===e[n][1][e[n][1].length-1]:e[t][1][0]===e[n][1][0]}function dQ(e,t,n){const r=n===1?-1:1;let o=null,i=null,s=t+n;for(;s>=0&&s<e.length&&(o===null||i===null);s+=n){const[u,d]=e[s];if(d.length!==0){if(u===Xn){o===null&&(o=s);continue}else if(u===In){i===null&&(i=s);continue}else if(u===_t){if(o===null&&i===null){const[f,p]=$_(e[t][1],n);e[t][1]=f,e[s][1]=R_(e[s][1],p,r);return}break}}}if(o!==null&&i!==null&&hFt(e,o,i,n)){const[u,d]=$_(e[o][1],r),[f]=$_(e[i][1],r);e[o][1]=u,e[i][1]=f,e[t][1]=R_(e[t][1],d,n);return}const[a,c]=$_(e[t][1],n);e[t][1]=a,o===null?(e.splice(s,0,[Xn,c]),i!==null&&i>=s&&i++):e[o][1]=R_(e[o][1],c,r),i===null?e.splice(s,0,[In,c]):e[i][1]=R_(e[i][1],c,r)}function pFt(e){for(let t=0;t<e.length;t++){const[n,r]=e[t];if(r.length===0)continue;const o=r[0],i=r[r.length-1];tFt(i)&&n===_t&&dQ(e,t,1),CM(o)&&n===_t&&dQ(e,t,-1)}for(let t=0;t<e.length;t++)e[t][1].length===0&&e.splice(t,1)}const mFt={threshold:.5,distance:1e3};function gFt(e){return{...mFt,...e}}const vFt=32;function yFt(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(t.length>vFt)throw new Error("Pattern too long for this browser.");const o=gFt(r),i=bFt(t);function s(v,g){const b=v/t.length,x=Math.abs(n-g);return o.distance?b+x/o.distance:x?1:b}let a=o.threshold,c=e.indexOf(t,n);c!==-1&&(a=Math.min(s(0,c),a),c=e.lastIndexOf(t,n+t.length),c!==-1&&(a=Math.min(s(0,c),a)));const u=1<<t.length-1;c=-1;let d,f,p=t.length+e.length,m=[];for(let v=0;v<t.length;v++){for(d=0,f=p;d<f;)s(v,n+f)<=a?d=f:p=f,f=Math.floor((p-d)/2+d);p=f;let g=Math.max(1,n-f+1);const b=Math.min(n+f,e.length)+t.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let y=b;y>=g;y--){const w=i[e.charAt(y-1)];if(v===0?x[y]=(x[y+1]<<1|1)&w:x[y]=(x[y+1]<<1|1)&w|((m[y+1]|m[y])<<1|1)|m[y+1],x[y]&u){const C=s(v,y-1);if(C<=a)if(a=C,c=y-1,c>n)g=Math.max(1,2*n-c);else break}}if(s(v+1,n)>a)break;m=x}return c}function bFt(e){const t={};for(let n=0;n<e.length;n++)t[e.charAt(n)]=0;for(let n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t}function q3(e,t,n){if(e===null||t===null||n===null)throw new Error("Null input. (match())");const r=Math.max(0,Math.min(n,e.length));if(e===t)return 0;if(e.length){if(e.substring(r,r+t.length)===t)return r}else return-1;return yFt(e,t,r)}function Xk(e,t){return{diffs:[],start1:e,start2:t,utf8Start1:e,utf8Start2:t,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function u7(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==Xn&&(t[n]=e[n][1]);return t.join("")}function eje(e){const t=[];for(let n=0;n<e.length;n++)e[n][0]!==In&&(t[n]=e[n][1]);return t.join("")}function Qd(e){let t=0;for(let n=0;n<e.length;n++){const r=e.codePointAt(n);if(typeof r>"u")throw new Error("Failed to get codepoint");t+=tje(r)}return t}function xFt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=0,o=0;function i(a){for(;r<a;){const c=t.codePointAt(o);if(typeof c>"u")return o;r+=tje(c),c>65535?o+=2:o+=1}if(!n.allowExceedingIndices&&r!==a)throw new Error("Failed to determine byte offset");return o}const s=[];for(const a of e)s.push({diffs:a.diffs.map(c=>Zw(c)),start1:i(a.start1),start2:i(a.start2),utf8Start1:a.utf8Start1,utf8Start2:a.utf8Start2,length1:a.length1,length2:a.length2,utf8Length1:a.utf8Length1,utf8Length2:a.utf8Length2});return s}function tje(e){return e<=127?1:e<=2047?2:e<=65535?3:4}const $d=32,d7=4,wFt={margin:4};function Y3(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...wFt,...e}}function CFt(e,t,n){if(typeof e=="string"&&typeof t=="string"){let r=c7(e,t,{checkLines:!0});return r.length>2&&(r=X5e(r),r=J5e(r)),G3(e,r,Y3(n))}if(e&&Array.isArray(e)&&typeof t>"u")return G3(u7(e),e,Y3(n));if(typeof e=="string"&&t&&Array.isArray(t))return G3(e,t,Y3(n));throw new Error("Unknown call format to make()")}function G3(e,t,n){if(t.length===0)return[];const r=[];let o=Xk(0,0),i=0,s=0,a=0,c=0,u=0,d=e,f=e;for(let p=0;p<t.length;p++){const m=t[p],[v,g]=m,b=g.length,x=Qd(g);switch(!i&&v!==_t&&(o.start1=s,o.start2=a,o.utf8Start1=c,o.utf8Start2=u),v){case Xn:o.diffs[i++]=m,o.length2+=b,o.utf8Length2+=x,f=f.substring(0,a)+g+f.substring(a);break;case In:o.length1+=b,o.utf8Length1+=x,o.diffs[i++]=m,f=f.substring(0,a)+f.substring(a+b);break;case _t:b<=2*n.margin&&i&&t.length!==p+1?(o.diffs[i++]=m,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*n.margin&&i&&(fQ(o,d,n),r.push(o),o=Xk(-1,-1),i=0,d=f,s=a,c=u);break;default:throw new Error("Unknown diff type")}v!==Xn&&(s+=b,c+=x),v!==In&&(a+=b,u+=x)}return i&&(fQ(o,d,n),r.push(o)),r}function fQ(e,t,n){if(t.length===0)return;let r=t.substring(e.start2,e.start2+e.length1),o=0;for(;t.indexOf(r)!==t.lastIndexOf(r)&&r.length<$d-n.margin-n.margin;)o+=n.margin,r=t.substring(e.start2-o,e.start2+e.length1+o);o+=n.margin;let i=e.start2-o;i>=1&&CM(t[i])&&i--;const s=t.substring(i,e.start2);s&&e.diffs.unshift([_t,s]);const a=s.length,c=Qd(s);let u=e.start2+e.length1+o;u<t.length&&CM(t[u])&&u++;const d=t.substring(e.start2+e.length1,u);d&&e.diffs.push([_t,d]);const f=d.length,p=Qd(d);e.start1-=a,e.start2-=a,e.utf8Start1-=c,e.utf8Start2-=c,e.length1+=a+f,e.length2+=a+f,e.utf8Length1+=c+p,e.utf8Length2+=c+p}function _Ft(e){let t=0,n=0,r=0;for(let o=0;o<e.length;o++){const i=e[o][0],s=e[o][1];switch(i){case Xn:n+=s.length;break;case In:r+=s.length;break;case _t:t+=Math.max(n,r),n=0,r=0;break;default:throw new Error("Unknown diff operation.")}}return t+=Math.max(n,r),t}function hQ(e,t){let n=0,r=0,o=0,i=0,s;for(s=0;s<e.length&&(e[s][0]!==Xn&&(n+=e[s][1].length),e[s][0]!==In&&(r+=e[s][1].length),!(n>t));s++)o=n,i=r;return e.length!==s&&e[s][0]===In?i:i+(t-o)}function SFt(e){const n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d7;let r="";for(let s=1;s<=n;s++)r+=String.fromCharCode(s);for(const s of e)s.start1+=n,s.start2+=n,s.utf8Start1+=n,s.utf8Start2+=n;let o=e[0],i=o.diffs;if(i.length===0||i[0][0]!==_t)i.unshift([_t,r]),o.start1-=n,o.start2-=n,o.utf8Start1-=n,o.utf8Start2-=n,o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[0][1].length){const s=i[0][1].length,a=n-s;i[0][1]=r.substring(s)+i[0][1],o.start1-=a,o.start2-=a,o.utf8Start1-=a,o.utf8Start2-=a,o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}if(o=e[e.length-1],i=o.diffs,i.length===0||i[i.length-1][0]!==_t)i.push([_t,r]),o.length1+=n,o.length2+=n,o.utf8Length1+=n,o.utf8Length2+=n;else if(n>i[i.length-1][1].length){const s=n-i[i.length-1][1].length;i[i.length-1][1]+=r.substring(0,s),o.length1+=s,o.length2+=s,o.utf8Length1+=s,o.utf8Length2+=s}return r}function EFt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d7;const n=$d;for(let r=0;r<e.length;r++){if(e[r].length1<=n)continue;const o=e[r];e.splice(r--,1);let i=o.start1,s=o.start2,a="";for(;o.diffs.length!==0;){const c=Xk(i-a.length,s-a.length);let u=!0;if(a!==""){const p=Qd(a);c.length1=a.length,c.utf8Length1=p,c.length2=a.length,c.utf8Length2=p,c.diffs.push([_t,a])}for(;o.diffs.length!==0&&c.length1<n-t;){const p=o.diffs[0][0];let m=o.diffs[0][1],v=Qd(m);if(p===Xn){c.length2+=m.length,c.utf8Length2+=v,s+=m.length;const g=o.diffs.shift();g&&c.diffs.push(g),u=!1}else p===In&&c.diffs.length===1&&c.diffs[0][0]===_t&&m.length>2*n?(c.length1+=m.length,c.utf8Length1+=v,i+=m.length,u=!1,c.diffs.push([p,m]),o.diffs.shift()):(m=m.substring(0,n-c.length1-t),v=Qd(m),c.length1+=m.length,c.utf8Length1+=v,i+=m.length,p===_t?(c.length2+=m.length,c.utf8Length2+=v,s+=m.length):u=!1,c.diffs.push([p,m]),m===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(m.length))}a=eje(c.diffs),a=a.substring(a.length-t);const d=u7(o.diffs).substring(0,t),f=Qd(d);d!==""&&(c.length1+=d.length,c.length2+=d.length,c.utf8Length1+=f,c.utf8Length2+=f,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===_t?c.diffs[c.diffs.length-1][1]+=d:c.diffs.push([_t,d])),u||e.splice(++r,0,c)}}}function nje(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let r=t;if(e.length===0)return[r,[]];const o=xFt(e,r,{allowExceedingIndices:n.allowExceedingIndices}),i=n.margin||d7,s=n.deleteThreshold||.4,a=SFt(o,i);r=a+r+a,EFt(o,i);let c=0;const u=[];for(let d=0;d<o.length;d++){const f=o[d].start2+c,p=u7(o[d].diffs);let m,v=-1;if(p.length>$d?(m=q3(r,p.substring(0,$d),f),m!==-1&&(v=q3(r,p.substring(p.length-$d),f+p.length-$d),(v===-1||m>=v)&&(m=-1))):m=q3(r,p,f),m===-1)u[d]=!1,c-=o[d].length2-o[d].length1;else{u[d]=!0,c=m-f;let g;if(v===-1?g=r.substring(m,m+p.length):g=r.substring(m,v+$d),p===g)r=r.substring(0,m)+eje(o[d].diffs)+r.substring(m+p.length);else{let b=c7(p,g,{checkLines:!1});if(p.length>$d&&_Ft(b)/p.length>s)u[d]=!1;else{b=Q5e(b);let x=0,y=0;for(let w=0;w<o[d].diffs.length;w++){const C=o[d].diffs[w];C[0]!==_t&&(y=hQ(b,x)),C[0]===Xn?r=r.substring(0,m+y)+C[1]+r.substring(m+y):C[0]===In&&(r=r.substring(0,m+y)+r.substring(m+hQ(b,x+C[1].length))),C[0]!==In&&(x+=C[1].length)}}}}}return r=r.substring(a.length,r.length-a.length),[r,u]}function kFt(e){return e.map(jFt).join("")}function jFt(e){const{utf8Length1:t,utf8Length2:n,utf8Start1:r,utf8Start2:o,diffs:i}=e;let s;t===0?s="".concat(r,",0"):t===1?s="".concat(r+1):s="".concat(r+1,",").concat(t);let a;n===0?a="".concat(o,",0"):n===1?a="".concat(o+1):a="".concat(o+1,",").concat(n);const c=["@@ -".concat(s," +").concat(a,` @@
`)];let u;for(let d=0;d<i.length;d++){switch(i[d][0]){case Xn:u="+";break;case In:u="-";break;case _t:u=" ";break;default:throw new Error("Unknown patch operation.")}c[d+1]="".concat(u+encodeURI(i[d][1]),`
`)}return c.join("").replace(/%20/g," ")}const TFt=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function f7(e){if(!e)return[];const t=[],n=e.split(`
`);let r=0;for(;r<n.length;){const o=n[r].match(TFt);if(!o)throw new Error("Invalid patch string: ".concat(n[r]));const i=Xk(M_(o[1]),M_(o[3]));for(t.push(i),o[2]===""?(i.start1--,i.utf8Start1--,i.length1=1,i.utf8Length1=1):o[2]==="0"?(i.length1=0,i.utf8Length1=0):(i.start1--,i.utf8Start1--,i.utf8Length1=M_(o[2]),i.length1=i.utf8Length1),o[4]===""?(i.start2--,i.utf8Start2--,i.length2=1,i.utf8Length2=1):o[4]==="0"?(i.length2=0,i.utf8Length2=0):(i.start2--,i.utf8Start2--,i.utf8Length2=M_(o[4]),i.length2=i.utf8Length2),r++;r<n.length;){const s=n[r],a=s.charAt(0);if(a==="@")break;if(a===""){r++;continue}let c;try{c=decodeURI(s.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(s))}const u=Qd(c)-c.length;if(a==="-")i.diffs.push([In,c]),i.length1-=u;else if(a==="+")i.diffs.push([Xn,c]),i.length2-=u;else if(a===" ")i.diffs.push([_t,c]),i.length1-=u,i.length2-=u;else throw new Error('Invalid patch mode "'.concat(a,'" in: ').concat(c));r++}}return t}function M_(e){return parseInt(e,10)}function rje(e){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function pQ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=CFt(e,t),o=kFt(r);return{type:"diffMatchPatch",path:n,value:o}}function cu(e,t){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:t,items:e}}function pl(e){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:e}}function Us(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const AFt=[],oje="void-child";function gv(e,t){const n=t[e._key];return n&&Ut(e,n)?n:(t[e._key]=e,e)}function wc(e,t){let{schemaTypes:n}=t,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e&&Array.isArray(e)?e.map(o=>{const{_type:i,_key:s,...a}=o,c=[{_key:oje,_type:"span",text:"",marks:[]}];if(o&&o._type===n.block.name){const d=o;let f=!1;const p=typeof d.style>"u",m=typeof d.markDefs>"u",v=d.children.map(g=>{const{_type:b,_key:x,...y}=g;return b!=="span"?(f=!0,gv({_type:b,_key:x,children:c,value:y,__inline:!0},r)):g});return!p&&!m&&!f&&Oe.isElement(o)?o:(p&&(a.style=n.styles[0].value),m&&(a.markDefs=AFt),gv({_type:i,_key:s,...a,children:v},r))}return gv({_type:i,_key:s,children:c,value:a},r)}):[]}function wr(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.map(r=>{const{_key:o,_type:i}=r;if(!o||!i)throw new Error("Not a valid block");if(i===t&&"children"in r&&Array.isArray(r.children)&&o){let a=!1;const c=r.children.map(u=>{const{_type:d}=u;if("value"in u&&d!=="span"){a=!0;const{value:f,_key:p,_type:m,__inline:v,children:g,...b}=u;return gv({...b,...f,_key:p,_type:m},n)}return u});return a?gv({...r,children:c,_key:o,_type:i},n):r}const s="value"in r&&r.value;return gv({_key:o,_type:i,...typeof s=="object"?s:{}},n)})}function Qk(e,t){var n;return e===void 0||e&&Array.isArray(e)&&e.length===0||e&&Array.isArray(e)&&e.length===1&&Oe.isElement(e[0])&&e[0]._type===t.block.name&&"style"in e[0]&&e[0].style===t.styles[0].value&&!("listItem"in e[0])&&Array.isArray(e[0].children)&&e[0].children.length===1&&we.isText(e[0].children[0])&&e[0].children[0]._type==="span"&&!((n=e[0].children[0].marks)!=null&&n.join(""))&&e[0].children[0].text===""}const qh=Yr("operationToPatches");qh.enabled=!1;function DFt(e){const t=e.block.name;function n(d,f,p){qh.enabled&&qh("Operation",JSON.stringify(f,null,2));const m=d.isTextBlock(d.children[f.path[0]])&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&d.isTextSpan(m.children[f.path[1]])&&m.children[f.path[1]];if(!v)throw new Error("Could not find child");const g=[{_key:m._key},"children",{_key:v._key},"text"],b=p[f.path[0]],x=d.isTextBlock(b)&&b.children[f.path[1]],y=d.isTextSpan(x)?x.text:"",w=pQ(y,v.text,g);return w.value.length?[w]:[]}function r(d,f,p){const m=d&&d.children[f.path[0]];if(!m)throw new Error("Could not find block");const v=d.isTextBlock(m)&&m.children[f.path[1]]||void 0,g=d.isTextSpan(v)?v:void 0;if(v&&!g)throw new Error("Expected span");if(!g)throw new Error("Could not find child");const b=[{_key:m._key},"children",{_key:g._key},"text"],x=p[f.path[0]],y=d.isTextBlock(x)&&x.children[f.path[1]],w=d.isTextSpan(y)&&y.text,C=pQ(w||"",g.text,b);return C.value?[C]:[]}function o(d,f){if(f.path.length===1){const p=d.children[f.path[0]];if(typeof p._key!="string")throw new Error("Expected block to have a _key");const m=YSe({...d.children[f.path[0]],...f.newProperties},GSe);return[pl(wr([m],t)[0],[{_key:p._key}])]}else if(f.path.length===2){const p=d.children[f.path[0]];if(d.isTextBlock(p)){const m=p.children[f.path[1]];if(m){const v=p._key,g=m._key,b=[];return Object.keys(f.newProperties).forEach(x=>{const y=qn(f.newProperties,x);b.push(pl(y,[{_key:v},"children",{_key:g},x]))}),b}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(f.path)))}function i(d,f,p){const m=p[f.path[0]],v=d.isTextBlock(m);if(f.path.length===1){const g=f.path[0]===0?"before":"after",b=p[f.path[0]-1],x=f.path[0]===0?m==null?void 0:m._key:b==null?void 0:b._key;return x?[cu([wr([f.node],t)[0]],g,[{_key:x}])]:[rje(p,[]),cu([wr([f.node],t)[0]],"before",[f.path[0]])]}else if(v&&f.path.length===2&&d.children[f.path[0]]){const g=m.children.length===0||!m.children[f.path[1]-1]?"before":"after",b={...f.node};!b._type&&we.isText(b)&&(b._type="span",b.marks=[]);const y=wr([{_key:"bogus",_type:t,children:[b]}],t)[0].children[0];return[cu([y],g,[{_key:m._key},"children",m.children.length<=1||!m.children[f.path[1]-1]?0:{_key:m.children[f.path[1]-1]._key}])]}return qh("Something was inserted into a void block. Not producing editor patches."),[]}function s(d,f,p){const m=[],v=d.children[f.path[0]];if(!d.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(f.path[0])," is not a text block and can't be split"));if(f.path.length===1){const g=p[f.path[0]];if(d.isTextBlock(g)){const b=wr([d.children[f.path[0]+1]],t)[0];b&&(m.push(cu([b],"after",[{_key:v._key}])),g.children.slice(f.position).forEach(y=>{const w=[{_key:g._key},"children",{_key:y._key}];m.push(Us(w))}))}return m}if(f.path.length===2){const g=v.children[f.path[1]];if(d.isTextSpan(g)){const b=wr([{...v,children:v.children.slice(f.path[1]+1,f.path[1]+2)}],t)[0].children;m.push(cu(b,"after",[{_key:v._key},"children",{_key:g._key}])),m.push(pl(g.text,[{_key:v._key},"children",{_key:g._key},"text"]))}return m}return m}function a(d,f,p){const m=p[f.path[0]];if(f.path.length===1){if(m&&m._key)return[Us([{_key:m._key}])];throw new Error("Block not found")}else if(d.isTextBlock(m)&&f.path.length===2){const v=d.isTextBlock(m)&&m.children&&m.children[f.path[1]];return v?[Us([{_key:m._key},"children",{_key:v._key}])]:(qh("Span not found in editor trying to remove node"),[])}else return qh("Not creating patch inside object block"),[]}function c(d,f,p){const m=[],v=p[f.path[0]],g=d.children[f.path[0]];if(f.path.length===1)if(v!=null&&v._key){const b=wr([d.children[f.path[0]-1]],t)[0];m.push(pl(b,[{_key:b._key}])),m.push(Us([{_key:v._key}]))}else throw new Error("Target key not found!");else if(f.path.length===2&&d.isTextBlock(g)){const b=d.isTextBlock(v)&&v.children[f.path[1]]||void 0,x=g.children[f.path[1]-1];d.isTextSpan(x)&&(m.push(pl(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),b&&m.push(Us([{_key:v._key},"children",{_key:b._key}])))}else qh("Void nodes can't be merged, not creating any patches");return m}function u(d,f,p){const m=[],v=p[f.path[0]],g=p[f.newPath[0]];if(f.path.length===1){const b=f.path[0]>f.newPath[0]?"before":"after";m.push(Us([{_key:v._key}])),m.push(cu([wr([v],t)[0]],b,[{_key:g._key}]))}else if(f.path.length===2&&d.isTextBlock(v)&&d.isTextBlock(g)){const b=v.children[f.path[1]],x=g.children[f.newPath[1]],y=f.newPath[1]===g.children.length?"after":"before",w=wr([v],t)[0].children[f.path[1]];m.push(Us([{_key:v._key},"children",{_key:b._key}])),m.push(cu([w],y,[{_key:g._key},"children",{_key:x._key}]))}return m}return{insertNodePatch:i,insertTextPatch:n,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:a,removeTextPatch:r,setNodePatch:o,splitNodePatch:s}}function mQ(e,t,n){const r=[e.path[0]];if(!t)return null;const o=t[r[0]];if(!o)return null;const i=[{_key:o._key}];if(o._type!==n.block.name)return i;let s;const a=e.path.slice(0,2),c=Array.isArray(o.children)&&o.children[a[1]];return c&&(s=["children",{_key:c._key}]),s?[...i,...s]:i}function gQ(e,t){if(!t)return[];const[n,r]=Array.from(F.nodes(t,{at:[],match:s=>Mr(e.path[0])&&s._key===e.path[0]._key}))[0]||[void 0,void 0];if(!n||!Oe.isElement(n))return[];if(t.isVoid(n))return[r[0],0];const o=[e.path[2]],i=n.children.findIndex(s=>Ut([{_key:s._key}],o));if(i>=0&&n.children[i]){const s=n.children[i];return Oe.isElement(s)&&t.isVoid(s)?r.concat(i).concat(0):r.concat(i)}return r}function ap(e,t,n){if(!t)return null;let r=null,o=null;const i=t.anchor&&mQ(t.anchor,e,n);i&&t.anchor&&(r={path:i,offset:t.anchor.offset});const s=t.focus&&mQ(t.focus,e,n);return s&&t.focus&&(o={path:s,offset:t.focus.offset}),r&&o?{anchor:r,focus:o}:null}function SS(e,t){if(!e||!t)return null;const n={path:gQ(e.anchor,t),offset:e.anchor.offset},r={path:gQ(e.focus,t),offset:e.focus.offset};return n&&r?{anchor:n,focus:r}:null}function _M(e){if(e){const t=e&&window.getSelection();t==null||t.removeAllRanges()}}const Z1=Yr("API:editable");function IFt(e,t,n){return function(o){return e.setEditable({focus:()=>{me.focus(o)},blur:()=>{me.blur(o)},toggleMark:i=>{o.pteToggleMark(i)},toggleList:i=>{o.pteToggleListItem(i)},toggleBlockStyle:i=>{o.pteToggleBlockStyle(i)},isMarkActive:i=>{try{return o.pteIsMarkActive(i)}catch(s){return console.warn(s),!1}},marks:()=>({...F.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:i=>{const s=SS(i,o);s?se.select(o,s):se.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const i=_e.descendant(o,o.selection.focus.path.slice(0,1));if(i)return wr([i],t.block.name,_a.get(o))[0]}},focusChild:()=>{if(o.selection){const i=_e.descendant(o,o.selection.focus.path.slice(0,1));if(i&&o.isTextBlock(i))return wr([i],t.block.name,_a.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(F.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===t.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(i.name!==t.span.name&&!t.inlineObjects.some(v=>v.name===i.name))throw new Error("This type cannot be inserted as a child to a text block");const d=wc([{_key:n(),_type:t.block.name,children:[{_key:n(),_type:i.name,...s||{}}]}],e)[0].children[0],f=o.selection.focus.path.slice(0,2),p=d._type===t.span.name,m=_e.get(o,f);return p&&m._type!==t.span.name&&(Z1("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),se.insertNodes(o,d,{select:!0,at:o.selection}),o.onChange(),((a=ap(wr(o.children,t.block.name,_a.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},insertBlock:(i,s)=>{var a;if(!o.selection)throw new Error("The editor has no selection");const c=wc([{_key:n(),_type:i.name,...s||{}}],e)[0];return F.insertNode(o,c),o.onChange(),((a=ap(wr(o.children,t.block.name,_a.get(o)),o.selection,t))==null?void 0:a.focus.path)||[]},hasBlockStyle:i=>{try{return o.pteHasBlockStyle(i)}catch{return!1}},hasListStyle:i=>{try{return o.pteHasListStyle(i)}catch{return!1}},isVoid:i=>![t.block.name,t.span.name].includes(i._type),findByPath:i=>{const s=SS({focus:{path:i,offset:0},anchor:{path:i,offset:0}},o);if(s){const[a,c]=F.node(o,s.focus.path.slice(0,1));if(a&&c&&typeof a._key=="string"){if(i.length===1&&s.focus.path.length===1)return[wr([a],t.block.name)[0],[{_key:a._key}]];const u=wr([a],t.block.name,_a.get(o))[0];if(o.isTextBlock(u)){const d=u.children[s.focus.path[1]];if(d)return[d,[{_key:a._key},"children",{_key:d._key}]]}}}return[void 0,void 0]},findDOMNode:i=>{let s;try{const[a]=Array.from(F.nodes(o,{at:[],match:c=>c._key===i._key})||[])[0]||[void 0];s=me.toDOMNode(o,a)}catch{}return s},activeAnnotations:()=>{var i;if(!o.selection||o.selection.focus.path.length<2)return[];try{const s=[],a=F.nodes(o,{at:o.selection,match:c=>we.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of a){const[d]=F.node(o,u,{depth:1});o.isTextBlock(d)&&((i=d.markDefs)==null||i.forEach(f=>{we.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(f._key)&&s.push(f)}))}return s}catch{return[]}},addAnnotation:(i,s)=>{const{selection:a}=o;if(a){const[c]=F.node(o,a.focus,{depth:1});if(Oe.isElement(c)&&c._type===t.block.name){const u=n();if(o.isTextBlock(c)){se.setNodes(o,{markDefs:[...c.markDefs||[],{_type:i.name,_key:u,...s}]},{at:a.focus}),o.onChange(),ue.isCollapsed(a)&&(o.pteExpandToWord(),o.onChange());const[d]=F.node(o,a.focus,{depth:2});if(o.selection){F.withoutNormalizing(o,()=>{se.setNodes(o,{},{match:we.isText,split:!0}),o.selection&&we.isText(d)&&(se.setNodes(o,{marks:[...d.marks||[],u]},{at:o.selection,match:p=>p._type===t.span.name}),o.onChange())}),F.normalize(o),o.onChange();const f=ap(wr(o.children,t.block.name,_a.get(o)),o.selection,t);if(f&&typeof c._key=="string")return F.withoutNormalizing(o,()=>{o.selection&&(se.insertNodes(o,[{_type:"span",text:"",marks:[],_key:n()}],{at:ue.end(o.selection)}),o.onChange())}),{spanPath:f.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(i,s)=>{if(i){const a=SS(i,o);if(!(a&&a.anchor.path.length>0&&a.focus.path.length>0))throw new Error("Invalid range");if(a){if(!(s!=null&&s.mode)||(s==null?void 0:s.mode)==="selected"){Z1("Deleting content in selection"),se.delete(o,{at:a,hanging:!0,voids:!0}),o.onChange();return}(s==null?void 0:s.mode)==="blocks"&&(Z1("Deleting blocks touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Oe.isElement(u)})),(s==null?void 0:s.mode)==="children"&&(Z1("Deleting children touched by selection"),se.removeNodes(o,{at:a,voids:!0,match:u=>u._type===t.span.name||!o.isTextBlock(u)&&Oe.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:i=>{let{selection:s}=o;if(Z1("Removing annotation",i),s){if(ue.isCollapsed(s)){const[a,c]=F.node(o,s,{depth:2});we.isText(a)&&a.marks&&typeof a.text=="string"&&(se.select(o,c),s=o.selection)}F.withoutNormalizing(o,()=>{if(s&&ue.isExpanded(s)){if(s=o.selection,!s)return;se.setNodes(o,{},{match:we.isText,split:!0}),o.onChange(),[...F.nodes(o,{at:s,match:c=>we.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0})].forEach(c=>{let[u,d]=c;var f;const[p]=F.node(o,d,{depth:1});o.isTextBlock(p)&&((f=p.markDefs)==null||f.filter(m=>m._type===i.name).forEach(m=>{if(we.isText(u)&&Array.isArray(u.marks)&&u.marks.includes(m._key)){const v=[...(u.marks||[]).filter(g=>g!==m._key)];se.setNodes(o,{marks:v},{at:d,voids:!1,split:!1})}}))})}}),F.normalize(o),o.onChange()}},getSelection:()=>{let i=null;if(o.selection){const s=Zk.get(o.selection);if(s)return s;i=ap(wr(o.children,t.block.name,_a.get(o)),o.selection,t),Zk.set(o.selection,i)}return i},getValue:()=>wr(o.children,t.block.name,_a.get(o)),isCollapsedSelection:()=>!!o.selection&&ue.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&ue.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()}}),o}}function OFt(e){return function(n){const{apply:r}=n;return n.apply=o=>{const i=e;i>0&&n.children.length>=i&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||r(o)},n}}const Jk=new WeakMap;function Ex(e,t){const n=ije(e);Jk.set(e,!0),t(),Jk.set(e,n)}function ije(e){return Jk.get(e)}function PFt(e,t){return function(r){Jk.set(r,!1);const{apply:o,normalizeNode:i}=r;return r.apply=s=>{if(s.type==="split_node"&&(s.properties={...s.properties,_key:t()}),s.type==="insert_node"){const a=!ije(r)||!("_key"in s.node);F.isEditor(s.node)||(s.node={...s.node,...a?{_key:t()}:{}})}o(s)},r.normalizeNode=s=>{const[a,c]=s;if(Oe.isElement(a)&&a._type===e.block.name){a._key||se.setNodes(r,{_key:t()},{at:c});for(const[u,d]of _e.children(r,c))if(!u._key){se.setNodes(r,{_key:t()},{at:d});return}}i(s)},r}}const e5=new WeakMap;function SM(e,t){const n=sje(e);e5.set(e,!1),t(),e5.set(e,n)}function sje(e){return e5.get(e)}const vQ="before",yQ="after";function RFt(e,t,n){if(t!==vQ&&t!==yQ)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(vQ," or ").concat(yQ));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=bQ(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...bQ(s)),d}function bQ(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const xQ=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function $Ft(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function MFt(e,t){if(typeof t=="number")return t;const n=i7(e,t);return n===-1?!1:n}function FFt(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!xQ(t.value,"from")||!xQ(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return $Ft(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=MFt(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return RFt(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=h7(n[i],{...t,path:o}),n}function LFt(e,t){const n=F5e(e);if(t.path.length===0){if(t.type==="set"){if(!sw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Ri(n,r):(n[r]=h7(n[r],{...t,path:o}),n)}const aje={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},BFt=Object.keys(aje);function NFt(e,t){if(!BFt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return aje[t.type](e,t.value)}const lje={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=nje(f7(t),e,{allowExceedingIndices:!0});return n}},zFt=Object.keys(lje);function VFt(e,t){if(!zFt.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));const n=lje[t.type];if(n)return n(e,t.value);throw new Error("Unknown patch type")}function HFt(e,t){return t.reduce(h7,e)}function UFt(e,t){return Array.isArray(e)?FFt(e,t):ST(e)?VFt(e,t):sw(e)?LFt(e,t):NFt(e,t)}function h7(e,t){return UFt(e,t)}const Sr=Yr("applyPatches"),p7=Sr.enabled&&!0;function WFt(e){let t;return function(n,r){let o=!1;p7&&(Sr(`

NEW PATCH =============================================================`),Sr(JSON.stringify(r,null,2)));try{switch(r.type){case"insert":o=YFt(n,r,e);break;case"unset":o=KFt(n,r,t);break;case"set":o=GFt(n,r);break;case"diffMatchPatch":o=qFt(n,r);break;default:Sr("Unhandled patch",r.type)}}catch(i){console.error(i)}return t=r,o}}function qFt(e,t){const{block:n,child:r,childPath:o}=iA(e,t.path);if(!n)return Sr("Block not found"),!1;if(!r||!o)return Sr("Child not found"),!1;if(!(n&&e.isTextBlock(n)&&t.path.length===4&&t.path[1]==="children"&&t.path[3]==="text")||!we.isText(r))return!1;const s=f7(t.value),[a]=nje(s,r.text,{allowExceedingIndices:!0}),c=J5e(c7(r.text,a),5);vs(e,"before");let u=0;for(const[d,f]of c)d===Xn?(e.apply({type:"insert_text",path:o,offset:u,text:f}),u+=f.length):d===In?e.apply({type:"remove_text",path:o,offset:u,text:f}):d===_t&&(u+=f.length);return vs(e,"after"),!0}function YFt(e,t,n){const{block:r,child:o,blockPath:i,childPath:s}=iA(e,t.path);if(!r||!i)return Sr("Block not found"),!1;if(t.path.length>1&&t.path[1]!=="children")return Sr("Ignoring patch targeting void value"),!1;if(t.path.length===1){const{items:m,position:v}=t,g=wc(m,{schemaTypes:n},wM.get(e)),b=i[0],x=v==="after"?b+1:b;return Sr("Inserting blocks at path [".concat(x,"]")),vs(e,"before"),se.insertNodes(e,g,{at:[x]}),vs(e,"after"),!0}const{items:a,position:c}=t;if(!o||!s)return Sr("Child not found"),!1;const u=r&&wc([{...r,children:a}],{schemaTypes:n},wM.get(e)),d=s[1],f=c==="after"?d+1:d,p=[s[0],f];return Sr("Inserting children at path ".concat(p)),vs(e,"before"),u&&Oe.isElement(u[0])&&se.insertNodes(e,u[0].children,{at:p}),vs(e,"after"),!0}function GFt(e,t){let n=t.value;typeof t.path[3]=="string"&&(n={},n[t.path[3]]=t.value);const{block:r,blockPath:o,child:i,childPath:s}=iA(e,t.path);if(!r)return Sr("Block not found"),!1;const a=e.isTextBlock(r);if(a&&t.path.length>1&&t.path[1]!=="children")return Sr("Ignoring setting void value"),!1;if(vs(e,"before"),a&&i&&s){if(we.isText(n)&&we.isText(i)){const c=i.text;n.text!==c&&(Sr("Setting text property"),e.apply({type:"remove_text",path:s,offset:0,text:c}),e.apply({type:"insert_text",path:s,offset:0,text:n.text}),e.onChange())}else Sr("Setting non-text property"),e.apply({type:"set_node",path:s,properties:{},newProperties:n});return!0}else if(Oe.isElement(r)&&t.path.length===1&&o){Sr("Setting block property");const{children:c,...u}=n,{children:d,...f}=r||{children:void 0};e.apply({type:"set_node",path:o,properties:{...f},newProperties:u}),r.children.forEach((p,m)=>{e.apply({type:"remove_node",path:o.concat(m),node:p})}),Array.isArray(c)&&c.forEach((p,m)=>{e.apply({type:"insert_node",path:o.concat(m),node:p})})}else if(r&&"value"in r){const c=HFt([r.value],[t])[0];return se.setNodes(e,{...r,value:c},{at:o}),!0}return vs(e,"after"),!0}function KFt(e,t,n){if(t.path.length===0){Sr("Removing everything"),vs(e,"before");const a=e.selection;return se.deselect(e),e.children.forEach((c,u)=>{se.removeNodes(e,{at:[u]})}),se.insertNodes(e,e.createPlaceholderBlock()),a&&se.select(e,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),e.onChange(),vs(e,"after"),!0}const{block:r,blockPath:o,child:i,childPath:s}=iA(e,t.path);if(t.path.length===1){if(!r||!o)return Sr("Block not found"),!1;const a=o[0];return Sr("Removing block at path [".concat(a,"]")),vs(e,"before"),se.removeNodes(e,{at:[a]}),vs(e,"after"),!0}if(e.isTextBlock(r)&&t.path[1]==="children"&&t.path.length===3){if(!i||!s)return Sr("Child not found"),!1;const a=s[1];return Sr("Unsetting child at path ".concat(JSON.stringify(s))),vs(e,"before"),p7&&Sr("Removing child at path ".concat(JSON.stringify([s,a]))),se.removeNodes(e,{at:s}),vs(e,"after"),!0}return!1}function cje(e){return typeof e=="object"&&"_key"in e}function vs(e,t){p7&&(Sr("Children ".concat(t,":"),JSON.stringify(e.children,null,2)),Sr("Selection ".concat(t,": "),JSON.stringify(e.selection,null,2)))}function ZFt(e,t){let n=-1;const r=e.children.find((o,i)=>{const s=cje(t[0])?o._key===t[0]._key:i===t[0];return s&&(n=i),s});return r?{block:r,path:[n]}:{}}function iA(e,t){const{block:n,path:r}=ZFt(e,t);if(!(Oe.isElement(n)&&t[1]==="children"))return{block:n,blockPath:r,child:void 0,childPath:void 0};let o=-1;const i=n.children.find((s,a)=>{const c=cje(t[2])?s._key===t[2]._key:a===t[2];return c&&(o=a),c});return i?{block:n,child:i,blockPath:r,childPath:r==null?void 0:r.concat(o)}:{block:n,blockPath:r,child:void 0,childPath:void 0}}function uje(e,t){const n=dje(e)||!1;Kk.set(e,!0),t(),Kk.set(e,n)}function dje(e){return Kk.get(e)}function XFt(e){return _S.get(e)}const Xo=Yr("plugin:withUndoRedo"),wQ=Xo.enabled&&!1,vv=new WeakMap,K3=new WeakMap,QFt=1e3,fje=e=>{const t=vv.get(e);return t===void 0?!0:t},JFt=e=>(K3.get(e)||K3.set(e,[]),K3.get(e)||[]);function e6t(e){const{readOnly:t,patches$:n,blockSchemaType:r}=e;return o=>{let i=wr(o.children,r.name);const s=JFt(o);n&&o.subscriptions.push(()=>{Xo("Subscribing to patches");const c=n.subscribe(u=>{let{patches:d,snapshot:f}=u,p=!1;d.forEach(m=>{if(!p&&m.origin!=="local"&&s){if(m.type==="unset"&&m.path.length===0){Xo("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},s.splice(0,s.length),vv.set(o,!0),p=!0;return}s.push({patch:m,time:new Date,snapshot:f,previousSnapshot:i})}}),i=f});return()=>{Xo("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:a}=o;return o.apply=c=>{if(t){a(c);return}const{operations:u,history:d}=o,{undos:f}=d,p=f[f.length-1],m=p&&p.operations&&p.operations[p.operations.length-1],v=n6t(c,m),g=fje(o);let b=!0;if(g){if(p?u.length===0&&(b=t6t(c,m)||v):b=!1,p&&b)p.operations.push(c);else{const x={operations:[...o.selection===null?[]:[o6t(o)],c],timestamp:new Date};f.push(x),Xo("Created new undo step",p)}for(;f.length>QFt;)f.shift();r6t(c)&&(d.redos=[])}a(c)},o.undo=()=>{if(t)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Xo("Undoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=On(f.map(m=>CQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),_M(!!o.selection);try{F.withoutNormalizing(o,()=>{kx(o,()=>{f.map(Ug.inverse).reverse().forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Xo("Could not perform undo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},vv.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(t)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(Xo("Redoing",u),u.operations.length>0){const d=s.filter(p=>p.time>=u.timestamp);let f=u.operations;d.forEach(p=>{f=On(f.map(m=>CQ(o,p.patch,m,p.snapshot,p.previousSnapshot)))}),_M(!!o.selection);try{F.withoutNormalizing(o,()=>{kx(o,()=>{f.forEach(p=>{o.apply(p)})})}),o.normalize(),o.onChange()}catch(p){Xo("Could not perform redo step",p),s.splice(0,s.length),se.deselect(o),o.history={undos:[],redos:[]},vv.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function CQ(e,t,n,r,o){wQ&&(Xo("Adjusting '".concat(n.type,"' operation paths for '").concat(t.type,"' patch")),Xo("Operation ".concat(JSON.stringify(n))),Xo("Patch ".concat(JSON.stringify(t))));const i={...n};if(t.type==="insert"&&t.path.length===1){const s=(r||[]).findIndex(a=>Ut({_key:a._key},t.path[0]));return Xo("Adjusting block path (+".concat(t.items.length,") for '").concat(i.type,"' operation and patch '").concat(t.type,"'")),[_Q(i,t.items.length,s)]}if(t.type==="unset"&&t.path.length===1){const s=(o||[]).findIndex(a=>Ut({_key:a._key},t.path[0]));return"path"in i&&Array.isArray(i.path)&&i.path[0]===s?(Xo("Skipping transformation that targeted removed block"),[]):(wQ&&(Xo("Selection ".concat(JSON.stringify(e.selection))),Xo("Adjusting block path (-1) for '".concat(i.type,"' operation and patch '").concat(t.type,"'"))),[_Q(i,-1,s)])}if(t.type==="unset"&&t.path.length===0)return Xo("Adjusting selection for unset everything patch and ".concat(n.type," operation")),[];if(t.type==="diffMatchPatch"){const s=i6t(e,i);return!s||!Ut({_key:s._key},t.path[0])?[i]:(f7(t.value).forEach(c=>{var u,d,f,p;let m=0,v=c.utf8Start1;const{diffs:g}=c;if(g.forEach((b,x)=>{const[y,w]=b;y===Xn?(m+=w.length,v+=w.length):y===In?(m-=w.length,v-=w.length):y===_t&&(g.slice(x).every(C=>{let[_]=C;return _===_t})||(v+=w.length))}),i.type==="insert_text"&&v<i.offset&&(i.offset+=m),i.type==="remove_text"&&v<=i.offset-i.text.length&&(i.offset+=m),i.type==="set_selection"){const b=(u=i.properties)!=null&&u.focus?{...i.properties.focus}:void 0,x=(d=i==null?void 0:i.properties)!=null&&d.anchor?{...i.properties.anchor}:void 0,y=(f=i==null?void 0:i.newProperties)!=null&&f.focus?{...i.newProperties.focus}:void 0,w=(p=i==null?void 0:i.newProperties)!=null&&p.anchor?{...i.newProperties.anchor}:void 0;(b&&x||y&&w)&&([b,x,y,w].forEach(_=>{_&&v<_.offset&&(_.offset+=m)}),b&&x&&(i.properties={focus:b,anchor:x}),y&&w&&(i.newProperties={focus:y,anchor:w}))}}),[i])}return[i]}function _Q(e,t,n){var r,o,i,s;const a={...e};if(n>=0&&a.type!=="set_selection"&&Array.isArray(a.path)&&a.path[0]>=n+t&&a.path[0]+t>-1){const c=[a.path[0]+t,...a.path.slice(1)];a.path=c}if(a.type==="set_selection"){const c=(r=a.properties)!=null&&r.focus?{...a.properties.focus}:void 0,u=(o=a==null?void 0:a.properties)!=null&&o.anchor?{...a.properties.anchor}:void 0,d=(i=a==null?void 0:a.newProperties)!=null&&i.focus?{...a.newProperties.focus}:void 0,f=(s=a==null?void 0:a.newProperties)!=null&&s.anchor?{...a.newProperties.anchor}:void 0;(c&&u||d&&f)&&([c,u,d,f].forEach(m=>{m&&m.path[0]>=n+t&&m.path[0]+t>-1&&(m.path=[m.path[0]+t,...m.path.slice(1)])}),c&&u&&(a.properties={focus:c,anchor:u}),d&&f&&(a.newProperties={focus:d,anchor:f}))}return a}const t6t=(e,t)=>!!(e.type==="set_selection"||t&&e.type==="insert_text"&&t.type==="insert_text"&&e.offset===t.offset+t.text.length&&J.equals(e.path,t.path)&&e.text!==" "||t&&e.type==="remove_text"&&t.type==="remove_text"&&e.offset+e.text.length===t.offset&&J.equals(e.path,t.path)),n6t=(e,t)=>!!(t&&e.type==="set_selection"&&t.type==="set_selection"),r6t=e=>e.type!=="set_selection";function kx(e,t){const n=fje(e);vv.set(e,!1),t(),vv.set(e,n)}function o6t(e){return{type:"set_selection",properties:{...e.selection},newProperties:{...e.selection}}}function i6t(e,t){let n;return t.type==="set_selection"&&e.selection?n=e.children[e.selection.focus.path[0]]:"path"in t&&(n=e.children[t.path[0]]),n}const F_=Yr("plugin:withPatches");function s6t(e){let{change$:t,patches$:n,patchFunctions:r,readOnly:o,schemaTypes:i}=e,s;const a=WFt(i);return function(u){Kk.set(u,!1),e5.set(u,!0),s=[...u.children];const{apply:d}=u;let f=[];const p=()=>{if(f.length===0)return;const v=f;f=[];let g=!1;uje(u,()=>{F.withoutNormalizing(u,()=>{SM(u,()=>{kx(u,()=>{Ex(u,()=>{v.forEach(b=>{(b.type==="insert"||b.type==="unset")&&_M(!!u.selection),F_.enabled&&F_("Handling remote patch ".concat(JSON.stringify(b))),g=a(u,b)})})})})}),g&&(u.normalize(),u.onChange())})},m=v=>{let{patches:g}=v;const b=g.filter(x=>x.origin!=="local");b.length!==0&&(f=f.concat(b),p())};return n&&u.subscriptions.push(()=>{F_("Subscribing to patches$");const v=n.subscribe(m);return()=>{F_("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return d(v),u;let g=[];s=u.children;const b=Qk(s,i);d(v);const x=Qk(u.children,i);if(!sje(u))return u;switch(b&&!x&&v.type!=="set_selection"&&g.push(cu(s,"before",[0])),v.type){case"insert_text":g=[...g,...r.insertTextPatch(u,v,s)];break;case"remove_text":g=[...g,...r.removeTextPatch(u,v,s)];break;case"remove_node":g=[...g,...r.removeNodePatch(u,v,s)];break;case"split_node":g=[...g,...r.splitNodePatch(u,v,s)];break;case"insert_node":g=[...g,...r.insertNodePatch(u,v,s)];break;case"set_node":g=[...g,...r.setNodePatch(u,v,s)];break;case"merge_node":g=[...g,...r.mergeNodePatch(u,v,s)];break;case"move_node":g=[...g,...r.moveNodePatch(u,v,s)];break}return!b&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(g=[...g,Us([])],t.next({type:"unset",previousValue:wr(s,i.block.name,_a.get(u))})),b&&g.length>0&&(g=[rje([],[]),...g]),g.length>0&&g.forEach(y=>{t.next({type:"patch",patch:{...y,origin:"local"}})}),u},u}}const a6t=Yr("plugin:withPlaceholderBlock");function l6t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){return o.createPlaceholderBlock=()=>(a6t("Creating placeholder block"),{_type:t.block.name,_key:n(),style:t.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:n(),text:"",marks:[]}]}),o}}const L_=Yr("plugin:withPortableTextBlockStyle");function c6t(e){const t=e.styles[0].value;return function(r){const{normalizeNode:o}=r;return r.normalizeNode=i=>{o(i);const[,s]=i;for(const a of r.operations)if(a.type==="split_node"&&a.path.length===1&&r.isTextBlock(a.properties)&&a.properties.style!==t&&a.path[0]===s[0]&&!J.equals(s,a.path)){const[c]=F.node(r,[a.path[0]+1,0]);if(we.isText(c)&&c.text===""){L_("Normalizing split node to ".concat(t," style"),a),se.setNodes(r,{style:t},{at:[a.path[0]+1],voids:!1});break}}},r.pteHasBlockStyle=i=>r.selection?[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)&&a.style===i})].length>0:!1,r.pteToggleBlockStyle=i=>{if(!r.selection)return;[...F.nodes(r,{at:r.selection,match:a=>r.isTextBlock(a)})].forEach(a=>{let[c,u]=a;r.isTextBlock(c)&&c.style===i?(L_("Unsetting block style '".concat(i,"'")),se.setNodes(r,{...c,style:t},{at:u})):(i?L_("Setting style '".concat(i,"'")):L_("Setting default style",t),se.setNodes(r,{...c,style:i||t},{at:u}))}),r.onChange()},r}}const _h=Yr("plugin:withPortableTextLists"),Z3=10;function u6t(e){return function(n){return n.pteToggleListItem=r=>{n.pteHasListStyle(r)?(_h("Remove list item '".concat(r,"'")),n.pteUnsetListItem(r)):(_h("Add list item '".concat(r,"'")),n.pteSetListItem(r))},n.pteUnsetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>Oe.isElement(i)&&i._type===e.block.name})].forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){const{listItem:c,level:u,...d}=s,f={...d,listItem:void 0,level:void 0};_h("Unsetting list '".concat(r,"'")),se.setNodes(n,f,{at:a})}})},n.pteSetListItem=r=>{if(!n.selection)return;[...F.nodes(n,{at:n.selection,match:i=>n.isTextBlock(i)})].forEach(i=>{let[s,a]=i;_h("Setting list '".concat(r,"'")),se.setNodes(n,{...s,level:1,listItem:r||e.lists[0]&&e.lists[0].value},{at:a})})},n.pteEndList=()=>{if(!n.selection)return!1;const r=[...F.nodes(n,{at:n.selection,match:o=>Oe.isElement(o)&&n.isListBlock(o)&&o.children.length===1&&we.isText(o.children[0])&&o.children[0].text===""})];return r.length===0?!1:(r.forEach(o=>{let[i,s]=o;Oe.isElement(i)&&(_h("Unset list"),se.setNodes(n,{...i,level:void 0,listItem:void 0},{at:s}))}),!0)},n.pteIncrementBlockLevels=r=>{if(!n.selection)return!1;const o=[...F.nodes(n,{at:n.selection,match:i=>!!n.isListBlock(i)})];return o.length===0?!1:(o.forEach(i=>{let[s,a]=i;if(n.isListBlock(s)){let c=s.level||1;r?(c--,_h("Decrementing list level",Math.min(Z3,Math.max(1,c)))):(c++,_h("Incrementing list level",Math.min(Z3,Math.max(1,c)))),se.setNodes(n,{level:Math.min(Z3,Math.max(1,c))},{at:a})}}),!0)},n.pteHasListStyle=r=>n.selection?[...F.nodes(n,{at:n.selection,match:i=>n.isListBlock(i)&&i.listItem===r})].length>0:!1,n}}const Cd=Yr("plugin:withPortableTextMarkModel");function d6t(e,t){return function(i){const{apply:s,normalizeNode:a}=i,c=e.decorators.map(d=>d.value),u=()=>{i.selection&&(se.select(i,{...i.selection}),i.selection={...i.selection});const d=ap(i.children,i.selection,e);t.next({type:"selection",selection:d})};return i.normalizeNode=d=>{a(d),i.operations.some(g=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(g.type))&&n(i);const[f,p]=d,m=we.isText(f)&&f._type===e.span.name,v=i.isTextBlock(f);if(m||v){m&&!Array.isArray(f.marks)&&(Cd("Adding .marks to span node"),se.setNodes(i,{marks:[]},{at:p}),i.onChange());for(const g of i.operations){if(g.type==="merge_node"&&g.path.length===1&&"markDefs"in g.properties&&g.properties._type===e.block.name&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]-1>=0){const[b,x]=F.node(i,[g.path[0]-1]);if(Cd("Copying markDefs over to merged block",g),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[],w=vo([...y,...g.properties.markDefs]);Ut(w,b.markDefs)||(se.setNodes(i,{markDefs:w},{at:x,voids:!1}),i.onChange())}}if(g.type==="split_node"&&g.path.length===1&&Oe.isElementProps(g.properties)&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0&&g.path[0]+1<i.children.length){const[b,x]=F.node(i,[g.path[0]+1]);if(Cd("Copying markDefs over to split block",g),i.isTextBlock(b)){const y=Array.isArray(b.markDefs)&&b.markDefs||[];se.setNodes(i,{markDefs:vo([...y,...g.properties.markDefs])},{at:x,voids:!1}),i.onChange()}}if(g.type==="split_node"&&g.path.length===2&&g.properties._type===e.span.name&&"marks"in g.properties&&Array.isArray(g.properties.marks)&&g.properties.marks.length>0&&g.path[0]+1<i.children.length){const[b,x]=F.node(i,[g.path[0]+1,0]);we.isText(b)&&b.text===""&&Array.isArray(b.marks)&&b.marks.length>0&&(se.setNodes(i,{marks:[]},{at:x,voids:!1}),i.onChange())}if(g.type==="split_node"&&g.path.length===1&&g.properties._type===e.block.name&&"markDefs"in g.properties&&Array.isArray(g.properties.markDefs)&&g.properties.markDefs.length>0){const[b,x]=F.node(i,[g.path[0]]);i.isTextBlock(b)&&b.children.length===1&&b.markDefs&&b.markDefs.length>0&&we.isText(b.children[0])&&b.children[0].text===""&&(!b.children[0].marks||b.children[0].marks.length===0)&&(se.setNodes(i,{markDefs:[]},{at:x}),i.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(se.setNodes(i,{marks:[]},{at:p,voids:!1}),i.onChange())}v&&i.operations.some(g=>["split_node","remove_node","remove_text","merge_node"].includes(g.type))&&r(i)},i.apply=d=>{var f,p;if(d.type==="insert_text"){const{selection:m}=i;if(m&&ue.isCollapsed(m)&&((p=(f=F.marks(i))==null?void 0:f.marks)!=null&&p.some(v=>!c.includes(v)))){const[v]=Array.from(F.nodes(i,{mode:"lowest",at:m.focus,match:g=>g._type===e.span.name,voids:!1}))[0]||[void 0];if(we.isText(v)&&v.text.length===m.focus.offset&&Array.isArray(v.marks)&&v.marks.length>0){s(d),se.splitNodes(i,{match:we.isText,at:{...m.focus,offset:m.focus.offset}});const g=({...F.marks(i)||{}}.marks||[]).filter(b=>c.includes(b));se.setNodes(i,{marks:g},{at:J.next(m.focus.path)}),Cd("Inserting text at end of annotation");return}}}s(d)},i.addMark=d=>{if(i.selection){if(ue.isExpanded(i.selection)){se.setNodes(i,{},{match:we.isText,split:!0});const f=[...F.nodes(i,{at:i.selection,match:we.isText})];if(On(f.map(m=>m[0]).map(m=>m.marks)).includes(d))return i.removeMark(d),i;F.withoutNormalizing(i,()=>{f.forEach(m=>{let[v,g]=m;const b=[...(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),d];se.setNodes(i,{marks:b},{at:g,match:we.isText,split:!0,hanging:!0})})}),F.normalize(i)}else{const f={...F.marks(i)||{}}.marks||[],p={...F.marks(i)||{},marks:[...f,d]};return i.marks=p,u(),i}i.onChange(),u()}return i},i.removeMark=d=>{const{selection:f}=i;if(f){if(ue.isExpanded(f))F.withoutNormalizing(i,()=>{se.setNodes(i,{},{match:we.isText,split:!0}),i.selection&&[...F.nodes(i,{at:i.selection,match:we.isText})].forEach(m=>{let[v,g]=m;const b=i.children[g[0]];Oe.isElement(b)&&b.children.includes(v)&&se.setNodes(i,{marks:(Array.isArray(v.marks)?v.marks:[]).filter(x=>x!==d),_type:"span"},{at:g})})}),F.normalize(i);else{const p={...F.marks(i)||{}}.marks||[],m={...F.marks(i)||{},marks:p.filter(v=>v!==d)};return i.marks={marks:m.marks,_type:"span"},u(),i}i.onChange(),u()}return i},i.pteIsMarkActive=d=>{if(!i.selection)return!1;let f={...F.marks(i)||{}}.marks||[];return ue.isExpanded(i.selection)&&Array.from(F.nodes(i,{match:we.isText,at:i.selection})).forEach(p=>{const[m]=p;f=vo([...f,...m.marks||[]])}),f.includes(d)},i.pteToggleMark=d=>{i.pteIsMarkActive(d)?(Cd("Remove mark '".concat(d,"'")),F.removeMark(i,d)):(Cd("Add mark '".concat(d,"'")),F.addMark(i,d,!0))},i};function n(o){const{selection:i}=o;if(i)for(const[s,a]of Array.from(F.nodes(o,{at:F.range(o,[i.anchor.path[0]],[i.focus.path[0]])})).reverse()){const[c]=a.length>1?F.node(o,J.parent(a)):[void 0],u=[a[0],a[1]+1];if(o.isTextBlock(c)){const d=c.children[u[1]];we.isText(s)&&we.isText(d)&&Ut(d.marks,s.marks)&&(Cd("Merging spans"),se.mergeNodes(o,{at:u,voids:!0}),o.onChange())}}}function r(o){const{selection:i}=o;if(i){const s=F.nodes(o,{at:i,match:a=>a._type===e.block.name});for(const[a,c]of s)if(o.isTextBlock(a)){const u=(a.markDefs||[]).filter(d=>a.children.find(f=>we.isText(f)&&Array.isArray(f.marks)&&f.marks.includes(d._key)));Ut(u,a.markDefs)||(Cd("Removing markDef not in use"),se.setNodes(o,{markDefs:u},{at:c}),o.onChange())}}}}const hje=Yr("plugin:withPortableTextSelections"),f6t=hje.enabled&&!1;function h6t(e,t){let n=null;return function(o){const i=()=>{if(n!==o.selection){let a=null;if(o.selection){const c=Zk.get(o.selection);if(c)a=c;else{const u=o.children;a=ap(u,o.selection,t),Zk.set(o.selection,a)}}f6t&&hje("Emitting selection ".concat(JSON.stringify(a||null)," (").concat(JSON.stringify(o.selection),")")),a?e.next({type:"selection",selection:a}):e.next({type:"selection",selection:null})}n=o.selection},{onChange:s}=o;return o.onChange=()=>{const a=o.operations.length>0;s(),a&&i()},o}}const p6t=Yr("plugin:withSchemaTypes");function m6t(e){let{schemaTypes:t,keyGenerator:n}=e;return function(o){o.isTextBlock=s=>Uf(s)&&s._type===t.block.name,o.isTextSpan=s=>Ks(s)&&s._type==t.span.name,o.isListBlock=s=>LMe(s)&&s._type===t.block.name,o.isVoid=s=>t.block.name!==s._type&&(t.blockObjects.map(a=>a.name).includes(s._type)||t.inlineObjects.map(a=>a.name).includes(s._type)),o.isInline=s=>t.inlineObjects.map(c=>c.name).includes(s._type)&&"__inline"in s&&s.__inline===!0;const{normalizeNode:i}=o;return o.normalizeNode=s=>{const[a,c]=s;if(a._type===void 0&&c.length===2){p6t("Setting span type on text node without a type");const u=a,d=u._key||n();se.setNodes(o,{...u,_type:t.span.name,_key:d},{at:c})}i(s)},o}}const X3=Yr("plugin:withUtils");function g6t(e){return function(n){return n.pteExpandToWord=()=>{const{selection:r}=n;if(r&&!ue.isExpanded(r)){const[o]=F.node(n,r.focus,{depth:2});if(!o||!we.isText(o)||o.text.length===0){X3("pteExpandToWord: Can't expand to word here");return}const{focus:i}=r,s=i.offset,a=o.text.slice(0,s),c=o.text.slice(s,-1),u=v=>v.match(/\s/g),d=a.split("").reverse().findIndex(v=>u(v)),f=d>-1?a.length-d:0,p=c.split("").findIndex(v=>u(v)),m=a.length+(p>-1?p:c.length+1);if(!(f===m||isNaN(f)||isNaN(m))){X3("pteExpandToWord: Expanding to focused word"),se.setSelection(n,{anchor:{...r.anchor,offset:f},focus:{...r.focus,offset:m}});return}X3("pteExpandToWord: Can't expand to word here")}},n}}const Q3=Yr("plugin:withHotKeys"),v6t={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function y6t(e,t,n,r){const o=["enter","tab","shift","delete","end"],i=r||v6t,s=()=>wc([{_type:e.block.name,_key:t(),style:"normal",markDefs:[],children:[{_type:"span",_key:t(),text:"",marks:[]}]}],n)[0];return function(c){return c.pteWithHotKeys=u=>{Object.keys(i).forEach(b=>{if(b==="marks")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(bi(x,u.nativeEvent)){u.preventDefault();const y=i[b];if(y){const w=y[x];Q3("HotKey ".concat(x," to toggle ").concat(w)),c.pteToggleMark(w)}}}if(b==="custom")for(const x in i[b]){if(o.includes(x))throw new Error("The hotkey ".concat(x," is reserved!"));if(bi(x,u.nativeEvent)){const y=i[b];if(y){const w=y[x];w(u,n)}}}});const d=bi("enter",u.nativeEvent),f=bi("tab",u.nativeEvent),p=bi("shift+enter",u.nativeEvent),m=bi("shift+tab",u.nativeEvent),v=bi("backspace",u.nativeEvent),g=bi("delete",u.nativeEvent);if(v&&c.selection&&c.selection.focus.path[0]>0&&ue.isCollapsed(c.selection)){const b=J.previous(c.selection.focus.path.slice(0,1)),x=_e.descendant(c,b),y=_e.descendant(c,c.selection.focus.path.slice(0,1));if(x&&y&&F.isVoid(c,x)&&c.selection.focus.offset===0){Q3("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation(),se.removeNodes(c,{match:w=>w===y}),se.select(c,b),c.onChange();return}}if(g&&c.selection&&c.selection.focus.offset===0&&ue.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const b=_e.descendant(c,J.next(c.selection.focus.path.slice(0,1))),x=c.selection.focus.path.slice(0,1),y=_e.descendant(c,x);if(b&&y&&!F.isVoid(c,y)&&F.isVoid(c,b)){Q3("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),se.removeNodes(c,{match:w=>w===y}),se.select(c,x),c.onChange();return}}if((f||m)&&c.selection){const[b]=F.node(c,c.selection.focus,{depth:2}),[x]=Ks(b)?F.node(c,c.selection.focus,{depth:1}):[],y=b&&Uf(x)&&Ks(b)&&(b.marks||[]).filter(_=>(x.markDefs||[]).map(S=>S._key).includes(_)).length>0,[w]=ue.edges(c.selection),C=F.isStart(c,w,w.path);b&&Ks(b)&&(!y||C)&&c.pteIncrementBlockLevels(m)&&u.preventDefault()}if(d&&!p&&c.selection){const b=c.selection.focus.path.slice(0,1),x=_e.descendant(c,b);if(c.isListBlock(x)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(x)&&x.style&&x.style!==e.styles[0].value){const[,y]=ue.edges(c.selection);if(F.isEnd(c,y,y.path)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}}if(x&&F.isVoid(c,x)){F.insertNode(c,s()),u.preventDefault(),c.onChange();return}u.preventDefault(),c.insertBreak(),c.onChange()}if(p){u.preventDefault(),c.insertText(`
`);return}if(bi("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(bi("mod+y",u.nativeEvent)||bi("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function t5(e,t,n){let r=null,o=!0;const i=[t.span.name,...t.inlineObjects.map(a=>a.name)],s=[t.block.name,...t.blockObjects.map(a=>a.name)];return e===void 0?{valid:!0,resolution:null,value:e}:!Array.isArray(e)||e.length===0?{valid:!1,resolution:{patches:[Us([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:e},value:e}:(e.some((a,c)=>{if(!sw(a))return r={patches:[Us([c])],description:"Block must be an object, got ".concat(String(a)),action:"Unset invalid item",item:a},!0;if(!a._key)return r={patches:[pl({...a,_key:n()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:a},!0;if(!a._type||!s.includes(a._type)){if(a._type==="block"){const u=t.block.name;return r={patches:[pl({...a,_type:u},[{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid type name '").concat(a._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:a},!0}return r={patches:[Us([{_key:a._key}])],description:"Block with _key '".concat(a._key,"' has invalid _type '").concat(a._type,"'"),action:"Remove the block",item:a},!0}if(a._type===t.block.name){const u=a;if(!u.children)return r={patches:[Us([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' is missing required key 'children'."),action:"Remove the block",item:u},!0;if(!a.markDefs)return r={patches:[pl({...u,markDefs:[]},[{_key:u._key}])],description:"Block is missing required key 'markDefs'.",action:"Add empty markDefs array",item:u},!0;const p=vo(On(u.children.filter(m=>m._type===t.span.name).map(m=>m.marks||[]))).filter(m=>!t.decorators.map(v=>v.value).includes(m)).filter(m=>u.markDefs?!u.markDefs.find(v=>v._key===m):!1);if(p.length>0){const m=u.children.filter(v=>v._type===t.span.name&&Array.isArray(v.marks)&&v.marks.some(g=>p.includes(g)));if(m)return r={patches:m.map(v=>pl((v.marks||[]).filter(g=>!p.includes(g)),[{_key:a._key},"children",{_key:v._key},"marks"])),description:"Block with _key '".concat(a._key,"' contains marks (").concat(p.join(", "),") not supported by the current content model."),action:"Remove invalid marks",item:a},!0}if(u.children&&u.children.length===0){const m={_type:t.span.name,_key:n(),text:""};return r={patches:[cu([m],"after",[{_key:a._key},"children",0])],description:"Children for text block with _key '".concat(a._key,"' is empty."),action:"Insert an empty text",item:a},!0}u.children.some((m,v)=>{if(!m._key){const g={...m,_key:n()};return r={patches:[pl(g,[{_key:a._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(a._key,"."),action:"Set a new random _key on the object",item:a},!0}return!m._type||i.includes(m._type)===!1?(r={patches:[Us([{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' has invalid '_type' property (").concat(m._type,")."),action:"Remove the object",item:a},!0):m._type===t.span.name&&m.text===void 0?(r={patches:[pl({...m,text:""},[{_key:a._key},"children",{_key:m._key}])],description:"Child with _key '".concat(m._key,"' in block with key '").concat(a._key,"' is missing text property!"),action:"Write an empty .text to the object",item:a},!0):!1})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:r,value:e})}const nu=Yr("plugin:withInsertData");function b6t(e,t,n){return function(o){const i=t.block.name,s=t.span.name,a=c=>c.map(u=>{var d;return o.isTextBlock(u)?u.children.map(f=>{var p;return f._type===s?f.text:"[".concat(((p=t.inlineObjects.find(m=>m.name===f._type))==null?void 0:p.title)||"Object","]")}).join(""):"[".concat(((d=t.blockObjects.find(f=>f.name===u._type))==null?void 0:d.title)||"Object","]")}).join(`

`);return o.setFragmentData=(c,u)=>{const{selection:d}=o;if(!d)return;const[f,p]=ue.edges(d),m=F.void(o,{at:f.path}),v=F.void(o,{at:p.path});if(ue.isCollapsed(d)&&!m)return;const g=me.toDOMRange(o,d);let b=g.cloneContents();if(v){const[E]=v,j=g.cloneRange(),k=me.toDOMNode(o,E);j.setEndAfter(k),b=j.cloneContents()}Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(E=>{const j=E.getAttribute("data-slate-zero-width")==="n";E.textContent=j?`
`:""}),Array.from(b.querySelectorAll("*")).forEach(E=>{E.removeAttribute("contentEditable"),E.removeAttribute("data-slate-inline"),E.removeAttribute("data-slate-leaf"),E.removeAttribute("data-slate-node"),E.removeAttribute("data-slate-spacer"),E.removeAttribute("data-slate-string"),E.removeAttribute("data-slate-zero-width"),E.removeAttribute("draggable");for(const j in E.attributes)E.hasAttribute(j)&&E.removeAttribute(j)});const x=b.ownerDocument.createElement("div");x.appendChild(b),x.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(x);const y=x.innerHTML;b.ownerDocument.body.removeChild(x);const w=o.getFragment(),C=wr(w,i),_=JSON.stringify(C),S=a(C);c.clearData(),c.setData("text/plain",S),c.setData("text/html",y),c.setData("application/json",_),c.setData("application/x-portable-text",_),nu("text",S),c.setData("application/x-portable-text-event-origin",u||"external"),nu("Set fragment data",_,y)},o.insertPortableTextData=c=>{var u;if(!o.selection)return!1;const d=c.getData("application/x-portable-text"),f=c.getData("application/x-portable-text-event-origin");if(nu("Inserting portable text from ".concat(f," event"),d),d){const p=JSON.parse(d);if(Array.isArray(p)&&p.length>0){const m=C6t(o,wc(p,{schemaTypes:t}),n,s),v=t5(p,t,n);if(!v.valid){const g="".concat((u=v.resolution)==null?void 0:u.description);return e.next({type:"error",level:"warning",name:"pasteError",description:g,data:v}),nu("Invalid insert result",v),!1}return SQ(o,m,t),!0}}return!1},o.insertTextOrHTMLData=c=>{var u;if(!o.selection)return nu("No selection, not inserting"),!1;e.next({type:"loading",isLoading:!0});const d=c.getData("text/html"),f=c.getData("text/plain");if(d||f){nu("Inserting data",c);let p,m,v;if(d)p=nQ(d,t.portableText).map(b=>Sx(b,{blockTypeName:i})),m=wc(p,{schemaTypes:t}),v="HTML";else{const b=w6t(f).split(/\n{2,}/).map(y=>y?"<p>".concat(y.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),x="<html><body>".concat(b,"</body></html>");p=nQ(x,t.portableText).map(y=>Sx(y,{blockTypeName:i})),m=wc(p,{schemaTypes:t}),v="text"}const g=t5(p,t,n);if(!g.valid){const b=`Could not validate the resulting portable text to insert.
`.concat((u=g.resolution)==null?void 0:u.description,`
Try to insert as plain text (shift-paste) instead.`);return e.next({type:"error",level:"warning",name:"pasteError",description:b,data:g}),nu("Invalid insert result",g),!1}return nu("Inserting ".concat(v," fragment at ").concat(JSON.stringify(o.selection))),SQ(o,m,t),e.next({type:"loading",isLoading:!1}),!0}return e.next({type:"loading",isLoading:!1}),!1},o.insertData=c=>{o.insertPortableTextData(c)||o.insertTextOrHTMLData(c)},o.insertFragmentData=c=>{const u=c.getData("application/x-portable-text");if(u){const d=JSON.parse(u);return o.insertFragment(d),!0}return!1},o}}const x6t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function w6t(e){return String(e).replace(/[&<>"'`=/]/g,t=>x6t[t])}function C6t(e,t,n,r){return t.map(o=>{const i={...o};e.isTextBlock(i)&&(i.markDefs=(i.markDefs||[]).map(a=>{const c=a._key,u=n();return i.children=i.children.map(d=>d._type===r&&e.isTextSpan(d)?{...d,marks:d.marks&&d.marks.includes(c)?[...d.marks].filter(f=>f!==c).concat(u):d.marks}:d),{...a,_key:u}}));const s={...i,_key:n()};return e.isTextBlock(s)&&(s.children=s.children.map(a=>({...a,_key:n()}))),s})}function SQ(e,t,n){if(!e.selection)return;const[r,o]=F.node(e,e.selection,{depth:1});if(e.isTextBlock(r)&&e.isTextBlock(t[0])){const{markDefs:s}=r;nu("Mixing markDefs of focusBlock and fragments[0] block",s,t[0].markDefs),Ut(s,t[0].markDefs)||se.setNodes(e,{markDefs:vo([...t[0].markDefs||[],...s||[]])},{at:o,mode:"lowest",voids:!1})}Qk(e.children,n)?(se.splitNodes(e,{at:[0,0]}),e.insertFragment(t),se.removeNodes(e,{at:[0]})):e.insertFragment(t),e.onChange()}const EQ=new WeakMap,kQ=(e,t)=>{const n=e,{keyGenerator:r,portableTextEditor:o,patches$:i,readOnly:s,maxBlocks:a}=t,{schemaTypes:c,change$:u}=o;n.subscriptions=[],n.destroy?n.destroy():EQ.set(n,{apply:n.apply,onChange:n.onChange,normalizeNode:n.normalizeNode});const d=DFt(c),f=PFt(c,r),p=m6t({schemaTypes:c,keyGenerator:r}),m=IFt(o,c,r),v=s6t({change$:u,keyGenerator:r,patches$:i,patchFunctions:d,readOnly:s,schemaTypes:c}),g=OFt(a||-1),b=u6t(c),x=e6t({readOnly:s,patches$:i,blockSchemaType:c.block}),y=d6t(c,u),w=c6t(c),C=l6t({keyGenerator:r,schemaTypes:c}),_=g6t(),S=h6t(u,c);return n.destroy=()=>{const E=EQ.get(n);if(!E)throw new Error("Could not find pristine versions of editor functions");n.apply=E.apply,n.history={undos:[],redos:[]},n.normalizeNode=E.normalizeNode,n.onChange=E.onChange},s?{editor:p(f(y(w(_(C(b(S(m(n))))))))),subscribe:()=>ZSe}:{editor:p(f(y(w(b(C(_(g(x(v(S(m(n)))))))))))),subscribe:()=>{const E=[];return e.subscriptions.forEach(j=>{E.push(j())}),()=>{E.forEach(j=>{j()})}}}},J3=Yr("component:PortableTextEditor:SlateContainer");function _6t(e){const{patches$:t,portableTextEditor:n,readOnly:r,maxBlocks:o,keyGenerator:i}=e,[s,a]=h.useMemo(()=>{J3("Creating new Slate editor instance");const{editor:u,subscribe:d}=kQ($Mt(l$t()),{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r});return _a.set(u,{}),wM.set(u,{}),[u,d]},[]);h.useEffect(()=>{const u=a();return()=>{u()}},[a]),h.useEffect(()=>{J3("Re-initializing plugin chain"),kQ(s,{keyGenerator:i,maxBlocks:o,patches$:t,portableTextEditor:n,readOnly:r})},[i,n,o,r,t,s]);const c=h.useMemo(()=>[s.createPlaceholderBlock()],[s]);return h.useEffect(()=>()=>{J3("Destroying Slate editor"),s.destroy()},[s]),l.jsx(PMt,{editor:s,initialValue:c,children:e.children})}const pje=h.createContext(null),q0=()=>{const e=h.useContext(pje);if(e===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return e},mje=h.createContext(null),wo=()=>{const e=h.useContext(mje);if(!e)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return e},S6t=h.createContext(void 0),gje=h.createContext(!1),E6t=()=>{const e=h.useContext(gje);if(e===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return e},so=Yr("hook:useSyncValue"),jQ=new WeakMap;function k6t(e){const{portableTextEditor:t,readOnly:n,keyGenerator:r}=e,{change$:o,schemaTypes:i}=t,s=h.useRef(),a=tA(),c=h.useRef(),u=h.useCallback(()=>{const f=jQ.get(t);if(s.current===f){so("Value is the same object as previous, not need to sync");return}c.current&&f&&(so("Updating the value debounced"),c.current(f))},[t]),d=h.useCallback(aw(u,1e3,{trailing:!0,leading:!1}),[u]);return h.useMemo(()=>{const f=p=>{jQ.set(t,p);const m=XFt(a),v=dje(a);if(!n){if(m){so("Has local changes, not syncing value right now"),d();return}if(v){so("Has remote changes, not syncing value right now"),d();return}}let g=!1,b=!0;const x=!!a.selection;if((!p||p.length===0)&&(so("Value is empty"),F.withoutNormalizing(a,()=>{kx(a,()=>{SM(a,()=>{x&&se.deselect(a);const y=a.children.length;a.children.forEach((w,C)=>{se.removeNodes(a,{at:[y-1-C]})}),se.insertNodes(a,a.createPlaceholderBlock(),{at:[0]}),x&&se.select(a,[0,0])})})}),g=!0),p&&p.length>0){const y=wc(p,{schemaTypes:i});F.withoutNormalizing(a,()=>{uje(a,()=>{kx(a,()=>{SM(a,()=>{const w=a.children.length;if(y.length<w){for(let C=w-1;C>y.length-1;C--)se.removeNodes(a,{at:[C]});g=!0}y.forEach((C,_)=>{const S=a.children[_];if(S&&!Ut(C,S)&&b){const j=[p[_]],k=t5(j,i,r);k.valid?(S._key===C._key?(so.enabled&&so("Updating block",S,C),T6t(a,C,S,_)):(so.enabled&&so("Replacing block",S,C),j6t(a,C,_)),g=!0):(o.next({type:"invalidValue",resolution:k.resolution,value:p}),b=!1)}if(!S&&b){const j=[p[_]],k=t5(j,i,r);so.enabled&&so("Validating and inserting new block in the end of the value",C),k.valid?Ex(a,()=>{se.insertNodes(a,C,{at:[_]})}):(so("Invalid",k),o.next({type:"invalidValue",resolution:k.resolution,value:p}),b=!1)}})})})})})}if(!b){so("Invalid value, returning");return}if(g){so("Server value changed, syncing editor");try{a.onChange()}catch(y){console.error(y),o.next({type:"invalidValue",resolution:null,value:p});return}x&&!a.selection&&(se.select(a,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),a.onChange()),o.next({type:"value",value:p})}else so("Server value and editor value is equal, no need to sync.");s.current=p};return c.current=f,f},[o,r,t,n,i,a,d])}function j6t(e,t,n){const r=e.selection,o=r&&r.focus.path[0]===n;o&&se.deselect(e),se.removeNodes(e,{at:[n]}),Ex(e,()=>{se.insertNodes(e,t,{at:[n]})}),o&&se.select(e,r)}function T6t(e,t,n,r){if(se.setNodes(e,t,{at:[r]}),e.isTextBlock(t)&&e.isTextBlock(n)){const o=n.children.length;t.children.length<o&&Array.from(Array(o-t.children.length)).forEach((i,s)=>{const a=o-1-s;a>0&&(so("Removing child"),se.removeNodes(e,{at:[r,a]}))}),t.children.forEach((i,s)=>{const a=n.children[s],c=!Ut(i,a),u=!Ut(i.text,a==null?void 0:a.text),d=[r,s];if(c)if(i._key===(a==null?void 0:a._key)){so("Updating changed child",i,a),se.setNodes(e,i,{at:d});const f=we.isText(i)&&i._type==="span"&&we.isText(a)&&a._type==="span";f&&u?(se.delete(e,{at:{focus:{path:d,offset:0},anchor:{path:d,offset:a.text.length}}}),se.insertText(e,i.text,{at:d}),e.onChange()):f||(so("Updating changed inline object child",i),se.setNodes(e,{_key:oje},{at:[...d,0],voids:!0}))}else a?(so("Replacing child",i),se.removeNodes(e,{at:[r,s]}),Ex(e,()=>{se.insertNodes(e,i,{at:[r,s]})}),e.onChange()):a||(so("Inserting new child",i),Ex(e,()=>{se.insertNodes(e,i,{at:[r,s]}),e.onChange()}))})}}const ru=Yr("component:PortableTextEditor:Synchronizer"),TQ=ru.enabled&&!1,A6t=1e3;function D6t(e){const{change$:t,portableTextEditor:n,onChange:r,keyGenerator:o,readOnly:i,value:s}=e,[a,c]=h.useState(null),u=h.useRef([]),d=k6t({keyGenerator:o,onChange:r,portableTextEditor:n,readOnly:i}),f=tA();h.useEffect(()=>{_S.set(f,!1)},[f]);const p=h.useCallback(()=>{if(u.current.length>0){ru("Flushing pending patches"),TQ&&ru(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const x=Ce.getValue(n);t.next({type:"mutation",patches:u.current,snapshot:x}),u.current=[]}_S.set(f,!1)},[f,n,t]),m=h.useMemo(()=>pT(()=>{if(F.isNormalizing(f)){p();return}m()},A6t,{leading:!1,trailing:!0}),[p,f]);h.useEffect(()=>()=>{p()},[p]),h.useEffect(()=>{ru("Subscribing to editor changes$");const x=t.subscribe(y=>{switch(y.type){case"patch":_S.set(f,!0),u.current.push(y.patch),m(),r(y);break;case"selection":h.startTransition(()=>{TQ&&ru("Setting selection"),c(y.selection)}),r(y);break;default:r(y)}});return()=>{ru("Unsubscribing to changes$"),x.unsubscribe()}},[t,r,m,f]);const v=h.useCallback(()=>{ru("Editor is online, syncing from props.value"),t.next({type:"connection",value:"online"}),d(s)},[t,d,s]),g=h.useCallback(()=>{ru("Editor is offline"),t.next({type:"connection",value:"offline"})},[t]);h.useEffect(()=>(n.props.patches$&&(window.addEventListener("online",v),window.addEventListener("offline",g)),()=>{n.props.patches$&&(window.removeEventListener("online",v),window.removeEventListener("offline",g))}));const b=h.useRef(!0);return h.useEffect(()=>{ru("Value from props changed, syncing new value"),d(s),b.current&&(t.next({type:"loading",isLoading:!1}),t.next({type:"ready"}),b.current=!1)},[t,d,s]),l.jsx(Z5e.Provider,{value:o,children:l.jsx(mje.Provider,{value:n,children:l.jsx(S6t.Provider,{value:s,children:l.jsx(gje.Provider,{value:i,children:l.jsx(pje.Provider,{value:a,children:e.children})})})})})}const Y0=Yr("component:PortableTextEditor");class Ce extends re.Component{constructor(t){if(super(t),this.change$=new Er,this.setEditable=n=>{this.editable={...this.editable,...n}},!t.schemaType)throw new Error('PortableTextEditor: missing "type" property');t.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=oQ(t.schemaType.hasOwnProperty("jsonType")?t.schemaType:rQ(t.schemaType))}componentDidUpdate(t){this.props.schemaType!==t.schemaType&&(this.schemaTypes=oQ(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:rQ(this.props.schemaType)))}render(){const{onChange:t,value:n,children:r,patches$:o,incomingPatches$:i}=this.props,{change$:s}=this,a=i||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,d=this.props.keyGenerator||Gk;return l.jsx(_6t,{keyGenerator:d,maxBlocks:c,patches$:a,portableTextEditor:this,readOnly:u,children:l.jsx(D6t,{change$:s,keyGenerator:d,onChange:t,portableTextEditor:this,readOnly:u,value:n,children:r})})}}Ce.activeAnnotations=e=>e&&e.editable?e.editable.activeAnnotations():[];Ce.addAnnotation=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.addAnnotation(t,n)};Ce.blur=e=>{var t;Y0("Host blurred"),(t=e.editable)==null||t.blur()};Ce.delete=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.delete(t,n)};Ce.findDOMNode=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.findDOMNode(t)};Ce.findByPath=(e,t)=>{var n;return((n=e.editable)==null?void 0:n.findByPath(t))||[]};Ce.focus=e=>{var t;Y0("Host requesting focus"),(t=e.editable)==null||t.focus()};Ce.focusBlock=e=>{var t;return(t=e.editable)==null?void 0:t.focusBlock()};Ce.focusChild=e=>{var t;return(t=e.editable)==null?void 0:t.focusChild()};Ce.getSelection=e=>e.editable?e.editable.getSelection():null;Ce.getValue=e=>{var t;return(t=e.editable)==null?void 0:t.getValue()};Ce.hasBlockStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasBlockStyle(t)};Ce.hasListStyle=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.hasListStyle(t)};Ce.isCollapsedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isCollapsedSelection()};Ce.isExpandedSelection=e=>{var t;return(t=e.editable)==null?void 0:t.isExpandedSelection()};Ce.isMarkActive=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isMarkActive(t)};Ce.insertChild=(e,t,n)=>{var r;return Y0("Host inserting child"),(r=e.editable)==null?void 0:r.insertChild(t,n)};Ce.insertBlock=(e,t,n)=>{var r;return(r=e.editable)==null?void 0:r.insertBlock(t,n)};Ce.insertBreak=e=>{var t;return(t=e.editable)==null?void 0:t.insertBreak()};Ce.isVoid=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.isVoid(t)};Ce.isObjectPath=(e,t)=>{if(!t||!Array.isArray(t))return!1;const n=t.length>3&&t[1]==="children";return t.length>1&&t[1]!=="children"||n};Ce.marks=e=>{var t;return(t=e.editable)==null?void 0:t.marks()};Ce.select=(e,t)=>{var n;Y0("Host setting selection",t),(n=e.editable)==null||n.select(t)};Ce.removeAnnotation=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.removeAnnotation(t)};Ce.toggleBlockStyle=(e,t)=>{var n;return Y0("Host is toggling block style"),(n=e.editable)==null?void 0:n.toggleBlockStyle(t)};Ce.toggleList=(e,t)=>{var n;return(n=e.editable)==null?void 0:n.toggleList(t)};Ce.toggleMark=(e,t)=>{var n;Y0("Host toggling mark",t),(n=e.editable)==null||n.toggleMark(t)};function AQ(e,t){if(!e||!t)return null;const n=[];let r=e.offset||0;const o=typeof e.path[0]=="object"&&"_key"in e.path[0]&&e.path[0]._key,i=typeof e.path[2]=="object"&&"_key"in e.path[2]&&e.path[2]._key,s=t.find(a=>a._key===o);if(s)n.push({_key:s._key});else return null;if(s&&e.path[1]==="children"){if(!s.children||Array.isArray(s.children)&&s.children.length===0)return null;const a=Array.isArray(s.children)&&s.children.find(c=>c._key===i);if(a)n.push("children"),n.push({_key:a._key}),r=a.text&&a.text.length>=e.offset?e.offset:a.text&&a.text.length||0;else return null}return{path:n,offset:r}}function I6t(e,t){if(!e||!t||t.length===0)return null;let n=null,r=null;const{anchor:o,focus:i}=e;return o&&t.find(s=>Ut({_key:s._key},o.path[0]))&&(n=AQ(o,t)),i&&t.find(s=>Ut({_key:s._key},i.path[0]))&&(r=AQ(i,t)),n&&r?{anchor:n,focus:r}:null}function O6t(e){const t=h.useCallback(()=>alert(JSON.stringify(e.annotation)),[e.annotation]);return l.jsx("span",{style:{color:"blue"},onClick:t,children:e.children})}const P6t=Yr("components:Leaf"),DQ=[],R6t=e=>{const{attributes:t,children:n,leaf:r,schemaTypes:o,renderChild:i,renderDecorator:s,renderAnnotation:a}=e,c=re.useRef(null),u=wo(),d=D5e(),[f,p]=h.useState(!1),[m,v]=h.useState(!1),g=n.props.parent,b=h.useMemo(()=>g?[{_key:g==null?void 0:g._key},"children",{_key:r._key}]:[],[g,r._key]),x=h.useMemo(()=>o.decorators.map(j=>j.value),[o.decorators]),y=h.useMemo(()=>vo((r.marks||DQ).filter(j=>x.includes(j))),[x,r.marks]),w=Array.isArray(r.marks)?r.marks:DQ,C=h.useMemo(()=>w.map(j=>{var k;return!x.includes(j)&&((k=g==null?void 0:g.markDefs)==null?void 0:k.find(T=>T._key===j))}).filter(Boolean),[w,g,x]),_=C.length>0&&d;h.useEffect(()=>{if(!_){p(!1);return}const j=Ce.getSelection(u);j&&Ut(j.focus.path,b)&&Ce.isCollapsedSelection(u)&&h.startTransition(()=>{p(!0)})},[_,b,u]);const S=h.useCallback(()=>{if(!_)return;P6t("Setting selection and focus from range");const j=window.getSelection();if(!j){v(!1);return}if(j&&j.rangeCount>0){const k=j.getRangeAt(0);c.current&&k.intersectsNode(c.current)?v(!0):v(!1)}else v(!1)},[_]);h.useEffect(()=>{if(!_)return;const j=u.change$.subscribe(k=>{if(k.type==="blur"){p(!1),v(!1);return}if(k.type==="focus"){const T=Ce.getSelection(u);T&&Ut(T.focus.path,b)&&Ce.isCollapsedSelection(u)&&p(!0),S();return}k.type==="selection"&&(k.selection&&Ut(k.selection.focus.path,b)&&Ce.isCollapsedSelection(u)?p(!0):p(!1),S())});return()=>{j.unsubscribe()}},[b,u,S,_]),h.useEffect(()=>S(),[S]);const E=h.useMemo(()=>{let j=n;if(we.isText(r)&&r._type===o.span.name&&(y.forEach(k=>{const T=o.decorators.find(A=>A.value===k);if(T&&s){const A=Object.defineProperty({children:j,editorElementRef:c,focused:f,path:b,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=s(A)}}),g&&C.length>0&&C.forEach(k=>{const T=o.annotations.find(A=>A.name===k._type);if(T)if(a){const A=Object.defineProperty({block:g,children:j,editorElementRef:c,focused:f,path:b,selected:m,schemaType:T,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),T}});j=l.jsx("span",{ref:c,children:a(A)})}else j=l.jsx(O6t,{annotation:k,children:l.jsx("span",{ref:c,children:j})})}),g&&i)){const k=g.children.find(T=>T._key===r._key);if(k){const T=l.jsx(l.Fragment,{children:j}),A=Object.defineProperty({annotations:C,children:T,editorElementRef:c,focused:f,path:b,schemaType:o.span,selected:m,value:k},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});j=i(A)}}return j},[C,g,n,f,r,y,b,a,i,s,o.annotations,o.decorators,o.span,m]);return h.useMemo(()=>l.jsx("span",{...t,ref:c,children:E},r._key),[r,t,E])},B_=e=>l.jsx("div",{children:l.jsx("pre",{children:JSON.stringify(e.value,null,2)})});var IQ=Object.freeze,$6t=Object.defineProperty,sA=(e,t)=>IQ($6t(e,"raw",{value:IQ(t||e.slice())})),OQ,PQ,RQ,$Q;const M6t=P.div(OQ||(OQ=sA([`
  user-select: none;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");P.span(PQ||(PQ=sA([`
  background: #999;
  border: `,`;
`])),e=>e.selected?"1px solid blue":"1px solid transparent");const F6t=P.div(RQ||(RQ=sA([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),e=>B6t(e.listLevel),e=>z6t(e.listLevel,e.listStyle),e=>V6t(e.listLevel),e=>H6t(e.listLevel),e=>U6t(e.listLevel)),L6t=P.div($Q||($Q=sA([""])));function B6t(e){switch(Number(e)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const N6t=["●","○","■"];function z6t(e,t){const n=(e-1)%3;return t==="bullet"?N6t[n]:"*"}function V6t(e){switch(e){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function H6t(e){switch(e){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function U6t(e){switch(e){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Zl=Yr("components:DraggableBlock"),MQ=e=>{let{children:t,element:n,readOnly:r,blockRef:o}=e;const i=Nc(),s=h.useRef(),[a,c]=h.useState(!1),u=h.useMemo(()=>F.isVoid(i,n),[i,n]),d=h.useMemo(()=>F.isInline(i,n),[i,n]),[f,p]=h.useState(null);h.useEffect(()=>p(o?o.current:me.toDOMNode(i,n)),[i,n,o]);const m=h.useCallback(k=>{const T=Y1.get(i);if(!T||!f)return;k.preventDefault(),k.dataTransfer.dropEffect="move",G1.set(i,n);const A=f.getBoundingClientRect(),D=A.top,I=A.height,O=k.pageY,$=Math.abs(D-O);let R="bottom";if(n===i.children[0]?R="top":$<I/2?(R="top",K1.set(i,R)):(R="bottom",K1.set(i,R)),T===n){k.dataTransfer.dropEffect="none";return}c(!0)},[f,i,n]),v=h.useCallback(()=>{c(!1)},[]),g=h.useCallback(k=>{const T=G1.get(i);if(T){P_.set(i,!1),k.preventDefault(),k.stopPropagation(),G1.delete(i),s.current&&(Zl("Removing drag ghost"),document.body.removeChild(s.current));const A=K1.get(i);K1.delete(i);let D=me.findPath(i,T);const I=me.findPath(i,n),O=J.isBefore(I,D);if(A==="bottom"&&!O){if(D[0]>=i.children.length-1){Zl("target is already at the bottom, not moving");return}const $=D;D=J.next(D),Zl("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(A==="top"&&O&&D[0]!==i.children.length-1){const $=D;D=J.previous(D),Zl("Adjusting targetPath from ".concat(JSON.stringify($)," to ").concat(JSON.stringify(D)))}if(J.equals(D,I)){k.preventDefault(),Zl("targetPath and myPath is the same, not moving");return}Zl("Moving element ".concat(n._key," from path ").concat(JSON.stringify(I)," to ").concat(JSON.stringify(D)," (").concat(A,")")),se.moveNodes(i,{at:I,to:D}),i.onChange();return}Zl("No target element, not doing anything")},[i,n]),b=h.useCallback(k=>{Y1.get(i)&&(Zl("On drop (prevented)",n),k.preventDefault(),k.stopPropagation(),c(!1))},[i,n]),x=h.useCallback(k=>{if(!u){Y1.delete(i);return}P_.set(i,!0),Y1.set(i,n),k.stopPropagation();const T=k.target;T instanceof HTMLElement&&(T.style.opacity="1")},[i,n,u]),y=h.useCallback(k=>{if(!u||d){Zl("Not dragging block"),Y1.delete(i),P_.set(i,!1);return}if(Zl("Drag start"),P_.set(i,!0),k.dataTransfer&&(k.dataTransfer.setData("application/portable-text","something"),k.dataTransfer.effectAllowed="move"),f&&f instanceof HTMLElement){let T=f.cloneNode(!0);const A=T.querySelector("[data-pt-drag-ghost-element]");if(A&&(T=A),T.setAttribute("data-dragged",""),document.body){s.current=T,T.style.position="absolute",T.style.left="-99999px",T.style.boxSizing="border-box",document.body.appendChild(T);const D=f.getBoundingClientRect(),I=k.clientX-D.left,O=k.clientY-D.top;T.style.width="".concat(D.width,"px"),T.style.height="".concat(D.height,"px"),k.dataTransfer.setDragImage(T,I,O)}}x(k)},[f,i,x,d,u]),w=a&&i.children[0]===G1.get(i),C=a&&i.children[i.children.length-1]===G1.get(i),_=K1.get(i),S=w||a&&!w&&!C&&_==="top",E=C||a&&!w&&!C&&_==="bottom",j=h.useMemo(()=>l.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return r?l.jsx(l.Fragment,{children:t}):l.jsxs("div",{draggable:u,onDragStart:y,onDrag:x,onDragOver:m,onDragLeave:v,onDragEnd:g,onDrop:b,children:[S&&j,t,E&&j]})};Yr("components:Element");const W6t=[],q6t={display:"inline-block"},Y6t=e=>{let{attributes:t,children:n,element:r,schemaTypes:o,readOnly:i,renderBlock:s,renderChild:a,renderListItem:c,renderStyle:u,spellCheck:d}=e;const f=Nc(),p=D5e(),m=h.useRef(null),v=h.useRef(null),g=p&&f.selection&&ue.isCollapsed(f.selection)||!1,b=h.useMemo(()=>wr([r],o.block.name,_a.get(f))[0],[f,r,o.block.name]);let x=n,y;const w=h.useMemo(()=>[{_key:r._key}],[r]);if(typeof r._type!="string")throw new Error("Expected element to have a _type property");if(typeof r._key!="string")throw new Error("Expected element to have a _key property");if(f.isInline(r)){const E=me.findPath(f,r),[j]=F.node(f,E,{depth:1}),k=o.inlineObjects.find(T=>T.name===r._type);if(!k)throw new Error("Could not find type for inline block element");if(Oe.isElement(j)){const T=[{_key:j._key},"children",{_key:r._key}];return l.jsxs("span",{...t,children:[n,l.jsxs("span",{draggable:!i,className:"pt-inline-object",ref:v,style:q6t,contentEditable:!1,children:[a&&a({annotations:W6t,children:l.jsx(B_,{value:b}),editorElementRef:v,focused:g,path:T,schemaType:k,selected:p,type:k,value:b}),!a&&l.jsx(B_,{value:b})]},r._key)]})}throw new Error("Block not found!")}if(r._type===o.block.name){y="pt-block pt-text-block";const E="listItem"in r,j="style"in r&&r.style||"normal";y="pt-block pt-text-block pt-text-block-style-".concat(j);const k=o.styles.find(I=>I.value===j);u&&k&&(x=u({block:r,children:n,focused:g,selected:p,value:j,path:w,schemaType:k,editorElementRef:m}));let T;if(E&&(typeof r.level=="number"&&(T=r.level),y+=" pt-list-item pt-list-item-".concat(r.listItem," pt-list-item-level-").concat(T||1)),f.isListBlock(b)&&E&&r.listItem){const I=o.lists.find(O=>O.value===r.listItem);c&&I?x=c({block:b,children:x,focused:g,selected:p,value:r.listItem,path:w,schemaType:I,level:b.level||1,editorElementRef:m}):x=l.jsx(F6t,{listStyle:b.listItem||o.lists[0].value,listLevel:b.level||1,children:l.jsx(L6t,{children:x})})}const A=Object.defineProperty({children:x,editorElementRef:m,focused:g,level:T,listItem:E?r.listItem:void 0,path:w,selected:p,style:j,schemaType:o.block,value:b},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),D=s?s(A):n;return l.jsx("div",{...t,className:y,spellCheck:d,children:l.jsx(MQ,{element:r,readOnly:i,blockRef:m,children:l.jsx("div",{ref:m,children:D})})},r._key)}const C=o.blockObjects.find(E=>E.name===r._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(r._type));y="pt-block pt-object-block";const _=wr([r],o.block.name,_a.get(f))[0];let S;if(s){const E=Object.defineProperty({children:l.jsx(B_,{value:b}),editorElementRef:m,focused:g,path:w,schemaType:C,selected:p,value:_},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});S=s(E)}return l.jsxs("div",{...t,className:y,children:[n,l.jsxs(MQ,{element:r,readOnly:i,blockRef:m,children:[S&&l.jsx("div",{ref:m,contentEditable:!1,children:S}),!S&&l.jsx(M6t,{selected:p,children:l.jsx(B_,{value:b})})]})]},r._key)},G6t=typeof window>"u"?h.useEffect:h.useLayoutEffect;function K6t(e){const t=h.useRef(null);return G6t(()=>{e&&(typeof e=="function"?e(t.current):e.current=t.current)}),t}const ll=Yr("component:Editable"),Z6t={opacity:.5,position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},X6t=[],vje=h.forwardRef(function(t,n){const{hotkeys:r,onBlur:o,onFocus:i,onBeforeInput:s,onPaste:a,onCopy:c,renderAnnotation:u,renderBlock:d,renderChild:f,renderDecorator:p,renderListItem:m,renderPlaceholder:v,renderStyle:g,selection:b,scrollSelectionIntoView:x,spellCheck:y,...w}=t,C=wo(),_=E6t(),S=eFt(),E=K6t(n),[j,k]=h.useState(null),[T,A]=h.useState(!1),{change$:D,schemaTypes:I}=C,O=tA(),$=I.block.name,R=h.useMemo(()=>b6t(D,I,S),[D,S,I]),z=h.useMemo(()=>y6t(I,S,C,r),[r,S,C,I]);h.useMemo(()=>_?(ll("Editable is in read only mode"),R(O)):(ll("Editable is in edit mode"),R(z(O))),[_,O,z,R]);const B=h.useCallback(Y=>l.jsx(Y6t,{...Y,readOnly:_,renderBlock:d,renderChild:f,renderListItem:m,renderStyle:g,schemaTypes:I,spellCheck:y}),[I,y,_,d,f,m,g]),U=h.useCallback(Y=>{const X=l.jsx(R6t,{...Y,schemaTypes:I,renderAnnotation:u,renderChild:f,renderDecorator:p,readOnly:_});return v&&Y.leaf.placeholder&&Y.text.text===""?l.jsxs(l.Fragment,{children:[l.jsx("span",{style:Z6t,contentEditable:!1,children:v()}),X]}):X},[_,u,f,p,v,I]),W=h.useCallback(()=>{if(b){ll("Selection from props ".concat(JSON.stringify(b)));const Y=I6t(b,wr(O.children,$));if(Y!==null){ll("Normalized selection from props ".concat(JSON.stringify(Y)));const X=SS(Y,O);X&&(se.select(O,X),O.operations.some(ae=>ae.type==="set_selection")||D.next({type:"selection",selection:Y}),O.onChange())}}},[b,O,$,D]);h.useEffect(()=>{ll("Subscribing to editor changes$");const Y=D.subscribe(X=>{switch(X.type){case"ready":W();break;case"invalidValue":A(!0);break;case"value":A(!1);break}});return()=>{ll("Unsubscribing to changes$"),Y.unsubscribe()}},[D,W]),h.useEffect(()=>{b&&!T&&W()},[T,b,W]);const V=h.useCallback(Y=>{c&&c(Y)!==void 0&&Y.preventDefault()},[c]),K=h.useCallback(Y=>{if(Y.preventDefault(),!!O.selection){if(!a){ll("Pasting normally"),O.insertData(Y.clipboardData);return}new Promise(X=>{const ae=Ce.getValue(C),he=ap(ae,O.selection,I),ce=(he==null?void 0:he.focus.path)||[];X(a({event:Y,value:ae,path:ce,schemaTypes:I}))}).then(X=>{if(ll("Custom paste function from client resolved",X),D.next({type:"loading",isLoading:!0}),!X||!X.insert){ll("No result from custom paste handler, pasting normally"),O.insertData(Y.clipboardData);return}if(X&&X.insert){O.insertFragment(wc(X.insert,{schemaTypes:I})),D.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",X)}).catch(X=>(D.next({type:"loading",isLoading:!1}),console.error(X),X))}},[D,a,C,I,O]),te=h.useCallback(Y=>{if(i&&i(Y),!Y.isDefaultPrevented()){const X=Ce.getSelection(C);X===null&&(se.select(O,F.start(O,[])),O.onChange()),D.next({type:"focus",event:Y});const ae=Ce.getSelection(C);X===ae&&D.next({type:"selection",selection:X})}},[i,C,D,O]),N=h.useCallback(Y=>{o&&o(Y),Y.isPropagationStopped()||D.next({type:"blur",event:Y})},[D,o]),G=h.useCallback(Y=>{s&&s(Y)},[s]),q=h.useCallback(()=>{if(!O.selection)return;const Y=me.findDocumentOrShadowRoot(O),{activeElement:X}=Y;if(E.current!==X)return;const he=me.getWindow(O).getSelection();if(!he)return;const ce=he.getRangeAt(0);try{const xe=me.toDOMRange(O,O.selection);(xe.startOffset!==ce.startOffset||xe.endOffset!==ce.endOffset)&&(ll("DOM range out of sync, validating selection"),he==null||he.removeAllRanges(),he.addRange(xe))}catch{ll("Could not resolve selection, selecting top document"),se.deselect(O),O.children.length>0&&se.select(O,[0,0]),O.onChange()}},[E,O]);h.useEffect(()=>{if(j){const Y=new MutationObserver(q);return Y.observe(j,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{Y.disconnect()}}},[q,j]);const Z=h.useCallback(Y=>{t.onKeyDown&&t.onKeyDown(Y),Y.isDefaultPrevented()||O.pteWithHotKeys(Y)},[t,O]),ie=h.useMemo(()=>{if(x!==void 0)return x===null?ZSe:(Y,X)=>{x(C,X)}},[C,x]),ne=h.useCallback(()=>Qk(O.children,I)?[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}]:X6t,[I,O]);return h.useEffect(()=>{E.current=me.toDOMNode(O,O),k(E.current)},[O,E]),C?T?null:l.jsx(SMt,{...w,autoFocus:!1,className:w.className||"pt-editable",decorate:ne,onBlur:N,onCopy:V,onDOMBeforeInput:G,onFocus:te,onKeyDown:Z,onPaste:K,readOnly:_,renderPlaceholder:void 0,renderElement:B,renderLeaf:U,scrollSelectionIntoView:ie}):null});var Q6t=B_e,J6t=F0,FQ=ET;function eLt(e,t,n){var r=e.length;if(r<2)return r?FQ(e[0]):[];for(var o=-1,i=Array(r);++o<r;)for(var s=e[o],a=-1;++a<r;)a!=o&&(i[o]=Q6t(i[o]||s,e[a],t,n));return FQ(J6t(i,1),t,n)}var tLt=eLt,nLt=JCe,rLt=B0,oLt=tLt,iLt=vT,sLt=rLt(function(e){return oLt(nLt(e,iLt))}),aLt=sLt;const lLt=Ie(aLt);function yje(e){return e.reduce((t,n,r)=>{if(Array.isArray(n))return"".concat(t,"[").concat(n.join(":"),"]");if(cLt(n))return"".concat(t,'[_key=="').concat(n._key,'"]');if(typeof n=="number")return"".concat(t,"[").concat(n,"]");if(typeof n=="string"&&/^\d+$/.test(n))return"".concat(t,'["').concat(n,'"]');if(typeof n=="string"){const o=r===0?"":".";return"".concat(t).concat(o).concat(n)}throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function cLt(e){return typeof e=="object"&&typeof e._key=="string"}class Oy extends Error{constructor(t,n,r){const o=yje(n);super("".concat(t," (at '").concat(o,"')")),this.path=n,this.serializedPath=o,this.value=r}}const uLt=/^[a-z0-9][a-z0-9_.-]+$/i,dLt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,fLt=/^[a-z_]/i;function LQ(e,t,n){if(!fLt.test(e))throw new Oy("Keys must start with a letter (a-z)",n.concat(e),t);if(!dLt.test(e))throw new Oy("Keys can only contain letters, numbers and underscores",n.concat(e),t);if(e==="_key"||e==="_ref"||e==="_type"){if(typeof t!="string")throw new Oy("Keys must be strings",n.concat(e),t);if(!uLt.test(t))throw new Oy("Invalid key - use less exotic characters",n.concat(e),t)}return e}const hLt=["_id","_type","_createdAt","_updatedAt","_rev"],EM={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function pLt(e){return{...EM,...e,diffMatchPatch:{...EM.diffMatchPatch,...e.diffMatchPatch||{}}}}function aA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:EM,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(e===t)return o;const i=Array.isArray(e)?"array":typeof e,s=Array.isArray(t)?"array":typeof t,a=i==="undefined",c=s==="undefined";if(a&&!c)return o.push({op:"set",path:r,value:t}),o;if(!a&&c)return o.push({op:"unset",path:r}),o;const u=pLt(n),d=a?s:i;return d==="object"||d==="array"?i!==s?(o.push({op:"set",path:r,value:t}),o):d==="array"?gLt(e,t,u,r,o):mLt(e,t,u,r,o):bLt(e,t,u,r,o)}function mLt(e,t,n,r,o){const i=r.length===0,s=Object.keys(e).filter(i?BQ:zQ).map(d=>LQ(d,e[d],r)),a=s.length,c=Object.keys(t).filter(i?BQ:zQ).map(d=>LQ(d,t[d],r)),u=c.length;for(let d=0;d<a;d++){const f=s[d];f in t||o.push({op:"unset",path:r.concat(f)})}for(let d=0;d<u;d++){const f=c[d];aA(e[f],t[f],n,r.concat([f]),o)}return o}function gLt(e,t,n,r,o){if(t.length>e.length&&o.push({op:"insert",after:r.concat([-1]),items:t.slice(e.length).map((c,u)=>m7(c,r,u,n))}),t.length<e.length){const c=e.length-t.length===1,u=e.slice(t.length);CLt(n)||!eO(u)?o.push({op:"unset",path:r.concat([c?t.length:[t.length,""]])}):o.push(...u.map(d=>({op:"unset",path:r.concat({_key:d._key})})))}for(let c=0;c<t.length;c++)if(Array.isArray(t[c]))throw new Oy("Multi-dimensional arrays not supported",r.concat(c),t[c]);const i=Math.min(e.length,t.length),s=e.slice(0,i),a=t.slice(0,i);return eO(s)&&eO(a)?vLt(s,a,n,r,o):bje(s,a,n,r,o)}function bje(e,t,n,r,o){for(let i=0;i<e.length;i++)aA(e[i],m7(t[i],r,i,n),n,r.concat(i),o);return o}function vLt(e,t,n,r,o){const i=NQ(e),s=NQ(t);if(!wLt(i.keys,s.keys))return bje(e,t,n,r,o);for(let a=0;a<s.keys.length;a++){const c=s.keys[a],u=i.index[c],d=m7(s.index[c],r,a,n);aA(u,d,n,r.concat({_key:c}),o)}return o}function yLt(e,t,n,r){const{enabled:o,lengthThresholdRelative:i,lengthThresholdAbsolute:s}=n.diffMatchPatch,a=r[r.length-1];if(!o||typeof e!="string"||typeof t!="string"||typeof a=="string"&&a[0]==="_"||t.length<s)return;let c="";try{const u=Uw(e,t),d=b9(u);c=ike(rke(d))}catch{return}return c.length>t.length*i?void 0:{op:"diffMatchPatch",path:r,value:c}}function bLt(e,t,n,r,o){const i=yLt(e,t,n,r);return o.push(i||{op:"set",path:r,value:t}),o}function BQ(e){return hLt.indexOf(e)===-1}function eO(e){const t=[];for(let n=0;n<e.length;n++){const r=xLt(e[n]);if(!r||t.indexOf(r)!==-1)return!1;t.push(r)}return!0}function xLt(e){return typeof e=="object"&&e!==null&&e._key}function NQ(e){return e.reduce((t,n)=>(t.keys.push(n._key),t.index[n._key]=n,t),{keys:[],index:{}})}function wLt(e,t){return e.length===t.length&&e.every((n,r)=>t[r]===n)}function m7(e,t,n,r){if(typeof e<"u")return e;if(!r.hideWarnings){const o=yje(t.concat(n));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function CLt(e){return!!e.ifRevisionID}function zQ(e){return!0}var _Lt=yT,SLt=J8,ELt=Object.prototype,kLt=ELt.hasOwnProperty,jLt=SLt(function(e,t,n){kLt.call(e,n)?e[n].push(t):_Lt(e,n,[t])}),TLt=jLt;const g7=Ie(TLt);function ALt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>r=>{t.forEach(o=>o(r))},t)}const lA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function G0(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function v7(e){return"nodeType"in e}function Ds(e){var t,n;return e?G0(e)?e:v7(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function y7(e){const{Document:t}=Ds(e);return e instanceof t}function Xw(e){return G0(e)?!1:e instanceof Ds(e).HTMLElement}function xje(e){return e instanceof Ds(e).SVGElement}function K0(e){return e?G0(e)?e.document:v7(e)?y7(e)?e:Xw(e)||xje(e)?e.ownerDocument:document:document:document}const $l=lA?h.useLayoutEffect:h.useEffect;function b7(e){const t=h.useRef(e);return $l(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function DLt(){const e=h.useRef(null),t=h.useCallback((r,o)=>{e.current=setInterval(r,o)},[]),n=h.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function jx(e,t){t===void 0&&(t=[e]);const n=h.useRef(e);return $l(()=>{n.current!==e&&(n.current=e)},t),n}function Qw(e,t){const n=h.useRef();return h.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function n5(e){const t=b7(e),n=h.useRef(null),r=h.useCallback(o=>{o!==n.current&&(t==null||t(o,n.current)),n.current=o},[]);return[n,r]}function kM(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}let tO={};function Jw(e,t){return h.useMemo(()=>{if(t)return t;const n=tO[e]==null?0:tO[e]+1;return tO[e]=n,e+"-"+n},[e,t])}function wje(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((i,s)=>{const a=Object.entries(s);for(const[c,u]of a){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const yv=wje(1),Tx=wje(-1);function ILt(e){return"clientX"in e&&"clientY"in e}function x7(e){if(!e)return!1;const{KeyboardEvent:t}=Ds(e.target);return t&&e instanceof t}function OLt(e){if(!e)return!1;const{TouchEvent:t}=Ds(e.target);return t&&e instanceof t}function jM(e){if(OLt(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ILt(e)?{x:e.clientX,y:e.clientY}:null}const Ax=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Ax.Translate.toString(e),Ax.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),VQ="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function PLt(e){return e.matches(VQ)?e:e.querySelector(VQ)}const RLt={display:"none"};function $Lt(e){let{id:t,value:n}=e;return re.createElement("div",{id:t,style:RLt},n)}function MLt(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return re.createElement("div",{id:t,style:o,role:"status","aria-live":r,"aria-atomic":!0},n)}function FLt(){const[e,t]=h.useState("");return{announce:h.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const Cje=h.createContext(null);function LLt(e){const t=h.useContext(Cje);h.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function BLt(){const[e]=h.useState(()=>new Set),t=h.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[h.useCallback(r=>{let{type:o,event:i}=r;e.forEach(s=>{var a;return(a=s[o])==null?void 0:a.call(s,i)})},[e]),t]}const NLt={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},zLt={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function VLt(e){let{announcements:t=zLt,container:n,hiddenTextDescribedById:r,screenReaderInstructions:o=NLt}=e;const{announce:i,announcement:s}=FLt(),a=Jw("DndLiveRegion"),[c,u]=h.useState(!1);if(h.useEffect(()=>{u(!0)},[]),LLt(h.useMemo(()=>({onDragStart(f){let{active:p}=f;i(t.onDragStart({active:p}))},onDragMove(f){let{active:p,over:m}=f;t.onDragMove&&i(t.onDragMove({active:p,over:m}))},onDragOver(f){let{active:p,over:m}=f;i(t.onDragOver({active:p,over:m}))},onDragEnd(f){let{active:p,over:m}=f;i(t.onDragEnd({active:p,over:m}))},onDragCancel(f){let{active:p,over:m}=f;i(t.onDragCancel({active:p,over:m}))}}),[i,t])),!c)return null;const d=re.createElement(re.Fragment,null,re.createElement($Lt,{id:r,value:o.draggable}),re.createElement(MLt,{id:a,announcement:s}));return n?cc.createPortal(d,n):d}var Eo;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Eo||(Eo={}));function r5(){}function HQ(e,t){return h.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function HLt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return h.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const Ml=Object.freeze({x:0,y:0});function _je(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Sje(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function ULt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function UQ(e){let{left:t,top:n,height:r,width:o}=e;return[{x:t,y:n},{x:t+o,y:n},{x:t,y:n+r},{x:t+o,y:n+r}]}function Eje(e,t){if(!e||e.length===0)return null;const[n]=e;return t?n[t]:n}function WQ(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const WLt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=WQ(t,t.left,t.top),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=_je(WQ(c),o);i.push({id:a,data:{droppableContainer:s,value:u}})}}return i.sort(Sje)},qLt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=UQ(t),i=[];for(const s of r){const{id:a}=s,c=n.get(a);if(c){const u=UQ(c),d=o.reduce((p,m,v)=>p+_je(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:a,data:{droppableContainer:s,value:f}})}}return i.sort(Sje)};function YLt(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),s=o-r,a=i-n;if(r<o&&n<i){const c=t.width*t.height,u=e.width*e.height,d=s*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const GLt=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const i of r){const{id:s}=i,a=n.get(s);if(a){const c=YLt(a,t);c>0&&o.push({id:s,data:{droppableContainer:i,value:c}})}}return o.sort(ULt)};function KLt(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function kje(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:Ml}function ZLt(e){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return o.reduce((s,a)=>({...s,top:s.top+e*a.y,bottom:s.bottom+e*a.y,left:s.left+e*a.x,right:s.right+e*a.x}),{...n})}}const XLt=ZLt(1);function QLt(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function JLt(e,t,n){const r=QLt(t);if(!r)return e;const{scaleX:o,scaleY:i,x:s,y:a}=r,c=e.left-s-(1-o)*parseFloat(n),u=e.top-a-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const e8t={ignoreTransform:!1};function Z0(e,t){t===void 0&&(t=e8t);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Ds(e).getComputedStyle(e);u&&(n=JLt(n,u,d))}const{top:r,left:o,width:i,height:s,bottom:a,right:c}=n;return{top:r,left:o,width:i,height:s,bottom:a,right:c}}function qQ(e){return Z0(e,{ignoreTransform:!0})}function t8t(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function n8t(e,t){return t===void 0&&(t=Ds(e).getComputedStyle(e)),t.position==="fixed"}function r8t(e,t){t===void 0&&(t=Ds(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const i=t[o];return typeof i=="string"?n.test(i):!1})}function cA(e,t){const n=[];function r(o){if(t!=null&&n.length>=t||!o)return n;if(y7(o)&&o.scrollingElement!=null&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!Xw(o)||xje(o)||n.includes(o))return n;const i=Ds(e).getComputedStyle(o);return o!==e&&r8t(o,i)&&n.push(o),n8t(o,i)?n:r(o.parentNode)}return e?r(e):n}function jje(e){const[t]=cA(e,1);return t??null}function nO(e){return!lA||!e?null:G0(e)?e:v7(e)?y7(e)||e===K0(e).scrollingElement?window:Xw(e)?e:null:null}function Tje(e){return G0(e)?e.scrollX:e.scrollLeft}function Aje(e){return G0(e)?e.scrollY:e.scrollTop}function TM(e){return{x:Tje(e),y:Aje(e)}}var Lo;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Lo||(Lo={}));function Dje(e){return!lA||!e?!1:e===document.scrollingElement}function Ije(e){const t={x:0,y:0},n=Dje(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},o=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,s=e.scrollTop>=r.y,a=e.scrollLeft>=r.x;return{isTop:o,isLeft:i,isBottom:s,isRight:a,maxScroll:r,minScroll:t}}const o8t={x:.2,y:.2};function i8t(e,t,n,r,o){let{top:i,left:s,right:a,bottom:c}=n;r===void 0&&(r=10),o===void 0&&(o=o8t);const{isTop:u,isBottom:d,isLeft:f,isRight:p}=Ije(e),m={x:0,y:0},v={x:0,y:0},g={height:t.height*o.y,width:t.width*o.x};return!u&&i<=t.top+g.height?(m.y=Lo.Backward,v.y=r*Math.abs((t.top+g.height-i)/g.height)):!d&&c>=t.bottom-g.height&&(m.y=Lo.Forward,v.y=r*Math.abs((t.bottom-g.height-c)/g.height)),!p&&a>=t.right-g.width?(m.x=Lo.Forward,v.x=r*Math.abs((t.right-g.width-a)/g.width)):!f&&s<=t.left+g.width&&(m.x=Lo.Backward,v.x=r*Math.abs((t.left+g.width-s)/g.width)),{direction:m,speed:v}}function s8t(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:s}=window;return{top:0,left:0,right:i,bottom:s,width:i,height:s}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function Oje(e){return e.reduce((t,n)=>yv(t,TM(n)),Ml)}function a8t(e){return e.reduce((t,n)=>t+Tje(n),0)}function l8t(e){return e.reduce((t,n)=>t+Aje(n),0)}function c8t(e,t){if(t===void 0&&(t=Z0),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);jje(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const u8t=[["x",["left","right"],a8t],["y",["top","bottom"],l8t]];let w7=class{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=cA(n),o=Oje(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,s,a]of u8t)for(const c of s)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=o[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class xb{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var o;(o=this.target)==null||o.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function d8t(e){const{EventTarget:t}=Ds(e);return e instanceof t?e:K0(e)}function rO(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Ea;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ea||(Ea={}));function YQ(e){e.preventDefault()}function f8t(e){e.stopPropagation()}var Jt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"})(Jt||(Jt={}));const Pje={start:[Jt.Space,Jt.Enter],cancel:[Jt.Esc],end:[Jt.Space,Jt.Enter]},h8t=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Jt.Right:return{...n,x:n.x+25};case Jt.Left:return{...n,x:n.x-25};case Jt.Down:return{...n,y:n.y+25};case Jt.Up:return{...n,y:n.y-25}}};class C7{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new xb(K0(n)),this.windowListeners=new xb(Ds(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ea.Resize,this.handleCancel),this.windowListeners.add(Ea.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ea.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&c8t(r),n(Ml)}handleKeyDown(t){if(x7(t)){const{active:n,context:r,options:o}=this.props,{keyboardCodes:i=Pje,coordinateGetter:s=h8t,scrollBehavior:a="smooth"}=o,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:Ml;this.referenceCoordinates||(this.referenceCoordinates=d);const f=s(t,{active:n,context:r.current,currentCoordinates:d});if(f){const p=Tx(f,d),m={x:0,y:0},{scrollableAncestors:v}=r.current;for(const g of v){const b=t.code,{isTop:x,isRight:y,isLeft:w,isBottom:C,maxScroll:_,minScroll:S}=Ije(g),E=s8t(g),j={x:Math.min(b===Jt.Right?E.right-E.width/2:E.right,Math.max(b===Jt.Right?E.left:E.left+E.width/2,f.x)),y:Math.min(b===Jt.Down?E.bottom-E.height/2:E.bottom,Math.max(b===Jt.Down?E.top:E.top+E.height/2,f.y))},k=b===Jt.Right&&!y||b===Jt.Left&&!w,T=b===Jt.Down&&!C||b===Jt.Up&&!x;if(k&&j.x!==f.x){const A=g.scrollLeft+p.x,D=b===Jt.Right&&A<=_.x||b===Jt.Left&&A>=S.x;if(D&&!p.y){g.scrollTo({left:A,behavior:a});return}D?m.x=g.scrollLeft-A:m.x=b===Jt.Right?g.scrollLeft-_.x:g.scrollLeft-S.x,m.x&&g.scrollBy({left:-m.x,behavior:a});break}else if(T&&j.y!==f.y){const A=g.scrollTop+p.y,D=b===Jt.Down&&A<=_.y||b===Jt.Up&&A>=S.y;if(D&&!p.x){g.scrollTo({top:A,behavior:a});return}D?m.y=g.scrollTop-A:m.y=b===Jt.Down?g.scrollTop-_.y:g.scrollTop-S.y,m.y&&g.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(t,yv(Tx(f,this.referenceCoordinates),m))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}C7.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Pje,onActivation:o}=t,{active:i}=n;const{code:s}=e.nativeEvent;if(r.start.includes(s)){const a=i.activatorNode.current;return a&&e.target!==a?!1:(e.preventDefault(),o==null||o({event:e.nativeEvent}),!0)}return!1}}];function GQ(e){return!!(e&&"distance"in e)}function KQ(e){return!!(e&&"delay"in e)}class _7{constructor(t,n,r){var o;r===void 0&&(r=d8t(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:i}=t,{target:s}=i;this.props=t,this.events=n,this.document=K0(s),this.documentListeners=new xb(this.document),this.listeners=new xb(r),this.windowListeners=new xb(Ds(s)),this.initialCoordinates=(o=jM(i))!=null?o:Ml,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),this.windowListeners.add(Ea.Resize,this.handleCancel),this.windowListeners.add(Ea.DragStart,YQ),this.windowListeners.add(Ea.VisibilityChange,this.handleCancel),this.windowListeners.add(Ea.ContextMenu,YQ),this.documentListeners.add(Ea.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(KQ(n)){this.timeoutId=setTimeout(this.handleStart,n.delay);return}if(GQ(n))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ea.Click,f8t,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ea.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:o,props:i}=this,{onMove:s,options:{activationConstraint:a}}=i;if(!o)return;const c=(n=jM(t))!=null?n:Ml,u=Tx(o,c);if(!r&&a){if(GQ(a)){if(a.tolerance!=null&&rO(u,a.tolerance))return this.handleCancel();if(rO(u,a.distance))return this.handleStart()}return KQ(a)&&rO(u,a.tolerance)?this.handleCancel():void 0}t.cancelable&&t.preventDefault(),s(c)}handleEnd(){const{onEnd:t}=this.props;this.detach(),t()}handleCancel(){const{onCancel:t}=this.props;this.detach(),t()}handleKeydown(t){t.code===Jt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const p8t={move:{name:"pointermove"},end:{name:"pointerup"}};class S7 extends _7{constructor(t){const{event:n}=t,r=K0(n.target);super(t,p8t,r)}}S7.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const m8t={move:{name:"mousemove"},end:{name:"mouseup"}};var AM;(function(e){e[e.RightClick=2]="RightClick"})(AM||(AM={}));class g8t extends _7{constructor(t){super(t,m8t,K0(t.event.target))}}g8t.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===AM.RightClick?!1:(r==null||r({event:n}),!0)}}];const oO={move:{name:"touchmove"},end:{name:"touchend"}};class v8t extends _7{constructor(t){super(t,oO)}static setup(){return window.addEventListener(oO.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(oO.move.name,t)};function t(){}}}v8t.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return o.length>1?!1:(r==null||r({event:n}),!0)}}];var wb;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(wb||(wb={}));var o5;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(o5||(o5={}));function y8t(e){let{acceleration:t,activator:n=wb.Pointer,canScroll:r,draggingRect:o,enabled:i,interval:s=5,order:a=o5.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:p}=e;const m=x8t({delta:f,disabled:!i}),[v,g]=DLt(),b=h.useRef({x:0,y:0}),x=h.useRef({x:0,y:0}),y=h.useMemo(()=>{switch(n){case wb.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case wb.DraggableRect:return o}},[n,o,c]),w=h.useRef(null),C=h.useCallback(()=>{const S=w.current;if(!S)return;const E=b.current.x*x.current.x,j=b.current.y*x.current.y;S.scrollBy(E,j)},[]),_=h.useMemo(()=>a===o5.TreeOrder?[...u].reverse():u,[a,u]);h.useEffect(()=>{if(!i||!u.length||!y){g();return}for(const S of _){if((r==null?void 0:r(S))===!1)continue;const E=u.indexOf(S),j=d[E];if(!j)continue;const{direction:k,speed:T}=i8t(S,j,y,t,p);for(const A of["x","y"])m[A][k[A]]||(T[A]=0,k[A]=0);if(T.x>0||T.y>0){g(),w.current=S,v(C,s),b.current=T,x.current=k;return}}b.current={x:0,y:0},x.current={x:0,y:0},g()},[t,C,r,g,i,s,JSON.stringify(y),JSON.stringify(m),v,u,_,d,JSON.stringify(p)])}const b8t={x:{[Lo.Backward]:!1,[Lo.Forward]:!1},y:{[Lo.Backward]:!1,[Lo.Forward]:!1}};function x8t(e){let{delta:t,disabled:n}=e;const r=kM(t);return Qw(o=>{if(n||!r||!o)return b8t;const i={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Lo.Backward]:o.x[Lo.Backward]||i.x===-1,[Lo.Forward]:o.x[Lo.Forward]||i.x===1},y:{[Lo.Backward]:o.y[Lo.Backward]||i.y===-1,[Lo.Forward]:o.y[Lo.Forward]||i.y===1}}},[n,t,r])}function w8t(e,t){const n=t!==null?e.get(t):void 0,r=n?n.node.current:null;return Qw(o=>{var i;return t===null?null:(i=r??o)!=null?i:null},[r,t])}function C8t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{const{sensor:o}=r,i=o.activators.map(s=>({eventName:s.eventName,handler:t(s.handler,r)}));return[...n,...i]},[]),[e,t])}var Dx;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Dx||(Dx={}));var DM;(function(e){e.Optimized="optimized"})(DM||(DM={}));const ZQ=new Map;function _8t(e,t){let{dragging:n,dependencies:r,config:o}=t;const[i,s]=h.useState(null),{frequency:a,measure:c,strategy:u}=o,d=h.useRef(e),f=b(),p=jx(f),m=h.useCallback(function(x){x===void 0&&(x=[]),!p.current&&s(y=>y===null?x:y.concat(x.filter(w=>!y.includes(w))))},[p]),v=h.useRef(null),g=Qw(x=>{if(f&&!n)return ZQ;if(!x||x===ZQ||d.current!==e||i!=null){const y=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){y.set(w.id,w.rect.current);continue}const C=w.node.current,_=C?new w7(c(C),C):null;w.rect.current=_,_&&y.set(w.id,_)}return y}return x},[e,i,n,f,c]);return h.useEffect(()=>{d.current=e},[e]),h.useEffect(()=>{f||m()},[n,f]),h.useEffect(()=>{i&&i.length>0&&s(null)},[JSON.stringify(i)]),h.useEffect(()=>{f||typeof a!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},a))},[a,f,m,...r]),{droppableRects:g,measureDroppableContainers:m,measuringScheduled:i!=null};function b(){switch(u){case Dx.Always:return!1;case Dx.BeforeDragging:return n;default:return!n}}}function Rje(e,t){return Qw(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function S8t(e,t){return Rje(e,t)}function E8t(e){let{callback:t,disabled:n}=e;const r=b7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(r)},[r,n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function uA(e){let{callback:t,disabled:n}=e;const r=b7(t),o=h.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(r)},[n]);return h.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function k8t(e){return new w7(Z0(e),e)}function XQ(e,t,n){t===void 0&&(t=k8t);const[r,o]=h.useReducer(a,null),i=E8t({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){o();break}}}}),s=uA({callback:o});return $l(()=>{o(),e?(s==null||s.observe(e),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),i==null||i.disconnect())},[e]),r;function a(c){if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d}}function j8t(e){const t=Rje(e);return kje(e,t)}const QQ=[];function T8t(e){const t=h.useRef(e),n=Qw(r=>e?r&&r!==QQ&&e&&t.current&&e.parentNode===t.current.parentNode?r:cA(e):QQ,[e]);return h.useEffect(()=>{t.current=e},[e]),n}function A8t(e){const[t,n]=h.useState(null),r=h.useRef(e),o=h.useCallback(i=>{const s=nO(i.target);s&&n(a=>a?(a.set(s,TM(s)),new Map(a)):null)},[]);return h.useEffect(()=>{const i=r.current;if(e!==i){s(i);const a=e.map(c=>{const u=nO(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,TM(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=e}return()=>{s(e),s(i)};function s(a){a.forEach(c=>{const u=nO(c);u==null||u.removeEventListener("scroll",o)})}},[o,e]),h.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,s)=>yv(i,s),Ml):Oje(e):Ml,[e,t])}function JQ(e,t){t===void 0&&(t=[]);const n=h.useRef(null);return h.useEffect(()=>{n.current=null},t),h.useEffect(()=>{const r=e!==Ml;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Tx(e,n.current):Ml}function D8t(e){h.useEffect(()=>{if(!lA)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function I8t(e,t){return h.useMemo(()=>e.reduce((n,r)=>{let{eventName:o,handler:i}=r;return n[o]=s=>{i(s,t)},n},{}),[e,t])}function $je(e){return h.useMemo(()=>e?t8t(e):null,[e])}const iO=[];function O8t(e,t){t===void 0&&(t=Z0);const[n]=e,r=$je(n?Ds(n):null),[o,i]=h.useReducer(a,iO),s=uA({callback:i});return e.length>0&&o===iO&&i(),$l(()=>{e.length?e.forEach(c=>s==null?void 0:s.observe(c)):(s==null||s.disconnect(),i())},[e]),o;function a(){return e.length?e.map(c=>Dje(c)?r:new w7(t(c),c)):iO}}function P8t(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Xw(t)?t:e}function R8t(e){let{measure:t}=e;const[n,r]=h.useState(null),o=h.useCallback(u=>{for(const{target:d}of u)if(Xw(d)){r(f=>{const p=t(d);return f?{...f,width:p.width,height:p.height}:p});break}},[t]),i=uA({callback:o}),s=h.useCallback(u=>{const d=P8t(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),r(d?t(d):null)},[t,i]),[a,c]=n5(s);return h.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const $8t=[{sensor:S7,options:{}},{sensor:C7,options:{}}],M8t={current:{}},ES={draggable:{measure:qQ},droppable:{measure:qQ,strategy:Dx.WhileDragging,frequency:DM.Optimized},dragOverlay:{measure:Z0}};class Cb extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const F8t={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Cb,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:r5},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ES,measureDroppableContainers:r5,windowRect:null,measuringScheduled:!1},L8t={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:r5,draggableNodes:new Map,over:null,measureDroppableContainers:r5},dA=h.createContext(L8t),Mje=h.createContext(F8t);function B8t(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Cb}}}function N8t(e,t){switch(t.type){case Eo.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Eo.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case Eo.DragEnd:case Eo.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Eo.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new Cb(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Eo.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Cb(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case Eo.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new Cb(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function z8t(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:o}=h.useContext(dA),i=kM(r),s=kM(n==null?void 0:n.id);return h.useEffect(()=>{if(!t&&!r&&i&&s!=null){if(!x7(i)||document.activeElement===i.target)return;const a=o.get(s);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=PLt(d);if(f){f.focus();break}}})}},[r,t,o,s,i]),null}function V8t(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((o,i)=>i({transform:o,...r}),n):n}function H8t(e){return h.useMemo(()=>({draggable:{...ES.draggable,...e==null?void 0:e.draggable},droppable:{...ES.droppable,...e==null?void 0:e.droppable},dragOverlay:{...ES.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function U8t(e){let{activeNode:t,measure:n,initialRect:r,config:o=!0}=e;const i=h.useRef(!1),{x:s,y:a}=typeof o=="boolean"?{x:o,y:o}:o;$l(()=>{if(!s&&!a||!t){i.current=!1;return}if(i.current||!r)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=kje(d,r);if(s||(f.x=0),a||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const p=jje(u);p&&p.scrollBy({top:f.y,left:f.x})}},[t,s,a,r,n])}const Fje=h.createContext({...Ml,scaleX:1,scaleY:1});var Md;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Md||(Md={}));const W8t=h.memo(function(t){var n,r,o,i;let{id:s,accessibility:a,autoScroll:c=!0,children:u,sensors:d=$8t,collisionDetection:f=GLt,measuring:p,modifiers:m,...v}=t;const g=h.useReducer(N8t,void 0,B8t),[b,x]=g,[y,w]=BLt(),[C,_]=h.useState(Md.Uninitialized),S=C===Md.Initialized,{draggable:{active:E,nodes:j,translate:k},droppable:{containers:T}}=b,A=E?j.get(E):null,D=h.useRef({initial:null,translated:null}),I=h.useMemo(()=>{var Bn;return E!=null?{id:E,data:(Bn=A==null?void 0:A.data)!=null?Bn:M8t,rect:D}:null},[E,A]),O=h.useRef(null),[$,R]=h.useState(null),[z,B]=h.useState(null),U=jx(v,Object.values(v)),W=Jw("DndDescribedBy",s),V=h.useMemo(()=>T.getEnabled(),[T]),K=H8t(p),{droppableRects:te,measureDroppableContainers:N,measuringScheduled:G}=_8t(V,{dragging:S,dependencies:[k.x,k.y],config:K.droppable}),q=w8t(j,E),Z=h.useMemo(()=>z?jM(z):null,[z]),ie=Is(),ne=S8t(q,K.draggable.measure);U8t({activeNode:E?j.get(E):null,config:ie.layoutShiftCompensation,initialRect:ne,measure:K.draggable.measure});const Y=XQ(q,K.draggable.measure,ne),X=XQ(q?q.parentElement:null),ae=h.useRef({activatorEvent:null,active:null,activeNode:q,collisionRect:null,collisions:null,droppableRects:te,draggableNodes:j,draggingNode:null,draggingNodeRect:null,droppableContainers:T,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=T.getNodeFor((n=ae.current.over)==null?void 0:n.id),ce=R8t({measure:K.dragOverlay.measure}),xe=(r=ce.nodeRef.current)!=null?r:q,Se=S?(o=ce.rect)!=null?o:Y:null,pe=!!(ce.nodeRef.current&&ce.rect),be=j8t(pe?null:Y),Be=$je(xe?Ds(xe):null),$e=T8t(S?he??q:null),ct=O8t($e),ot=V8t(m,{transform:{x:k.x-be.x,y:k.y-be.y,scaleX:1,scaleY:1},activatorEvent:z,active:I,activeNodeRect:Y,containerNodeRect:X,draggingNodeRect:Se,over:ae.current.over,overlayNodeRect:ce.rect,scrollableAncestors:$e,scrollableAncestorRects:ct,windowRect:Be}),Lt=Z?yv(Z,k):null,Rt=A8t($e),Ae=JQ(Rt),Ke=JQ(Rt,[Y]),Ye=yv(ot,Ae),tt=Se?XLt(Se,ot):null,wt=I&&tt?f({active:I,collisionRect:tt,droppableRects:te,droppableContainers:V,pointerCoordinates:Lt}):null,Ee=Eje(wt,"id"),[Ne,ut]=h.useState(null),ui=pe?ot:yv(ot,Ke),er=KLt(ui,(i=Ne==null?void 0:Ne.rect)!=null?i:null,Y),Go=h.useCallback((Bn,zn)=>{let{sensor:Gr,options:We}=zn;if(O.current==null)return;const Ct=j.get(O.current);if(!Ct)return;const tr=Bn.nativeEvent,Nn=new Gr({active:O.current,activeNode:Ct,event:tr,options:We,context:ae,onStart(Ar){const di=O.current;if(di==null)return;const Os=j.get(di);if(!Os)return;const{onDragStart:pa}=U.current,Hm={active:{id:di,data:Os.data,rect:D}};cc.unstable_batchedUpdates(()=>{pa==null||pa(Hm),_(Md.Initializing),x({type:Eo.DragStart,initialCoordinates:Ar,active:di}),y({type:"onDragStart",event:Hm})})},onMove(Ar){x({type:Eo.DragMove,coordinates:Ar})},onEnd:ha(Eo.DragEnd),onCancel:ha(Eo.DragCancel)});cc.unstable_batchedUpdates(()=>{R(Nn),B(Bn.nativeEvent)});function ha(Ar){return async function(){const{active:Os,collisions:pa,over:Hm,scrollAdjustedTranslate:OC}=ae.current;let Yl=null;if(Os&&OC){const{cancelDrop:qc}=U.current;Yl={activatorEvent:tr,active:Os,collisions:pa,delta:OC,over:Hm},Ar===Eo.DragEnd&&typeof qc=="function"&&await Promise.resolve(qc(Yl))&&(Ar=Eo.DragCancel)}O.current=null,cc.unstable_batchedUpdates(()=>{x({type:Ar}),_(Md.Uninitialized),ut(null),R(null),B(null);const qc=Ar===Eo.DragEnd?"onDragEnd":"onDragCancel";if(Yl){const w1=U.current[qc];w1==null||w1(Yl),y({type:qc,event:Yl})}})}}},[j]),Yt=h.useCallback((Bn,zn)=>(Gr,We)=>{const Ct=Gr.nativeEvent,tr=j.get(We);if(O.current!==null||!tr||Ct.dndKit||Ct.defaultPrevented)return;const Nn={active:tr};Bn(Gr,zn.options,Nn)===!0&&(Ct.dndKit={capturedBy:zn.sensor},O.current=We,Go(Gr,zn))},[j,Go]),no=C8t(d,Yt);D8t(d),$l(()=>{Y&&C===Md.Initializing&&_(Md.Initialized)},[Y,C]),h.useEffect(()=>{const{onDragMove:Bn}=U.current,{active:zn,activatorEvent:Gr,collisions:We,over:Ct}=ae.current;if(!zn||!Gr)return;const tr={active:zn,activatorEvent:Gr,collisions:We,delta:{x:Ye.x,y:Ye.y},over:Ct};cc.unstable_batchedUpdates(()=>{Bn==null||Bn(tr),y({type:"onDragMove",event:tr})})},[Ye.x,Ye.y]),h.useEffect(()=>{const{active:Bn,activatorEvent:zn,collisions:Gr,droppableContainers:We,scrollAdjustedTranslate:Ct}=ae.current;if(!Bn||O.current==null||!zn||!Ct)return;const{onDragOver:tr}=U.current,Nn=We.get(Ee),ha=Nn&&Nn.rect.current?{id:Nn.id,rect:Nn.rect.current,data:Nn.data,disabled:Nn.disabled}:null,Ar={active:Bn,activatorEvent:zn,collisions:Gr,delta:{x:Ct.x,y:Ct.y},over:ha};cc.unstable_batchedUpdates(()=>{ut(ha),tr==null||tr(Ar),y({type:"onDragOver",event:Ar})})},[Ee]),$l(()=>{ae.current={activatorEvent:z,active:I,activeNode:q,collisionRect:tt,collisions:wt,droppableRects:te,draggableNodes:j,draggingNode:xe,draggingNodeRect:Se,droppableContainers:T,over:Ne,scrollableAncestors:$e,scrollAdjustedTranslate:Ye},D.current={initial:Se,translated:tt}},[I,q,wt,tt,j,xe,Se,te,T,Ne,$e,Ye]),y8t({...ie,delta:k,draggingRect:tt,pointerCoordinates:Lt,scrollableAncestors:$e,scrollableAncestorRects:ct});const sl=h.useMemo(()=>({active:I,activeNode:q,activeNodeRect:Y,activatorEvent:z,collisions:wt,containerNodeRect:X,dragOverlay:ce,draggableNodes:j,droppableContainers:T,droppableRects:te,over:Ne,measureDroppableContainers:N,scrollableAncestors:$e,scrollableAncestorRects:ct,measuringConfiguration:K,measuringScheduled:G,windowRect:Be}),[I,q,Y,z,wt,X,ce,j,T,te,Ne,N,$e,ct,K,G,Be]),al=h.useMemo(()=>({activatorEvent:z,activators:no,active:I,activeNodeRect:Y,ariaDescribedById:{draggable:W},dispatch:x,draggableNodes:j,over:Ne,measureDroppableContainers:N}),[z,no,I,Y,x,W,j,Ne,N]);return re.createElement(Cje.Provider,{value:w},re.createElement(dA.Provider,{value:al},re.createElement(Mje.Provider,{value:sl},re.createElement(Fje.Provider,{value:er},u)),re.createElement(z8t,{disabled:(a==null?void 0:a.restoreFocus)===!1})),re.createElement(VLt,{...a,hiddenTextDescribedById:W}));function Is(){const Bn=($==null?void 0:$.autoScrollEnabled)===!1,zn=typeof c=="object"?c.enabled===!1:c===!1,Gr=S&&!Bn&&!zn;return typeof c=="object"?{...c,enabled:Gr}:{enabled:Gr}}}),q8t=h.createContext(null),eJ="button",Y8t="Droppable";function G8t(e){let{id:t,data:n,disabled:r=!1,attributes:o}=e;const i=Jw(Y8t),{activators:s,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:p}=h.useContext(dA),{role:m=eJ,roleDescription:v="draggable",tabIndex:g=0}=o??{},b=(c==null?void 0:c.id)===t,x=h.useContext(b?Fje:q8t),[y,w]=n5(),[C,_]=n5(),S=I8t(s,t),E=jx(n);$l(()=>(f.set(t,{id:t,key:i,node:y,activatorNode:C,data:E}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const j=h.useMemo(()=>({role:m,tabIndex:g,"aria-disabled":r,"aria-pressed":b&&m===eJ?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[r,m,g,b,v,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:j,isDragging:b,listeners:r?void 0:S,node:y,over:p,setNodeRef:w,setActivatorNodeRef:_,transform:x}}function K8t(){return h.useContext(Mje)}const Z8t="Droppable",X8t={timeout:25};function Q8t(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:o}=e;const i=Jw(Z8t),{active:s,dispatch:a,over:c,measureDroppableContainers:u}=h.useContext(dA),d=h.useRef({disabled:n}),f=h.useRef(!1),p=h.useRef(null),m=h.useRef(null),{disabled:v,updateMeasurementsFor:g,timeout:b}={...X8t,...o},x=jx(g??r),y=h.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},b)},[b]),w=uA({callback:y,disabled:v||!s}),C=h.useCallback((j,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),j&&w.observe(j))},[w]),[_,S]=n5(C),E=jx(t);return h.useEffect(()=>{!w||!_.current||(w.disconnect(),f.current=!1,w.observe(_.current))},[_,w]),$l(()=>(a({type:Eo.RegisterDroppable,element:{id:r,key:i,disabled:n,node:_,rect:p,data:E}}),()=>a({type:Eo.UnregisterDroppable,key:i,id:r})),[r]),h.useEffect(()=>{n!==d.current.disabled&&(a({type:Eo.SetDroppableDisabled,id:r,key:i,disabled:n}),d.current.disabled=n)},[r,i,n,a]),{active:s,rect:p,isOver:(c==null?void 0:c.id)===r,node:_,over:c,setNodeRef:S}}function Lje(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function J8t(e,t){return e.reduce((n,r,o)=>{const i=t.get(r);return i&&(n[o]=i),n},Array(e.length))}function N_(e){return e!==null&&e>=0}function e9t(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function t9t(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const z_={scaleX:1,scaleY:1},n9t=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:s}=e;const a=(t=n[o])!=null?t:r;if(!a)return null;const c=r9t(n,s,o);if(s===o){const u=n[i];return u?{x:o<i?u.left+u.width-(a.left+a.width):u.left-a.left,y:0,...z_}:null}return s>o&&s<=i?{x:-a.width-c,y:0,...z_}:s<o&&s>=i?{x:a.width+c,y:0,...z_}:{x:0,y:0,...z_}};function r9t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return!r||!o&&!i?0:n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width)}const Bje=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Lje(t,r,n),s=t[o],a=i[o];return!a||!s?null:{x:a.left-s.left,y:a.top-s.top,scaleX:a.width/s.width,scaleY:a.height/s.height}},V_={scaleX:1,scaleY:1},o9t=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:o,rects:i,overIndex:s}=e;const a=(t=i[n])!=null?t:r;if(!a)return null;if(o===n){const u=i[s];return u?{x:0,y:n<s?u.top+u.height-(a.top+a.height):u.top-a.top,...V_}:null}const c=i9t(i,o,n);return o>n&&o<=s?{x:0,y:-a.height-c,...V_}:o<n&&o>=s?{x:0,y:a.height+c,...V_}:{x:0,y:0,...V_}};function i9t(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r?n<t?o?r.top-(o.top+o.height):i?i.top-(r.top+r.height):0:i?i.top-(r.top+r.height):o?r.top-(o.top+o.height):0:0}const Nje="Sortable",zje=re.createContext({activeIndex:-1,containerId:Nje,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:Bje,disabled:{draggable:!1,droppable:!1}});function s9t(e){let{children:t,id:n,items:r,strategy:o=Bje,disabled:i=!1}=e;const{active:s,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=K8t(),f=Jw(Nje,n),p=a.rect!==null,m=h.useMemo(()=>r.map(S=>typeof S=="object"&&"id"in S?S.id:S),[r]),v=s!=null,g=s?m.indexOf(s.id):-1,b=u?m.indexOf(u.id):-1,x=h.useRef(m),y=!e9t(m,x.current),w=b!==-1&&g===-1||y,C=t9t(i);$l(()=>{y&&v&&d(m)},[y,m,v,d]),h.useEffect(()=>{x.current=m},[m]);const _=h.useMemo(()=>({activeIndex:g,containerId:f,disabled:C,disableTransforms:w,items:m,overIndex:b,useDragOverlay:p,sortedRects:J8t(m,c),strategy:o}),[g,f,C.draggable,C.droppable,w,m,b,c,p,o]);return re.createElement(zje.Provider,{value:_},t)}const a9t=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Lje(n,r,o).indexOf(t)},l9t=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:u}=e;return!u||!r||a!==i&&o===s?!1:n?!0:s!==o&&t===c},c9t={duration:200,easing:"ease"},Vje="transform",u9t=Ax.Transition.toString({property:Vje,duration:0,easing:"linear"}),d9t={roleDescription:"sortable"};function f9t(e){let{disabled:t,index:n,node:r,rect:o}=e;const[i,s]=h.useState(null),a=h.useRef(n);return $l(()=>{if(!t&&n!==a.current&&r.current){const c=o.current;if(c){const u=Z0(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&s(d)}}n!==a.current&&(a.current=n)},[t,n,r,o]),h.useEffect(()=>{i&&s(null)},[i]),i}function Hje(e){let{animateLayoutChanges:t=l9t,attributes:n,disabled:r,data:o,getNewIndex:i=a9t,id:s,strategy:a,resizeObserverConfig:c,transition:u=c9t}=e;const{items:d,containerId:f,activeIndex:p,disabled:m,disableTransforms:v,sortedRects:g,overIndex:b,useDragOverlay:x,strategy:y}=h.useContext(zje),w=h9t(r,m),C=d.indexOf(s),_=h.useMemo(()=>({sortable:{containerId:f,index:C,items:d},...o}),[f,o,C,d]),S=h.useMemo(()=>d.slice(d.indexOf(s)),[d,s]),{rect:E,node:j,isOver:k,setNodeRef:T}=Q8t({id:s,data:_,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:A,activatorEvent:D,activeNodeRect:I,attributes:O,setNodeRef:$,listeners:R,isDragging:z,over:B,setActivatorNodeRef:U,transform:W}=G8t({id:s,data:_,attributes:{...d9t,...n},disabled:w.draggable}),V=ALt(T,$),K=!!A,te=K&&!v&&N_(p)&&N_(b),N=!x&&z,G=N&&te?W:null,Z=te?G??(a??y)({rects:g,activeNodeRect:I,activeIndex:p,overIndex:b,index:C}):null,ie=N_(p)&&N_(b)?i({id:s,items:d,activeIndex:p,overIndex:b}):C,ne=A==null?void 0:A.id,Y=h.useRef({activeId:ne,items:d,newIndex:ie,containerId:f}),X=d!==Y.current.items,ae=t({active:A,containerId:f,isDragging:z,isSorting:K,id:s,index:C,items:d,newIndex:Y.current.newIndex,previousItems:Y.current.items,previousContainerId:Y.current.containerId,transition:u,wasDragging:Y.current.activeId!=null}),he=f9t({disabled:!ae,index:C,node:j,rect:E});return h.useEffect(()=>{K&&Y.current.newIndex!==ie&&(Y.current.newIndex=ie),f!==Y.current.containerId&&(Y.current.containerId=f),d!==Y.current.items&&(Y.current.items=d)},[K,ie,f,d]),h.useEffect(()=>{if(ne===Y.current.activeId)return;if(ne&&!Y.current.activeId){Y.current.activeId=ne;return}const xe=setTimeout(()=>{Y.current.activeId=ne},50);return()=>clearTimeout(xe)},[ne]),{active:A,activeIndex:p,attributes:O,data:_,rect:E,index:C,newIndex:ie,items:d,isOver:k,isSorting:K,isDragging:z,listeners:R,node:j,overIndex:b,over:B,setNodeRef:V,setActivatorNodeRef:U,setDroppableNodeRef:T,setDraggableNodeRef:$,transform:he??Z,transition:ce()};function ce(){if(he||X&&Y.current.newIndex===C)return u9t;if(!(N&&!x7(D)||!u)&&(K||ae))return Ax.Transition.toString({...u,property:Vje})}}function h9t(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(r=e==null?void 0:e.droppable)!=null?r:t.droppable}}function i5(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const p9t=[Jt.Down,Jt.Right,Jt.Up,Jt.Left],m9t=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:o,droppableContainers:i,over:s,scrollableAncestors:a}}=t;if(p9t.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];i.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const p=o.get(f.id);if(p)switch(e.code){case Jt.Down:r.top<p.top&&c.push(f);break;case Jt.Up:r.top>p.top&&c.push(f);break;case Jt.Left:r.left>p.left&&c.push(f);break;case Jt.Right:r.left<p.left&&c.push(f);break}});const u=qLt({active:n,collisionRect:r,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let d=Eje(u,"id");if(d===(s==null?void 0:s.id)&&u.length>1&&(d=u[1].id),d!=null){const f=i.get(n.id),p=i.get(d),m=p?o.get(p.id):null,v=p==null?void 0:p.node.current;if(v&&m&&f&&p){const b=cA(v).some((S,E)=>a[E]!==S),x=Uje(f,p),y=g9t(f,p),w=b||!x?{x:0,y:0}:{x:y?r.width-m.width:0,y:y?r.height-m.height:0},C={x:m.left,y:m.top};return w.x&&w.y?C:Tx(C,w)}}}};function Uje(e,t){return!i5(e)||!i5(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function g9t(e,t){return!i5(e)||!i5(t)||!Uje(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}const v9t=e=>{let{transform:t}=e;return{...t,y:0}},y9t=e=>{let{transform:t}=e;return{...t,x:0}};var b9t=dm;function x9t(e,t,n){for(var r=-1,o=e.length;++r<o;){var i=e[r],s=t(i);if(s!=null&&(a===void 0?s===s&&!b9t(s):n(s,a)))var a=s,c=i}return c}var Wje=x9t;function w9t(e,t){return e<t}var C9t=w9t,_9t=Wje,S9t=C9t,E9t=Sm;function k9t(e){return e&&e.length?_9t(e,E9t,S9t):void 0}var j9t=k9t;const T9t=Ie(j9t);function A9t(e,t){return e>t}var D9t=A9t,I9t=Wje,O9t=D9t,P9t=Sm;function R9t(e){return e&&e.length?I9t(e,P9t,O9t):void 0}var $9t=R9t;const M9t=Ie($9t);var IM={exports:{}};function F9t(e){n.debug=n,n.default=n,n.coerce=c,n.disable=s,n.enable=i,n.enabled=a,n.humanize=gT(),Object.keys(e).forEach(function(u){n[u]=e[u]}),n.instances=[],n.names=[],n.skips=[],n.formatters={};function t(u){for(var d=0,f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=t;function n(u){var d;function f(){if(f.enabled){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];var g=f,b=Number(new Date),x=b-(d||b);g.diff=x,g.prev=d,g.curr=b,d=b,m[0]=n.coerce(m[0]),typeof m[0]!="string"&&m.unshift("%O");var y=0;m[0]=m[0].replace(/%([a-zA-Z%])/g,function(C,_){if(C==="%%")return C;y++;var S=n.formatters[_];if(typeof S=="function"){var E=m[y];C=S.call(g,E),m.splice(y,1),y--}return C}),n.formatArgs.call(g,m);var w=g.log||n.log;w.apply(g,m)}}return f.namespace=u,f.enabled=n.enabled(u),f.useColors=n.useColors(),f.color=t(u),f.destroy=r,f.extend=o,typeof n.init=="function"&&n.init(f),n.instances.push(f),f}function r(){var u=n.instances.indexOf(this);return u!==-1?(n.instances.splice(u,1),!0):!1}function o(u,d){return n(this.namespace+(typeof d>"u"?":":d)+u)}function i(u){n.save(u),n.names=[],n.skips=[];var d,f=(typeof u=="string"?u:"").split(/[\s,]+/),p=f.length;for(d=0;d<p;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.substr(1)+"$")):n.names.push(new RegExp("^"+u+"$")));for(d=0;d<n.instances.length;d++){var m=n.instances[d];m.enabled=n.enabled(m.namespace)}}function s(){n.enable("")}function a(u){if(u[u.length-1]==="*")return!0;var d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return n.enable(n.load()),n}var L9t=F9t;(function(e,t){function n(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(p){return typeof p}:n=function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},n(d)}t.log=i,t.formatArgs=o,t.save=s,t.load=a,t.useColors=r,t.storage=c(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(d){if(d[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+d[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!!this.useColors){var f="color: "+this.color;d.splice(1,0,f,"color: inherit");var p=0,m=0;d[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(p++,v==="%c"&&(m=p))}),d.splice(m,0,f)}}function i(){var d;return(typeof console>"u"?"undefined":n(console))==="object"&&console.log&&(d=console).log.apply(d,arguments)}function s(d){try{d?t.storage.setItem("debug",d):t.storage.removeItem("debug")}catch{}}function a(){var d;try{d=t.storage.getItem("debug")}catch{}return!d&&typeof process<"u"&&"env"in process&&(d={}.DEBUG),d}function c(){try{return localStorage}catch{}}e.exports=L9t(t);var u=e.exports.formatters;u.j=function(d){try{return JSON.stringify(d)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}})(IM,IM.exports);var B9t=IM.exports;const N9t=Ie(B9t),z9t=/[0-9]/,V9t=/^[a-zA-Z0-9_]$/,H9t=/^[a-zA-Z_]$/,qje={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},U9t=Object.keys(qje);class W9t{constructor(t){this.source=t,this.length=t.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(n=>n.bind(this))}tokenize(){const t=[];for(;!this.EOF();){this.chompWhitespace();let n=null;if(!this.tokenizers.some(o=>(n=o(),!!n))||!n)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));t.push(n)}return t}takeWhile(t){const n=this.i;let r="";for(;!this.EOF();){const o=t(this.source[this.i]);if(o===null)break;r+=o,this.i++}return this.i===n?null:r}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(t){if(this.i+t.length>this.length)throw new Error("Expected ".concat(t," at end of jsonpath"));if(t===this.source.slice(this.i,this.i+t.length))this.i+=t.length;else throw new Error('Expected "'.concat(t,'", but source contained "').concat(this.source.slice()))}tryConsume(t){return this.i+t.length>this.length?null:t===this.source.slice(this.i,this.i+t.length)?(this.i+=t.length,t):null}chompWhitespace(){this.takeWhile(t=>t===" "?"":null)}tokenizeQuoted(){const t=this.peek();if(t==="'"||t==='"'){this.consume(t);let n=!1;const r=this.takeWhile(o=>n?(n=!1,o):o==="\\"?(n=!0,""):o!=t?o:null);return this.consume(t),{type:"quoted",value:r,quote:t==='"'?"double":"single"}}return null}tokenizeIdentifier(){let t=!0;const n=this.takeWhile(r=>t?(t=!1,r.match(H9t)?r:null):r.match(V9t)?r:null);return n!==null?{type:"identifier",name:n}:null}tokenizeNumber(){const t=this.i;let n=!1,r=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const i=this.takeWhile(s=>s==="."&&!n&&r?(n=!0,s):(r=!0,s.match(z9t)?s:null));return i!==null?{type:"number",value:o?-i:+i,raw:o?"-".concat(i):i}:(this.i=t,null)}tokenizeSymbol(){for(const t of U9t){const r=qje[t].find(o=>this.tryConsume(o));if(r)return{type:t,symbol:r}}return null}}function q9t(e){return new W9t(e).tokenize()}class Y9t{constructor(t){this.tokens=q9t(t),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const t=this.peek();return this.i+=1,t}probe(t){const n=this.peek();if(!n)return null;const r=n;return Object.keys(t).every(i=>i in n&&t[i]===r[i])?n:null}match(t){return this.probe(t)?this.consume():null}parseAttribute(){const t=this.match({type:"identifier"});if(t&&t.type==="identifier")return{type:"attribute",name:t.name};const n=this.match({type:"quoted",quote:"single"});return n&&n.type==="quoted"?{type:"attribute",name:n.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const t=this.match({type:"number"});return t&&t.type==="number"?{type:"number",value:t.value}:null}parseNumberValue(){const t=this.parseNumber();return t?t.value:null}parseSliceSelector(){const t=this.i,n=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return n===null?(this.i=t,null):{type:"index",value:n};const o={type:"range",start:n,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=t,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const t=this.match({type:"quoted",quote:"double"});if(t&&t.type==="quoted")return{type:"string",value:t.value||""};const n=this.match({type:"boolean"});return n&&n.type==="boolean"?{type:"boolean",value:n.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const t=this.i,n=this.parseAttribute()||this.parseAlias();if(!n)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:n};const r=this.match({type:"comparator"});if(!r||r.type!=="comparator")return this.i=t,null;const o=n,i=this.parseLiteralValue();if(!i)throw new Error("Operator ".concat(r.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:r.symbol,lhs:o,rhs:i}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const t=[];let n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;n&&(t.push(n),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(n=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!n)throw new Error("Expected expression following ','")}return{type:"union",nodes:t}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const t=this.parsePath();if(!t)throw new Error("Expected path following '..' operator");return{type:"recursive",term:t}}parsePath(){const t=[],n=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!n)return null;for(t.push(n);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const r=this.parseAttribute();if(!r)throw new Error("Expected attribute name following '.");t.push(r);continue}else if(this.probe({type:"paren",symbol:"["})){const r=this.parseUnion();if(!r)throw new Error("Expected union following '['");t.push(r)}else{const r=this.parseRecursive();r&&t.push(r);break}return t.length===1?t[0]:{type:"path",nodes:t}}}function Yje(e){const t=new Y9t(e).parse();if(!t)throw new Error('Failed to parse JSON path "'.concat(e,'"'));return t}function G9t(e){const[t,n]=Gje(e);if(!t)throw new Error("Head cannot be null");return Z9t(t,n)}function Gje(e){if(e.type!=="path")return[e,null];const t=e.nodes;return t.length===0?[null,null]:t.length===1?[t[0],null]:[t[0],{type:"path",nodes:t.slice(1)}]}function K9t(e,t){if(!e&&!t)return null;const n=e?e.nodes:[],r=t?t.nodes:[];return{type:"path",nodes:n.concat(r)}}function Z9t(e,t){return e.type!=="union"?[[e,t]]:e.nodes.map(n=>{if(n.type==="path"){const[r,o]=Gje(n);return[r,K9t(o,t)]}return[n,t]})}function Kje(e){return vg(e,!1)}function vg(e,t){switch(e.type){case"attribute":return e.name;case"alias":return e.target==="self"?"@":"$";case"number":return"".concat(e.value);case"range":{const n=[];return t||n.push("["),e.start&&n.push("".concat(e.start)),n.push(":"),e.end&&n.push("".concat(e.end)),e.step&&n.push(":".concat(e.step)),t||n.push("]"),n.join("")}case"index":return t?"".concat(e.value):"[".concat(e.value,"]");case"constraint":{const n=e.rhs?" ".concat(vg(e.rhs,!1)):"",r="".concat(vg(e.lhs,!1)," ").concat(e.operator).concat(n);return t?r:"[".concat(r,"]")}case"string":return JSON.stringify(e.value);case"path":{const n=[],r=e.nodes.slice();for(;r.length>0;){const o=r.shift();o&&n.push(Kje(o));const i=r[0];i&&vg(i,!1)[0]!=="["&&n.push(".")}return n.join("")}case"union":return"[".concat(e.nodes.map(n=>vg(n,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(e.type));case"recursive":return"..".concat(vg(e.term,!1))}}class Ws{constructor(t){if(!t)throw new Error("Attempted to create Expression from null-value");if("expr"in t?this.expr=t.expr:this.expr=t,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(t){const n=()=>{if(!t)throw new Error("expandRange() required a probe that was not passed");return t.length()};let r="start"in this.expr&&this.expr.start||0;r=sO(r,t);let o="end"in this.expr&&this.expr.end||n();o=sO(o,t);const i="step"in this.expr&&this.expr.step||1;return{start:r,end:o,step:i}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(t){const n=this.expr;if(n.type==="constraint"&&n.lhs.type==="alias"&&n.lhs.target==="self"){if(t.containerType()!=="primitive")return!1;if(n.type==="constraint"&&n.operator==="?")return!0;const s=t.get(),a=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return tJ(s,n.operator,a)}if(n.type!=="constraint")return!1;const r=n.lhs;if(!r)throw new Error("No LHS of expression");if(r.type!=="attribute")throw new Error("Constraint target ".concat(r.type," not supported"));if(t.containerType()!=="object")return!1;const o=t.getAttribute(r.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const i=n.rhs&&"value"in n.rhs?n.rhs.value:void 0;return tJ(o.get(),n.operator,i)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(t){return t?new Ws({type:"path",nodes:t.pathNodes().concat(this.pathNodes())}):this}concat(t){return t?t.prepend(this):this}descend(){return G9t(this.expr).map(t=>{const[n,r]=t;return{head:n?new Ws(n):null,tail:r?new Ws(r):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Ws(this.expr.term)}toIndicies(t){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[sO(this.expr.value,t)];const n=[],r=this.expandRange(t);let{start:o,end:i}=r;r.step<0&&([o,i]=[i,o]);for(let s=o;s<i;s++)n.push(s);return n}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return Kje(this.expr)}static fromPath(t){const n=Yje(t);if(!n)throw new Error('Failed to parse path "'.concat(t,'"'));return new Ws(n)}static attributeReference(t){return new Ws({type:"attribute",name:t})}static indexReference(t){return new Ws({type:"index",value:t})}}function tJ(e,t,n){switch(t){case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n;case"==":return e===n;case"!=":return e!==n;default:throw new Error("Unsupported binary operator ".concat(t))}}function sO(e,t){if(e>=0)return e;if(!t)throw new Error("interpretNegativeIndex() must have a probe when < 0");return e+t.length()}class Yg{constructor(t,n){this.head=t,this.tail=n}iterate(t){let n=[this];if(this.head&&this.head.isConstraint()){let r=!0;for(;r;)n=On(n.map(o=>o.iterateConstraints(t))),r=n.some(o=>o.head&&o.head.isConstraint())}return n}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const t=this.head.unwrapRecursive();return new Yg(null,t.concat(this.tail)).descend()}return[]}iterateConstraints(t){const n=this.head;if(n===null||!n.isConstraint())return[this];const r=[];if(t.containerType()==="primitive"&&n.constraintTargetIsSelf())return n.testConstraint(t)&&r.push(...this.descend()),r;if(t.containerType()==="array"){const o=t.length();for(let i=0;i<o;i++){const s=t.getIndex(i);s&&n.testConstraint(s)&&r.push(new Yg(new Ws({type:"index",value:i}),this.tail))}return r}return t.containerType()==="object"?n.constraintTargetIsSelf()?[]:n.testConstraint(t)?this.descend():r:r}descend(){return this.tail?this.tail.descend().map(t=>new Yg(t.head,t.tail)):[new Yg(null,null)]}toString(){const t=["<"];return this.head&&t.push(this.head.toString()),t.push("|"),this.tail&&t.push(this.tail.toString()),t.push(">"),t.join("")}}class lp{constructor(t,n){this.active=t||[],n?(this.recursives=n.recursives,this.payload=n.payload):this.recursives=[],this.extractRecursives()}setPayload(t){return this.payload=t,this}extractRecursives(){this.active=this.active.filter(t=>t.isRecursive()?(this.recursives.push(...t.extractRecursives()),!1):!0)}activeRecursives(t){return this.recursives.filter(n=>{const r=n.head;return r?r.isConstraint()||t.containerType()==="array"&&r.isIndexReference()?!0:t.containerType()==="object"?r.isAttributeReference()&&t.hasAttribute(r.name()):!1:!1})}match(t){return this.iterate(t).extractMatches(t)}iterate(t){const n=[];return this.active.concat(this.activeRecursives(t)).forEach(r=>{n.push(...r.iterate(t))}),new lp(n,this)}isDestination(){return this.active.some(t=>t.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(t){const n=[],r=[];if(this.active.forEach(o=>{if(o.hasArrived()){r.push(new Ws({type:"alias",target:"self"}));return}const i=o.head;if(i&&!(t.containerType()==="array"&&!i.isIndexReference())&&!(t.containerType()==="object"&&!i.isAttributeReference()))if(o.tail){const s=new lp(o.descend(),this);i.toFieldReferences().forEach(()=>{n.push({target:i,matcher:s})})}else r.push(i)}),this.hasRecursives()){const o=new lp([],this);if(t.containerType()==="array"){const i=t.length();for(let s=0;s<i;s++)n.push({target:Ws.indexReference(s),matcher:o})}else t.containerType()==="object"&&t.attributeKeys().forEach(i=>{n.push({target:Ws.attributeReference(i),matcher:o})})}return r.length>0?{leads:n,delivery:{targets:r,payload:this.payload}}:{leads:n}}static fromPath(t){const n=Yje(t);if(!n)throw new Error('Failed to parse path from "'.concat(t,'"'));const r=new Yg(null,new Ws(n));return new lp(r.descend())}}function kS(e){return e!==null&&typeof e=="object"}class s5{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new s5(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return kS(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return kS(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!kS(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new s5(this._value[t],this.path.concat(t)):null}get(){return this._value}}function X9t(e,t){const n=[],r=lp.fromPath(e).setPayload(function(s){n.push(...s)}),o=new s5(t);return Zje(r,o),n}function Zje(e,t){const{leads:n,delivery:r}=e.match(t);n.forEach(o=>{nJ(o.target,t).forEach(i=>{Zje(o.matcher,i)})}),r&&r.targets.forEach(o=>{typeof r.payload=="function"&&r.payload(nJ(o,t))})}function nJ(e,t){const n=[];if(e.isIndexReference())e.toIndicies(t).forEach(r=>{n.push(t.getIndex(r))});else if(e.isAttributeReference())n.push(t.getAttribute(e.name()));else if(e.isSelfReference())n.push(t);else throw new Error("Unable to derive accessor for target ".concat(e.toString()));return PT(n)}function Q9t(e,t){return X9t(e,t).map(r=>({path:r.path,value:r.get()}))}const J9t=/^[a-z_$]+/;function Xje(e){let t="";return e.forEach((n,r)=>{t+=e7t(n,r===0)}),t}function e7t(e,t){if(typeof e=="number")return"[".concat(e,"]");if(kS(e)){const n=e;return Object.keys(e).map(r=>t7t(n[r])?"[".concat(r,'=="').concat(n[r],'"]'):"").join("")}return typeof e=="string"&&J9t.test(e)?t?e:".".concat(e):"['".concat(e,"']")}function t7t(e){switch(typeof e){case"number":case"string":case"boolean":return!0;default:return!1}}class Qje{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(o.isSelfReference())r=r.set(this.value);else if(o.isIndexReference())o.toIndicies(n).forEach(i=>{r=r.setIndex(i,this.value)});else if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r=r.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}function rJ(e,t){return typeof e!="number"||!Number.isFinite(e)?e:e+t}class oJ{constructor(t,n,r){this.path=n,this.value=r,this.id=t}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get();r=r.setIndex(i,rJ(a,this.value))}continue}if(o.isAttributeReference()){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get();r=r.setAttribute(o.name(),rJ(s,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return r}}function fA(e,t){const n=[];return e.forEach(r=>{r.isIndexReference()&&n.push(...r.toIndicies(t))}),n.sort()}class n7t{constructor(t,n,r,o){this.id=t,this.location=n,this.path=r,this.items=o}apply(t,n){let r=n;if(n.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=r7t(t,n);r=r.insertItemsAt(o,this.items);break}case"after":{const o=o7t(t,n);r=r.insertItemsAt(o+1,this.items);break}case"replace":{const o=fA(t,n);r=r.unsetIndices(o),r=r.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return r}}function r7t(e,t){let n=T9t(fA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{start:o}=r.expandRange();o<n&&(n=o)}}),n}function o7t(e,t){let n=M9t(fA(e,t))||0;return e.forEach(r=>{if(r.isRange()){const{end:o}=r.expandRange();o>n&&(n=o)}}),n}class Jje{constructor(t,n,r){this.id=t,this.path=n,this.value=r}apply(t,n){let r=n;return t.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())r.containerType()==="primitive"?r=r.set({[o.name()]:this.value}):r.hasAttribute(o.name())||(r=n.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),r}}class i7t{constructor(t,n){this.id=t,this.path=n}apply(t,n){let r=n;switch(n.containerType()){case"array":r=r.unsetIndices(fA(t,n));break;case"object":t.forEach(o=>{r=r.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return r}}function iJ(e,t){if(typeof t!="string")return t;const[n]=oke(e,t,{allowExceedingIndices:!0});return n}class s7t{constructor(t,n,r){this.id=t,this.path=n,this.dmpPatch=ske(r)}apply(t,n){let r=n;if(r.containerType()==="primitive")return r;for(const o of t){if(o.isIndexReference()){for(const i of o.toIndicies(n)){const s=r.getIndex(i);if(!s)continue;const a=s.get(),c=iJ(this.dmpPatch,a);r=r.setIndex(i,c)}continue}if(o.isAttributeReference()&&r.hasAttribute(o.name())){const i=r.getAttribute(o.name());if(!i)continue;const s=i.get(),a=iJ(this.dmpPatch,s);r=r.setAttribute(o.name(),a);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return r}}function eTe(e){const t=[];if(Array.isArray(e))return e.reduce((u,d)=>u.concat(eTe(d)),t);const{set:n,setIfMissing:r,unset:o,diffMatchPatch:i,inc:s,dec:a,insert:c}=e;if(r&&Object.keys(r).forEach(u=>{t.push(new Jje(e.id,u,r[u]))}),n&&Object.keys(n).forEach(u=>{t.push(new Qje(e.id,u,n[u]))}),o&&o.forEach(u=>{t.push(new i7t(e.id,u))}),i&&Object.keys(i).forEach(u=>{t.push(new s7t(e.id,u,i[u]))}),s&&Object.keys(s).forEach(u=>{t.push(new oJ(e.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{t.push(new oJ(e.id,u,-a[u]))}),c){let u,d;const f=c;if("before"in f)u="before",d=f.before;else if("after"in f)u="after",d=f.after;else if("replace"in f)u="replace",d=f.replace;else throw new Error("Invalid insert patch");t.push(new n7t(e.id,u,d,f.items))}return t}class nc{constructor(t,n){this._value=t,this.path=n||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(t){return Array.isArray(this._value)?t>=this.length()?null:new nc(this._value[t],this.path.concat(t)):!1}hasAttribute(t){return X1(this._value)?this._value.hasOwnProperty(t):!1}attributeKeys(){return X1(this._value)?Object.keys(this._value):[]}getAttribute(t){if(!X1(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(t)?new nc(this._value[t],this.path.concat(t)):null}set(t){return t===this._value?this:new nc(t,this.path)}setIndex(t,n){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(n,this._value[t]))return this;const r=this._value.slice();return r[t]=n,new nc(r,this.path)}setIndexAccessor(t,n){return this.setIndex(t,n.get())}unsetIndices(t){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const n=this._value.length,r=[];for(let o=0;o<n;o++)t.indexOf(o)===-1&&r.push(this._value[o]);return new nc(r,this.path)}insertItemsAt(t,n){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let r;return this._value.length===0&&t===0?r=n:r=this._value.slice(0,t).concat(n).concat(this._value.slice(t)),new nc(r,this.path)}setAttribute(t,n){if(!X1(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(n,this._value[t]))return this;const r=Object.assign({},this._value,{[t]:n});return new nc(r,this.path)}setAttributeAccessor(t,n){return this.setAttribute(t,n.get())}unsetAttribute(t){if(!X1(this._value))throw new Error("Unable to unset attribute of non-object container");const n=Object.assign({},this._value);return delete n[t],new nc(n,this.path)}}function X1(e){return e!==null&&typeof e=="object"}let a7t=class{constructor(t){this.patches=eTe(t)}apply(t){const n=new nc(t);return this.applyViaAccessor(n).get()}applyViaAccessor(t){let n=t;const r=t.getAttribute("_id");if(!r)throw new Error("Cannot apply patch to document with no _id");const o=r.get();for(const i of this.patches){if(i.id!==o)continue;const s=lp.fromPath(i.path).setPayload(i);n=OM(s,n)}return n}};function OM(e,t){const n=e.payload instanceof Qje||e.payload instanceof Jje;let r=t;const{leads:o,delivery:i}=e.match(t);return o.forEach(s=>{if(s.target.isIndexReference())s.target.toIndicies().forEach(a=>{const c=r.getIndex(a);if(!c)throw new Error("Index out of bounds");r=r.setIndexAccessor(a,OM(s.matcher,c))});else if(s.target.isAttributeReference()){n&&r.containerType()==="primitive"&&(r=r.set({}));let a=r.getAttribute(s.target.name());if(!a&&n&&(r=r.setAttribute(s.target.name(),{}),a=r.getAttribute(s.target.name())),!a)return;const c=OM(s.matcher,a);a!==c&&(r=r.setAttributeAccessor(s.target.name(),c))}else throw new Error("Unable to handle target ".concat(s.target.toString()))}),i&&l7t(i.payload)&&(r=i.payload.apply(i.targets,r)),r}function l7t(e){return!!(e&&typeof e=="object"&&e!==null&&"apply"in e&&typeof e.apply=="function")}const c7t=ud,zt=N9t("mutator-document");class Cc{constructor(t){this.params=t}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=c7t(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const t=this.mutations[0];return t?this._appliesToMissingDocument=!!(t.create||t.createIfNotExists||t.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const t=[];this.mutations.forEach(o=>{if(o.create){const i=o.create||{};t.push(s=>s||Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const i=o.createIfNotExists||{};t.push(s=>s===null?Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}):s);return}if(o.createOrReplace){const i=o.createOrReplace||{};t.push(()=>Object.assign(i,{_createdAt:i._createdAt||this.params.timestamp}));return}if(o.delete){t.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const i=new a7t(o.patch);t.push(s=>i.apply(s));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&t.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const n=this.previousRev,r=this.resultRev||this.transactionId;this.compiled=o=>{if(n&&o&&n!==o._rev)throw new Error("Previous revision for this mutation was ".concat(n,", but the document revision is ").concat(o._rev));let i=o;for(const s of t)i=s(i);return i&&r&&(i===o&&(i=Object.assign({},o)),i._rev=r),i}}apply(t){zt("Applying mutation %O to document %O",this.mutations,t),this.compiled||this.compile();const n=this.compiled(t);return zt("  => %O",n),n}static applyAll(t,n){return n.reduce((r,o)=>o.apply(r),t)}static squash(t,n){const r=n.reduce((o,i)=>o.concat(...i.mutations),[]);return new Cc({mutations:r})}}let u7t=class{constructor(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(t),this.HEAD=t,this.EDGE=t}reset(t){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=t,this.EDGE=t,this.considerIncoming(),this.updateConsistencyFlag()}arrive(t){this.incoming.push(t),this.considerIncoming(),this.updateConsistencyFlag()}stage(t,n){if(!t.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,zt("Staging mutation %s (pushed to pending)",t.transactionId),this.pending.push(t),this.EDGE=t.apply(this.EDGE),this.onMutation&&!n&&this.onMutation({mutation:t,document:this.EDGE,remote:!1});const r=t.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(r),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(r),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let t=!1,n;const r=[];if(this.HEAD&&this.HEAD._updatedAt){const i=new Date(this.HEAD._updatedAt);this.incoming.find(s=>s.timestamp&&s.timestamp<i)&&(this.incoming=this.incoming.filter(s=>s.timestamp&&s.timestamp<i))}let o=0;do{if(this.HEAD){const i=this.HEAD;n=i._rev?this.incoming.find(s=>s.previousRev===i._rev):void 0}else n=this.incoming.find(i=>i.appliesToMissingDocument());if(n){const i=this.applyIncoming(n);if(t=t||i,t&&r.push(n),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(n)))}}while(n);this.incoming.length>0&&zt.enabled&&zt("Unable to apply mutations %s",this.incoming.map(i=>i.transactionId).join(", ")),t&&this.rebase(r)}updateConsistencyFlag(){const t=this.isConsistent(),n=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;n?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),t!=n&&this.onConsistencyChanged&&(zt(n?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(n))}applyIncoming(t){if(!t)return!1;if(!t.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(zt("Applying mutation %s -> %s to rev %s",t.previousRev,t.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=t.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(t),this.incoming=this.incoming.filter(n=>n.transactionId!==t.transactionId),this.hasUnresolvedMutations()){const n=this.consumeUnresolved(t.transactionId);return zt.enabled&&(zt("Incoming mutation ".concat(t.transactionId," appeared while there were pending or submitted local mutations")),zt("Submitted txnIds: ".concat(this.submitted.map(r=>r.transactionId).join(", "))),zt("Pending txnIds: ".concat(this.pending.map(r=>r.transactionId).join(", "))),zt("needRebase === %s",n)),n}return zt("Remote mutation %s arrived w/o any pending or submitted local mutations",t.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:t,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(t){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===t)return zt("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",t),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===t)return zt("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",t),this.pending.shift(),!1;return zt("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(n=>n.transactionId!==t),this.pending=this.pending.filter(n=>n.transactionId!==t),zt("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(t){if(this.pending.length===0)return;const n=this.pending[0];if(n.transactionId===t){this.pending.shift(),this.submitted.push(n);return}let r;const o=[];this.pending.forEach(i=>{if(i.transactionId===t){r=i;return}o.push(i)}),r&&this.submitted.push(r),this.pending=o,this.rebase([])}pendingFailed(t){this.pending=this.pending.filter(n=>n.transactionId!==t),this.rebase([])}rebase(t){const n=this.EDGE;this.EDGE=Cc.applyAll(this.HEAD,this.submitted.concat(this.pending)),n!==null&&this.EDGE!==null&&(n._rev=this.EDGE._rev),!Ut(this.EDGE,n)&&this.onRebase&&this.onRebase(this.EDGE,t,this.pending)}};class H_{constructor(t){this.out=[],t?zt("Reset mutation buffer to rev %s",t._rev):zt("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=t,this.PRESTAGE=t}add(t){t.mutations.forEach(n=>this.addOperation(n))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(t){this.stashStagedOperations();let n=null;return this.out.length>0&&(zt("Purged mutation buffer"),n=new Cc({mutations:this.out,resultRev:t,transactionId:t})),this.out=[],this.documentPresent=!1,n}addOperation(t){var n;if(t.patch&&t.patch.set&&"id"in t.patch&&t.patch.id===((n=this.PRESTAGE)==null?void 0:n._id)&&Object.keys(t.patch).length===2){const r=t.patch.set,o={};for(const i of Object.keys(r))r.hasOwnProperty(i)&&(this.optimiseSetOperation(i,r[i])||(o[i]=r[i]));Object.keys(o).length>0&&(zt("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(t.createIfNotExists&&this.PRESTAGE&&t.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(t),this.documentPresent=!0,this.stashStagedOperations());return}zt("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(t),this.stashStagedOperations()}optimiseSetOperation(t,n){if(typeof n=="object")return!1;const r=Q9t(t,this.PRESTAGE);if(r.length!==1)return!1;const o=r[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let i=null;if(o.value===n)i=null;else if(typeof o.value=="string"&&typeof n=="string")try{const a=ike(rke(o.value,n));i={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[t]:a}}}}catch{return!1}else i={patch:{id:this.PRESTAGE._id,set:{[t]:n}}};const s=Xje(o.path);return i?this.setOperations[s]=i:delete this.setOperations[s],!0}stashStagedOperations(){const t=[];Object.keys(this.setOperations).forEach(n=>{const r=this.setOperations[n];r&&t.push(r)}),t.push(...this.staged),t.length>0&&(this.PRESTAGE=new Cc({mutations:t}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...t)}rebase(t){return this.stashStagedOperations(),t===null?(this.out=[],this.BASIS=t,this.PRESTAGE=t,this.documentPresent=!1):(this.BASIS=t,this.out?this.PRESTAGE=new Cc({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const d7t=1e3*60;class f7t{constructor(t,n){let{resolve:r,reject:o}=n;this.mutations=t,this.tries=0,this.resolve=r,this.reject=o}apply(t){return Cc.applyAll(t,this.mutations)}squash(t){const n=Cc.squash(t,this.mutations);return n.assignRandomTransactionId(),n}}const sJ=(e,t)=>e.concat(t.mutations);class h7t{constructor(t){this.committerRunning=!1,this.buffer=new H_(t),this.document=new u7t(t),this.document.onMutation=n=>this.handleDocMutation(n),this.document.onRemoteMutation=n=>this.onRemoteMutation&&this.onRemoteMutation(n),this.document.onRebase=(n,r,o)=>this.handleDocRebase(n,r,o),this.document.onConsistencyChanged=n=>this.handleDocConsistencyChanged(n),this.LOCAL=t,this.mutations=[],this.commits=[]}reset(t){t?zt("Document state reset to revision %s",t._rev):zt("Document state reset to being deleted"),this.document.reset(t),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(t){this.onConsistencyChanged&&this.onConsistencyChanged(!1),zt("Staged local mutation"),this.buffer.add(t);const n=this.LOCAL;this.LOCAL=t.apply(this.LOCAL),this.onMutation&&n!==this.LOCAL&&(zt("onMutation fired"),this.onMutation({mutation:t,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(t){if(zt("Remote mutation arrived %s -> %s",t.previousRev,t.resultRev),t.previousRev===t.resultRev)throw new Error("Mutation ".concat(t.transactionId," has previousRev === resultRev (").concat(t.previousRev,")"));return this.document.arrive(t)}commit(){return new Promise((t,n)=>{if(!this.buffer.hasChanges()){t();return}zt("Committing local changes");const r=this.buffer.purge();this.commits.push(new f7t(r?[r]:[],{resolve:t,reject:n})),this.buffer=new H_(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const t=this.commits.shift();if(!t){this.committerRunning=!1;return}this.committerRunning=!0;const n=t.squash(this.LOCAL),r=this.document.stage(n,!0),o={success:()=>{zt("Commit succeeded"),r.success(),t.resolve(),this._cycleCommitter()},failure:()=>{zt("Commit failed"),t.tries+=1,this.LOCAL!==null&&this.commits.unshift(t),r.failure(),t.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(t.tries*1e3,d7t))},cancel:i=>{this.commits.forEach(s=>s.reject(i)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new H_(this.LOCAL),this.committerRunning=!1}};zt("Posting commit"),this.commitHandler&&this.commitHandler({mutation:n,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(t,n,r){this.rebase(n,r)}handleDocumentDeleted(){zt("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(t){if(this.commits.length===0&&!this.buffer.hasChanges()){zt("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new H_(this.LOCAL),this.onMutation&&this.onMutation(t);return}zt("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([t.mutation],[])}rebase(t,n){zt("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const r=this.LOCAL;this.LOCAL=this.commits.reduce((i,s)=>s.apply(i),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),r!==null&&this.LOCAL!==null&&(r._rev=this.LOCAL._rev),!Ut(this.LOCAL,r)&&this.onRebase&&this.onRebase(this.LOCAL,t.reduce(sJ,[]),n.reduce(sJ,[]))}handleDocConsistencyChanged(t){if(!this.onConsistencyChanged)return;const n=this.commits.length>0||this.buffer.hasChanges();t&&!n&&this.onConsistencyChanged(!0),t||this.onConsistencyChanged(!1)}}var tTe={};(function(e){(function(){(e!==null?e:this).ExifReader=function(){t.prototype._MIN_DATA_BUFFER_LENGTH=2,t.prototype._JPEG_ID_SIZE=2,t.prototype._JPEG_ID=65496,t.prototype._APP_MARKER_SIZE=2,t.prototype._APP0_MARKER=65504,t.prototype._APP1_MARKER=65505,t.prototype._APP15_MARKER=65519,t.prototype._APP_ID_OFFSET=4,t.prototype._BYTES_Exif=1165519206,t.prototype._TIFF_HEADER_OFFSET=10,t.prototype._BYTE_ORDER_BIG_ENDIAN=18761,t.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function t(){var n=this;this._getTagValueAt={1:function(r){return n._getByteAt(r)},2:function(r){return n._getAsciiAt(r)},3:function(r){return n._getShortAt(r)},4:function(r){return n._getLongAt(r)},5:function(r){return n._getRationalAt(r)},7:function(r){return n._getUndefinedAt(r)},9:function(r){return n._getSlongAt(r)},10:function(r){return n._getSrationalAt(r)}},this._tiffHeaderOffset=0}return t.prototype.load=function(n){return this.loadView(new DataView(n))},t.prototype.loadView=function(n){return this._dataView=n,this._tags={},this._checkImageHeader(),this._readTags()},t.prototype._checkImageHeader=function(){var n;if(n=this._dataView,n.byteLength<this._MIN_DATA_BUFFER_LENGTH||n.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(n),!this._hasExifData())throw new Error("No Exif data")},t.prototype._parseAppMarkers=function(n){var r,o,i;for(r=this._JPEG_ID_SIZE,i=[];!(n.byteLength<r+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=r+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(n,r))o=n.getUint16(r+this._APP_MARKER_SIZE,!1);else break;i.push(r+=this._APP_MARKER_SIZE+o)}return i},t.prototype._isApp1ExifMarker=function(n,r){return n.getUint16(r,!1)===this._APP1_MARKER&&n.getUint32(r+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&n.getUint8(r+this._APP_ID_OFFSET+4,!1)===0},t.prototype._isAppMarker=function(n,r){var o;return o=n.getUint16(r,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},t.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},t.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},t.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},t.prototype._read0thIfd=function(){var n;return n=this._getIfdOffset(),this._readIfd("0th",n)},t.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},t.prototype._readExifIfd=function(){var n;if(this._tags["Exif IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",n)},t.prototype._readGpsIfd=function(){var n;if(this._tags["GPS Info IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",n)},t.prototype._readInteroperabilityIfd=function(){var n;if(this._tags["Interoperability IFD Pointer"]!=null)return n=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",n)},t.prototype._readIfd=function(n,r){var o,i,s,a;for(o=this._getShortAt(r),r+=2,a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)i=this._readTag(n,r),this._tags[i.name]={value:i.value,description:i.description},a.push(r+=12);return a},t.prototype._readTag=function(n,r){var o,i,s,a,c,u,d;return o=this._getShortAt(r),c=this._getShortAt(r+2),i=this._getLongAt(r+4),this._typeSizes[c]*i<=4?u=this._getTagValue(r+8,c,i):(d=this._getLongAt(r+8),u=this._getTagValue(this._tiffHeaderOffset+d,c,i)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[n][o]!=null?(this._tagNames[n][o].name!=null&&this._tagNames[n][o].description!=null?(a=this._tagNames[n][o].name,s=this._tagNames[n][o].description(u)):(a=this._tagNames[n][o],u instanceof Array?s=u.join(", "):s=u),{name:a,value:u,description:s}):{name:"undefined-"+o,value:u,description:u}},t.prototype._getTagValue=function(n,r,o){var i,s;return s=(function(){var a,c;for(c=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)i=this._getTagValueAt[r](n),n+=this._typeSizes[r],c.push(i);return c}).call(this),s.length===1?s=s[0]:r===this._tagTypes.ASCII&&(s=this._getAsciiValue(s)),s},t.prototype._getAsciiValue=function(n){var r;return function(){var o,i,s;for(s=[],o=0,i=n.length;o<i;o++)r=n[o],s.push(String.fromCharCode(r));return s}()},t.prototype._getByteAt=function(n){return this._dataView.getUint8(n)},t.prototype._getAsciiAt=function(n){return this._dataView.getUint8(n)},t.prototype._getShortAt=function(n){return this._dataView.getUint16(n,this._littleEndian)},t.prototype._getLongAt=function(n){return this._dataView.getUint32(n,this._littleEndian)},t.prototype._getRationalAt=function(n){return this._getLongAt(n)/this._getLongAt(n+4)},t.prototype._getUndefinedAt=function(n){return this._getByteAt(n)},t.prototype._getSlongAt=function(n){return this._dataView.getInt32(n,this._littleEndian)},t.prototype._getSrationalAt=function(n){return this._getSlongAt(n)/this._getSlongAt(n+4)},t.prototype._splitNullSeparatedAsciiString=function(n){var r,o,i,s,a;for(i=[],o=0,s=0,a=n.length;s<a;s++){if(r=n[s],r==="\0"){o++;continue}i[o]==null&&(i[o]=""),i[o]+=r}return i},t.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},t.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},t.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(n){switch(n){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(n){switch(n){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+n}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(n){return n.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(n){switch(n){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(n){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)switch(r=n[i],r){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(n){switch(n){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(n){switch(n){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(n){switch(n){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(n){switch(n.length){case 2:return"Location; X: "+n[0]+", Y: "+n[1];case 3:return"Circle; X: "+n[0]+", Y: "+n[1]+", diameter: "+n[2];case 4:return"Rectangle; X: "+n[0]+", Y: "+n[1]+", width: "+n[2]+", height: "+n[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(n){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(n){var r,o,i,s;for(o="",i=0,s=n.length;i<s;i++)r=n[i],o+=String.fromCharCode(r);return o}},40961:{name:"ColorSpace",description:function(n){switch(n){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(n){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(n){switch(n){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(n){return"X: "+n[0]+", Y: "+n[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(n){switch(n){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(n){switch(n){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(n){switch(n){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(n){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(n){switch(n){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(n){switch(n){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(n){switch(n){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(n){switch(n){case 0:return"Digital zoom was not used";default:return n}}},41989:{name:"FocalLengthIn35mmFilm",description:function(n){switch(n){case 0:return"Unknown";default:return n}}},41990:{name:"SceneCaptureType",description:function(n){switch(n){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(n){switch(n){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(n){switch(n){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(n){switch(n){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(n){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(n){switch(n){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(n){var r,o;return n[0]===(r=n[1])&&r===2&&n[2]===(o=n[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},3:{name:"GPSLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},5:{name:"GPSAltitudeRef",description:function(n){switch(n){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(n){return n+" m"}},7:{name:"GPSTimeStamp",description:function(n){var r;return r=function(o){return function(){var i,s,a;for(a=[],i=0,s=2-(""+Math.floor(o)).length;0<=s?i<s:i>s;0<=s?++i:--i)a.push("0");return a}()+o},n.map(r).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(n){switch(n.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(n){switch(n.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(n){switch(n.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(n){switch(n.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(n){switch(n.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(n){return n[0]+n[1]/60+n[2]/3600}},23:{name:"GPSDestBearingRef",description:function(n){switch(n.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(n){switch(n.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(n){switch(n.slice(0,8).map(function(r){return String.fromCharCode(r)}).join("")){case"ASCII\0\0\0":return n.slice(8,n.length).map(function(r){return String.fromCharCode(r)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(n){switch(n){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},t.prototype.getTagValue=function(n){if(this._tags[n]!=null)return this._tags[n].value},t.prototype.getTagDescription=function(n){if(this._tags[n]!=null)return this._tags[n].description},t.prototype.getAllTags=function(){return this._tags},t}()}).call(ws)})(tTe);var p7t=tTe.ExifReader,m7t=function(e){var t=new p7t;t.load(e);var n=t.getAllTags(),r={};for(var o in n)r[g7t(o)]=n[o].description;return r};function g7t(e){return e.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(t){return t.length==1?t.toLowerCase():t[0]==t[0].toUpperCase()?" "+t.toLowerCase():t[0]+" "+t[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const v7t=Ie(m7t);var y7t=nh,b7t=eh,x7t=th;function w7t(e){return function(t,n,r){var o=Object(t);if(!b7t(t)){var i=y7t(n);t=x7t(t),n=function(a){return i(o[a],a,o)}}var s=e(t,n,r);return s>-1?o[i?t[s]:s]:void 0}}var C7t=w7t,_7t=C7t,S7t=M5e,E7t=_7t(S7t),k7t=E7t;const nTe=Ie(k7t);var j7t=Math.ceil,T7t=Math.max;function A7t(e,t,n,r){for(var o=-1,i=T7t(j7t((t-e)/(n||1)),0),s=Array(i);i--;)s[r?i:++o]=e,e+=n;return s}var D7t=A7t,I7t=D7t,O7t=g8,aO=$5e;function P7t(e){return function(t,n,r){return r&&typeof r!="number"&&O7t(t,n,r)&&(n=r=void 0),t=aO(t),n===void 0?(n=t,t=0):n=aO(n),r=r===void 0?t<n?1:-1:aO(r),I7t(t,n,r,e)}}var R7t=P7t,$7t=R7t,M7t=$7t(),F7t=M7t;const E7=Ie(F7t);var rTe={exports:{}};(function(e){(function(t){var n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},r=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},i={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},s={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},a=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),d=function(g,b){var x="-",y="",w="",C=!0,_={},S,E,j,k,T,A,D,I,O,$,R,z,B,U,W="";if(typeof g!="string")return"";if(typeof b=="string"&&(x=b),D=s.en,I=i.en,typeof b=="object"){S=b.maintainCase||!1,_=b.custom&&typeof b.custom=="object"?b.custom:_,j=+b.truncate>1&&b.truncate||!1,k=b.uric||!1,T=b.uricNoSlash||!1,A=b.mark||!1,C=!(b.symbols===!1||b.lang===!1),x=b.separator||x,k&&(W+=a),T&&(W+=c),A&&(W+=u),D=b.lang&&s[b.lang]&&C?s[b.lang]:C?s.en:{},I=b.lang&&i[b.lang]?i[b.lang]:b.lang===!1||b.lang===!0?{}:i.en,b.titleCase&&typeof b.titleCase.length=="number"&&Array.prototype.toString.call(b.titleCase)?(b.titleCase.forEach(function(V){_[V+""]=V+""}),E=!0):E=!!b.titleCase,b.custom&&typeof b.custom.length=="number"&&Array.prototype.toString.call(b.custom)&&b.custom.forEach(function(V){_[V+""]=V+""}),Object.keys(_).forEach(function(V){var K;V.length>1?K=new RegExp("\\b"+p(V)+"\\b","gi"):K=new RegExp(p(V),"gi"),g=g.replace(K,_[V])});for(R in _)W+=R}for(W+=x,W=p(W),g=g.replace(/(^\s+|\s+$)/g,""),B=!1,U=!1,$=0,z=g.length;$<z;$++)R=g[$],m(R,_)?B=!1:I[R]?(R=B&&I[R].match(/[A-Za-z0-9]/)?" "+I[R]:I[R],B=!1):R in n?($+1<z&&r.indexOf(g[$+1])>=0?(w+=R,R=""):U===!0?(R=o[w]+n[R],w=""):R=B&&n[R].match(/[A-Za-z0-9]/)?" "+n[R]:n[R],B=!1,U=!1):R in o?(w+=R,R="",$===z-1&&(R=o[w]),U=!0):D[R]&&!(k&&a.indexOf(R)!==-1)&&!(T&&c.indexOf(R)!==-1)?(R=B||y.substr(-1).match(/[A-Za-z0-9]/)?x+D[R]:D[R],R+=g[$+1]!==void 0&&g[$+1].match(/[A-Za-z0-9]/)?x:"",B=!0):(U===!0?(R=o[w]+R,w="",U=!1):B&&(/[A-Za-z0-9]/.test(R)||y.substr(-1).match(/A-Za-z0-9]/))&&(R=" "+R),B=!1),y+=R.replace(new RegExp("[^\\w\\s"+W+"_-]","g"),x);return E&&(y=y.replace(/(\w)(\S*)/g,function(V,K,te){var N=K.toUpperCase()+(te!==null?te:"");return Object.keys(_).indexOf(N.toLowerCase())<0?N:N.toLowerCase()})),y=y.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),j&&y.length>j&&(O=y.charAt(j)===x,y=y.slice(0,j),O||(y=y.slice(0,y.lastIndexOf(x)))),!S&&!E&&(y=y.toLowerCase()),y},f=function(g){return function(x){return d(x,g)}},p=function(g){return g.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},m=function(v,g){for(var b in g)if(g[b]===v)return!0};if(e.exports)e.exports=d,e.exports.createSlug=f;else try{if(t.getSlug||t.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";t.getSlug=d,t.createSlug=f}catch{}})(ws)})(rTe);var L7t=rTe.exports,B7t=L7t;const oTe=Ie(B7t);var N7t=B0,z7t=g8;function V7t(e){return N7t(function(t,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i=e.length>3&&typeof i=="function"?(o--,i):void 0,s&&z7t(n[0],n[1],s)&&(i=o<3?void 0:i,o=1),t=Object(t);++r<o;){var a=n[r];a&&e(t,a,r,i)}return t})}var H7t=V7t,U7t=z0,W7t=H7t,q7t=th,Y7t=W7t(function(e,t,n,r){U7t(t,q7t(t),e,r)}),G7t=Y7t;const K7t=Ie(G7t);var Z7t=$c;function X7t(e,t){return Z7t(t,function(n){return e[n]})}var Q7t=X7t,J7t=Q7t,eBt=th;function tBt(e){return e==null?[]:J7t(e,eBt(e))}var iTe=tBt;const nBt=Ie(iTe);var em={};Object.defineProperty(em,"__esModule",{value:!0});em.SKIP=aTe;var sTe=em.reduce=lTe;em.withCustomPathSegment=em.SKIP_MARKER=void 0;function k7(e,t){return iBt(e)||oBt(e,t)||rBt()}function rBt(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function oBt(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(c){o=!0,i=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function iBt(e){if(Array.isArray(e))return e}function jS(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?jS=function(n){return typeof n}:jS=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},jS(e)}function hA(e,t,n){return t}function sBt(e){return Array.isArray(e)?"array":e===null?"null":jS(e)}var j7={_:"SKIP_MARKER"};em.SKIP_MARKER=j7;function aTe(e){return[j7,e]}function T7(e,t,n,r){var o=t(e,n,r);return o===aTe?[!0,e]:Array.isArray(o)&&o[0]===j7?[!0,o[1]]:[!1,o]}function aBt(e,t,n,r){var o=T7(e,t,n,r),i=k7(o,2),s=i[1];return s}function lBt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:hA,i=T7(e,t,n,r),s=k7(i,2),a=s[0],c=s[1];return a?c:Object.keys(n).reduce(function(u,d){return A7(u,t,n[d],r.concat(o(n[d],d,n)),o)},c)}function cBt(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:hA,i=T7(e,t,n,r),s=k7(i,2),a=s[0],c=s[1];return a?c:n.reduce(function(u,d,f){return A7(u,t,d,r.concat(o(d,f,n)),o)},c)}function A7(e,t,n,r){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:hA,i=sBt(n);return i==="object"?lBt(e,t,n,r,o):i==="array"?cBt(e,t,n,r,o):aBt(e,t,n,r)}function lTe(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hA;return A7(n,t,e,[],r)}var uBt=function(t){return function(n,r,o){return lTe(n,r,o,t)}};em.withCustomPathSegment=uBt;function D7(e){return t=>go(()=>{const n=new Er;return t.pipe(UCe(()=>n,{leading:!0,trailing:!0}),BCe((r,o)=>ACe(e(r,o),Dl).pipe(NCe(()=>{n.next()}))))})}var dBt=Object.defineProperty,fBt=(e,t,n)=>t in e?dBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,aJ=(e,t,n)=>(fBt(e,typeof t!="symbol"?t+"":t,n),n);function hBt(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function pBt(e){const t=[];for(const n of e.split("."))n==="*"?t.push("[^.]+"):n==="**"?t.push(".*"):t.push(hBt(n));return new RegExp("^".concat(t.join("."),"$"))}class cTe{constructor(t){aJ(this,"pattern"),aJ(this,"patternRe"),this.pattern=t,this.patternRe=pBt(t)}matches(t){return this.patternRe.test(t)}toJSON(){return this.pattern}}var mBt=Object.defineProperty,gBt=(e,t,n)=>t in e?mBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Q1=(e,t,n)=>(gBt(e,typeof t!="symbol"?t+"":t,n),n);class Jd{constructor(t){Q1(this,"type","stream"),Q1(this,"generator"),Q1(this,"ticker"),Q1(this,"isDone"),Q1(this,"data"),this.generator=t,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const t=[];for await(const n of this)t.push(await n.get());return t}async*[Symbol.asyncIterator](){let t=0;for(;;){for(;t<this.data.length;t++)yield this.data[t];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let t;const n=()=>{this.ticker=new Promise(i=>{t=i})},r=()=>{t(),n()},o=async()=>{for await(const i of this.generator())this.data.push(i),r();this.isDone=!0,r()};return n(),o(),this.ticker}}const vBt=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function yBt(e){return vBt.test(e)?new Date(e):null}function bBt(e){const t=Sh(e.getUTCFullYear(),4),n=Sh(e.getUTCMonth()+1,2),r=Sh(e.getUTCDate(),2),o=Sh(e.getUTCHours(),2),i=Sh(e.getUTCMinutes(),2),s=Sh(e.getUTCSeconds(),2);let a="";const c=e.getMilliseconds();return c!=0&&(a=".".concat(Sh(c,3))),"".concat(t,"-").concat(n,"-").concat(r,"T").concat(o,":").concat(i,":").concat(s).concat(a,"Z")}function Sh(e,t){let n=e.toString();for(;n.length<t;)n="0".concat(n);return n}var xBt=Object.defineProperty,wBt=(e,t,n)=>t in e?xBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,PM=(e,t,n)=>(wBt(e,typeof t!="symbol"?t+"":t,n),n);class md{constructor(t,n){PM(this,"data"),PM(this,"type"),this.data=t,this.type=n}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(t){for(const n of t)yield sr(n)}(this.data);throw new Error("Cannot iterate over: ".concat(this.type))}}const Pe=new md(null,"null"),$o=new md(!0,"boolean"),lo=new md(!1,"boolean");class r0{constructor(t){PM(this,"date"),this.date=t}static parseToValue(t){const n=yBt(t);return n?new md(new r0(n),"datetime"):Pe}equals(t){return this.date.getTime()==t.date.getTime()}add(t){const n=new Date(this.date.getTime());return n.setTime(n.getTime()+t*1e3),new r0(n)}difference(t){return(this.date.getTime()-t.date.getTime())/1e3}compareTo(t){return this.date.getTime()-t.date.getTime()}toString(){return bBt(this.date)}toJSON(){return this.toString()}}function za(e){return Number.isFinite(e)?new md(e,"number"):Pe}function Va(e){return new md(e,"string")}function RM(e){return new md(e,"datetime")}function CBt(e){return new md(e,"path")}function _Bt(e){return e&&typeof e.next=="function"}function sr(e){return _Bt(e)?new Jd(async function*(){for await(const t of e)yield sr(t)}):e==null?Pe:new md(e,o0(e))}function o0(e){return e===null||typeof e>"u"?"null":Array.isArray(e)?"array":e instanceof cTe?"path":e instanceof r0?"datetime":typeof e}function lO(e,t){return e.type==="string"&&t.type==="string"||e.type==="boolean"&&t.type==="boolean"||e.type==="null"&&t.type==="null"||e.type==="number"&&t.type==="number"?e.data===t.data:e.type==="datetime"&&t.type==="datetime"?e.data.equals(t.data):!1}const SBt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,EBt=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,uTe=/(\b\.+|\.+\b)/g,kBt=1024;function jBt(e,t){return e.length===0||t.length===0?!1:t.every(n=>n(e))}function dTe(e){return e.replace(uTe,"").match(SBt)||[]}function TBt(e){return fTe(e).map(n=>r=>r.some(o=>n.test(o)))}function fTe(e){return(e.replace(uTe,"").match(EBt)||[]).map(n=>new RegExp("^".concat(n.slice(0,kBt).replace(/\*/g,".*"),"$"),"i"))}async function a5(e,t){if(e.type==="string")return t(e.data),!0;if(e.isArray()){let n=!0;for await(const r of e)r.type==="string"?t(r.data):n=!1;return n}return!1}const lJ={datetime:1,number:2,string:3,boolean:4};function cp(e,t){const n=o0(e),r=o0(t);if(n!==r)return null;switch(n){case"number":case"boolean":return e-t;case"string":return e<t?-1:e>t?1:0;case"datetime":return e.compareTo(t);default:return null}}function ABt(e,t){const n=o0(e),r=o0(t),o=lJ[n]||100,i=lJ[r]||100;if(o!==i)return o-i;let s=cp(e,t);return s===null&&(s=0),s}const DBt={"==":function(t,n){return lO(t,n)?$o:lo},"!=":function(t,n){return lO(t,n)?lo:$o},">":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=cp(t.data,n.data);return r===null?Pe:r>0?$o:lo},">=":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=cp(t.data,n.data);return r===null?Pe:r>=0?$o:lo},"<":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=cp(t.data,n.data);return r===null?Pe:r<0?$o:lo},"<=":function(t,n){if(t.type==="stream"||n.type==="stream")return Pe;const r=cp(t.data,n.data);return r===null?Pe:r<=0?$o:lo},in:async function(t,n){if(n.type==="path")return t.type!=="string"?Pe:n.data.matches(t.data)?$o:lo;if(n.isArray()){for await(const r of n)if(lO(t,r))return $o;return lo}return Pe},match:async function(t,n){let r=[],o=[];return await a5(t,a=>{r=r.concat(dTe(a))}),await a5(n,a=>{o=o.concat(TBt(a))})&&jBt(r,o)?$o:lo},"+":function(t,n){return t.type==="datetime"&&n.type==="number"?RM(t.data.add(n.data)):t.type==="number"&&n.type==="number"?za(t.data+n.data):t.type==="string"&&n.type==="string"?Va(t.data+n.data):t.type==="object"&&n.type==="object"?sr({...t.data,...n.data}):t.type==="array"&&n.type==="array"?sr(t.data.concat(n.data)):t.isArray()&&n.isArray()?new Jd(async function*(){for await(const r of t)yield r;for await(const r of n)yield r}):Pe},"-":function(t,n){return t.type==="datetime"&&n.type==="number"?RM(t.data.add(-n.data)):t.type==="datetime"&&n.type==="datetime"?za(t.data.difference(n.data)):t.type==="number"&&n.type==="number"?za(t.data-n.data):Pe},"*":U_((e,t)=>e*t),"/":U_((e,t)=>e/t),"%":U_((e,t)=>e%t),"**":U_((e,t)=>Math.pow(e,t))};function U_(e){return function(t,n){if(t.type==="number"&&n.type==="number"){const r=e(t.data,n.data);return za(r)}return Pe}}var IBt=Object.defineProperty,OBt=(e,t,n)=>t in e?IBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,eg=(e,t,n)=>(OBt(e,typeof t!="symbol"?t+"":t,n),n);class Ix{constructor(t,n,r,o,i){eg(this,"params"),eg(this,"source"),eg(this,"value"),eg(this,"parent"),eg(this,"context"),eg(this,"isHidden",!1),this.params=t,this.source=n,this.value=r,this.context=o,this.parent=i}createNested(t){return this.isHidden?new Ix(this.params,this.source,t,this.context,this.parent):new Ix(this.params,this.source,t,this.context,this)}createHidden(t){const n=this.createNested(t);return n.isHidden=!0,n}}function I7(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:I7;const r=PBt[e.type];return r(e,t,n)}function cJ(e,t){return"then"in e?e.then(t):t(e)}const PBt={This(e,t){return t.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(e,t){return t.source},Parameter(e,t){let{name:n}=e;return sr(t.params[n])},Context(e,t){let{key:n}=e;if(n==="before"||n==="after")return t.context[n]||Pe;throw new Error("unknown context key: ".concat(n))},Parent(e,t){let{n}=e,r=t;for(let o=0;o<n;o++){if(!r.parent)return Pe;r=r.parent}return r.value},OpCall(e,t,n){let{op:r,left:o,right:i}=e;const s=DBt[r];if(!s)throw new Error("Unknown operator: ".concat(r));const a=n(o,t),c=n(i,t);return"then"in a||"then"in c?(async()=>s(await a,await c))():s(a,c)},async Select(e,t,n){let{alternatives:r,fallback:o}=e;for(const i of r){const s=await n(i.condition,t);if(s.type==="boolean"&&s.data===!0)return n(i.value,t)}return o?n(o,t):Pe},async InRange(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t),c=await n(o,t),u=await n(i,t),d=cp(await a.get(),await c.get());if(d===null)return Pe;const f=cp(await a.get(),await u.get());return f===null?Pe:s?d>=0&&f<=0?$o:lo:d>=0&&f<0?$o:lo},async Filter(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Jd(async function*(){for await(const s of i){const a=t.createNested(s),c=await n(o,a);c.type==="boolean"&&c.data===!0&&(yield s)}}):Pe},async Projection(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);if(i.type!=="object")return Pe;const s=t.createNested(i);return n(o,s)},FuncCall(e,t,n){let{func:r,args:o}=e;return r(o,t,n)},async PipeFuncCall(e,t,n){let{func:r,base:o,args:i}=e;const s=await n(o,t);return r(s,i,t,n)},async AccessAttribute(e,t,n){let{base:r,name:o}=e,i=t.value;return r&&(i=await n(r,t)),i.type==="object"&&i.data.hasOwnProperty(o)?sr(i.data[o]):Pe},async AccessElement(e,t,n){let{base:r,index:o}=e;const i=await n(r,t);if(!i.isArray())return Pe;const s=await i.get(),a=o<0?o+s.length:o;return sr(s[a])},async Slice(e,t,n){let{base:r,left:o,right:i,isInclusive:s}=e;const a=await n(r,t);if(!a.isArray())return Pe;const c=await a.get();let u=o,d=i;return u<0&&(u=c.length+u),d<0&&(d=c.length+d),s&&d++,u<0&&(u=0),d<0&&(d=0),sr(c.slice(u,d))},async Deref(e,t,n){let{base:r}=e;const o=await n(r,t);if(!t.source.isArray()||o.type!=="object")return Pe;const i=o.data._ref;if(typeof i!="string")return Pe;if(t.context.dereference)return sr(await t.context.dereference({_ref:i}));for await(const s of t.source)if(s.type==="object"&&i===s.data._id)return s;return Pe},Value(e){let{value:t}=e;return sr(t)},Group(e,t,n){let{base:r}=e;return n(r,t)},async Object(e,t,n){let{attributes:r}=e;const o={};for(const i of r){const s=i.type;switch(i.type){case"ObjectAttributeValue":{const a=await n(i.value,t);o[i.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await n(i.condition,t);if(a.type!=="boolean"||a.data===!1)continue;const c=await n(i.value,t);c.type==="object"&&Object.assign(o,c.data);break}case"ObjectSplat":{const a=await n(i.value,t);a.type==="object"&&Object.assign(o,a.data);break}default:throw new Error("Unknown node type: ".concat(s))}}return sr(o)},Array(e,t,n){let{elements:r}=e;return new Jd(async function*(){for(const o of r){const i=await n(o.value,t);if(o.isSplat){if(i.isArray())for await(const s of i)yield s}else yield i}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!0||s.type==="boolean"&&s.data===!0?$o:i.type!=="boolean"||s.type!=="boolean"?Pe:lo},async And(e,t,n){let{left:r,right:o}=e;const i=await n(r,t),s=await n(o,t);return i.type==="boolean"&&i.data===!1||s.type==="boolean"&&s.data===!1?lo:i.type!=="boolean"||s.type!=="boolean"?Pe:$o},async Not(e,t,n){let{base:r}=e;const o=await n(r,t);return o.type!=="boolean"?Pe:o.data?lo:$o},Neg(e,t,n){let{base:r}=e;return cJ(n(r,t),o=>o.type!=="number"?Pe:za(-o.data))},Pos(e,t,n){let{base:r}=e;return cJ(n(r,t),o=>o.type!=="number"?Pe:za(o.data))},Asc(){return Pe},Desc(){return Pe},async ArrayCoerce(e,t,n){let{base:r}=e;const o=await n(r,t);return o.isArray()?o:Pe},async Map(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Jd(async function*(){for await(const s of i){const a=t.createHidden(s);yield await n(o,a)}}):Pe},async FlatMap(e,t,n){let{base:r,expr:o}=e;const i=await n(r,t);return i.isArray()?new Jd(async function*(){for await(const s of i){const a=t.createHidden(s),c=await n(o,a);if(c.isArray())for await(const u of c)yield u;else yield c}}):Pe}};function hTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=sr(t.root),r=sr(t.dataset),o={...t.params},i=new Ix(o,r,n,{timestamp:t.timestamp||new Date,identity:t.identity===void 0?"me":t.identity,sanity:t.sanity,after:t.after?sr(t.after):null,before:t.before?sr(t.before):null,dereference:t.dereference},null);return I7(e,i)}function Py(e){switch(e.type){case"Group":return Py(e.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return Py(e.base);case"OpCall":switch(e.op){case"+":case"-":case"*":case"/":case"%":case"**":return Py(e.left)&&Py(e.right);default:return!1}default:return!1}}const RBt=new Ix({},Pe,Pe,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function cO(e){return Py(e)?pTe(e):null}function pTe(e){const t=I7(e,RBt,pTe);if("then"in t)throw new Error("BUG: constant evaluate should never return a promise");return t}async function $Bt(e){if(e.type==="object")return gTe(e.data);if(e.isArray()){const t=await mTe(e);if(t.length>0)return t.join(`

`)}return null}async function mTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];for await(const n of e)if(n.type==="object"){const r=gTe(n.data);r!==null&&t.push(r)}else n.isArray()&&await mTe(n,t);return t}function gTe(e){if(typeof e._type!="string")return null;const t=e.children;if(!Array.isArray(t))return null;let n="";for(const r of t)r&&typeof r=="object"&&typeof r._type=="string"&&r._type==="span"&&typeof r.text=="string"&&(n+=r.text);return n}const uJ=1.2;async function yg(e,t,n){if(e.type==="OpCall"&&e.op==="match")return MBt(e.left,e.right,t,n);if(e.type==="FuncCall"&&e.name==="boost"){const r=await yg(e.args[0],t,n),o=await n(e.args[1],t);return o.type==="number"&&r>0?r+o.data:0}switch(e.type){case"Or":{const r=await yg(e.left,t,n),o=await yg(e.right,t,n);return r+o}case"And":{const r=await yg(e.left,t,n),o=await yg(e.right,t,n);return r===0||o===0?0:r+o}default:{const r=await n(e,t);return r.type==="boolean"&&r.data===!0?1:0}}}async function MBt(e,t,n,r){const o=await r(e,n),i=await r(t,n);let s=[],a=[];if(await a5(o,d=>{s=s.concat(dTe(d))}),!await a5(i,d=>{a=a.concat(fTe(d))})||s.length===0||a.length===0)return 0;let u=0;for(const d of a){const f=s.reduce((p,m)=>p+(d.test(m)?1:0),0);u+=f*(uJ+1)/(f+uJ)}return u}function $M(e,t){switch(o0(e)){case"array":for(const n of e)if($M(n,t))return!0;break;case"object":if(e._ref)return t.has(e._ref);for(const n of Object.values(e))if($M(n,t))return!0;break}return!1}function FBt(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r>=55296&&r<=56319||t++}return t}const Fn={};Fn.anywhere=async function(){throw new Error("not implemented")};Fn.anywhere.arity=1;Fn.coalesce=async function(t,n,r){for(const o of t){const i=await r(o,n);if(i.type!=="null")return i}return Pe};Fn.count=async function(t,n,r){const o=await r(t[0],n);if(!o.isArray())return Pe;let i=0;for await(const s of o)i++;return za(i)};Fn.count.arity=1;Fn.dateTime=async function(t,n,r){const o=await r(t[0],n);return o.type==="datetime"?o:o.type!=="string"?Pe:r0.parseToValue(o.data)};Fn.dateTime.arity=1;Fn.defined=async function(t,n,r){return(await r(t[0],n)).type==="null"?lo:$o};Fn.defined.arity=1;Fn.identity=async function(t,n){return Va(n.context.identity)};Fn.identity.arity=0;Fn.length=async function(t,n,r){const o=await r(t[0],n);if(o.type==="string")return za(FBt(o.data));if(o.isArray()){let i=0;for await(const s of o)i++;return za(i)}return Pe};Fn.length.arity=1;Fn.path=async function(t,n,r){const o=await r(t[0],n);return o.type!=="string"?Pe:CBt(new cTe(o.data))};Fn.path.arity=1;Fn.string=async function(t,n,r){const o=await r(t[0],n);switch(o.type){case"number":case"string":case"boolean":case"datetime":return Va("".concat(o.data));default:return Pe}};Fn.string.arity=1;Fn.references=async function(t,n,r){const o=new Set;for(const s of t){const a=await r(s,n);if(a.type==="string")o.add(a.data);else if(a.isArray())for await(const c of a)c.type==="string"&&o.add(c.data)}if(o.size===0)return lo;const i=await n.value.get();return $M(i,o)?$o:lo};Fn.references.arity=e=>e>=1;Fn.round=async function(t,n,r){const o=await r(t[0],n);if(o.type!=="number")return Pe;const i=o.data;let s=0;if(t.length===2){const a=await r(t[1],n);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Pe;s=a.data}return s===0?i<0?za(-Math.round(-i)):za(Math.round(i)):za(Number(i.toFixed(s)))};Fn.round.arity=e=>e>=1&&e<=2;Fn.now=async function(t,n){return Va(n.context.timestamp.toISOString())};Fn.now.arity=0;Fn.boost=async function(){throw new Error("unexpected boost call")};Fn.boost.arity=2;const Vl={};Vl.lower=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Pe:Va(r.data.toLowerCase())};Vl.lower.arity=1;Vl.upper=async function(e,t,n){const r=await n(e[0],t);return r.type!=="string"?Pe:Va(r.data.toUpperCase())};Vl.upper.arity=1;Vl.split=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Pe;const o=await n(e[1],t);return o.type!=="string"?Pe:r.data.length===0?sr([]):o.data.length===0?sr(Array.from(r.data)):sr(r.data.split(o.data))};Vl.split.arity=2;Fn.lower=Vl.lower;Fn.upper=Vl.upper;Vl.startsWith=async function(e,t,n){const r=await n(e[0],t);if(r.type!=="string")return Pe;const o=await n(e[1],t);return o.type!=="string"?Pe:r.data.startsWith(o.data)?$o:lo};Vl.startsWith.arity=2;const Im={};Im.join=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;const o=await n(e[1],t);if(o.type!=="string")return Pe;let i="",s=!1;for await(const a of r){switch(s&&(i+=o.data),a.type){case"number":case"string":case"boolean":case"datetime":i+="".concat(a.data);break;default:return Pe}s=!0}return sr(i)};Im.join.arity=2;Im.compact=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Jd(async function*(){for await(const o of r)o.type!=="null"&&(yield o)}):Pe};Im.compact.arity=1;Im.unique=async function(e,t,n){const r=await n(e[0],t);return r.isArray()?new Jd(async function*(){const o=new Set;for await(const i of r)switch(i.type){case"number":case"string":case"boolean":case"datetime":o.has(i.data)||(o.add(i.data),yield i);break;default:yield i}}):Pe};Im.unique.arity=1;const O7={};O7.text=async function(e,t,n){const r=await n(e[0],t),o=await $Bt(r);return o===null?Pe:Va(o)};O7.text.arity=1;const P7={};P7.projectId=async function(e,t){return t.context.sanity?Va(t.context.sanity.projectId):Pe};P7.dataset=async function(e,t){return t.context.sanity?Va(t.context.sanity.dataset):Pe};const eC={};eC.order=async function(t,n,r,o){if(await!0,!t.isArray())return Pe;const i=[],s=[];let a=0;for(let d of n){let f="asc";d.type==="Desc"?(f="desc",d=d.base):d.type==="Asc"&&(d=d.base),i.push(d),s.push(f),a++}const c=[];let u=0;for await(const d of t){const f=r.createNested(d),p=[await d.get(),u];for(let m=0;m<a;m++){const v=await o(i[m],f);p.push(await v.get())}c.push(p),u++}return c.sort((d,f)=>{for(let p=0;p<a;p++){let m=ABt(d[p+2],f[p+2]);if(s[p]==="desc"&&(m=-m),m!==0)return m}return d[1]-f[1]}),sr(c.map(d=>d[0]))};eC.order.arity=e=>e>=1;eC.score=async function(t,n,r,o){if(!t.isArray())return Pe;const i=[],s=[];for await(const a of t){if(a.type!=="object"){i.push(await a.get());continue}const c=r.createNested(a);let u=typeof a.data._score=="number"?a.data._score:0;for(const f of n)u+=await yg(f,c,o);const d=Object.assign({},a.data,{_score:u});s.push(d)}return s.sort((a,c)=>c._score-a._score),sr(s)};eC.score.arity=e=>e>=1;const ah={};ah.operation=async function(e,t){const n=t.context.before!==null,r=t.context.after!==null;return n&&r?Va("update"):r?Va("create"):n?Va("delete"):Pe};ah.changedAny=()=>{throw new Error("not implemented")};ah.changedAny.arity=1;ah.changedAny.mode="delta";ah.changedOnly=()=>{throw new Error("not implemented")};ah.changedOnly.arity=1;ah.changedOnly.mode="delta";const tC={};tC.changedAny=()=>{throw new Error("not implemented")};tC.changedAny.arity=3;tC.changedOnly=()=>{throw new Error("not implemented")};tC.changedOnly.arity=3;const gd={};gd.min=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;(o===void 0||i.data<o)&&(o=i.data)}return sr(o)};gd.min.arity=1;gd.max=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;(o===void 0||i.data>o)&&(o=i.data)}return sr(o)};gd.max.arity=1;gd.sum=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o=0;for await(const i of r)if(i.type!=="null"){if(i.type!=="number")return Pe;o+=i.data}return sr(o)};gd.sum.arity=1;gd.avg=async function(e,t,n){const r=await n(e[0],t);if(!r.isArray())return Pe;let o=0,i=0;for await(const s of r)if(s.type!=="null"){if(s.type!=="number")return Pe;o+=s.data,i++}return i===0?Pe:sr(o/i)};gd.avg.arity=1;const R7={};R7.now=async function(t,n,r){return RM(new r0(n.context.timestamp))};R7.now.arity=0;const LBt={global:Fn,string:Vl,array:Im,pt:O7,delta:ah,diff:tC,sanity:P7,math:gd,dateTime:R7};var BBt=Object.defineProperty,NBt=(e,t,n)=>t in e?BBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,J1=(e,t,n)=>(NBt(e,typeof t!="symbol"?t+"":t,n),n);class zBt{constructor(t,n,r){J1(this,"string"),J1(this,"marks"),J1(this,"index"),J1(this,"parseOptions"),J1(this,"allowBoost",!1),this.string=t,this.marks=n,this.index=0,this.parseOptions=r}hasMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.index+t<this.marks.length}getMark(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.marks[this.index+t]}shift(){this.index+=1}process(t){const n=this.marks[this.index];this.shift();const r=t[n.name];if(!r)throw new Error("Unknown handler: ".concat(n.name));return r.call(t,this,n)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const t=this.marks[this.index-1],n=this.marks[this.index];return this.shift(),this.string.slice(t.position,n.position)}slice(t){const n=this.marks[this.index].position;return this.string.slice(n,n+t)}}const VBt=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,uO=/^\d+/,up=/^[a-zA-Z_][a-zA-Z_0-9]*/,W_=1,q_=2,Y_=3,ro=4,tg=4,G_=6,K_=6,Z_=7,X_=7,Q_=7,J_=8,HBt=10,UBt=10,WBt=8;function qBt(e){let t=0;t=Qe(e,t);let n=An(e,t,0);return n.type==="error"?n:(t=Qe(e,n.position),t!==e.length?(n.failPosition&&(t=n.failPosition-1),{type:"error",position:t}):(delete n.position,delete n.failPosition,n))}function An(e,t,n){let r=t,o=e[t],i;switch(o){case"+":{let u=An(e,Qe(e,t+1),HBt);if(u.type==="error")return u;i=[{name:"pos",position:r}].concat(u.marks),t=u.position;break}case"-":{let u=An(e,Qe(e,t+1),WBt);if(u.type==="error")return u;i=[{name:"neg",position:r}].concat(u.marks),t=u.position;break}case"(":{let u=An(e,Qe(e,t+1),0);if(u.type==="error")return u;switch(t=Qe(e,u.position),e[t]){case",":{for(i=[{name:"tuple",position:r}].concat(u.marks),t=Qe(e,t+1);;){if(u=An(e,t,0),u.type==="error")return u;if(t=Qe(e,u.position),e[t]!==",")break;t=Qe(e,t+1)}if(e[t]!==")")return{type:"error",position:t};t++,i.push({name:"tuple_end",position:t});break}case")":{t++,i=[{name:"group",position:r}].concat(u.marks);break}default:return{type:"error",position:t}}break}case"!":{let u=An(e,Qe(e,t+1),UBt);if(u.type==="error")return u;i=[{name:"not",position:r}].concat(u.marks),t=u.position;break}case"{":{let u=MM(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"[":if(i=[{name:"array",position:t}],t=Qe(e,t+1),e[t]!=="]")for(;;){e.slice(t,t+3)==="..."&&(i.push({name:"array_splat",position:t}),t=Qe(e,t+3));let u=An(e,t,0);if(u.type==="error")return u;if(i=i.concat(u.marks),t=u.position,t=Qe(e,t),e[t]!==","||(t=Qe(e,t+1),e[t]==="]"))break}if(e[t]==="]")t++,i.push({name:"array_end",position:t});else return{type:"error",position:t};break;case"'":case'"':{let u=YBt(e,t);if(u.type==="error")return u;i=u.marks,t=u.position;break}case"^":{for(t++,i=[];e[t]==="."&&e[t+1]==="^";)i.push({name:"dblparent",position:r}),t+=2;i.push({name:"parent",position:r});break}case"@":i=[{name:"this",position:r}],t++;break;case"*":i=[{name:"everything",position:r}],t++;break;case"$":{let u=sc(e,t+1,up);u&&(t+=1+u,i=[{name:"param",position:r},{name:"ident",position:r+1},{name:"ident_end",position:t}]);break}default:{let u=sc(e,t,uO);if(u){t+=u;let f="integer";if(e[t]==="."){let p=sc(e,t+1,uO);p&&(f="float",t+=1+p)}if(e[t]==="e"||e[t]==="E"){f="sci",t++,(e[t]==="+"||e[t]==="-")&&t++;let p=sc(e,t,uO);if(!p)return{type:"error",position:t};t+=p}i=[{name:f,position:r},{name:f+"_end",position:t}];break}let d=sc(e,t,up);if(d){switch(t+=d,e[t]){case":":case"(":{let f=fJ(e,r,t);if(f.type==="error")return f;i=f.marks,t=f.position;break}default:i=[{name:"this_attr",position:r},{name:"ident",position:r},{name:"ident_end",position:t}]}break}}}if(!i)return{type:"error",position:t};let s=12,a;e:for(;;){let u=Qe(e,t);if(u===e.length){t=u;break}if(a=dJ(e,u),a.type==="success"){for(i.unshift({name:"traverse",position:r});a.type==="success";)i=i.concat(a.marks),t=a.position,a=dJ(e,Qe(e,t));i.push({name:"traversal_end",position:t});continue}switch(e[u]){case"=":{switch(e[u+1]){case">":{if(n>W_||s<=W_)break e;let p=An(e,Qe(e,u+2),W_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pair",position:r}),t=p.position,s=W_;break}case"=":{if(n>ro||s<=ro)break e;let p=An(e,Qe(e,u+2),ro+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(p.marks),t=p.position,s=ro;break}default:break e}break}case"+":{if(n>G_||s<G_)break e;let f=An(e,Qe(e,u+1),G_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"add",position:r}),t=f.position,s=G_;break}case"-":{if(n>K_||s<K_)break e;let f=An(e,Qe(e,u+1),K_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"sub",position:r}),t=f.position,s=K_;break}case"*":{if(e[u+1]==="*"){if(n>J_||s<=J_)break e;let p=An(e,Qe(e,u+2),J_);if(p.type==="error")return p;i=i.concat(p.marks),i.unshift({name:"pow",position:r}),t=p.position,s=J_;break}if(n>Z_||s<Z_)break e;let f=An(e,Qe(e,u+1),Z_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mul",position:r}),t=f.position,s=Z_;break}case"/":{if(n>X_||s<X_)break e;let f=An(e,Qe(e,u+1),X_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"div",position:r}),t=f.position,s=X_;break}case"%":{if(n>Q_||s<Q_)break e;let f=An(e,Qe(e,u+1),Q_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"mod",position:r}),t=f.position,s=Q_;break}case"<":case">":{if(n>ro||s<=ro)break e;let f=u+1;e[f]==="="&&f++;let p=An(e,Qe(e,f),ro+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:f}),i=i.concat(p.marks),t=p.position,s=ro;break}case"|":{if(e[u+1]==="|"){if(n>q_||s<q_)break e;let f=An(e,Qe(e,u+2),q_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"or",position:r}),t=f.position,s=q_}else{if(n>11||s<11)break e;let f=Qe(e,u+1),p=sc(e,f,up);if(!p)return{type:"error",position:f};if(t=f+p,e[t]==="("||e[t]===":"){let m=fJ(e,f,t);if(m.type==="error")return m;i=i.concat(m.marks),i.unshift({name:"pipecall",position:r}),t=m.position,s=11}}break}case"&":{if(e[u+1]!="&"||n>Y_||s<Y_)break e;let f=An(e,Qe(e,u+2),Y_+1);if(f.type==="error")return f;i=i.concat(f.marks),i.unshift({name:"and",position:r}),t=f.position,s=Y_;break}case"!":{if(e[u+1]!=="="||n>ro||s<=ro)break e;let f=An(e,Qe(e,u+2),ro+1);if(f.type==="error")return f;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(f.marks),t=f.position,s=ro;break}case"d":{if(e.slice(u,u+4)!=="desc"||n>tg||s<tg)break e;i.unshift({name:"desc",position:r}),t=u+4,s=tg;break}case"a":{if(e.slice(u,u+3)!=="asc"||n>tg||s<tg)break e;i.unshift({name:"asc",position:r}),t=u+3,s=tg;break}default:switch(GBt(e,u,up)){case"in":{if(n>ro||s<=ro)break e;t=Qe(e,u+2);let p=!1;e[t]==="("&&(p=!0,t=Qe(e,t+1));let m=t,v=An(e,t,ro+1);if(v.type==="error")return v;if(t=Qe(e,v.position),e[t]==="."&&e[t+1]==="."){let g="inc_range";e[t+2]==="."?(g="exc_range",t=Qe(e,t+3)):t=Qe(e,t+2);let b=An(e,t,ro+1);if(b.type==="error")return b;i.unshift({name:"in_range",position:r}),i=i.concat({name:g,position:m},v.marks,b.marks),t=b.position}else i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+2}),i=i.concat(v.marks);if(p){if(t=Qe(e,t),e[t]!==")")return{type:"error",position:t};t++}s=ro;break}case"match":{if(n>ro||s<=ro)break e;let p=An(e,Qe(e,u+5),ro+1);if(p.type==="error")return p;i.unshift({name:"comp",position:r}),i.push({name:"op",position:u},{name:"op_end",position:u+5}),i=i.concat(p.marks),t=p.position,s=4;break}default:break e}}}let c=(a==null?void 0:a.type)==="error"&&a.position;return{type:"success",marks:i,position:t,failPosition:c}}function dJ(e,t){let n=t;switch(e[t]){case".":{t=Qe(e,t+1);let s=t,a=sc(e,t,up);return a?(t+=a,{type:"success",marks:[{name:"attr_access",position:n},{name:"ident",position:s},{name:"ident_end",position:t}],position:t}):{type:"error",position:t}}case"-":if(e[t+1]!==">")return{type:"error",position:t};let r=[{name:"deref",position:n}];t+=2;let o=Qe(e,t),i=sc(e,o,up);return i&&(t=o+i,r.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:t})),{type:"success",marks:r,position:t};case"[":{if(t=Qe(e,t+1),e[t]==="]")return{type:"success",marks:[{name:"array_postfix",position:n}],position:t+1};let s=t,a=An(e,t,0);if(a.type==="error")return a;if(t=Qe(e,a.position),e[t]==="."&&e[t+1]==="."){let c="inc_range";e[t+2]==="."?(c="exc_range",t+=3):t+=2,t=Qe(e,t);let u=An(e,t,0);return u.type==="error"?u:(t=Qe(e,u.position),e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"slice",position:n},{name:c,position:s}].concat(a.marks,u.marks),position:t+1})}return e[t]!=="]"?{type:"error",position:t}:{type:"success",marks:[{name:"square_bracket",position:n}].concat(a.marks),position:t+1}}case"|":{if(t=Qe(e,t+1),e[t]==="{"){let s=MM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}break}case"{":{let s=MM(e,t);return s.type==="error"||s.marks.unshift({name:"projection",position:n}),s}}return{type:"error",position:t}}function fJ(e,t,n){let r=[];if(r.push({name:"func_call",position:t}),e[n]===":"&&e[n+1]===":"){r.push({name:"namespace",position:t}),r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Qe(e,n+2);let i=sc(e,n,up);if(!i)return{type:"error",position:n};if(r.push({name:"ident",position:n},{name:"ident_end",position:n+i}),n=Qe(e,n+i),e[n]!=="(")return{type:"error",position:n};n++,n=Qe(e,n)}else r.push({name:"ident",position:t},{name:"ident_end",position:n}),n=Qe(e,n+1);let o=n;if(e[n]!==")")for(;;){let i=An(e,n,0);if(i.type==="error")return i;if(r=r.concat(i.marks),o=i.position,n=Qe(e,i.position),e[n]!==","||(n=Qe(e,n+1),e[n]===")"))break}return e[n]!==")"?{type:"error",position:n}:(r.push({name:"func_args_end",position:o}),{type:"success",marks:r,position:n+1})}function MM(e,t){let n=[{name:"object",position:t}];for(t=Qe(e,t+1);e[t]!=="}";){let r=t;if(e.slice(t,t+3)==="...")if(t=Qe(e,t+3),e[t]!=="}"&&e[t]!==","){let o=An(e,t,0);if(o.type==="error")return o;n.push({name:"object_splat",position:r}),n=n.concat(o.marks),t=o.position}else n.push({name:"object_splat_this",position:r});else{let o=An(e,t,0);if(o.type==="error")return o;let i=Qe(e,o.position);if(o.marks[0].name==="str"&&e[i]===":"){let s=An(e,Qe(e,i+1),0);if(s.type==="error")return s;n.push({name:"object_pair",position:r}),n=n.concat(o.marks,s.marks),t=s.position}else n=n.concat({name:"object_expr",position:t},o.marks),t=o.position}if(t=Qe(e,t),e[t]!==",")break;t=Qe(e,t+1)}return e[t]!=="}"?{type:"error",position:t}:(t++,n.push({name:"object_end",position:t}),{type:"success",marks:n,position:t})}function YBt(e,t){let n=e[t];t=t+1;const r=[{name:"str",position:t}];e:for(;;t++){if(t>e.length)return{type:"error",position:t};switch(e[t]){case n:{r.push({name:"str_end",position:t}),t++;break e}case"\\":r.push({name:"str_pause",position:t}),e[t+1]==="u"?e[t+2]==="{"?(r.push({name:"unicode_hex",position:t+3}),t=e.indexOf("}",t+3),r.push({name:"unicode_hex_end",position:t})):(r.push({name:"unicode_hex",position:t+2}),r.push({name:"unicode_hex_end",position:t+6}),t+=5):(r.push({name:"single_escape",position:t+1}),t+=1),r.push({name:"str_start",position:t+1})}}return{type:"success",marks:r,position:t}}function Qe(e,t){return t+sc(e,t,VBt)}function sc(e,t,n){let r=n.exec(e.slice(t));return r?r[0].length:0}function GBt(e,t,n){let r=n.exec(e.slice(t));return r?r[0]:null}function Ra(e,t){return n=>t(e(n))}function FM(e){return t=>({type:"Map",base:t,expr:e({type:"This"})})}function KBt(e){return t=>({type:"FlatMap",base:t,expr:e({type:"This"})})}function TS(e,t){if(!t)return{type:"a-a",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Ra(e,t.build)};case"a-b":return{type:"a-b",build:Ra(e,t.build)};case"b-b":return{type:"a-a",build:Ra(e,FM(t.build))};case"b-a":return{type:"a-a",build:Ra(e,KBt(t.build))};default:throw new Error("unknown type: ".concat(t.type))}}function dO(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"b-a",build:Ra(e,t.build)};case"a-b":case"b-b":return{type:"b-b",build:Ra(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function ZBt(e,t){if(!t)return{type:"a-b",build:e};switch(t.type){case"a-a":case"b-a":return{type:"a-a",build:Ra(e,t.build)};case"a-b":case"b-b":return{type:"a-b",build:Ra(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}function XBt(e,t){if(!t)return{type:"b-b",build:e};switch(t.type){case"a-a":return{type:"a-a",build:Ra(FM(e),t.build)};case"a-b":return{type:"a-b",build:Ra(FM(e),t.build)};case"b-a":return{type:"b-a",build:Ra(e,t.build)};case"b-b":return{type:"b-b",build:Ra(e,t.build)};default:throw new Error("unknown type: ".concat(t.type))}}var QBt=Object.defineProperty,JBt=(e,t,n)=>t in e?QBt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,LM=(e,t,n)=>(JBt(e,typeof t!="symbol"?t+"":t,n),n);const eNt={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function tNt(e){const t=parseInt(e,16);return String.fromCharCode(t)}class Ui extends Error{constructor(){super(...arguments),LM(this,"name","GroqQueryError")}}const at={group(e){return{type:"Group",base:e.process(at)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(e){return{type:"Parent",n:e.process(at).n+1}},traverse(e){const t=e.process(at),n=[];for(;e.getMark().name!=="traversal_end";)n.push(e.process(vTe));e.shift();let r=null;for(let o=n.length-1;o>=0;o--)r=n[o](r);if((t.type==="Everything"||t.type==="Array"||t.type==="PipeFuncCall")&&(r=TS(o=>o,r)),r===null)throw new Error("BUG: unexpected empty traversal");return r.build(t)},this_attr(e){const t=e.processString();return t==="null"?{type:"Value",value:null}:t==="true"?{type:"Value",value:!0}:t==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:t}},neg(e){return{type:"Neg",base:e.process(at)}},pos(e){return{type:"Pos",base:e.process(at)}},add(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"+",left:t,right:n}},sub(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"-",left:t,right:n}},mul(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"*",left:t,right:n}},div(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"/",left:t,right:n}},mod(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"%",left:t,right:n}},pow(e){const t=e.process(at),n=e.process(at);return{type:"OpCall",op:"**",left:t,right:n}},comp(e){const t=e.process(at),n=e.processString(),r=e.process(at);return{type:"OpCall",op:n,left:t,right:r}},in_range(e){const t=e.process(at),n=e.getMark().name==="inc_range";e.shift();const r=e.process(at),o=e.process(at);return{type:"InRange",base:t,left:r,right:o,isInclusive:n}},str(e){let t="";e:for(;e.hasMark();){const n=e.getMark();switch(n.name){case"str_end":t+=e.processStringEnd();break e;case"str_pause":t+=e.processStringEnd();break;case"str_start":e.shift();break;case"single_escape":{const r=e.slice(1);e.shift(),t+=eNt[r];break}case"unicode_hex":e.shift(),t+=tNt(e.processStringEnd());break;default:throw new Error("unexpected mark: ".concat(n.name))}}return{type:"Value",value:t}},integer(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},float(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},sci(e){const t=e.processStringEnd();return{type:"Value",value:Number(t)}},object(e){const t=[];for(;e.getMark().name!=="object_end";)t.push(e.process(nNt));return e.shift(),{type:"Object",attributes:t}},array(e){const t=[];for(;e.getMark().name!=="array_end";){let n=!1;e.getMark().name==="array_splat"&&(n=!0,e.shift());const r=e.process(at);t.push({type:"ArrayElement",value:r,isSplat:n})}return e.shift(),{type:"Array",elements:t}},tuple(e){const t=[];for(;e.getMark().name!=="tuple_end";)t.push(e.process(at));return e.shift(),{type:"Tuple",members:t}},func_call(e){let t="global";e.getMark().name==="namespace"&&(e.shift(),t=e.processString());const n=e.processString();if(t==="global"&&n==="select"){const s={type:"Select",alternatives:[]};for(;e.getMark().name!=="func_args_end";)if(e.getMark().name==="pair"){if(s.fallback)throw new Ui("unexpected argument to select()");e.shift();const a=e.process(at),c=e.process(at);s.alternatives.push({type:"SelectAlternative",condition:a,value:c})}else{if(s.fallback)throw new Ui("unexpected argument to select()");const a=e.process(at);s.fallback=a}return e.shift(),s}const r=[];for(;e.getMark().name!=="func_args_end";)rNt(t,n,r.length)?(e.process(BM),r.push({type:"Selector"})):r.push(e.process(at));if(e.shift(),t==="global"&&(n==="before"||n==="after")&&e.parseOptions.mode==="delta")return{type:"Context",key:n};if(t==="global"&&n==="boost"&&!e.allowBoost)throw new Ui("unexpected boost");const o=LBt[t];if(!o)throw new Ui("Undefined namespace: ".concat(t));const i=o[n];if(!i)throw new Ui("Undefined function: ".concat(n));if(i.arity!==void 0&&hJ(n,i.arity,r.length),i.mode!==void 0&&i.mode!==e.parseOptions.mode)throw new Ui("Undefined function: ".concat(n));return{type:"FuncCall",func:i,namespace:t,name:n,args:r}},pipecall(e){const t=e.process(at);e.shift();let n="global";if(e.getMark().name==="namespace"&&(e.shift(),n=e.processString()),n!=="global")throw new Ui("Undefined namespace: ".concat(n));const r=e.processString(),o=[],i=e.allowBoost;for(r==="score"&&(e.allowBoost=!0);;){const a=e.getMark().name;if(a==="func_args_end")break;if(r==="order"){if(a==="asc"){e.shift(),o.push({type:"Asc",base:e.process(at)});continue}else if(a==="desc"){e.shift(),o.push({type:"Desc",base:e.process(at)});continue}}o.push(e.process(at))}e.shift(),e.allowBoost=i;const s=eC[r];if(!s)throw new Ui("Undefined pipe function: ".concat(r));return s.arity&&hJ(r,s.arity,o.length),{type:"PipeFuncCall",func:s,base:t,name:r,args:o}},pair(e){throw new Ui("unexpected =>")},and(e){const t=e.process(at),n=e.process(at);return{type:"And",left:t,right:n}},or(e){const t=e.process(at),n=e.process(at);return{type:"Or",left:t,right:n}},not(e){return{type:"Not",base:e.process(at)}},asc(e){throw new Ui("unexpected asc")},desc(e){throw new Ui("unexpected desc")},param(e){const t=e.processString();return e.parseOptions.params&&e.parseOptions.params.hasOwnProperty(t)?{type:"Value",value:e.parseOptions.params[t]}:{type:"Parameter",name:t}}},nNt={object_expr(e){if(e.getMark().name==="pair"){e.shift();const n=e.process(at),r=e.process(at);return{type:"ObjectConditionalSplat",condition:n,value:r}}const t=e.process(at);return{type:"ObjectAttributeValue",name:yTe(t),value:t}},object_pair(e){const t=e.process(at);if(t.type!=="Value")throw new Error("name must be string");const n=e.process(at);return{type:"ObjectAttributeValue",name:t.value,value:n}},object_splat(e){return{type:"ObjectSplat",value:e.process(at)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},vTe={square_bracket(e){const t=e.process(at),n=cO(t);return n&&n.type==="number"?r=>ZBt(o=>({type:"AccessElement",base:o,index:n.data}),r):n&&n.type==="string"?r=>dO(o=>({type:"AccessAttribute",base:o,name:n.data}),r):r=>TS(o=>({type:"Filter",base:o,expr:t}),r)},slice(e){const t=e.getMark().name==="inc_range";e.shift();const n=e.process(at),r=e.process(at),o=cO(n),i=cO(r);if(!o||!i||o.type!=="number"||i.type!=="number")throw new Ui("slicing must use constant numbers");return s=>TS(a=>({type:"Slice",base:a,left:o.data,right:i.data,isInclusive:t}),s)},projection(e){const t=e.process(at);return n=>XBt(r=>({type:"Projection",base:r,expr:t}),n)},attr_access(e){const t=e.processString();return n=>dO(r=>({type:"AccessAttribute",base:r,name:t}),n)},deref(e){let t=null;e.getMark().name==="deref_attr"&&(e.shift(),t=e.processString());const n=r=>t?{type:"AccessAttribute",base:r,name:t}:r;return r=>dO(o=>n({type:"Deref",base:o}),r)},array_postfix(e){return t=>TS(n=>({type:"ArrayCoerce",base:n}),t)}},BM={group(e){return e.process(BM),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(e){throw new Error("Invalid selector syntax")},traverse(e){for(e.process(BM);e.getMark().name!=="traversal_end";)e.process(vTe);return e.shift(),null},this_attr(e){return e.processString(),null},neg(e){throw new Error("Invalid selector syntax")},pos(e){throw new Error("Invalid selector syntax")},add(e){throw new Error("Invalid selector syntax")},sub(e){throw new Error("Invalid selector syntax")},mul(e){throw new Error("Invalid selector syntax")},div(e){throw new Error("Invalid selector syntax")},mod(e){throw new Error("Invalid selector syntax")},pow(e){throw new Error("Invalid selector syntax")},comp(e){throw new Error("Invalid selector syntax")},in_range(e){throw new Error("Invalid selector syntax")},str(e){throw new Error("Invalid selector syntax")},integer(e){throw new Error("Invalid selector syntax")},float(e){throw new Error("Invalid selector syntax")},sci(e){throw new Error("Invalid selector syntax")},object(e){throw new Error("Invalid selector syntax")},array(e){throw new Error("Invalid selector syntax")},tuple(e){throw new Error("Invalid selector syntax")},func_call(e,t){const n=at.func_call(e,t);if(n.name==="anywhere"&&n.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(e){throw new Error("Invalid selector syntax")},pair(e){throw new Error("Invalid selector syntax")},and(e){throw new Error("Invalid selector syntax")},or(e){throw new Error("Invalid selector syntax")},not(e){throw new Error("Invalid selector syntax")},asc(e){throw new Error("Invalid selector syntax")},desc(e){throw new Error("Invalid selector syntax")},param(e){throw new Error("Invalid selector syntax")}};function yTe(e){if(e.type==="AccessAttribute"&&!e.base)return e.name;if(e.type==="Deref"||e.type==="Map"||e.type==="Projection"||e.type==="Slice"||e.type==="Filter"||e.type==="AccessElement"||e.type==="ArrayCoerce")return yTe(e.base);throw new Ui("Cannot determine property key for type: ".concat(e.type))}function hJ(e,t,n){if(typeof t=="number"){if(n!==t)throw new Ui("Incorrect number of arguments to function ".concat(e,"(). Expected ").concat(t,", got ").concat(n,"."))}else if(t&&!t(n))throw new Ui("Incorrect number of arguments to function ".concat(e,"()."))}function rNt(e,t,n){const r=["changedAny","changedOnly"];return e=="diff"&&n==2&&r.includes(t)}class oNt extends Error{constructor(t){super("Syntax error in GROQ query at position ".concat(t)),LM(this,"position"),LM(this,"name","GroqSyntaxError"),this.position=t}}function bTe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=qBt(e);if(n.type==="error")throw new oNt(n.position);return new zBt(e,n.marks,t).process(at)}function iNt(e,t=jtt){return n=>{const r=n;let o=null,i=null;const s=new Er,a=s.pipe(ra((c,u)=>c+u,0),rt(c=>c===0?Uo(e,t).pipe(Cn(()=>{o&&(o.unsubscribe(),o=null),i&&(i.unsubscribe(),i=null)})):!o&&c>0?Uo(0,t).pipe(Cn(()=>{o||(o=r.connect())})):QL));return mnt(()=>(i||(i=a.subscribe()),s.next(1),{unsubscribe:()=>s.next(-1)}),()=>n)}}var sNt=Object.defineProperty,aNt=(e,t,n)=>t in e?sNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ng=(e,t,n)=>(aNt(e,typeof t!="symbol"?t+"":t,n),n);const lNt=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class xTe{constructor(t,n,r){ng(this,"model"),ng(this,"root"),ng(this,"patch"),ng(this,"i"),ng(this,"inputStack"),ng(this,"outputStack"),this.model=t,this.root=n,this.patch=r,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let n=this.read(),r=lNt[n];if(!r)throw new Error("Unknown opcode: ".concat(n));let o="process".concat(r);this[o].apply(this)}let t=this.outputStack.pop();return this.finalizeOutput(t)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(t,n){return t.keys||(t.keys=this.model.objectGetKeys(t.value).sort()),t.keys[n]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyArray(t.value)),t.writeValue}outputObject(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyObject(t.value)),t.writeValue}outputString(){let t=this.outputEntry();return t.writeValue||(t.writeValue=this.model.copyString(t.value)),t.writeValue}finalizeOutput(t){return t.writeValue?this.model.finalize(t.writeValue):t.value}processValue(){let t=this.model.wrap(this.read());this.outputStack.push({value:t})}processCopy(){let t=this.inputEntry();this.outputStack.push({value:t.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let t=this.outputStack.pop(),n=this.finalizeOutput(t),r=this.outputArray();this.model.arrayAppendValue(r,n)}processReturnIntoObject(){let t=this.read(),n=this.outputStack.pop(),r=this.finalizeOutput(n);r=this.model.markChanged(r);let o=this.outputObject();this.model.objectSetField(o,t,r)}processReturnIntoObjectSameKey(){let t=this.inputEntry(),n=this.outputStack.pop(),r=this.finalizeOutput(n),o=this.outputObject();this.model.objectSetField(o,t.key,r)}processPushField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.model.objectGetField(n.value,r);this.inputStack.push({value:o,key:r})}processPushElement(){let t=this.read(),n=this.inputEntry(),r=this.model.arrayGetElement(n.value,t);this.inputStack.push({value:r})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let t=this.read(),n=this.inputEntry(),r=this.inputKey(n,t),o=this.outputObject();this.model.objectDeleteField(o,r)}processArrayAppendValue(){let t=this.model.wrap(this.read()),n=this.outputArray();this.model.arrayAppendValue(n,t)}processArrayAppendSlice(){let t=this.read(),n=this.read(),r=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(r,o,t,n)}processStringAppendString(){let t=this.model.wrap(this.read()),n=this.outputString();this.model.stringAppendValue(n,t)}processStringAppendSlice(){let t=this.read(),n=this.read(),r=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(r,o,t,n)}}function nC(e){return e>>16?4:e>>11?3:e>>7?2:1}function NM(e){let t=0;for(let n=0;n<e.length;n++){let r=e.codePointAt(n),o=nC(r);o==4&&n++,t+=o}return t}function pJ(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=n,o=0;for(o=n;r<t;o++){let i=e.codePointAt(o),s=nC(i);s===4&&o++,r+=s}return o}function cNt(e,t){let n=Math.min(e.length,t.length),r=0;for(let o=0;o<n;){let i=e.codePointAt(o),s=t.codePointAt(o);if(i!==s)return r;let a=nC(i);r+=a,o+=a===4?2:1}return r}function uNt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Math.min(e.length,t.length)-n,o=0;for(let i=0;i<r;){let s=e.codePointAt(e.length-1-i),a=t.codePointAt(t.length-1-i);if(s!==a)return o;let c=nC(s);o+=c,i+=c===4?2:1}return o}var dNt=Object.defineProperty,fNt=(e,t,n)=>t in e?dNt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hNt=(e,t,n)=>(fNt(e,typeof t!="symbol"?t+"":t,n),n);class zM{constructor(t){hNt(this,"meta"),this.meta=t}wrap(t){return this.wrapWithMeta(t,this.meta,this.meta)}wrapWithMeta(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.meta;return{data:t,startMeta:n,endMeta:r}}asObject(t){if(!t.content){let n={};for(let[r,o]of Object.entries(t.data))n[r]=this.wrapWithMeta(o,t.startMeta);t.content={type:"object",fields:n}}return t.content}asArray(t){if(!t.content){let n=t.data.map(o=>this.wrapWithMeta(o,t.startMeta)),r=n.map(()=>this.meta);t.content={type:"array",elements:n,metas:r}}return t.content}asString(t){if(!t.content){let n=t.data,r={value:n,utf8size:NM(n),uses:[],startMeta:t.startMeta,endMeta:t.endMeta};t.content=this.stringFromParts([r])}return t.content}stringFromParts(t){let n={type:"string",parts:t};for(let r of t)r.uses.push(n);return n}objectGetKeys(t){return t.content?Object.keys(t.content.fields):Object.keys(t.data)}objectGetField(t,n){return this.asObject(t).fields[n]}arrayGetElement(t,n){return this.asArray(t).elements[n]}finalize(t){return this.updateEndMeta(t),{content:t,startMeta:this.meta,endMeta:this.meta}}markChanged(t){return this.wrap(hu(t))}updateEndMeta(t){if(t.type=="string")for(let n of t.parts)n.endMeta=this.meta;else if(t.type==="array")for(let n of t.elements)n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta;else for(let n of Object.values(t.fields))n.content&&n.endMeta!==this.meta&&this.updateEndMeta(n.content),n.endMeta=this.meta}copyString(t){if(t){let n=this.asString(t);return this.stringFromParts(n.parts.slice())}else return{type:"string",parts:[]}}copyObject(t){let n={type:"object",fields:{}};if(t){let r=this.asObject(t);Object.assign(n.fields,r.fields)}return n}copyArray(t){let n=t?this.asArray(t):null,r=n?n.elements:[],o=n?n.metas:[];return{type:"array",elements:r,metas:o}}objectSetField(t,n,r){t.fields[n]=r}objectDeleteField(t,n){delete t.fields[n]}arrayAppendValue(t,n){t.elements.push(n),t.metas.push(this.meta)}arrayAppendSlice(t,n,r,o){let i=this.asArray(n),s=i.elements.length===r;if(t.elements.push(...i.elements.slice(r,o)),s)t.metas.push(...i.metas.slice(r,o));else for(let a=r;a<o;a++)t.metas.push(this.meta)}stringAppendValue(t,n){let r=this.asString(n);for(let o of r.parts)this.stringAppendPart(t,o)}stringAppendPart(t,n){t.parts.push(n),n.uses.push(t)}resolveStringPart(t,n,r){if(r===0)return n;for(let o=n;o<t.parts.length;o++){let i=t.parts[o];if(r===i.utf8size)return o+1;if(r<i.utf8size)return this.splitString(i,r),o+1;r-=i.utf8size}throw new Error("splitting string out of bounds")}splitString(t,n){let r,o,i=n,s=t.utf8size-i;if(t.utf8size!==t.value.length){let c=0;for(n=0;c<i;n++){let u=t.value.codePointAt(n),d=nC(u);d===4&&n++,c+=d}}r=t.value.slice(0,n),o=t.value.slice(n);let a={value:o,utf8size:s,uses:t.uses.slice(),startMeta:t.startMeta,endMeta:t.endMeta};t.value=r,t.utf8size=i;for(let c of t.uses){let u=c.parts.indexOf(t);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,a)}}stringAppendSlice(t,n,r,o){let i=this.asString(n),s=this.resolveStringPart(i,0,r),a=this.resolveStringPart(i,s,o-r);for(let c=s;c<a;c++){let u=i.parts[c];this.stringAppendPart(t,u)}}}function pNt(e,t){return{data:e,startMeta:t,endMeta:t}}function hu(e){if(typeof e.data<"u")return e.data;let t,n=e.content;switch(n.type){case"string":t=n.parts.map(r=>r.value).join("");break;case"array":t=n.elements.map(r=>hu(r));break;case"object":{t={};for(let[r,o]of Object.entries(n.fields))t[r]=hu(o)}}return e.data=t,t}function VM(e){return e.content?e.content.type:Array.isArray(e.data)?"array":e.data===null?"null":typeof e.data}function HM(e,t){let n=VM(e),r=VM(t);if(n!==r)return t;let o=new zM(e.endMeta),i=new zM(t.endMeta);switch(n){case"object":{let s=o.asObject(e),a=i.asObject(t),c=0,u=Object.keys(s.fields).length,d=Object.keys(a.fields).length;for(let[p,m]of Object.entries(a.fields)){let v=s.fields[p];v&&(a.fields[p]=HM(v,m),a.fields[p]===v&&c++)}return u===d&&u===c?e:t}case"array":{let s=o.asArray(e),a=i.asArray(t);if(s.elements.length!==a.elements.length)break;let c=0;for(let u=0;u<a.elements.length;u++)a.elements[u]=HM(s.elements[u],a.elements[u]),a.elements[u]!==s.elements[u]&&c++;return c===0?e:t}case"null":case"boolean":case"number":{if(hu(e)===hu(t))return e;break}case"string":{let s=hu(e),a=hu(t);if(s===a)return e;let c=i.copyString(null),u=cNt(s,a),d=uNt(s,a,u),f=NM(a),p=NM(s);0<u&&i.stringAppendSlice(c,e,0,u),u<f-d&&i.stringAppendSlice(c,t,u,f-d),p-d<p&&i.stringAppendSlice(c,e,p-d,p);let m=i.finalize(c);if(hu(m)!==a)throw new Error("incorrect string rebase");return m}}return t}function mNt(e,t,n){let r=new zM(n);return new xTe(r,e,t).process()}var ul=Object.freeze({__proto__:null,applyPatch:mNt,getType:VM,rebaseValue:HM,unwrap:hu,wrap:pNt});class gNt{wrap(t){return t}finalize(t){return Array.isArray(t)?t:t.data}markChanged(t){return t}objectGetKeys(t){return Object.keys(t)}objectGetField(t,n){return t[n]}arrayGetElement(t,n){return t[n]}copyObject(t){let n={type:"object",data:{}};if(t!==null)for(let[r,o]of Object.entries(t))n.data[r]=o;return n}copyArray(t){return t===null?[]:t.slice()}copyString(t){return{type:"string",data:t===null?"":t}}objectSetField(t,n,r){t.data[n]=r}objectDeleteField(t,n){delete t.data[n]}arrayAppendValue(t,n){t.push(n)}arrayAppendSlice(t,n,r,o){t.push(...n.slice(r,o))}stringAppendSlice(t,n,r,o){const i=n,s=pJ(i,r),a=pJ(i,o,s);t.data+=i.slice(s,a)}stringAppendValue(t,n){t.data+=n}}function UM(e,t){let n=e;return new xTe(new gNt,n,t).process()}function lh(e,t,n){return delete e[t],e[t]=n,n}function vNt(e,t){const n=yNt(e,t);return bNt(n,e,t)}function yNt(e,t){const n=e.length,r=t.length;let o=0,i=0;const s=new Array(n+1);for(o=0;o<n+1;o++)for(s[o]=[r+1],i=0;i<r+1;i++)s[o][i]=0;for(o=1;o<n+1;o++)for(i=1;i<r+1;i++)e[o-1]===t[i-1]?s[o][i]=s[o-1][i-1]+1:s[o][i]=Math.max(s[o-1][i],s[o][i-1]);return s}function bNt(e,t,n){let r=t.length,o=n.length;const i={sequence:[],prevIndices:[],nextIndices:[]};for(;r!==0&&o!==0;)if(t[r-1]===n[o-1])i.sequence.unshift(t[r-1]),i.prevIndices.unshift(r-1),i.nextIndices.unshift(o-1),--r,--o;else{const a=e[r][o-1],c=e[r-1][o];a>c?--o:--r}return i}function xNt(e,t,n){if(e===t){const s=e.value,a=t.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,get items(){const c=mJ(e,t);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return lh(this,"items",c)}}}const r=vJ(e),o=vJ(t);if(r&&o)return CNt(e,r,t,o);const i=mJ(e,t);return i?$7(e,t,i,!1):wNt(e,t)}function $7(e,t,n,r){const o=e.value,i=t.value;return r?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:i,items:n,annotation:t.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:i,items:n}}function mJ(e,t,n){if(e.length!==t.length)return;const r=[];for(let o=0;o<e.length;o++){const i=pA(e.at(o),t.at(o));if(i.isChanged)return;r.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:i,annotation:t.annotationAt(o)})}return r}function wNt(e,t,n){const r=[];for(let o=0;o<t.length;o++){const i=t.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Pm(i,void 0),annotation:i.annotation})}for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Om(i,void 0),annotation:i.annotation})}return $7(e,t,r,!0)}function CNt(e,t,n,r,o){const i=[];let s=!1;function a(u,d,f,p){gJ(t.index,u,d),gJ(r.index,u,f);const m=e.at(d),v=n.at(f),g=pA(m,v);i.push({fromIndex:d,toIndex:f,hasMoved:p,diff:g,annotation:n.annotationAt(f)}),(g.isChanged||d!==f)&&(s=!0)}const c=vNt(t.keys,r.keys);for(let u=0;u<t.keys.length;u++){const d=t.keys[u],f=c.prevIndices.indexOf(u);if(f!==-1){a(d,u,c.nextIndices[f],!1);continue}const p=r.index.get(d),m=p&&p.find(g=>!c.nextIndices.includes(g));if(m!==void 0){a(d,u,m,!0);continue}const v=e.at(u);i.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:Om(v,void 0),annotation:e.annotationAt(u)}),s=!0}for(const u of r.index.values()){for(const d of u){const f=n.at(d);i.push({fromIndex:void 0,toIndex:d,hasMoved:!1,diff:Pm(f,void 0),annotation:n.annotationAt(d)})}s=!0}return i.sort(_Nt),$7(e,n,i,s)}function _Nt(e,t){if(e.toIndex!==void 0&&t.toIndex!==void 0)return e.toIndex-t.toIndex;if(e.fromIndex!==void 0&&t.fromIndex!==void 0)return e.fromIndex-t.fromIndex;if(e.fromIndex!==void 0&&t.toIndex!==void 0)return-1;if(e.toIndex!==void 0&&t.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function gJ(e,t,n){const r=e.get(t);SNt(r,n),r.length===0&&e.delete(t)}function SNt(e,t){const n=e.indexOf(t);if(n===-1)throw new Error("value not found");e.splice(n,1)}function vJ(e){const t=new Map,n=[],r=e.length;for(let o=0;o<r;o++){const i=e.at(o);let s=null;switch(i.type){case"string":s="s".concat(i.value);break;case"number":s=i.value;break;case"boolean":s=i.value;break;case"null":s="n";break;case"object":{const c=i.get("_key");if(c&&c.type==="string"&&(s="k".concat(c.value),t.has(s)))return}break}if(s===null)return;n.push(s);let a=t.get(s);a||(a=[],t.set(s,a)),a.push(o)}return{keys:n,index:t}}function ENt(e,t,n){return{type:"array",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:Om(i,void 0),annotation:e.annotationAt(o)})}return lh(this,"items",r)}}}function kNt(e,t,n){return{type:"array",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get items(){const r=[];for(let o=0;o<e.length;o++){const i=e.at(o);r.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:Pm(i,void 0),annotation:e.annotationAt(o)})}return lh(this,"items",r)}}}function jNt(e,t,n){const r=e.value,o=t.value;return r===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:r,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:r}]}:{type:"string",action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation,get segments(){const i=TNt(e,t);return lh(this,"segments",i)}}}function TNt(e,t){const n=[],r=y9(Uw(e.value,t.value));let o=0,i=0;for(const[s,a]of r)switch(s){case Et:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:for(const c of e.sliceAnnotation(o,o+a.length))n.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=a.length;break;case Zn:for(const c of t.sliceAnnotation(i,i+a.length))n.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});i+=a.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(s,'"'))}return n}function ANt(e,t,n){return{type:"string",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return lh(this,"segments",r)}}}function DNt(e,t,n){return{type:"string",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get segments(){const r=e.sliceAnnotation(0,e.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return lh(this,"segments",r)}}}function INt(e,t,n){return{type:"typeChange",action:"changed",isChanged:!0,fromType:e.type,fromValue:e.value,fromDiff:Om(e,void 0),toType:t.type,toValue:t.value,toDiff:Pm(t,void 0),annotation:t.annotation}}const yJ=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function ONt(e,t,n){const r={};let o=!1;for(const a of e.keys){if(yJ.has(a))continue;const c=e.get(a),u=t.get(a);if(u){const d=pA(c,u);r[a]=d,d.isChanged&&(o=!0)}else r[a]=Om(c,void 0),o=!0}for(const a of t.keys){if(yJ.has(a)||e.get(a))continue;const c=t.get(a);r[a]=Pm(c,void 0),o=!0}const i=e.value,s=t.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:i,toValue:s,fields:r,annotation:t.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:i,toValue:s,fields:r}}function PNt(e,t,n){return{type:"object",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Om(i,void 0)}return lh(this,"fields",r)}}}function RNt(e,t,n){return{type:"object",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation,get fields(){const r={};for(const o of e.keys){const i=e.get(o);r[o]=Pm(i,void 0)}return lh(this,"fields",r)}}}function $Nt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function MNt(e,t,n){const r=e.value,o=t.value,i=e.type;return r===o?{type:i,action:"unchanged",fromValue:r,toValue:o,isChanged:!1}:{type:e.type,action:"changed",isChanged:!0,fromValue:r,toValue:o,annotation:t.annotation}}function pA(e,t){return e.type!==t.type?e.type==="null"?Pm(t,null):t.type==="null"?Om(e,null):INt(e,t):FNt(e.type,e,t)}function FNt(e,t,n,r){switch(e){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return MNt(t,n);case"number":return $Nt(t,n);case"string":return jNt(t,n);case"array":return xNt(t,n);case"object":return ONt(t,n);default:throw new Error('Unhandled diff type "'.concat(e,'"'))}}function Om(e,t,n){switch(e.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:t,annotation:e.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:e.value,toValue:t,annotation:e.annotation};case"string":return ANt(e,t);case"array":return ENt(e,t);case"object":return PNt(e,t);default:throw new Error("Unhandled diff type")}}function Pm(e,t,n){switch(e.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:t,toValue:null,annotation:e.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:t,toValue:e.value,annotation:e.annotation};case"string":return DNt(e,t);case"array":return kNt(e,t);case"object":return RNt(e,t);default:throw new Error("Unhandled diff type")}}class LNt{constructor(t,n){this.type="array",this.elements=[],this.annotation=n,this.value=t,this.length=t.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=M7(this.value[t],this.annotation))}annotationAt(){return this.annotation}}class BNt{constructor(t,n){this.type="object",this.fields={},this.value=t,this.annotation=n,this.keys=Object.keys(t)}get(t){const n=this.fields[t];if(n)return n;if(!this.value.hasOwnProperty(t))return;const r=this.value[t];return this.fields[t]=M7(r,this.annotation)}}let NNt=class{constructor(t,n){this.type="string",this.value=t,this.annotation=n}sliceAnnotation(t,n){return[{text:this.value.slice(t,n),annotation:this.annotation}]}};class fO{constructor(t,n,r){this.type=t,this.value=n,this.annotation=r}}function M7(e,t){if(Array.isArray(e))return new LNt(e,t);if(e===null)return new fO("null",e,t);const n=typeof e;switch(n){case"number":return new fO(n,e,t);case"boolean":return new fO(n,e,t);case"object":return new BNt(e,t);case"string":return new NNt(e,t);default:throw new Error("cannot wrap value of type: ".concat(n))}}var wTe={exports:{}},CTe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rC=h;function zNt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VNt=typeof Object.is=="function"?Object.is:zNt,HNt=rC.useSyncExternalStore,UNt=rC.useRef,WNt=rC.useEffect,qNt=rC.useMemo,YNt=rC.useDebugValue;CTe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=UNt(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=qNt(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),o!==void 0&&s.hasValue){var v=s.value;if(o(v,m))return f=v}return f=m}if(v=f,VNt(d,m))return v;var g=r(m);return o!==void 0&&o(v,g)?v:(d=m,f=g)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return c(t())},p===null?void 0:function(){return c(p())}]},[t,n,r,o]);var a=HNt(e,i[0],i[1]);return WNt(function(){s.hasValue=!0,s.value=a},[a]),YNt(a),a};wTe.exports=CTe;var F7=wTe.exports,GNt=Math.floor,KNt=Math.random;function ZNt(e,t){return e+GNt(KNt()*(t-e+1))}var XNt=ZNt,QNt=XNt;function JNt(e){var t=e.length;return t?e[QNt(0,t-1)]:void 0}var _Te=JNt,ezt=_Te,tzt=iTe;function nzt(e){return ezt(tzt(e))}var rzt=nzt,ozt=_Te,izt=rzt,szt=to;function azt(e){var t=szt(e)?ozt:izt;return t(e)}var lzt=azt;const czt=Ie(lzt);var uzt=function(){function e(n,r){if(typeof n!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+n+"."));this._batchLoadFn=n,this._maxBatchSize=pzt(r),this._batchScheduleFn=mzt(r),this._cacheKeyFn=gzt(r),this._cacheMap=vzt(r),this._batch=null,this.name=yzt(r)}var t=e.prototype;return t.load=function(r){if(r==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(r)+"."));var o=fzt(this),i=this._cacheMap,s=this._cacheKeyFn(r);if(i){var a=i.get(s);if(a){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(d){c.push(function(){d(a)})})}}o.keys.push(r);var u=new Promise(function(d,f){o.callbacks.push({resolve:d,reject:f})});return i&&i.set(s,u),u},t.loadMany=function(r){if(!STe(r))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+r+"."));for(var o=[],i=0;i<r.length;i++)o.push(this.load(r[i]).catch(function(s){return s}));return Promise.all(o)},t.clear=function(r){var o=this._cacheMap;if(o){var i=this._cacheKeyFn(r);o.delete(i)}return this},t.clearAll=function(){var r=this._cacheMap;return r&&r.clear(),this},t.prime=function(r,o){var i=this._cacheMap;if(i){var s=this._cacheKeyFn(r);if(i.get(s)===void 0){var a;o instanceof Error?(a=Promise.reject(o),a.catch(function(){})):a=Promise.resolve(o),i.set(s,a)}}return this},e}(),dzt=typeof process=="object"&&typeof process.nextTick=="function"?function(e){hO||(hO=Promise.resolve()),hO.then(function(){process.nextTick(e)})}:typeof setImmediate=="function"?function(e){setImmediate(e)}:function(e){setTimeout(e)},hO;function fzt(e){var t=e._batch;if(t!==null&&!t.hasDispatched&&t.keys.length<e._maxBatchSize)return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn(function(){hzt(e,n)}),n}function hzt(e,t){if(t.hasDispatched=!0,t.keys.length===0){WM(t);return}var n;try{n=e._batchLoadFn(t.keys)}catch(r){return pO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(r)+".")))}if(!n||typeof n.then!="function")return pO(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(n)+".")));n.then(function(r){if(!STe(r))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(r)+"."));if(r.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(t.keys))+(`

Values:
`+String(r)));WM(t);for(var o=0;o<t.callbacks.length;o++){var i=r[o];i instanceof Error?t.callbacks[o].reject(i):t.callbacks[o].resolve(i)}}).catch(function(r){pO(e,t,r)})}function pO(e,t,n){WM(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function WM(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function pzt(e){var t=!e||e.batch!==!1;if(!t)return 1;var n=e&&e.maxBatchSize;if(n===void 0)return 1/0;if(typeof n!="number"||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}function mzt(e){var t=e&&e.batchScheduleFn;if(t===void 0)return dzt;if(typeof t!="function")throw new TypeError("batchScheduleFn must be a function: "+t);return t}function gzt(e){var t=e&&e.cacheKeyFn;if(t===void 0)return function(n){return n};if(typeof t!="function")throw new TypeError("cacheKeyFn must be a function: "+t);return t}function vzt(e){var t=!e||e.cache!==!1;if(!t)return null;var n=e&&e.cacheMap;if(n===void 0)return new Map;if(n!==null){var r=["get","set","delete","clear"],o=r.filter(function(i){return n&&typeof n[i]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return n}function yzt(e){return e&&e.name?e.name:null}function STe(e){return typeof e=="object"&&e!==null&&typeof e.length=="number"&&(e.length===0||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var bzt=uzt;const xzt=Ie(bzt);var mA={exports:{}},Ry={exports:{}};(function(){var e,t,n,r,o,i;typeof performance<"u"&&performance!==null&&performance.now?Ry.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Ry.exports=function(){return(e()-o)/1e6},t=process.hrtime,e=function(){var s;return s=t(),s[0]*1e9+s[1]},r=e(),i=process.uptime()*1e9,o=r-i):Date.now?(Ry.exports=function(){return Date.now()-n},n=Date.now()):(Ry.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(ws);var wzt=Ry.exports,Czt=wzt,Tu=typeof window>"u"?ws:window,e2=["moz","webkit"],bv="AnimationFrame",i0=Tu["request"+bv],Ox=Tu["cancel"+bv]||Tu["cancelRequest"+bv];for(var ey=0;!i0&&ey<e2.length;ey++)i0=Tu[e2[ey]+"Request"+bv],Ox=Tu[e2[ey]+"Cancel"+bv]||Tu[e2[ey]+"CancelRequest"+bv];if(!i0||!Ox){var mO=0,bJ=0,Eh=[],_zt=1e3/60;i0=function(e){if(Eh.length===0){var t=Czt(),n=Math.max(0,_zt-(t-mO));mO=n+t,setTimeout(function(){var r=Eh.slice(0);Eh.length=0;for(var o=0;o<r.length;o++)if(!r[o].cancelled)try{r[o].callback(mO)}catch(i){setTimeout(function(){throw i},0)}},Math.round(n))}return Eh.push({handle:++bJ,callback:e,cancelled:!1}),bJ},Ox=function(e){for(var t=0;t<Eh.length;t++)Eh[t].handle===e&&(Eh[t].cancelled=!0)}}mA.exports=function(e){return i0.call(Tu,e)};mA.exports.cancel=function(){Ox.apply(Tu,arguments)};mA.exports.polyfill=function(e){e||(e=Tu),e.requestAnimationFrame=i0,e.cancelAnimationFrame=Ox};var Szt=mA.exports;const Ezt=Ie(Szt);function _b(e,t,n){return Math.min(Math.max(e,n),t)}class kzt extends Error{constructor(t){super(`Failed to parse color: "${t}"`)}}var $y=kzt;function ETe(e){if(typeof e!="string")throw new $y(e);if(e.trim().toLowerCase()==="transparent")return[0,0,0,0];let t=e.trim();t=Rzt.test(e)?Azt(e):e;const n=Dzt.exec(t);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Px(a,2),16)),parseInt(Px(s[3]||"f",2),16)/255]}const r=Izt.exec(t);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const o=Ozt.exec(t);if(o){const s=Array.from(o).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const i=Pzt.exec(t);if(i){const[s,a,c,u]=Array.from(i).slice(1).map(parseFloat);if(_b(0,100,a)!==a)throw new $y(e);if(_b(0,100,c)!==c)throw new $y(e);return[...$zt(s,a,c),Number.isNaN(u)?1:u]}throw new $y(e)}function jzt(e){let t=5381,n=e.length;for(;n;)t=t*33^e.charCodeAt(--n);return(t>>>0)%2341}const xJ=e=>parseInt(e.replace(/_/g,""),36),Tzt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((e,t)=>{const n=xJ(t.substring(0,3)),r=xJ(t.substring(3)).toString(16);let o="";for(let i=0;i<6-r.length;i++)o+="0";return e[n]=`${o}${r}`,e},{});function Azt(e){const t=e.toLowerCase().trim(),n=Tzt[jzt(t)];if(!n)throw new $y(e);return`#${n}`}const Px=(e,t)=>Array.from(Array(t)).map(()=>e).join(""),Dzt=new RegExp(`^#${Px("([a-f0-9])",3)}([a-f0-9])?$`,"i"),Izt=new RegExp(`^#${Px("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),Ozt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Px(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),Pzt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,Rzt=/^[a-z]+$/i,wJ=e=>Math.round(e*255),$zt=(e,t,n)=>{let r=n/100;if(t===0)return[r,r,r].map(wJ);const o=(e%360+360)%360/60,i=(1-Math.abs(2*r-1))*(t/100),s=i*(1-Math.abs(o%2-1));let a=0,c=0,u=0;o>=0&&o<1?(a=i,c=s):o>=1&&o<2?(a=s,c=i):o>=2&&o<3?(c=i,u=s):o>=3&&o<4?(c=s,u=i):o>=4&&o<5?(a=s,u=i):o>=5&&o<6&&(a=i,u=s);const d=r-i/2,f=a+d,p=c+d,m=u+d;return[f,p,m].map(wJ)};function Mzt(e){const[t,n,r,o]=ETe(e).map((f,p)=>p===3?f:f/255),i=Math.max(t,n,r),s=Math.min(t,n,r),a=(i+s)/2;if(i===s)return[0,0,a,o];const c=i-s,u=a>.5?c/(2-i-s):c/(i+s);return[60*(t===i?(n-r)/c+(n<r?6:0):n===i?(r-t)/c+2:(t-n)/c+4),u,a,o]}function Fzt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${_b(0,100,t*100).toFixed()}%, ${_b(0,100,n*100).toFixed()}%, ${parseFloat(_b(0,1,r).toFixed(3))})`}function kTe(e,t){const[n,r,o,i]=Mzt(e);return Fzt(n,r,o-t,i)}function qM(e){if(e==="transparent")return 0;function t(i){const s=i/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,o]=ETe(e);return .2126*t(n)+.7152*t(r)+.0722*t(o)}function Lzt(e,t){const n=qM(e),r=qM(t);return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)}const Bzt={decorative:1.5,readable:3,aa:4.5,aaa:7};function CJ(e,t="aa",n="#fff"){return Lzt(e,n)<Bzt[t]}function Nzt(e,t){return kTe(e,-t)}function zzt(e){return qM(e)>.179}function Vzt(e){return zzt(e)?"#000":"#fff"}var Hzt=o_e,Uzt=Iw,Wzt=uT,qzt=to,Yzt=eh,Gzt=dT,Kzt=hT,Zzt=d8,Xzt="[object Map]",Qzt="[object Set]",Jzt=Object.prototype,eVt=Jzt.hasOwnProperty;function tVt(e){if(e==null)return!0;if(Yzt(e)&&(qzt(e)||typeof e=="string"||typeof e.splice=="function"||Gzt(e)||Zzt(e)||Wzt(e)))return!e.length;var t=Uzt(e);if(t==Xzt||t==Qzt)return!e.size;if(Kzt(e))return!Hzt(e).length;for(var n in e)if(eVt.call(e,n))return!1;return!0}var nVt=tVt;const rVt=Ie(nVt);var oVt=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),iVt=()=>{try{return!!(oVt&&import.meta.webpackHot)}catch{return!1}};function sVt(e){if(iVt)return typeof import.meta.webpackHot>"u"?lVt(e):aVt(e)}function aVt(e){h.useEffect(()=>{if(import.meta.webpackHot){const t=n=>n==="idle"?e():void 0;return import.meta.webpackHot.addStatusHandler(t),()=>{var n;return(n=import.meta.webpackHot)==null?void 0:n.removeStatusHandler(t)}}},[e])}function lVt(e){h.useEffect(()=>{},[e])}var cVt=L7;L7.displayName="bash";L7.aliases=["shell"];function L7(e){(function(t){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=o.variable[1].inside,a=0;a<i.length;a++)s[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash})(e)}const uVt=Ie(cVt);var dVt=B7;B7.displayName="json";B7.aliases=["webmanifest"];function B7(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}const fVt=Ie(dVt);var hVt=N7;N7.displayName="jsx";N7.aliases=[];function N7(e){(function(t){var n=t.util.clone(t.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,d){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return i}),RegExp(u,d)}i=s(i).source,t.languages.jsx=t.languages.extend("markup",n),t.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),t.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,t.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,t.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,t.languages.jsx.tag.inside.comment=n.comment,t.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:t.languages.jsx}},t.languages.jsx.tag),t.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:t.languages.jsx}}},t.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},c=function(u){for(var d=[],f=0;f<u.length;f++){var p=u[f],m=!1;if(typeof p!="string"&&(p.type==="tag"&&p.content[0]&&p.content[0].type==="tag"?p.content[0].content[0].content==="</"?d.length>0&&d[d.length-1].tagName===a(p.content[0].content[1])&&d.pop():p.content[p.content.length-1].content==="/>"||d.push({tagName:a(p.content[0].content[1]),openedBraces:0}):d.length>0&&p.type==="punctuation"&&p.content==="{"?d[d.length-1].openedBraces++:d.length>0&&d[d.length-1].openedBraces>0&&p.type==="punctuation"&&p.content==="}"?d[d.length-1].openedBraces--:m=!0),(m||typeof p=="string")&&d.length>0&&d[d.length-1].openedBraces===0){var v=a(p);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(v+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(v=a(u[f-1])+v,u.splice(f-1,1),f--),u[f]=new t.Token("plain-text",v,null,v)}p.content&&typeof p.content!="string"&&c(p.content)}};t.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(e)}const pVt=Ie(hVt);var mVt=z7;z7.displayName="typescript";z7.aliases=["ts"];function z7(e){(function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var n=t.languages.extend("typescript",{});delete n["class-name"],t.languages.typescript["class-name"].inside=n,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),t.languages.ts=t.languages.typescript})(e)}const gVt=Ie(mVt);var mc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(mc||(mc={}));var l5=function(e){return e},_J="beforeunload",vVt="popstate";function yVt(e){e===void 0&&(e={});var t=e,n=t.window,r=n===void 0?document.defaultView:n,o=r.history;function i(){var E=r.location,j=E.pathname,k=E.search,T=E.hash,A=o.state||{};return[A.idx,l5({pathname:j,search:k,hash:T,state:A.usr||null,key:A.key||"default"})]}var s=null;function a(){if(s)m.call(s),s=null;else{var E=mc.Pop,j=i(),k=j[0],T=j[1];if(m.length){if(k!=null){var A=d-k;A&&(s={action:E,location:T,retry:function(){_(A*-1)}},_(A))}}else y(E)}}r.addEventListener(vVt,a);var c=mc.Pop,u=i(),d=u[0],f=u[1],p=c5(),m=c5();d==null&&(d=0,o.replaceState(Hu({},o.state,{idx:d}),""));function v(E){return typeof E=="string"?E:jTe(E)}function g(E,j){return j===void 0&&(j=null),l5(Hu({pathname:f.pathname,hash:"",search:""},typeof E=="string"?GM(E):E,{state:j,key:YM()}))}function b(E,j){return[{usr:E.state,key:E.key,idx:j},v(E)]}function x(E,j,k){return!m.length||(m.call({action:E,location:j,retry:k}),!1)}function y(E){c=E;var j=i();d=j[0],f=j[1],p.call({action:c,location:f})}function w(E,j){var k=mc.Push,T=g(E,j);function A(){w(E,j)}if(x(k,T,A)){var D=b(T,d+1),I=D[0],O=D[1];try{o.pushState(I,"",O)}catch{r.location.assign(O)}y(k)}}function C(E,j){var k=mc.Replace,T=g(E,j);function A(){C(E,j)}if(x(k,T,A)){var D=b(T,d),I=D[0],O=D[1];o.replaceState(I,"",O),y(k)}}function _(E){o.go(E)}var S={get action(){return c},get location(){return f},createHref:v,push:w,replace:C,go:_,back:function(){_(-1)},forward:function(){_(1)},listen:function(j){return p.push(j)},block:function(j){var k=m.push(j);return m.length===1&&r.addEventListener(_J,EJ),function(){k(),m.length||r.removeEventListener(_J,EJ)}}};return S}function bVt(e){e===void 0&&(e={});var t=e,n=t.initialEntries,r=n===void 0?["/"]:n,o=t.initialIndex,i=r.map(function(w){var C=l5(Hu({pathname:"/",search:"",hash:"",state:null,key:YM()},typeof w=="string"?GM(w):w));return C}),s=SJ(o??i.length-1,0,i.length-1),a=mc.Pop,c=i[s],u=c5(),d=c5();function f(w){return typeof w=="string"?w:jTe(w)}function p(w,C){return C===void 0&&(C=null),l5(Hu({pathname:c.pathname,search:"",hash:""},typeof w=="string"?GM(w):w,{state:C,key:YM()}))}function m(w,C,_){return!d.length||(d.call({action:w,location:C,retry:_}),!1)}function v(w,C){a=w,c=C,u.call({action:a,location:c})}function g(w,C){var _=mc.Push,S=p(w,C);function E(){g(w,C)}m(_,S,E)&&(s+=1,i.splice(s,i.length,S),v(_,S))}function b(w,C){var _=mc.Replace,S=p(w,C);function E(){b(w,C)}m(_,S,E)&&(i[s]=S,v(_,S))}function x(w){var C=SJ(s+w,0,i.length-1),_=mc.Pop,S=i[C];function E(){x(w)}m(_,S,E)&&(s=C,v(_,S))}var y={get index(){return s},get action(){return a},get location(){return c},createHref:f,push:g,replace:b,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return d.push(C)}};return y}function SJ(e,t,n){return Math.min(Math.max(e,t),n)}function EJ(e){e.preventDefault(),e.returnValue=""}function c5(){var e=[];return{get length(){return e.length},push:function(n){return e.push(n),function(){e=e.filter(function(r){return r!==n})}},call:function(n){e.forEach(function(r){return r&&r(n)})}}}function YM(){return Math.random().toString(36).substr(2,8)}function jTe(e){var t=e.pathname,n=t===void 0?"/":t,r=e.search,o=r===void 0?"":r,i=e.hash,s=i===void 0?"":i;return o&&o!=="?"&&(n+=o.charAt(0)==="?"?o:"?"+o),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function GM(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var xVt=Mc,TTe=/[\\^$.*+?()[\]{}|]/g,wVt=RegExp(TTe.source);function CVt(e){return e=xVt(e),e&&wVt.test(e)?e.replace(TTe,"\\$&"):e}var _Vt=CVt;const V7=Ie(_Vt);var ATe,kJ=cc;ATe=kJ.createRoot,kJ.hydrateRoot;h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("path",{d:"M32 0L0 32H32V0Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M32 32H0L32 64V32Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M64 32H32V64L64 32Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M112 0L80 32H112V0Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M112 0H80V32L112 0Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M112 32H80L112 64V32Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M144 64L112 32V64H144Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M80 32V64H112L80 32Z",fill:fe.orange[400].hex}),l.jsx("path",{d:"M112 0V32H144L112 0Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M192 0L160 32H192V0Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M192 32H160L192 64V32Z",fill:fe.orange[400].hex}),l.jsx("path",{d:"M224 32H192V64L224 32Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M192 0V32H224L192 0Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M272 0L240 32H272V0Z",fill:fe.purple[300].hex}),l.jsx("path",{d:"M304 32L272 64H304V32Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M272 32H240L272 64V32Z",fill:fe.blue[300].hex}),l.jsx("path",{d:"M304 32H272V64L304 32Z",fill:fe.yellow[200].hex}),l.jsx("path",{d:"M272 0V32H304L272 0Z",fill:fe.green[300].hex})]})});h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:fe.green[950].hex}),l.jsx("rect",{y:"32",width:"64",height:"64",fill:fe.green[800].hex}),l.jsx("path",{d:"M64 32L32 64H64V32Z",fill:fe.magenta[400].hex}),l.jsx("path",{d:"M64 64H32L64 96V64Z",fill:fe.green[300].hex}),l.jsx("path",{d:"M96 64H64V96L96 64Z",fill:fe.purple[300].hex})]})});const SVt={light:[fe.red[200].hex,fe.red[300].hex,fe.red[500].hex],dark:[fe.gray[500].hex,fe.gray[300].hex,Sa.hex]},EVt=h.forwardRef(function(t,n){const{dark:r,...o}=t,i=SVt[r?"dark":"light"];return l.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:i[1]}),l.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:i[2]}),l.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:i[1]}),l.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:i[1]}),l.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:i[0]}),l.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:i[2]}),l.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:i[2]}),l.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:i[1]}),l.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:i[2]}),l.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:i[1]}),l.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:i[0]}),l.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:i[1]}),l.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:i[2]}),l.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:i[2]}),l.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:i[1]}),l.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:i[1]})]})}),kVt={bg1:fe.red[500].hex,bg2:fe.red[200].hex,fg:Sa.hex},jVt=h.forwardRef(function(t,n){const{color:r=kVt,...o}=t;return l.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...o,ref:n,children:[l.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),l.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),l.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),l.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var X0={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DTe=h;function Tt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gO=!1;function Re(e,t){return gO&&(gO=!1,t[0]!=="<"&&e.push("<!-- -->")),t==="<!-- -->"?gO=!0:e.push(t)}var Ls=Object.prototype.hasOwnProperty,TVt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jJ={},TJ={};function ITe(e){return Ls.call(TJ,e)?!0:Ls.call(jJ,e)?!1:TVt.test(e)?TJ[e]=!0:(jJ[e]=!0,!1)}function as(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ii={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ii[e]=new as(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ii[t]=new as(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ii[e]=new as(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ii[e]=new as(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ii[e]=new as(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ii[e]=new as(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ii[e]=new as(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ii[e]=new as(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ii[e]=new as(e,5,!1,e.toLowerCase(),null,!1,!1)});var H7=/[\-:]([a-z])/g;function U7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H7,U7);ii[t]=new as(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H7,U7);ii[t]=new as(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H7,U7);ii[t]=new as(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ii[e]=new as(e,1,!1,e.toLowerCase(),null,!1,!1)});ii.xlinkHref=new as("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ii[e]=new as(e,1,!1,e.toLowerCase(),null,!0,!0)});var AS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AVt=["Webkit","ms","Moz","O"];Object.keys(AS).forEach(function(e){AVt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),AS[t]=AS[e]})});var DVt=/["'&<>]/;function Gi(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=DVt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var IVt=/([A-Z])/g,OVt=/^ms-/,KM=Array.isArray;function Xc(e,t){return{insertionMode:e,selectedValue:t}}function PVt(e,t,n){switch(t){case"select":return Xc(1,n.value!=null?n.value:n.defaultValue);case"svg":return Xc(2,null);case"math":return Xc(3,null);case"foreignObject":return Xc(1,null);case"table":return Xc(4,null);case"thead":case"tbody":case"tfoot":return Xc(5,null);case"colgroup":return Xc(7,null);case"tr":return Xc(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Xc(1,null):e}function AJ(e,t){t!==""&&e.push(Gi(t),"<!-- -->")}var DJ=new Map;function OTe(e,t,n){if(typeof n!="object")throw Error(Tt(62));t=!0;for(var r in n)if(Ls.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Gi(r);o=Gi((""+o).trim())}else{i=r;var s=DJ.get(i);s!==void 0||(s=Gi(i.replace(IVt,"-$1").toLowerCase().replace(OVt,"-ms-")),DJ.set(i,s)),i=s,o=typeof o=="number"?o===0||Ls.call(AS,r)?""+o:o+"px":Gi((""+o).trim())}t?(t=!1,e.push(' style="',i,":",o)):e.push(";",i,":",o)}}t||e.push('"')}function xa(e,t,n,r){switch(n){case"style":OTe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=ii.hasOwnProperty(n)?ii[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=t.attributeName,t.type){case 3:r&&e.push(" ",n,'=""');break;case 4:r===!0?e.push(" ",n,'=""'):r!==!1&&e.push(" ",n,'="',Gi(r),'"');break;case 5:isNaN(r)||e.push(" ",n,'="',Gi(r),'"');break;case 6:!isNaN(r)&&1<=r&&e.push(" ",n,'="',Gi(r),'"');break;default:t.sanitizeURL&&(r=""+r),e.push(" ",n,'="',Gi(r),'"')}}else if(ITe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(" ",n,'="',Gi(r),'"')}}}function DS(e,t,n){if(t!=null){if(n!=null)throw Error(Tt(60));if(typeof t!="object"||!("__html"in t))throw Error(Tt(61));t=t.__html,t!=null&&e.push(""+t)}}function RVt(e){var t="";return DTe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}function vO(e,t,n,r){e.push(ou(n));var o=n=null,i;for(i in t)if(Ls.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:xa(e,r,i,s)}}return e.push(">"),DS(e,o,n),typeof n=="string"?(e.push(Gi(n)),null):n}var $Vt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,IJ=new Map;function ou(e){var t=IJ.get(e);if(t===void 0){if(!$Vt.test(e))throw Error(Tt(65,e));t="<"+e,IJ.set(e,t)}return t}function MVt(e,t,n,r,o){switch(t){case"select":e.push(ou("select"));var i=null,s=null;for(d in n)if(Ls.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:xa(e,r,d,a)}}return e.push(">"),DS(e,s,i),i;case"option":s=o.selectedValue,e.push(ou("option"));var c=a=null,u=null,d=null;for(i in n)if(Ls.call(n,i)&&(t=n[i],t!=null))switch(i){case"children":a=t;break;case"selected":u=t;break;case"dangerouslySetInnerHTML":d=t;break;case"value":c=t;default:xa(e,r,i,t)}if(s!=null)if(n=c!==null?""+c:RVt(a),KM(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(' selected=""');break}}else""+s===n&&e.push(' selected=""');else u&&e.push(' selected=""');return e.push(">"),DS(e,d,a),a;case"textarea":e.push(ou("textarea")),d=s=i=null;for(a in n)if(Ls.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Tt(91));default:xa(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(">"),d!=null){if(i!=null)throw Error(Tt(92));if(KM(d)&&1<d.length)throw Error(Tt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i!==null&&e.push(Gi(""+i)),null;case"input":e.push(ou("input")),c=d=a=i=null;for(s in n)if(Ls.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Tt(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:xa(e,r,s,u)}return d!==null?xa(e,r,"checked",d):c!==null&&xa(e,r,"checked",c),i!==null?xa(e,r,"value",i):a!==null&&xa(e,r,"value",a),e.push("/>"),null;case"menuitem":e.push(ou("menuitem"));for(var f in n)if(Ls.call(n,f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Tt(400));default:xa(e,r,f,i)}return e.push(">"),null;case"listing":case"pre":e.push(ou(t)),s=i=null;for(c in n)if(Ls.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:xa(e,r,c,a)}if(e.push(">"),s!=null){if(i!=null)throw Error(Tt(60));if(typeof s!="object"||!("__html"in s))throw Error(Tt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(`
`,n):e.push(""+n))}return typeof i=="string"&&i[0]===`
`&&e.push(`
`),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(ou(t));for(var p in n)if(Ls.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Tt(399,t));default:xa(e,r,p,i)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return vO(e,n,t,r);case"html":return o.insertionMode===0&&e.push("<!DOCTYPE html>"),vO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return vO(e,n,t,r);e.push(ou(t)),s=i=null;for(u in n)if(Ls.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":OTe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:ITe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(" ",u,'="',Gi(a),'"')}return e.push(">"),DS(e,s,i),i}}function OJ(e,t,n){if(Re(e,'<!--$?--><template id="'),n===null)throw Error(Tt(395));return Re(e,n),Re(e,'"></template>')}function FVt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return Re(e,'<div hidden id="'),Re(e,t.segmentPrefix),t=r.toString(16),Re(e,t),Re(e,'">');case 2:return Re(e,'<svg aria-hidden="true" style="display:none" id="'),Re(e,t.segmentPrefix),t=r.toString(16),Re(e,t),Re(e,'">');case 3:return Re(e,'<math aria-hidden="true" style="display:none" id="'),Re(e,t.segmentPrefix),t=r.toString(16),Re(e,t),Re(e,'">');case 4:return Re(e,'<table hidden id="'),Re(e,t.segmentPrefix),t=r.toString(16),Re(e,t),Re(e,'">');case 5:return Re(e,'<table hidden><tbody id="'),Re(e,t.segmentPrefix),t=r.toString(16),Re(e,t),Re(e,'">');case 6:return Re(e,'<table hidden><tr id="'),Re(e,t.segmentPrefix),t=r.toString(16),Re(e,t),Re(e,'">');case 7:return Re(e,'<table hidden><colgroup id="'),Re(e,t.segmentPrefix),t=r.toString(16),Re(e,t),Re(e,'">');default:throw Error(Tt(397))}}function LVt(e,t){switch(t.insertionMode){case 0:case 1:return Re(e,"</div>");case 2:return Re(e,"</svg>");case 3:return Re(e,"</math>");case 4:return Re(e,"</table>");case 5:return Re(e,"</tbody></table>");case 6:return Re(e,"</tr></table>");case 7:return Re(e,"</colgroup></table>");default:throw Error(Tt(397))}}function BVt(e,t){return t=t===void 0?"":t,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:t+"P:",segmentPrefix:t+"S:",boundaryPrefix:t+"B:",idPrefix:t,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}var Sb=Object.assign,NVt=Symbol.for("react.element"),PTe=Symbol.for("react.portal"),RTe=Symbol.for("react.fragment"),$Te=Symbol.for("react.strict_mode"),MTe=Symbol.for("react.profiler"),FTe=Symbol.for("react.provider"),LTe=Symbol.for("react.context"),BTe=Symbol.for("react.forward_ref"),NTe=Symbol.for("react.suspense"),zTe=Symbol.for("react.suspense_list"),VTe=Symbol.for("react.memo"),W7=Symbol.for("react.lazy"),zVt=Symbol.for("react.scope"),VVt=Symbol.for("react.debug_trace_mode"),HVt=Symbol.for("react.legacy_hidden"),UVt=Symbol.for("react.default_value"),PJ=Symbol.iterator;function ZM(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case RTe:return"Fragment";case PTe:return"Portal";case MTe:return"Profiler";case $Te:return"StrictMode";case NTe:return"Suspense";case zTe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case LTe:return(e.displayName||"Context")+".Consumer";case FTe:return(e._context.displayName||"Context")+".Provider";case BTe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case VTe:return t=e.displayName||null,t!==null?t:ZM(e.type)||"Memo";case W7:t=e._payload,e=e._init;try{return ZM(e(t))}catch{}}return null}var HTe={};function RJ(e,t){if(e=e.contextTypes,!e)return HTe;var n={},r;for(r in e)n[r]=t[r];return n}var dp=null;function gA(e,t){if(e!==t){e.context._currentValue2=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Tt(401))}else{if(n===null)throw Error(Tt(401));gA(e,n)}t.context._currentValue2=t.value}}function UTe(e){e.context._currentValue2=e.parentValue,e=e.parent,e!==null&&UTe(e)}function WTe(e){var t=e.parent;t!==null&&WTe(t),e.context._currentValue2=e.value}function qTe(e,t){if(e.context._currentValue2=e.parentValue,e=e.parent,e===null)throw Error(Tt(402));e.depth===t.depth?gA(e,t):qTe(e,t)}function YTe(e,t){var n=t.parent;if(n===null)throw Error(Tt(402));e.depth===n.depth?gA(e,n):YTe(e,n),t.context._currentValue2=t.value}function u5(e){var t=dp;t!==e&&(t===null?WTe(e):e===null?UTe(t):t.depth===e.depth?gA(t,e):t.depth>e.depth?qTe(t,e):YTe(t,e),dp=e)}var $J={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function MJ(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=$J,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue2:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:Sb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&$J.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=Sb({},i,a)):Sb(i,a))}e.state=i}else i.queue=null}var WVt={id:1,overflow:""};function XM(e,t,n){var r=e.id;e=e.overflow;var o=32-IS(r)-1;r&=~(1<<o),n+=1;var i=32-IS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-IS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var IS=Math.clz32?Math.clz32:GVt,qVt=Math.log,YVt=Math.LN2;function GVt(e){return e>>>=0,e===0?32:31-(qVt(e)/YVt|0)|0}function KVt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ZVt=typeof Object.is=="function"?Object.is:KVt,Gu=null,q7=null,OS=null,Un=null,My=!1,d5=!1,Rx=0,ef=null,vA=0;function Kh(){if(Gu===null)throw Error(Tt(321));return Gu}function FJ(){if(0<vA)throw Error(Tt(312));return{memoizedState:null,queue:null,next:null}}function Y7(){return Un===null?OS===null?(My=!1,OS=Un=FJ()):(My=!0,Un=OS):Un.next===null?(My=!1,Un=Un.next=FJ()):(My=!0,Un=Un.next),Un}function G7(){q7=Gu=null,d5=!1,OS=null,vA=0,Un=ef=null}function GTe(e,t){return typeof t=="function"?t(e):t}function LJ(e,t,n){if(Gu=Kh(),Un=Y7(),My){var r=Un.queue;if(t=r.dispatch,ef!==null&&(n=ef.get(r),n!==void 0)){ef.delete(r),r=Un.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Un.memoizedState=r,[r,t]}return[Un.memoizedState,t]}return e=e===GTe?typeof t=="function"?t():t:n!==void 0?n(t):t,Un.memoizedState=e,e=Un.queue={last:null,dispatch:null},e=e.dispatch=XVt.bind(null,Gu,e),[Un.memoizedState,e]}function BJ(e,t){if(Gu=Kh(),Un=Y7(),t=t===void 0?null:t,Un!==null){var n=Un.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!ZVt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Un.memoizedState=[e,t],e}function XVt(e,t,n){if(25<=vA)throw Error(Tt(301));if(e===Gu)if(d5=!0,e={action:n,next:null},ef===null&&(ef=new Map),n=ef.get(t),n===void 0)ef.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function QVt(){throw Error(Tt(394))}function t2(){}var NJ={readContext:function(e){return e._currentValue2},useContext:function(e){return Kh(),e._currentValue2},useMemo:BJ,useReducer:LJ,useRef:function(e){Gu=Kh(),Un=Y7();var t=Un.memoizedState;return t===null?(e={current:e},Un.memoizedState=e):t},useState:function(e){return LJ(GTe,e)},useInsertionEffect:t2,useLayoutEffect:function(){},useCallback:function(e,t){return BJ(function(){return e},t)},useImperativeHandle:t2,useEffect:t2,useDebugValue:t2,useDeferredValue:function(e){return Kh(),e},useTransition:function(){return Kh(),[!1,QVt]},useId:function(){var e=q7.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-IS(e)-1)).toString(32)+t;var n=PS;if(n===null)throw Error(Tt(404));return t=Rx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Kh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Tt(407));return n()}},PS=null,yO=DTe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function JVt(e){console.error(e)}function Fy(){}function eHt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?JVt:o,onAllReady:i===void 0?Fy:i,onShellReady:s===void 0?Fy:s,onShellError:a===void 0?Fy:a,onFatalError:c===void 0?Fy:c},n=f5(t,0,null,n),n.parentFlushed=!0,e=K7(t,e,null,n,d,HTe,null,WVt),u.push(e),t}function K7(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&XTe(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function f5(e,t,n,r){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n}}function $x(e,t){e=e.onError,e(t)}function h5(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,e.destination.destroy(t)):(e.status=1,e.fatalError=t)}function zJ(e,t,n,r,o){for(Gu={},q7=t,Rx=0,e=n(r,o);d5;)d5=!1,Rx=0,vA+=1,Un=null,e=n(r,o);return G7(),e}function VJ(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Tt(108,ZM(r)||"Unknown",a));r=Sb({},s,n)}t.legacyContext=r,Bs(e,t,o),t.legacyContext=s}else Bs(e,t,o)}function HJ(e,t){if(e&&e.defaultProps){t=Sb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function QM(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=RJ(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue2:o),MJ(i,n,r,o),VJ(e,t,i,n)}else{i=RJ(n,t.legacyContext),o=zJ(e,t,n,r,i);var s=Rx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)MJ(o,n,r,i),VJ(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=XM(r,1,0);try{Bs(e,t,o)}finally{t.treeContext=r}}else Bs(e,t,o)}else if(typeof n=="string")switch(o=t.blockedSegment,i=MVt(o.chunks,n,r,e.responseState,o.formatContext),s=o.formatContext,o.formatContext=PVt(s,n,r),JM(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",n,">")}else{switch(n){case HVt:case VVt:case $Te:case MTe:case RTe:Bs(e,t,r.children);return;case zTe:Bs(e,t,r.children);return;case zVt:throw Error(Tt(343));case NTe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s},c=f5(e,o.chunks.length,a,o.formatContext);o.children.push(c);var u=f5(e,0,null,o.formatContext);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(JM(e,t,r),u.status=1,p5(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,$x(e,d),a.forceClientRender=!0}finally{t.blockedBoundary=n,t.blockedSegment=o}t=K7(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case BTe:if(r=zJ(e,t,n.render,r,o),Rx!==0){n=t.treeContext,t.treeContext=XM(n,1,0);try{Bs(e,t,r)}finally{t.treeContext=n}}else Bs(e,t,r);return;case VTe:n=n.type,r=HJ(n,r),QM(e,t,n,r,o);return;case FTe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue2,n._currentValue2=r,s=dp,dp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Bs(e,t,o),e=dp,e===null)throw Error(Tt(403));r=e.parentValue,e.context._currentValue2=r===UVt?e.context._defaultValue:r,e=dp=e.parent,t.context=e;return;case LTe:r=r.children,r=r(n._currentValue2),Bs(e,t,r);return;case W7:o=n._init,n=o(n._payload),r=HJ(n,r),QM(e,t,n,r,void 0);return}throw Error(Tt(130,n==null?n:typeof n,""))}}function Bs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case NVt:QM(e,t,n.type,n.props,n.ref);return;case PTe:throw Error(Tt(257));case W7:var r=n._init;n=r(n._payload),Bs(e,t,n);return}if(KM(n)){UJ(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=PJ&&n[PJ]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);UJ(e,t,o)}return}throw e=Object.prototype.toString.call(n),Error(Tt(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}typeof n=="string"?(t=t.blockedSegment.chunks,e.responseState.generateStaticMarkup?t.push(Gi(n)):AJ(t,n)):typeof n=="number"&&(t=t.blockedSegment.chunks,n=""+n,e.responseState.generateStaticMarkup?t.push(Gi(n)):AJ(t,n))}function UJ(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=XM(i,r,o);try{JM(e,t,n[o])}finally{t.treeContext=i}}}function JM(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Bs(e,t,n)}catch(c){if(G7(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=f5(e,s.chunks.length,null,s.formatContext);s.children.push(a),e=K7(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,u5(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,u5(i),c}}function tHt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,ZTe(this,t,e)}function KTe(e){var t=e.blockedBoundary;e.blockedSegment.status=3,t===null?(this.allPendingTasks--,this.status!==2&&(this.status=2,this.destination!==null&&this.destination.push(null))):(t.pendingTasks--,t.forceClientRender||(t.forceClientRender=!0,t.parentFlushed&&this.clientRenderedBoundaries.push(t)),t.fallbackAbortableTasks.forEach(KTe,this),t.fallbackAbortableTasks.clear(),this.allPendingTasks--,this.allPendingTasks===0&&(e=this.onAllReady,e()))}function p5(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&p5(e,n)}else e.completedSegments.push(t)}function ZTe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Tt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=Fy,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&p5(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(tHt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(p5(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function XTe(e){if(e.status!==2){var t=dp,n=yO.current;yO.current=NJ;var r=PS;PS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){u5(s.context);try{Bs(a,s,s.node),s.abortSet.delete(s),c.status=1,ZTe(a,s.blockedBoundary,c)}catch(m){if(G7(),typeof m=="object"&&m!==null&&typeof m.then=="function"){var u=s.ping;m.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=m;if($x(a,f),d===null?h5(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}o.splice(0,i),e.destination!==null&&Z7(e,e.destination)}catch(m){$x(e,m),h5(e,m)}finally{PS=r,yO.current=n,n===NJ&&u5(t)}}}function n2(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return e=e.responseState,Re(t,'<template id="'),Re(t,e.placeholderPrefix),e=r.toString(16),Re(t,e),Re(t,'"></template>');case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)Re(t,r[i]);o=yA(e,t,o)}for(;i<r.length-1;i++)Re(t,r[i]);return i<r.length&&(o=Re(t,r[i])),o;default:throw Error(Tt(390))}}function yA(e,t,n){var r=n.boundary;if(r===null)return n2(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)return e.responseState.generateStaticMarkup||Re(t,"<!--$!-->"),n2(e,t,n),e=e.responseState.generateStaticMarkup?!0:Re(t,"<!--/$-->"),e;if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;return o=o.boundaryPrefix+i.toString(16),r=r.id=o,OJ(t,e.responseState,r),n2(e,t,n),Re(t,"<!--/$-->")}if(r.byteSize>e.progressiveChunkSize)return r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),OJ(t,e.responseState,r.id),n2(e,t,n),Re(t,"<!--/$-->");if(e.responseState.generateStaticMarkup||Re(t,"<!--$-->"),n=r.completedSegments,n.length!==1)throw Error(Tt(391));return yA(e,t,n[0]),e=e.responseState.generateStaticMarkup?!0:Re(t,"<!--/$-->"),e}function WJ(e,t,n){return FVt(t,e.responseState,n.formatContext,n.id),yA(e,t,n),LVt(t,n.formatContext)}function qJ(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)QTe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,Re(t,e.startInlineScript),e.sentCompleteBoundaryFunction?Re(t,'$RC("'):(e.sentCompleteBoundaryFunction=!0,Re(t,'function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),r===null)throw Error(Tt(395));return n=n.toString(16),Re(t,r),Re(t,'","'),Re(t,e.segmentPrefix),Re(t,n),Re(t,'")<\/script>')}function QTe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Tt(392));return WJ(e,t,r)}return WJ(e,t,r),e=e.responseState,Re(t,e.startInlineScript),e.sentCompleteSegmentFunction?Re(t,'$RS("'):(e.sentCompleteSegmentFunction=!0,Re(t,'function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),Re(t,e.segmentPrefix),o=o.toString(16),Re(t,o),Re(t,'","'),Re(t,e.placeholderPrefix),Re(t,o),Re(t,'")<\/script>')}function Z7(e,t){try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){yA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)Re(t,r[n]);n<r.length&&Re(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){r=t;var s=e.responseState,a=o[i].id;if(Re(r,s.startInlineScript),s.sentClientRenderFunction?Re(r,'$RX("'):(s.sentClientRenderFunction=!0,Re(r,'function $RX(a){if(a=document.getElementById(a))a=a.previousSibling,a.data="$!",a._reactRetry&&a._reactRetry()};$RX("')),a===null)throw Error(Tt(395));if(Re(r,a),!Re(r,'")<\/script>')){e.destination=null,i++,o.splice(0,i);return}}o.splice(0,i);var c=e.completedBoundaries;for(i=0;i<c.length;i++)if(!qJ(e,t,c[i])){e.destination=null,i++,c.splice(0,i);return}c.splice(0,i);var u=e.partialBoundaries;for(i=0;i<u.length;i++){var d=u[i];e:{o=e,s=t;var f=d.completedSegments;for(a=0;a<f.length;a++)if(!QTe(o,s,d,f[a])){a++,f.splice(0,a);var p=!1;break e}f.splice(0,a),p=!0}if(!p){e.destination=null,i++,u.splice(0,i);return}}u.splice(0,i);var m=e.completedBoundaries;for(i=0;i<m.length;i++)if(!qJ(e,t,m[i])){e.destination=null,i++,m.splice(0,i);return}m.splice(0,i)}finally{e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.push(null)}}function nHt(e){try{var t=e.abortableTasks;t.forEach(KTe,e),t.clear(),e.destination!==null&&Z7(e,e.destination)}catch(n){$x(e,n),h5(e,n)}}function rHt(){}function JTe(e,t,n){var r=!1,o=null,i="",s={push:function(c){return c!==null&&(i+=c),!0},destroy:function(c){r=!0,o=c}},a=!1;if(e=eHt(e,BVt(n,t?t.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,rHt,void 0,function(){a=!0},void 0,void 0),XTe(e),nHt(e),e.status===1)e.status=2,s.destroy(e.fatalError);else if(e.status!==2&&e.destination===null){e.destination=s;try{Z7(e,s)}catch(c){$x(e,c),h5(e,c)}}if(r)throw o;if(!a)throw Error(Tt(426));return i}X0.renderToNodeStream=function(){throw Error(Tt(207))};X0.renderToStaticMarkup=function(e,t){return JTe(e,t,!0)};X0.renderToStaticNodeStream=function(){throw Error(Tt(208))};X0.renderToString=function(e,t){return JTe(e,t,!1)};X0.version="18.0.0-fc46dba67-20220329";var X7={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eAe=h;function Bt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ns=null,zs=0;function lt(e,t){if(t.length!==0)if(512<t.length)0<zs&&(e.enqueue(new Uint8Array(Ns.buffer,0,zs)),Ns=new Uint8Array(512),zs=0),e.enqueue(t);else{var n=Ns.length-zs;n<t.length&&(n===0?e.enqueue(Ns):(Ns.set(t.subarray(0,n),zs),e.enqueue(Ns),t=t.subarray(n)),Ns=new Uint8Array(512),zs=0),Ns.set(t,zs),zs+=t.length}}function Cr(e,t){return lt(e,t),!0}function YJ(e){Ns&&0<zs&&(e.enqueue(new Uint8Array(Ns.buffer,0,zs)),Ns=null,zs=0)}var tAe=new TextEncoder;function Kt(e){return tAe.encode(e)}function qe(e){return tAe.encode(e)}function nAe(e,t){typeof e.error=="function"?e.error(t):e.close()}var Vs=Object.prototype.hasOwnProperty,oHt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GJ={},KJ={};function rAe(e){return Vs.call(KJ,e)?!0:Vs.call(GJ,e)?!1:oHt.test(e)?KJ[e]=!0:(GJ[e]=!0,!1)}function ls(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){si[e]=new ls(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];si[t]=new ls(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){si[e]=new ls(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){si[e]=new ls(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){si[e]=new ls(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){si[e]=new ls(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){si[e]=new ls(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){si[e]=new ls(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){si[e]=new ls(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q7=/[\-:]([a-z])/g;function J7(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Q7,J7);si[t]=new ls(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Q7,J7);si[t]=new ls(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Q7,J7);si[t]=new ls(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){si[e]=new ls(e,1,!1,e.toLowerCase(),null,!1,!1)});si.xlinkHref=new ls("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){si[e]=new ls(e,1,!1,e.toLowerCase(),null,!0,!0)});var RS={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iHt=["Webkit","ms","Moz","O"];Object.keys(RS).forEach(function(e){iHt.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),RS[t]=RS[e]})});var sHt=/["'&<>]/;function zo(e){if(typeof e=="boolean"||typeof e=="number")return""+e;e=""+e;var t=sHt.exec(e);if(t){var n="",r,o=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}o!==r&&(n+=e.substring(o,r)),o=r+1,n+=t}e=o!==r?n+e.substring(o,r):n}return e}var aHt=/([A-Z])/g,lHt=/^ms-/,e4=Array.isArray,cHt=qe("<script>"),uHt=qe("<\/script>"),dHt=qe('<script src="'),fHt=qe('<script type="module" src="'),ZJ=qe('" async=""><\/script>');function hHt(e,t,n,r,o){e=e===void 0?"":e,t=t===void 0?cHt:qe('<script nonce="'+zo(t)+'">');var i=[];if(n!==void 0&&i.push(t,Kt(zo(n)),uHt),r!==void 0)for(n=0;n<r.length;n++)i.push(dHt,Kt(zo(r[n])),ZJ);if(o!==void 0)for(r=0;r<o.length;r++)i.push(fHt,Kt(zo(o[r])),ZJ);return{bootstrapChunks:i,startInlineScript:t,placeholderPrefix:qe(e+"P:"),segmentPrefix:qe(e+"S:"),boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function Jl(e,t){return{insertionMode:e,selectedValue:t}}function pHt(e){return Jl(e==="http://www.w3.org/2000/svg"?2:e==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function mHt(e,t,n){switch(t){case"select":return Jl(1,n.value!=null?n.value:n.defaultValue);case"svg":return Jl(2,null);case"math":return Jl(3,null);case"foreignObject":return Jl(1,null);case"table":return Jl(4,null);case"thead":case"tbody":case"tfoot":return Jl(5,null);case"colgroup":return Jl(7,null);case"tr":return Jl(6,null)}return 4<=e.insertionMode||e.insertionMode===0?Jl(1,null):e}var XJ=qe("<!-- -->"),QJ=new Map,gHt=qe(' style="'),JJ=qe(":"),vHt=qe(";");function oAe(e,t,n){if(typeof n!="object")throw Error(Bt(62));t=!0;for(var r in n)if(Vs.call(n,r)){var o=n[r];if(o!=null&&typeof o!="boolean"&&o!==""){if(r.indexOf("--")===0){var i=Kt(zo(r));o=Kt(zo((""+o).trim()))}else{i=r;var s=QJ.get(i);s!==void 0||(s=qe(zo(i.replace(aHt,"-$1").toLowerCase().replace(lHt,"-ms-"))),QJ.set(i,s)),i=s,o=typeof o=="number"?o===0||Vs.call(RS,r)?Kt(""+o):Kt(o+"px"):Kt(zo((""+o).trim()))}t?(t=!1,e.push(gHt,i,JJ,o)):e.push(vHt,i,JJ,o)}}t||e.push(Zh)}var jd=qe(" "),bg=qe('="'),Zh=qe('"'),eee=qe('=""');function wa(e,t,n,r){switch(n){case"style":oAe(e,t,r);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N"){if(t=si.hasOwnProperty(n)?si[n]:null,t!==null){switch(typeof r){case"function":case"symbol":return;case"boolean":if(!t.acceptsBooleans)return}switch(n=Kt(t.attributeName),t.type){case 3:r&&e.push(jd,n,eee);break;case 4:r===!0?e.push(jd,n,eee):r!==!1&&e.push(jd,n,bg,Kt(zo(r)),Zh);break;case 5:isNaN(r)||e.push(jd,n,bg,Kt(zo(r)),Zh);break;case 6:!isNaN(r)&&1<=r&&e.push(jd,n,bg,Kt(zo(r)),Zh);break;default:t.sanitizeURL&&(r=""+r),e.push(jd,n,bg,Kt(zo(r)),Zh)}}else if(rAe(n)){switch(typeof r){case"function":case"symbol":return;case"boolean":if(t=n.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-")return}e.push(jd,Kt(n),bg,Kt(zo(r)),Zh)}}}var Yh=qe(">"),tee=qe("/>");function $S(e,t,n){if(t!=null){if(n!=null)throw Error(Bt(60));if(typeof t!="object"||!("__html"in t))throw Error(Bt(61));t=t.__html,t!=null&&e.push(Kt(""+t))}}function yHt(e){var t="";return eAe.Children.forEach(e,function(n){n!=null&&(t+=n)}),t}var bO=qe(' selected=""');function xO(e,t,n,r){e.push(iu(n));var o=n=null,i;for(i in t)if(Vs.call(t,i)){var s=t[i];if(s!=null)switch(i){case"children":n=s;break;case"dangerouslySetInnerHTML":o=s;break;default:wa(e,r,i,s)}}return e.push(Yh),$S(e,o,n),typeof n=="string"?(e.push(Kt(zo(n))),null):n}var wO=qe(`
`),bHt=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,nee=new Map;function iu(e){var t=nee.get(e);if(t===void 0){if(!bHt.test(e))throw Error(Bt(65,e));t=qe("<"+e),nee.set(e,t)}return t}var xHt=qe("<!DOCTYPE html>");function wHt(e,t,n,r,o){switch(t){case"select":e.push(iu("select"));var i=null,s=null;for(d in n)if(Vs.call(n,d)){var a=n[d];if(a!=null)switch(d){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"defaultValue":case"value":break;default:wa(e,r,d,a)}}return e.push(Yh),$S(e,s,i),i;case"option":s=o.selectedValue,e.push(iu("option"));var c=a=null,u=null,d=null;for(i in n)if(Vs.call(n,i)&&(t=n[i],t!=null))switch(i){case"children":a=t;break;case"selected":u=t;break;case"dangerouslySetInnerHTML":d=t;break;case"value":c=t;default:wa(e,r,i,t)}if(s!=null)if(n=c!==null?""+c:yHt(a),e4(s)){for(r=0;r<s.length;r++)if(""+s[r]===n){e.push(bO);break}}else""+s===n&&e.push(bO);else u&&e.push(bO);return e.push(Yh),$S(e,d,a),a;case"textarea":e.push(iu("textarea")),d=s=i=null;for(a in n)if(Vs.call(n,a)&&(c=n[a],c!=null))switch(a){case"children":d=c;break;case"value":i=c;break;case"defaultValue":s=c;break;case"dangerouslySetInnerHTML":throw Error(Bt(91));default:wa(e,r,a,c)}if(i===null&&s!==null&&(i=s),e.push(Yh),d!=null){if(i!=null)throw Error(Bt(92));if(e4(d)&&1<d.length)throw Error(Bt(93));i=""+d}return typeof i=="string"&&i[0]===`
`&&e.push(wO),i!==null&&e.push(Kt(zo(""+i))),null;case"input":e.push(iu("input")),c=d=a=i=null;for(s in n)if(Vs.call(n,s)&&(u=n[s],u!=null))switch(s){case"children":case"dangerouslySetInnerHTML":throw Error(Bt(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":a=u;break;case"checked":d=u;break;case"value":i=u;break;default:wa(e,r,s,u)}return d!==null?wa(e,r,"checked",d):c!==null&&wa(e,r,"checked",c),i!==null?wa(e,r,"value",i):a!==null&&wa(e,r,"value",a),e.push(tee),null;case"menuitem":e.push(iu("menuitem"));for(var f in n)if(Vs.call(n,f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(Bt(400));default:wa(e,r,f,i)}return e.push(Yh),null;case"listing":case"pre":e.push(iu(t)),s=i=null;for(c in n)if(Vs.call(n,c)&&(a=n[c],a!=null))switch(c){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;default:wa(e,r,c,a)}if(e.push(Yh),s!=null){if(i!=null)throw Error(Bt(60));if(typeof s!="object"||!("__html"in s))throw Error(Bt(61));n=s.__html,n!=null&&(typeof n=="string"&&0<n.length&&n[0]===`
`?e.push(wO,Kt(n)):e.push(Kt(""+n)))}return typeof i=="string"&&i[0]===`
`&&e.push(wO),i;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":e.push(iu(t));for(var p in n)if(Vs.call(n,p)&&(i=n[p],i!=null))switch(p){case"children":case"dangerouslySetInnerHTML":throw Error(Bt(399,t));default:wa(e,r,p,i)}return e.push(tee),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return xO(e,n,t,r);case"html":return o.insertionMode===0&&e.push(xHt),xO(e,n,t,r);default:if(t.indexOf("-")===-1&&typeof n.is!="string")return xO(e,n,t,r);e.push(iu(t)),s=i=null;for(u in n)if(Vs.call(n,u)&&(a=n[u],a!=null))switch(u){case"children":i=a;break;case"dangerouslySetInnerHTML":s=a;break;case"style":oAe(e,r,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:rAe(u)&&typeof a!="function"&&typeof a!="symbol"&&e.push(jd,Kt(u),bg,Kt(zo(a)),Zh)}return e.push(Yh),$S(e,s,i),i}}var CHt=qe("</"),_Ht=qe(">"),SHt=qe('<template id="'),EHt=qe('"></template>'),kHt=qe("<!--$-->"),jHt=qe('<!--$?--><template id="'),THt=qe('"></template>'),AHt=qe("<!--$!-->"),DHt=qe("<!--/$-->");function ree(e,t,n){if(lt(e,jHt),n===null)throw Error(Bt(395));return lt(e,n),Cr(e,THt)}var IHt=qe('<div hidden id="'),OHt=qe('">'),PHt=qe("</div>"),RHt=qe('<svg aria-hidden="true" style="display:none" id="'),$Ht=qe('">'),MHt=qe("</svg>"),FHt=qe('<math aria-hidden="true" style="display:none" id="'),LHt=qe('">'),BHt=qe("</math>"),NHt=qe('<table hidden id="'),zHt=qe('">'),VHt=qe("</table>"),HHt=qe('<table hidden><tbody id="'),UHt=qe('">'),WHt=qe("</tbody></table>"),qHt=qe('<table hidden><tr id="'),YHt=qe('">'),GHt=qe("</tr></table>"),KHt=qe('<table hidden><colgroup id="'),ZHt=qe('">'),XHt=qe("</colgroup></table>");function QHt(e,t,n,r){switch(n.insertionMode){case 0:case 1:return lt(e,IHt),lt(e,t.segmentPrefix),lt(e,Kt(r.toString(16))),Cr(e,OHt);case 2:return lt(e,RHt),lt(e,t.segmentPrefix),lt(e,Kt(r.toString(16))),Cr(e,$Ht);case 3:return lt(e,FHt),lt(e,t.segmentPrefix),lt(e,Kt(r.toString(16))),Cr(e,LHt);case 4:return lt(e,NHt),lt(e,t.segmentPrefix),lt(e,Kt(r.toString(16))),Cr(e,zHt);case 5:return lt(e,HHt),lt(e,t.segmentPrefix),lt(e,Kt(r.toString(16))),Cr(e,UHt);case 6:return lt(e,qHt),lt(e,t.segmentPrefix),lt(e,Kt(r.toString(16))),Cr(e,YHt);case 7:return lt(e,KHt),lt(e,t.segmentPrefix),lt(e,Kt(r.toString(16))),Cr(e,ZHt);default:throw Error(Bt(397))}}function JHt(e,t){switch(t.insertionMode){case 0:case 1:return Cr(e,PHt);case 2:return Cr(e,MHt);case 3:return Cr(e,BHt);case 4:return Cr(e,VHt);case 5:return Cr(e,WHt);case 6:return Cr(e,GHt);case 7:return Cr(e,XHt);default:throw Error(Bt(397))}}var eUt=qe('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),tUt=qe('$RS("'),nUt=qe('","'),rUt=qe('")<\/script>'),oUt=qe('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),iUt=qe('$RC("'),sUt=qe('","'),aUt=qe('")<\/script>'),lUt=qe('function $RX(a){if(a=document.getElementById(a))a=a.previousSibling,a.data="$!",a._reactRetry&&a._reactRetry()};$RX("'),cUt=qe('$RX("'),uUt=qe('")<\/script>'),Eb=Object.assign,dUt=Symbol.for("react.element"),iAe=Symbol.for("react.portal"),sAe=Symbol.for("react.fragment"),aAe=Symbol.for("react.strict_mode"),lAe=Symbol.for("react.profiler"),cAe=Symbol.for("react.provider"),uAe=Symbol.for("react.context"),dAe=Symbol.for("react.forward_ref"),fAe=Symbol.for("react.suspense"),hAe=Symbol.for("react.suspense_list"),pAe=Symbol.for("react.memo"),eB=Symbol.for("react.lazy"),fUt=Symbol.for("react.scope"),hUt=Symbol.for("react.debug_trace_mode"),pUt=Symbol.for("react.legacy_hidden"),mUt=Symbol.for("react.default_value"),oee=Symbol.iterator;function t4(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case sAe:return"Fragment";case iAe:return"Portal";case lAe:return"Profiler";case aAe:return"StrictMode";case fAe:return"Suspense";case hAe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uAe:return(e.displayName||"Context")+".Consumer";case cAe:return(e._context.displayName||"Context")+".Provider";case dAe:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pAe:return t=e.displayName||null,t!==null?t:t4(e.type)||"Memo";case eB:t=e._payload,e=e._init;try{return t4(e(t))}catch{}}return null}var mAe={};function iee(e,t){if(e=e.contextTypes,!e)return mAe;var n={},r;for(r in e)n[r]=t[r];return n}var fp=null;function bA(e,t){if(e!==t){e.context._currentValue=e.parentValue,e=e.parent;var n=t.parent;if(e===null){if(n!==null)throw Error(Bt(401))}else{if(n===null)throw Error(Bt(401));bA(e,n)}t.context._currentValue=t.value}}function gAe(e){e.context._currentValue=e.parentValue,e=e.parent,e!==null&&gAe(e)}function vAe(e){var t=e.parent;t!==null&&vAe(t),e.context._currentValue=e.value}function yAe(e,t){if(e.context._currentValue=e.parentValue,e=e.parent,e===null)throw Error(Bt(402));e.depth===t.depth?bA(e,t):yAe(e,t)}function bAe(e,t){var n=t.parent;if(n===null)throw Error(Bt(402));e.depth===n.depth?bA(e,n):bAe(e,n),t.context._currentValue=t.value}function m5(e){var t=fp;t!==e&&(t===null?vAe(e):e===null?gAe(t):t.depth===e.depth?bA(t,e):t.depth>e.depth?yAe(t,e):bAe(t,e),fp=e)}var see={isMounted:function(){return!1},enqueueSetState:function(e,t){e=e._reactInternals,e.queue!==null&&e.queue.push(t)},enqueueReplaceState:function(e,t){e=e._reactInternals,e.replace=!0,e.queue=[t]},enqueueForceUpdate:function(){}};function aee(e,t,n,r){var o=e.state!==void 0?e.state:null;e.updater=see,e.props=n,e.state=o;var i={queue:[],replace:!1};e._reactInternals=i;var s=t.contextType;if(e.context=typeof s=="object"&&s!==null?s._currentValue:r,s=t.getDerivedStateFromProps,typeof s=="function"&&(s=s(n,o),o=s==null?o:Eb({},o,s),e.state=o),typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function"&&(typeof e.UNSAFE_componentWillMount=="function"||typeof e.componentWillMount=="function"))if(t=e.state,typeof e.componentWillMount=="function"&&e.componentWillMount(),typeof e.UNSAFE_componentWillMount=="function"&&e.UNSAFE_componentWillMount(),t!==e.state&&see.enqueueReplaceState(e,e.state,null),i.queue!==null&&0<i.queue.length)if(t=i.queue,s=i.replace,i.queue=null,i.replace=!1,s&&t.length===1)e.state=t[0];else{for(i=s?t[0]:e.state,o=!0,s=s?1:0;s<t.length;s++){var a=t[s];a=typeof a=="function"?a.call(e,i,n,r):a,a!=null&&(o?(o=!1,i=Eb({},i,a)):Eb(i,a))}e.state=i}else i.queue=null}var gUt={id:1,overflow:""};function n4(e,t,n){var r=e.id;e=e.overflow;var o=32-MS(r)-1;r&=~(1<<o),n+=1;var i=32-MS(t)+o;if(30<i){var s=o-o%5;return i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,{id:1<<32-MS(t)+o|n<<o|r,overflow:i+e}}return{id:1<<i|n<<o|r,overflow:e}}var MS=Math.clz32?Math.clz32:bUt,vUt=Math.log,yUt=Math.LN2;function bUt(e){return e>>>=0,e===0?32:31-(vUt(e)/yUt|0)|0}function xUt(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wUt=typeof Object.is=="function"?Object.is:xUt,Ku=null,tB=null,FS=null,Wn=null,Ly=!1,g5=!1,Mx=0,tf=null,xA=0;function Xh(){if(Ku===null)throw Error(Bt(321));return Ku}function lee(){if(0<xA)throw Error(Bt(312));return{memoizedState:null,queue:null,next:null}}function nB(){return Wn===null?FS===null?(Ly=!1,FS=Wn=lee()):(Ly=!0,Wn=FS):Wn.next===null?(Ly=!1,Wn=Wn.next=lee()):(Ly=!0,Wn=Wn.next),Wn}function rB(){tB=Ku=null,g5=!1,FS=null,xA=0,Wn=tf=null}function xAe(e,t){return typeof t=="function"?t(e):t}function cee(e,t,n){if(Ku=Xh(),Wn=nB(),Ly){var r=Wn.queue;if(t=r.dispatch,tf!==null&&(n=tf.get(r),n!==void 0)){tf.delete(r),r=Wn.memoizedState;do r=e(r,n.action),n=n.next;while(n!==null);return Wn.memoizedState=r,[r,t]}return[Wn.memoizedState,t]}return e=e===xAe?typeof t=="function"?t():t:n!==void 0?n(t):t,Wn.memoizedState=e,e=Wn.queue={last:null,dispatch:null},e=e.dispatch=CUt.bind(null,Ku,e),[Wn.memoizedState,e]}function uee(e,t){if(Ku=Xh(),Wn=nB(),t=t===void 0?null:t,Wn!==null){var n=Wn.memoizedState;if(n!==null&&t!==null){var r=n[1];e:if(r===null)r=!1;else{for(var o=0;o<r.length&&o<t.length;o++)if(!wUt(t[o],r[o])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),Wn.memoizedState=[e,t],e}function CUt(e,t,n){if(25<=xA)throw Error(Bt(301));if(e===Ku)if(g5=!0,e={action:n,next:null},tf===null&&(tf=new Map),n=tf.get(t),n===void 0)tf.set(t,e);else{for(t=n;t.next!==null;)t=t.next;t.next=e}}function _Ut(){throw Error(Bt(394))}function r2(){}var dee={readContext:function(e){return e._currentValue},useContext:function(e){return Xh(),e._currentValue},useMemo:uee,useReducer:cee,useRef:function(e){Ku=Xh(),Wn=nB();var t=Wn.memoizedState;return t===null?(e={current:e},Wn.memoizedState=e):t},useState:function(e){return cee(xAe,e)},useInsertionEffect:r2,useLayoutEffect:function(){},useCallback:function(e,t){return uee(function(){return e},t)},useImperativeHandle:r2,useEffect:r2,useDebugValue:r2,useDeferredValue:function(e){return Xh(),e},useTransition:function(){return Xh(),[!1,_Ut]},useId:function(){var e=tB.treeContext,t=e.overflow;e=e.id,e=(e&~(1<<32-MS(e)-1)).toString(32)+t;var n=LS;if(n===null)throw Error(Bt(404));return t=Mx++,e=":"+n.idPrefix+"R"+e,0<t&&(e+="H"+t.toString(32)),e+":"},useMutableSource:function(e,t){return Xh(),t(e._source)},useSyncExternalStore:function(e,t,n){if(n===void 0)throw Error(Bt(407));return n()}},LS=null,CO=eAe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function SUt(e){console.error(e)}function By(){}function EUt(e,t,n,r,o,i,s,a,c){var u=[],d=new Set;return t={destination:null,responseState:t,progressiveChunkSize:r===void 0?12800:r,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:d,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?SUt:o,onAllReady:i===void 0?By:i,onShellReady:s===void 0?By:s,onShellError:a===void 0?By:a,onFatalError:c===void 0?By:c},n=v5(t,0,null,n),n.parentFlushed=!0,e=oB(t,e,null,n,d,mAe,null,gUt),u.push(e),t}function oB(e,t,n,r,o,i,s,a){e.allPendingTasks++,n===null?e.pendingRootTasks++:n.pendingTasks++;var c={node:t,ping:function(){var u=e.pingedTasks;u.push(c),u.length===1&&_Ae(e)},blockedBoundary:n,blockedSegment:r,abortSet:o,legacyContext:i,context:s,treeContext:a};return o.add(c),c}function v5(e,t,n,r){return{status:0,id:-1,index:t,parentFlushed:!1,chunks:[],children:[],formatContext:r,boundary:n}}function Fx(e,t){e=e.onError,e(t)}function y5(e,t){var n=e.onShellError;n(t),n=e.onFatalError,n(t),e.destination!==null?(e.status=2,nAe(e.destination,t)):(e.status=1,e.fatalError=t)}function fee(e,t,n,r,o){for(Ku={},tB=t,Mx=0,e=n(r,o);g5;)g5=!1,Mx=0,xA+=1,Wn=null,e=n(r,o);return rB(),e}function hee(e,t,n,r){var o=n.render(),i=r.childContextTypes;if(i!=null){var s=t.legacyContext;if(typeof n.getChildContext!="function")r=s;else{n=n.getChildContext();for(var a in n)if(!(a in i))throw Error(Bt(108,t4(r)||"Unknown",a));r=Eb({},s,n)}t.legacyContext=r,Hs(e,t,o),t.legacyContext=s}else Hs(e,t,o)}function pee(e,t){if(e&&e.defaultProps){t=Eb({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function r4(e,t,n,r,o){if(typeof n=="function")if(n.prototype&&n.prototype.isReactComponent){o=iee(n,t.legacyContext);var i=n.contextType;i=new n(r,typeof i=="object"&&i!==null?i._currentValue:o),aee(i,n,r,o),hee(e,t,i,n)}else{i=iee(n,t.legacyContext),o=fee(e,t,n,r,i);var s=Mx!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)aee(o,n,r,i),hee(e,t,o,n);else if(s){r=t.treeContext,t.treeContext=n4(r,1,0);try{Hs(e,t,o)}finally{t.treeContext=r}}else Hs(e,t,o)}else if(typeof n=="string")switch(o=t.blockedSegment,i=wHt(o.chunks,n,r,e.responseState,o.formatContext),s=o.formatContext,o.formatContext=mHt(s,n,r),o4(e,t,i),o.formatContext=s,n){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(CHt,Kt(n),_Ht)}else{switch(n){case pUt:case hUt:case aAe:case lAe:case sAe:Hs(e,t,r.children);return;case hAe:Hs(e,t,r.children);return;case fUt:throw Error(Bt(343));case fAe:e:{n=t.blockedBoundary,o=t.blockedSegment,i=r.fallback,r=r.children,s=new Set;var a={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:s},c=v5(e,o.chunks.length,a,o.formatContext);o.children.push(c);var u=v5(e,0,null,o.formatContext);u.parentFlushed=!0,t.blockedBoundary=a,t.blockedSegment=u;try{if(o4(e,t,r),u.status=1,b5(a,u),a.pendingTasks===0)break e}catch(d){u.status=4,Fx(e,d),a.forceClientRender=!0}finally{t.blockedBoundary=n,t.blockedSegment=o}t=oB(e,i,n,c,s,t.legacyContext,t.context,t.treeContext),e.pingedTasks.push(t)}return}if(typeof n=="object"&&n!==null)switch(n.$$typeof){case dAe:if(r=fee(e,t,n.render,r,o),Mx!==0){n=t.treeContext,t.treeContext=n4(n,1,0);try{Hs(e,t,r)}finally{t.treeContext=n}}else Hs(e,t,r);return;case pAe:n=n.type,r=pee(n,r),r4(e,t,n,r,o);return;case cAe:if(o=r.children,n=n._context,r=r.value,i=n._currentValue,n._currentValue=r,s=fp,fp=r={parent:s,depth:s===null?0:s.depth+1,context:n,parentValue:i,value:r},t.context=r,Hs(e,t,o),e=fp,e===null)throw Error(Bt(403));r=e.parentValue,e.context._currentValue=r===mUt?e.context._defaultValue:r,e=fp=e.parent,t.context=e;return;case uAe:r=r.children,r=r(n._currentValue),Hs(e,t,r);return;case eB:o=n._init,n=o(n._payload),r=pee(n,r),r4(e,t,n,r,void 0);return}throw Error(Bt(130,n==null?n:typeof n,""))}}function Hs(e,t,n){if(t.node=n,typeof n=="object"&&n!==null){switch(n.$$typeof){case dUt:r4(e,t,n.type,n.props,n.ref);return;case iAe:throw Error(Bt(257));case eB:var r=n._init;n=r(n._payload),Hs(e,t,n);return}if(e4(n)){mee(e,t,n);return}if(n===null||typeof n!="object"?r=null:(r=oee&&n[oee]||n["@@iterator"],r=typeof r=="function"?r:null),r&&(r=r.call(n))){if(n=r.next(),!n.done){var o=[];do o.push(n.value),n=r.next();while(!n.done);mee(e,t,o)}return}throw t=Object.prototype.toString.call(n),Error(Bt(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t))}typeof n=="string"?n!==""&&t.blockedSegment.chunks.push(Kt(zo(n)),XJ):typeof n=="number"&&(e=""+n,e!==""&&t.blockedSegment.chunks.push(Kt(zo(e)),XJ))}function mee(e,t,n){for(var r=n.length,o=0;o<r;o++){var i=t.treeContext;t.treeContext=n4(i,r,o);try{o4(e,t,n[o])}finally{t.treeContext=i}}}function o4(e,t,n){var r=t.blockedSegment.formatContext,o=t.legacyContext,i=t.context;try{return Hs(e,t,n)}catch(c){if(rB(),typeof c=="object"&&c!==null&&typeof c.then=="function"){n=c;var s=t.blockedSegment,a=v5(e,s.chunks.length,null,s.formatContext);s.children.push(a),e=oB(e,t.node,t.blockedBoundary,a,t.abortSet,t.legacyContext,t.context,t.treeContext).ping,n.then(e,e),t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,m5(i)}else throw t.blockedSegment.formatContext=r,t.legacyContext=o,t.context=i,m5(i),c}}function kUt(e){var t=e.blockedBoundary;e=e.blockedSegment,e.status=3,CAe(this,t,e)}function wAe(e){var t=e.blockedBoundary;e.blockedSegment.status=3,t===null?(this.allPendingTasks--,this.status!==2&&(this.status=2,this.destination!==null&&this.destination.close())):(t.pendingTasks--,t.forceClientRender||(t.forceClientRender=!0,t.parentFlushed&&this.clientRenderedBoundaries.push(t)),t.fallbackAbortableTasks.forEach(wAe,this),t.fallbackAbortableTasks.clear(),this.allPendingTasks--,this.allPendingTasks===0&&(e=this.onAllReady,e()))}function b5(e,t){if(t.chunks.length===0&&t.children.length===1&&t.children[0].boundary===null){var n=t.children[0];n.id=t.id,n.parentFlushed=!0,n.status===1&&b5(e,n)}else e.completedSegments.push(t)}function CAe(e,t,n){if(t===null){if(n.parentFlushed){if(e.completedRootSegment!==null)throw Error(Bt(389));e.completedRootSegment=n}e.pendingRootTasks--,e.pendingRootTasks===0&&(e.onShellError=By,t=e.onShellReady,t())}else t.pendingTasks--,t.forceClientRender||(t.pendingTasks===0?(n.parentFlushed&&n.status===1&&b5(t,n),t.parentFlushed&&e.completedBoundaries.push(t),t.fallbackAbortableTasks.forEach(kUt,e),t.fallbackAbortableTasks.clear()):n.parentFlushed&&n.status===1&&(b5(t,n),t.completedSegments.length===1&&t.parentFlushed&&e.partialBoundaries.push(t)));e.allPendingTasks--,e.allPendingTasks===0&&(e=e.onAllReady,e())}function _Ae(e){if(e.status!==2){var t=fp,n=CO.current;CO.current=dee;var r=LS;LS=e.responseState;try{var o=e.pingedTasks,i;for(i=0;i<o.length;i++){var s=o[i],a=e,c=s.blockedSegment;if(c.status===0){m5(s.context);try{Hs(a,s,s.node),s.abortSet.delete(s),c.status=1,CAe(a,s.blockedBoundary,c)}catch(m){if(rB(),typeof m=="object"&&m!==null&&typeof m.then=="function"){var u=s.ping;m.then(u,u)}else{s.abortSet.delete(s),c.status=4;var d=s.blockedBoundary,f=m;if(Fx(a,f),d===null?y5(a,f):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.parentFlushed&&a.clientRenderedBoundaries.push(d))),a.allPendingTasks--,a.allPendingTasks===0){var p=a.onAllReady;p()}}}finally{}}}o.splice(0,i),e.destination!==null&&iB(e,e.destination)}catch(m){Fx(e,m),y5(e,m)}finally{LS=r,CO.current=n,n===dee&&m5(t)}}}function o2(e,t,n){switch(n.parentFlushed=!0,n.status){case 0:var r=n.id=e.nextSegmentId++;return e=e.responseState,lt(t,SHt),lt(t,e.placeholderPrefix),e=Kt(r.toString(16)),lt(t,e),Cr(t,EHt);case 1:n.status=2;var o=!0;r=n.chunks;var i=0;n=n.children;for(var s=0;s<n.length;s++){for(o=n[s];i<o.index;i++)lt(t,r[i]);o=wA(e,t,o)}for(;i<r.length-1;i++)lt(t,r[i]);return i<r.length&&(o=Cr(t,r[i])),o;default:throw Error(Bt(390))}}function wA(e,t,n){var r=n.boundary;if(r===null)return o2(e,t,n);if(r.parentFlushed=!0,r.forceClientRender)Cr(t,AHt),o2(e,t,n);else if(0<r.pendingTasks){r.rootSegmentID=e.nextSegmentId++,0<r.completedSegments.length&&e.partialBoundaries.push(r);var o=e.responseState,i=o.nextSuspenseID++;o=qe(o.boundaryPrefix+i.toString(16)),r=r.id=o,ree(t,e.responseState,r),o2(e,t,n)}else if(r.byteSize>e.progressiveChunkSize)r.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(r),ree(t,e.responseState,r.id),o2(e,t,n);else{if(Cr(t,kHt),n=r.completedSegments,n.length!==1)throw Error(Bt(391));wA(e,t,n[0])}return Cr(t,DHt)}function gee(e,t,n){return QHt(t,e.responseState,n.formatContext,n.id),wA(e,t,n),JHt(t,n.formatContext)}function vee(e,t,n){for(var r=n.completedSegments,o=0;o<r.length;o++)SAe(e,t,n,r[o]);if(r.length=0,e=e.responseState,r=n.id,n=n.rootSegmentID,lt(t,e.startInlineScript),e.sentCompleteBoundaryFunction?lt(t,iUt):(e.sentCompleteBoundaryFunction=!0,lt(t,oUt)),r===null)throw Error(Bt(395));return n=Kt(n.toString(16)),lt(t,r),lt(t,sUt),lt(t,e.segmentPrefix),lt(t,n),Cr(t,aUt)}function SAe(e,t,n,r){if(r.status===2)return!0;var o=r.id;if(o===-1){if((r.id=n.rootSegmentID)===-1)throw Error(Bt(392));return gee(e,t,r)}return gee(e,t,r),e=e.responseState,lt(t,e.startInlineScript),e.sentCompleteSegmentFunction?lt(t,tUt):(e.sentCompleteSegmentFunction=!0,lt(t,eUt)),lt(t,e.segmentPrefix),o=Kt(o.toString(16)),lt(t,o),lt(t,nUt),lt(t,e.placeholderPrefix),lt(t,o),Cr(t,rUt)}function iB(e,t){Ns=new Uint8Array(512),zs=0;try{var n=e.completedRootSegment;if(n!==null&&e.pendingRootTasks===0){wA(e,t,n),e.completedRootSegment=null;var r=e.responseState.bootstrapChunks;for(n=0;n<r.length-1;n++)lt(t,r[n]);n<r.length&&Cr(t,r[n])}var o=e.clientRenderedBoundaries,i;for(i=0;i<o.length;i++){r=t;var s=e.responseState,a=o[i].id;if(lt(r,s.startInlineScript),s.sentClientRenderFunction?lt(r,cUt):(s.sentClientRenderFunction=!0,lt(r,lUt)),a===null)throw Error(Bt(395));lt(r,a),Cr(r,uUt)}o.splice(0,i);var c=e.completedBoundaries;for(i=0;i<c.length;i++)vee(e,t,c[i]);c.splice(0,i),YJ(t),Ns=new Uint8Array(512),zs=0;var u=e.partialBoundaries;for(i=0;i<u.length;i++){var d=u[i];e:{o=e,s=t;var f=d.completedSegments;for(a=0;a<f.length;a++)if(!SAe(o,s,d,f[a])){a++,f.splice(0,a);var p=!1;break e}f.splice(0,a),p=!0}if(!p){e.destination=null,i++,u.splice(0,i);return}}u.splice(0,i);var m=e.completedBoundaries;for(i=0;i<m.length;i++)vee(e,t,m[i]);m.splice(0,i)}finally{YJ(t),e.allPendingTasks===0&&e.pingedTasks.length===0&&e.clientRenderedBoundaries.length===0&&e.completedBoundaries.length===0&&t.close()}}function yee(e){try{var t=e.abortableTasks;t.forEach(wAe,e),t.clear(),e.destination!==null&&iB(e,e.destination)}catch(n){Fx(e,n),y5(e,n)}}X7.renderToReadableStream=function(e,t){return new Promise(function(n,r){var o,i,s=new Promise(function(d,f){i=d,o=f}),a=EUt(e,hHt(t?t.identifierPrefix:void 0,t?t.nonce:void 0,t?t.bootstrapScriptContent:void 0,t?t.bootstrapScripts:void 0,t?t.bootstrapModules:void 0),pHt(t?t.namespaceURI:void 0),t?t.progressiveChunkSize:void 0,t?t.onError:void 0,i,function(){var d=new ReadableStream({type:"bytes",pull:function(f){if(a.status===1)a.status=2,nAe(f,a.fatalError);else if(a.status!==2&&a.destination===null){a.destination=f;try{iB(a,f)}catch(p){Fx(a,p),y5(a,p)}}},cancel:function(){yee(a)}});d.allReady=s,n(d)},function(d){s.catch(function(){}),r(d)},o);if(t&&t.signal){var c=t.signal,u=function(){yee(a),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}_Ae(a)})};X7.version="18.0.0-fc46dba67-20220329";var Q0,EAe;Q0=X0,EAe=X7;Q0.version;var jUt=Q0.renderToString;Q0.renderToStaticMarkup;Q0.renderToNodeStream;Q0.renderToStaticNodeStream;EAe.renderToReadableStream;function TUt(e){return typeof e=="function"}function bee(e){return TUt(e)?e():e}const AUt=()=>{};function DUt(e){return function(n,r){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:i,update:s,remove:a}=re.useContext(e),c=re.useRef();re.useLayoutEffect(()=>{if(n===null)return AUt;const u=bee(r);return i(n,u),c.current=u,()=>{a(n)}},[i,n,a,r]),re.useLayoutEffect(()=>{const u=bee(r);typeof c.current<"u"&&!o(c.current,u)&&n!==null&&s(n,u),c.current=u})}}function IUt(){const e=new Map,{publish:t,subscribe:n}=DF(),r=aw(t,10,{trailing:!0}),o=()=>Array.from(e.entries());function i(c,u){e.has(c),e.set(c,u),r(o())}function s(c,u){e.has(c),e.set(c,u),r(o())}function a(c){e.has(c),e.delete(c),r(o())}return{add:i,remove:a,update:s,read:o,subscribe:n}}let s0=!1;const _O=e=>{s0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(e,', ...)", is wrapped in a <Tracker> element'))),s0=!0};function OUt(){return s0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),s0=!0,[]}const PUt=()=>(s0||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),s0=!0,()=>{}),RUt={add:_O,update:_O,remove:_O,subscribe:PUt,read:OUt};let $Ut=0;const MUt=()=>++$Ut;function kAe(){const e=re.createContext(RUt);function t(){const o=re.useContext(e),[i,s]=re.useState(o.read());return re.useLayoutEffect(()=>(s(o.read()),o.subscribe(s)),[o]),i}function n(o){const i=re.useMemo(()=>IUt(),[]);return l.jsx(e.Provider,{value:i,children:o.children})}const r=DUt(e);return{Tracker:n,useReportedValues:t,useReporter:r,useAutoIdReporter:function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return r("element-".concat(re.useRef(MUt()).current),o,i)}}}const Rs=4,FUt=16,xee=8,ht=8,Aa=2,i2=4,Ei=12,rg=2,LUt=!1,BUt=!1,sB=kAe(),NUt=sB.Tracker,aB=sB.useReportedValues,jAe=sB.useReporter,Rm=h.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}}),zUt=e=>{const t=re.useRef(null),{onSetFocus:n}=re.useContext(Rm),[r,o]=re.useState(!1),i=re.useCallback(()=>{o(!0)},[]),s=re.useCallback(()=>{o(!1)},[]);jAe("change-".concat(Nr(e.path)),()=>({element:t.current,path:e.path,isChanged:!0,hasFocus:!1,hasHover:r,hasRevertHover:e.hasHover}),AF);const a=h.useCallback(c=>{VUt(c,n,e.path)},[n,e.path]);return l.jsx("div",{ref:t,onClick:a,onMouseLeave:s,onMouseEnter:i,children:e.children})};function VUt(e,t,n){e.stopPropagation(),t(n)}function No(e){const t=h.useRef(e);return Ut(t.current,e)||(t.current=e),t.current}function ch(e,t){const n=[t,!0],r={type:"tuple",tuple:n};return function(i){const s=No(i),a=xo(()=>ve(s).pipe(rt(c=>Wr(ve({type:"loading"}),e(c).pipe(le(u=>({type:"value",value:u}))))),ra((c,u)=>{let[d]=c;return u.type==="loading"?[d,!0]:[u.value,!1]},n),Jn((c,u)=>{let[d,f]=c,[p,m]=u;return!(d!==p||f!==m)}),le(c=>({type:"tuple",tuple:c})),Rn(c=>ve({type:"error",error:c}))),[s],r);if(a.type==="error")throw a.error;return a.tuple}}function bo(e){return e!=null}const HUt="drafts",lB="".concat(HUt,".");function cB(e){return e.startsWith(lB)}function TAe(e){return{draftId:ai(e),publishedId:$n(e)}}function ai(e){return cB(e)?e:lB+e}function $n(e){return cB(e)?e.slice(lB.length):e}function CA(e){const t=e.reduce((n,r)=>{const o=$n(r._id);let i=n.get(o);return i||(i={id:o,type:r._type,published:void 0,draft:void 0},n.set(o,i)),i[o===r._id?"published":"draft"]=r,n},new Map);return Array.from(t.values())}function UUt(e){return CA(e).map(t=>t.draft||t.published).filter(bo)}const WUt=Object.freeze({}),gn=Object.freeze([]);function qUt(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const YUt=qUt();function wee(e){return Array.isArray(e)}function xt(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function xv(e){return typeof e=="string"}const GUt=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:g_e,KUt=()=>{const e=DF(),t=new GUt(n=>e.publish(n));return{observe:(n,r,o)=>{const i=e.subscribe(s=>{const a=s.find(c=>c.target===n);a&&r(a)});return t.observe(n,o),()=>{i(),t.unobserve(n)}}}},ZUt=KUt(),XUt=["sanity.imageAsset","sanity.fileAsset"];function QUt(e){return e.type==="document"&&XUt.includes(e.name)}function n$n(e){return e.type==="document"&&!QUt(e)}const JUt=["match","in","asc","desc","true","false","null"],eWt=/^[a-zA-Z_][a-zA-Z0-9_]*$/,AAe=e=>!eWt.test(e)||JUt.includes(e),uB=e=>'["'.concat(e,'"]'),tWt=e=>"@".concat(uB(e)),nWt=e=>Array.isArray(e)&&e.length===0,rWt=e=>{let t="";for(let n=0;n<e.length;n++){const r=e[n];if(nWt(r)){t+="[]";continue}if(typeof r=="number"){t+="[".concat(r,"]");continue}const o=n===0;AAe(r)?t=o?tWt(r):"".concat(t).concat(uB(r)):t=o?r:"".concat(t,".").concat(r)}return t},tm=oWt();function oWt(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const iWt={isLoading:!0,value:void 0,error:null};function DAe(e,t){return xo(()=>e.pipe(sWt()),[e],typeof t>"u"?iWt:{isLoading:!1,value:t,error:null})}function sWt(){return e=>e.pipe(le(t=>({isLoading:!1,value:t,error:null})),Rn(t=>ve({isLoading:!1,value:void 0,error:t})))}function aWt(e,t,n){return h.useMemo(()=>pT(e,t,n),[e,n,t])}function IAe(e,t){return e!==null&&e.roles.some(n=>n.name===t)}var Cee=Object.freeze,lWt=Object.defineProperty,wu=(e,t)=>Cee(lWt(e,"raw",{value:Cee(t||e.slice())})),_ee,See,Eee,kee,jee,Tee,Aee,Dee,Iee;const cWt=250,uWt=P.div(e=>{let{$changed:t,$disabled:n,$isReviewChangeOpen:r}=e;return n?de(_ee||(_ee=wu([`
        `,` {
          display: none;
        }
      `])),i4):de(kee||(kee=wu([`
      --change-bar-offset: 2px;

      display: flex;
      position: relative;

      @media (hover: hover) {
        &:hover {
          z-index: 10;
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),!t&&de(See||(See=wu([`
        `,` {
          opacity: 0;
          pointer-events: none;
        }
      `])),i4),r&&de(Eee||(Eee=wu([`
        `,` {
          opacity: 0;
        }
      `])),OAe))}),dWt=P.div(jee||(jee=wu([`
  flex-grow: 1;
  min-width: 0;
`]))),i4=P.div(Tee||(Tee=wu([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),e=>{let{$zIndex:t}=e;return t}),fWt=P.div(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow,r=t.sanity.media[0];return de(Aee||(Aee=wu([`
    position: absolute;
    top: 0;
    left: var(--change-bar-offset);
    width: 2px;
    bottom: 0;
    background-color: `,`;
    border-radius: 1px;

    @media (min-width: `,`px) {
      display: unset;
    }
  `])),n,r)}),OAe=P.button(e=>{let{theme:t,$withHoverEffect:n}=e;const r=t.sanity.color.spot.yellow;return de(Iee||(Iee=wu([`
      appearance: none;
      border: 0;
      outline: 0;
      display: block;
      padding: 0;
      background: transparent;
      opacity: 0;
      position: absolute;
      height: 100%;
      cursor: pointer;
      pointer-events: all;
      left: calc(-0.25rem + var(--change-bar-offset));
      width: 1rem;
      transition: opacity `,`ms;

      &:focus {
        border: 0;
        outline: 0;
      }

      &:after {
        content: '';
        width: 16px;
        height: calc(100% + 14px);
        display: block;
        position: absolute;
        top: -7px;
        left: -3px;
        border-radius: 8px;
        background: `,`;
      }

      &:focus {
        border: 0;
        outline: 0;
      }

      `,`
    `])),cWt,r,n&&de(Dee||(Dee=wu([`
        @media (hover: hover) {
          &:hover {
            opacity: 0.2;
          }
        }
      `]))))});function hWt(e){const{children:t,disabled:n,isChanged:r,withHoverEffect:o=!0}=e,{onOpenReviewChanges:i,isReviewChangesOpen:s}=re.useContext(Rm),{zIndex:a}=tl(),c=h.useMemo(()=>n||!r?null:l.jsxs(i4,{"data-testid":"change-bar",$zIndex:a,children:[l.jsx(fWt,{"data-testid":"change-bar__marker"}),l.jsx(OAe,{"aria-label":"Review changes","data-testid":"change-bar__button",onClick:s?void 0:i,tabIndex:-1,type:"button",$withHoverEffect:o})]}),[n,r,a,s,i,o]);return l.jsxs(uWt,{"data-testid":"change-bar-wrapper",$changed:r,$disabled:n,$isReviewChangeOpen:s,children:[l.jsx(dWt,{"data-testid":"change-bar__field-wrapper",children:t}),c]})}const pWt=h.memo(function(t){const{children:n,disabled:r,hasFocus:o,isChanged:i,onMouseEnter:s,onMouseLeave:a,path:c=gn,withHoverEffect:u,...d}=t,f=tl(),[p,m]=h.useState(!1),v=h.useCallback(x=>{s==null||s(x),m(!0)},[s]),g=h.useCallback(x=>{a==null||a(x),m(!1)},[a]),b=h.useRef(null);return jAe(r?null:"field-".concat(Nr(c)),()=>({element:b.current,path:c,isChanged:i,hasFocus:o,hasHover:p,zIndex:f.zIndex}),AF),l.jsx("div",{...d,ref:b,onMouseEnter:v,onMouseLeave:g,children:l.jsx(hWt,{isChanged:i,disabled:r,withHoverEffect:u,children:n})})});function li(e){const{children:t,hasFocus:n,isChanged:r,path:o,withHoverEffect:i,...s}=e;return l.jsx(pWt,{...s,path:o,hasFocus:n,isChanged:r,withHoverEffect:i,children:t})}re.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const s4=re.createContext(null);function mWt(e){const t=re.useContext(s4);re.useEffect(()=>t==null?void 0:t.subscribe(e),[e,t])}const Oee=()=>{},_A=re.forwardRef(function(t,n){const{as:r="div",onScroll:o,...i}=t,s=fr(n),a=h.useContext(s4),c=h.useMemo(()=>DF(),[]);return h.useEffect(()=>o?c.subscribe(o):Oee,[c,o]),h.useEffect(()=>a?c.subscribe(a.publish):Oee,[a,c]),h.useEffect(()=>{const u=f=>{c.publish(f)},d=s.current;if(d)return d.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{d.removeEventListener("scroll",u)}},[c,s]),l.jsx(s4.Provider,{value:c,children:re.createElement(r,{ref:s,"data-testid":"scroll-container",...i})})});function gWt(e){let{onScroll:t,children:n}=e;return mWt(t),l.jsx(l.Fragment,{children:n})}function Pee(e,t,n){const r=t.slice(t.indexOf("-")+1)||"[]",o=Tl(r),i="".concat(e,"-").concat(Nr(o));if(n.has(i))return n.get(i);let s;for(const[a,c]of n){if(!("path"in c)||!a.startsWith(e))continue;const u=h4e(o,c.path),d=c.path[c.path.length-1],f=u===c.path.length-1&&jl(d);if(u!==0&&!(u!==c.path.length&&!f)&&(s=c,u===o.length))break}return s}function vWt(e){return e[0]!=="changePanel"}function PAe(e){const t=getComputedStyle(e).overflow;return t.includes("auto")||t.includes("scroll")}function yWt(e){return(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)&&PAe(e)}const bWt=-15;function Ree(e){let n=e.element;for(;!yWt(n);)if(n=n.parentElement,!n)return;n.scroll({top:n.scrollTop+e.rect.top-e.bounds.top+bWt,left:0,behavior:"smooth"})}const $ee=(e,t)=>{const n={top:0,left:0,height:t.offsetHeight,width:t.offsetWidth},r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth};let o=!1,i=e;for(;i&&i!==t&&t.contains(i);)o&&(n.top+=i.offsetTop,n.left+=i.offsetLeft),PAe(i)&&(n.top=i.offsetTop,n.height=i.offsetHeight,n.left=i.offsetLeft,n.width=i.offsetWidth,o=!0),r.top+=i.offsetTop-i.scrollTop,r.left+=i.offsetLeft-i.scrollLeft,i=i.offsetParent;return{rect:r,bounds:n}};function s2(e,t,n){return["M ".concat(e-i2," ").concat(t-i2*n," "),"L ".concat(e," ").concat(t),"L ".concat(e+i2," ").concat(t-i2*n)].join("")}function SO(e,t){return"M".concat(e," ").concat(t)}function oo(e,t){return"L".concat(e," ").concat(t)}function xWt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return e.join(t)}function us(e,t,n,r){return"Q".concat(e," ").concat(t," ").concat(n," ").concat(r)}function wWt(e){const{from:t,to:n}=e,{left:r,top:o}=t,{left:i,top:s}=n,a=[],c=Math.min(Rs,Math.abs(o-s)/2);return t.isAbove?a.push(SO(r+ht,o-Ei+Aa),oo(r+ht,o-Rs),us(r+ht,o,r+ht+Rs,o)):t.isBelow?a.push(SO(r+ht,o+Ei-Aa),oo(r+ht,o+Rs),us(r+ht,o,r+ht+Rs,o)):a.push(SO(r,o)),n.isAbove?o<n.bounds.top?a.push(oo(n.bounds.left-8-c,o),us(n.bounds.left-8,o,n.bounds.left-8,o+c),oo(n.bounds.left-8,s-c),us(n.bounds.left-8,s,n.bounds.left-8+c,s),oo(n.bounds.left+ht-Rs,s),us(n.bounds.left+ht,s,n.bounds.left+ht,s-Rs),oo(n.bounds.left+ht,s-Ei+Aa)):a.push(oo(n.bounds.left+ht-Rs,o),us(n.bounds.left+ht,o,n.bounds.left+ht,o-Rs),oo(n.bounds.left+ht,s-Ei+Aa)):n.isBelow?o>n.bounds.top+n.bounds.height?a.push(oo(n.bounds.left-ht-c,o),us(n.bounds.left-ht,o,n.bounds.left-ht,o-c),oo(n.bounds.left-ht,s+c),us(n.bounds.left-ht,s,n.bounds.left-ht+c,s),oo(n.bounds.left+ht-Rs,s),us(n.bounds.left+ht,s,n.bounds.left+ht,s+Rs),oo(n.bounds.left+ht,s+Ei-Aa)):a.push(oo(n.bounds.left+ht-Rs,o),us(n.bounds.left+ht,o,n.bounds.left+ht,o+Rs),oo(n.bounds.left+ht,s+Ei-Aa)):o<s?a.push(oo(n.bounds.left+ht-c,o),us(n.bounds.left+ht,o,n.bounds.left+ht,o+c),oo(n.bounds.left+ht,s-c),us(n.bounds.left+ht,s,n.bounds.left+ht+c,s),oo(i,s)):a.push(oo(n.bounds.left+ht-c,o),us(n.bounds.left+ht,o,n.bounds.left+ht,o-c),oo(n.bounds.left+ht,s+c),us(n.bounds.left+ht,s,n.bounds.left+ht+c,s),oo(i,s)),xWt(a)}function Mee(e,t){const n=e.top+e.height/2,r=e.top+e.height<t.top+Aa,o=e.top>t.top+t.height-Aa;return{bounds:t,left:e.left,top:n,centerY:n,startY:e.top+xee,endY:e.top+e.height-xee,isAbove:r,isBelow:o,outOfBounds:r||o}}function CWt(e){const t={top:e.from.bounds.top+Ei,bottom:e.from.bounds.top+e.from.bounds.height-Ei,left:e.from.bounds.left,right:e.from.bounds.left+e.from.bounds.width,width:e.from.bounds.width,height:e.from.bounds.height-Ei*2},n=Mee(e.from.rect,t);n.left=e.from.rect.left+e.from.rect.width+1;const r={top:e.to.bounds.top+Ei,bottom:e.to.bounds.top+e.to.bounds.height-Ei,left:e.to.bounds.left,right:e.to.bounds.left+e.to.bounds.width,width:e.to.bounds.width,height:e.to.bounds.height-Ei*2},o=Mee(e.to.rect,r),i=Math.max(o.startY,n.startY);return n.top=Math.min(i,n.endY),n.top<r.top?n.top=Math.min(r.top,n.endY):n.top>r.bottom&&(n.top=Math.max(r.bottom,n.startY)),o.top=Math.min(i,o.endY),o.top<t.top?o.top=Math.min(t.top,o.endY):o.top>t.bottom&&(o.top=Math.max(t.bottom,o.startY)),n.top=Math.min(Math.max(n.top,t.top),t.bottom),o.top=Math.min(Math.max(o.top,r.top),r.bottom),{from:n,to:o}}function _Wt(e){const{bounds:t,...n}=e,r=Math.max(t.left,e.left),o=Math.max(e.top,t.top),i=Math.max(0,e.height-(o-e.top)),s=Math.max(0,e.width-(r-e.left));return l.jsx("rect",{...n,x:r,y:o,height:i,width:s})}var Fee=Object.freeze,SWt=Object.defineProperty,SA=(e,t)=>Fee(SWt(e,"raw",{value:Fee(t||e.slice())})),Lee,Bee,Nee,zee;P.rect(Lee||(Lee=SA([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const ty=P.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Bee||(Bee=SA([`
    fill: none;
    pointer-events: none;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke: `,`;
  `])),n)}),EWt=P.path(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(Nee||(Nee=SA([`
    fill: none;
    pointer-events: stroke;
    stroke: `,`;
    cursor: pointer;
    stroke-linecap: round;
    stroke-linejoin: round;
    opacity: 0;

    &:hover {
      opacity: 0.2;
    }
  `])),n)}),kWt=P(_Wt)(e=>{let{theme:t}=e;const n=t.sanity.color.spot.yellow;return de(zee||(zee=SA([`
    stroke: none;
    pointer-events: none;
    fill: `,`;
  `])),n)}),jWt=h.memo(function(t){let{from:n,to:r}=t;const o=CWt({from:n,to:r});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const i=wWt(o);return l.jsxs(l.Fragment,{children:[l.jsx(EWt,{d:i,strokeWidth:FUt}),l.jsx(ty,{d:i,strokeWidth:rg}),l.jsx(kWt,{top:r.rect.top,left:r.rect.left,height:r.rect.height,width:rg,bounds:r.bounds}),o.from.isAbove&&l.jsx(ty,{d:s2(o.from.left+ht,o.from.bounds.top-Ei+Aa,-1),strokeWidth:rg}),o.from.isBelow&&l.jsx(ty,{d:s2(o.from.left+ht,o.from.bounds.top+o.from.bounds.height+Ei-Aa,1),strokeWidth:rg}),o.to.isAbove&&l.jsx(ty,{d:s2(o.to.bounds.left+ht,o.to.bounds.top-Ei+Aa,-1),strokeWidth:rg}),o.to.isBelow&&l.jsx(ty,{d:s2(o.to.bounds.left+ht,o.to.bounds.top+o.to.bounds.height+Ei-Aa,1),strokeWidth:rg}),LUt]})});function TWt(e,t){h.useEffect(()=>ZUt.observe(e,t),[e,t])}var Vee=Object.freeze,AWt=Object.defineProperty,DWt=(e,t)=>Vee(AWt(e,"raw",{value:Vee(t||e.slice())})),Hee;const IWt=P.svg(Hee||(Hee=DWt([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));function Uee(e,t,n,r){const o=[],i=[];for(const u of e){if(!vWt(u)||!u[1].isChanged)continue;const[d,f]=u;if(d===t){o.push(u);continue}if(f.hasHover){o.push(u);continue}if(f.hasFocus){i.push(u);continue}}const s=o.length>0;return{connectors:(s?o:i).map(u=>{let[d]=u;const f=Pee("field",d,n),p=Pee("change",d,n);return!f||!p?null:{field:{id:d,...f},change:{id:d,...p}}}).filter(bo).map(u=>{let{field:d,change:f}=u;return{hasHover:d.hasHover||f.hasHover,hasFocus:d.hasFocus,hasRevertHover:f.hasRevertHover,field:{...d,...$ee(d.element,r)},change:{...f,...$ee(f.element,r)}}}),isHoverConnector:s}}function OWt(e){const{rootElement:t,onSetFocus:n}=e,[r,o]=re.useState(null),i=aB(),s=h.useMemo(()=>new Map(i),[i]),[{connectors:a},c]=h.useState(()=>Uee(i,r,s,t)),u=h.useMemo(()=>Em(a,f=>0-f.field.path.length).slice(0,1),[a]),d=h.useCallback(()=>{c(Uee(i,r,s,t))},[s,i,r,t]);return TWt(t,d),l.jsx(gWt,{onScroll:d,children:l.jsx(IWt,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(f=>{let{field:p,change:m}=f;return m?l.jsx(PWt,{field:p,change:m,onSetFocus:n,setHovered:o},p.id):null})})})}function PWt(e){const{change:t,field:n,onSetFocus:r,setHovered:o}=e,i=h.useCallback(()=>{Ree(n),Ree(t),r(n.path)},[n,t,r]),s=h.useCallback(()=>o(n.id),[n,o]),a=h.useCallback(()=>o(null),[o]),c=h.useMemo(()=>({rect:{left:n.rect.left+2,top:n.rect.top,height:n.rect.height,width:n.rect.width},bounds:n.bounds}),[n.bounds,n.rect]),u=h.useMemo(()=>({rect:t.rect,bounds:t.bounds}),[t.bounds,t.rect]);return l.jsxs(l.Fragment,{children:[l.jsx("g",{onClick:i,onMouseEnter:s,onMouseLeave:a,children:l.jsx(jWt,{from:c,to:u})}),BUt]})}function RWt(e){let{children:t,className:n,isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i,...s}=e;const[a,c]=re.useState(),u=h.useMemo(()=>({isReviewChangesOpen:r,onOpenReviewChanges:o,onSetFocus:i}),[r,o,i]);return l.jsx(Rm.Provider,{value:u,children:l.jsx(NUt,{children:l.jsxs(_A,{...s,ref:c,className:n,children:[t,a&&l.jsx(OWt,{rootElement:a,onSetFocus:i})]})})})}const $Wt=RWt;function MWt(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function dB(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&MWt(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Wee=Object.freeze,FWt=Object.defineProperty,EA=(e,t)=>Wee(FWt(e,"raw",{value:Wee(t||e.slice())})),qee,Yee,Gee,Kee;const LWt="data-active",EO="a,button",BWt=P.div(e=>{let{theme:t,offset:n}=e;return de(qee||(qee=EA([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-n,ge(t.sanity.radius[1]),-n,-n,-n,RAe,dB({base:t.sanity.color.base,focusRing:t.sanity.focusRing}))}),NWt=P.div(Yee||(Yee=EA([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),RAe=P(M)(Gee||(Gee=EA([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),zWt=P(M).attrs(e=>{let{$height:t}=e;return{style:{height:"".concat(t,"px")}}})(Kee||(Kee=EA([`
  position: relative;
  width: 100%;
`]))),uh=h.forwardRef(function(t,n){let{activeItemDataAttr:r=LWt,ariaLabel:o,ariaMultiselectable:i=!1,autoFocus:s,canReceiveFocus:a,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:d,getItemKey:f,getItemSelected:p,initialIndex:m,initialScrollAlign:v="start",inputElement:g,itemHeight:b,items:x,onEndReached:y,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:_,renderItem:S,wrapAround:E=!0,...j}=t;const k=h.useRef(!1),T=h.useRef(h.useId()),A=h.useRef(m??0),[D,I]=h.useState(null),[O,$]=h.useState(!1),[R,z]=h.useState(null),[B,U]=h.useState(null),W=h.useCallback(Ae=>{if(!y)return;const[Ke]=[...Ae.getVirtualItems()].reverse();if(!Ke)return;Ke.index>=x.length-w-1&&k.current&&y()},[y,x.length,w]),V=F_e({count:x.length,getItemKey:f,getScrollElement:()=>B,estimateSize:()=>b,onChange:W,overscan:_}),K=h.useMemo(()=>{let Ae=-1;return x.reduce((Ke,Ye,tt)=>{var wt,Ee;const Ne=(wt=d==null?void 0:d(tt))!=null?wt:!1,ut=(Ee=p==null?void 0:p(tt))!=null?Ee:!1;return Ne||(Ae+=1),Ke[tt]={activeIndex:Ne?null:Ae,disabled:Ne,selected:ut},Ke},[])},[d,p,x]),te=h.useMemo(()=>K.filter(Ae=>!Ae.disabled).length,[K]),N=h.useCallback(Ae=>R==null?void 0:R.setAttribute("data-enabled",(!Ae).toString()),[R]),G=h.useCallback(Ae=>"".concat(T.current,"-item-").concat(Ae),[]),q=h.useCallback(()=>"".concat(T.current,"-children"),[]),Z=h.useCallback(()=>{const Ae=[g,B].some(Ye=>document.activeElement===Ye);if(C&&!Ae&&!O)return;const Ke=Array.from((D==null?void 0:D.children)||[]);Ke==null||Ke.forEach(Ye=>{var tt,wt,Ee;const Ne=Number((tt=Ye.dataset)==null?void 0:tt.index),ut=(wt=K[Ne])==null?void 0:wt.activeIndex;(Ee=Ye.querySelector(EO))==null||Ee.toggleAttribute(r,ut===A.current)})},[r,D==null?void 0:D.children,O,g,K,C,B]),ie=h.useCallback(()=>{const Ae=Array.from((D==null?void 0:D.children)||[]);Ae==null||Ae.forEach(Ke=>{var Ye;(Ye=Ke.querySelector(EO))==null||Ye.toggleAttribute(r,!1)})},[r,D==null?void 0:D.children]),ne=h.useMemo(()=>pT(Z,200),[Z]),Y=h.useCallback(()=>{const Ae=A==null?void 0:A.current;x.length>0?(g==null||g.setAttribute("aria-activedescendant",G(Ae)),B==null||B.setAttribute("aria-activedescendant",G(Ae))):(g==null||g.removeAttribute("aria-activedescendant"),B==null||B.removeAttribute("aria-activedescendant"))},[G,g,x.length,B]),X=h.useCallback(()=>{var Ae,Ke;const Ye=D==null?void 0:D.parentElement;if(D&&Ye){const tt=Ye.getBoundingClientRect().top-D.getBoundingClientRect().top;return(Ke=(Ae=V.getVirtualItemForOffset(tt))==null?void 0:Ae.index)!=null?Ke:-1}return-1},[D,V]),ae=h.useCallback(Ae=>{let{index:Ke,scrollAlign:Ye,scrollIntoView:tt=!0}=Ae;if(A.current=Ke,Y(),Z(),tt){const wt=K.findIndex(Ee=>Ee.activeIndex===Ke);wt>-1&&V.scrollToIndex(wt,Ye?{align:Ye}:{})}},[Y,K,Z,V]),he=h.useCallback(Ae=>{let Ke=-1;const Ye=te-1;if(Ae==="next"){const tt=E?0:Ye;Ke=A.current<te-1?A.current+1:tt}if(Ae==="previous"){const tt=E?Ye:0;Ke=A.current>0?A.current-1:tt}ae({index:Ke,scrollIntoView:!0}),N(!1)},[te,N,ae,E]),ce=h.useCallback(Ae=>{switch(Ae){case"input":g==null||g.focus();break;case"list":B==null||B.focus();break}},[g,B]),xe=h.useCallback(()=>{g==null||g.focus()},[g]),Se=h.useCallback(()=>{B==null||B.focus()},[B]),pe=h.useCallback(Ae=>()=>{ae({index:Ae,scrollIntoView:!1})},[ae]),be=h.useCallback(()=>{Z()},[Z]),Be=h.useCallback(Ae=>Ke=>{const Ye=Array.from((D==null?void 0:D.children)||[]);if(Ye.length&&(Ke.key==="ArrowDown"&&(Ke.preventDefault(),ce(Ae),he("next")),Ke.key==="ArrowUp"&&(Ke.preventDefault(),ce(Ae),he("previous")),Ke.key==="Enter")){Ke.preventDefault(),ce(Ae);const tt=Ye.find(wt=>Number(wt.dataset.index)===K.findIndex(Ee=>Ee.activeIndex===A.current));if(tt){const wt=tt==null?void 0:tt.querySelector(EO);wt==null||wt.click()}}},[D==null?void 0:D.children,ce,K,he]),$e=h.useCallback(Ae=>Be("input")(Ae),[Be]),ct=h.useCallback(Ae=>Be("list")(Ae),[Be]),ot=h.useCallback(()=>{C&&(Z(),$(!0))},[C,Z]),Lt=h.useCallback(()=>{C&&(ie(),$(!1))},[ie,C]);h.useImperativeHandle(n,()=>({focusInputElement(){xe()},focusListElement(){Se()},getTopIndex(){return X()},scrollToIndex(Ae){ae({index:Ae}),N(!0)}}),[N,xe,Se,X,ae]),h.useEffect(()=>{typeof m<"u"&&!k.current&&ae({index:m,scrollAlign:v,scrollIntoView:!0}),k.current=!0},[m,v,C,ae]),h.useEffect(()=>{function Ae(){N(!0)}return B==null||B.addEventListener("mousemove",Ae),B==null||B.addEventListener("wheel",Ae,{passive:!0}),()=>{B==null||B.removeEventListener("mousemove",Ae),B==null||B.removeEventListener("wheel",Ae)}},[N,B]),h.useEffect(()=>(g==null||g.addEventListener("focus",be),g==null||g.addEventListener("keydown",$e),B==null||B.addEventListener("focus",be),B==null||B.addEventListener("keydown",ct),()=>{g==null||g.removeEventListener("focus",be),g==null||g.removeEventListener("keydown",$e),B==null||B.removeEventListener("focus",be),B==null||B.removeEventListener("keydown",ct)}),[a,be,Be,$e,ct,ie,g,Z,B]),h.useEffect(()=>{Y()},[Y,x]),h.useEffect(()=>{const Ae=new MutationObserver(ne);return D&&Ae.observe(D,{childList:!0,subtree:!0}),()=>{Ae.disconnect()}},[D,ne]),h.useEffect(()=>{g==null||g.setAttribute("aria-autocomplete","list"),g==null||g.setAttribute("aria-expanded","true"),g==null||g.setAttribute("aria-controls",q()),g==null||g.setAttribute("role","combobox")},[q,g]),h.useEffect(()=>{s&&ce(s)},[s,a,Se,xe,ce]);const Rt=a?0:-1;return l.jsxs(RAe,{id:q(),onMouseEnter:ot,onMouseLeave:Lt,ref:U,sizing:"border",tabIndex:Rt,...j,children:[a&&l.jsx(BWt,{offset:u}),l.jsx(NWt,{"aria-hidden":"true","data-enabled":!0,ref:z}),V&&l.jsx(zWt,{forwardedAs:"ul",$height:V.getTotalSize(),"aria-label":o,"aria-multiselectable":i,flex:1,ref:I,role:"listbox",children:V.getVirtualItems().map(Ae=>{const Ke=Ae.index,{activeIndex:Ye,disabled:tt,selected:wt}=K[Ke],Ee=S(x[Ke],{activeIndex:Ye,disabled:tt,selected:wt,virtualIndex:Ke}),Ne=h.cloneElement(Ee,{tabIndex:-1}),ut=typeof Ye=="number"&&!tt?{"aria-posinset":Ye+1,...i?{"aria-selected":wt.toString()}:{},"aria-setsize":te,id:G(Ye),role:"option",onMouseEnter:pe(Ye)}:{};return l.jsx(ee,{as:"li","data-index":Ke,ref:c?void 0:V.measureElement,style:{flex:1,...c?{height:"".concat(Ae.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(Ae.start,"px)"),width:"100%"},tabIndex:-1,...ut,children:Ne},Ae.key)})})]})}),Zee=new WeakMap;let VWt=0;function Xee(e){const t=Zee.get(e);if(t)return t;const n="".concat(e.name||e.displayName||"<anonymous>","-").concat(VWt++);return Zee.set(e,n),n}function HWt(e){const t=h.useRef(void 0);return Vu(e,t.current)||(t.current=e),[t.current]}function UWt(e,t){h.useEffect(e,HWt(t))}const WWt=h.memo(function(t){const{hook:n,args:r,id:o,onNext:i,onReset:s,onRequestUpdate:a}=t,c=n({...r,onComplete:()=>{s(o)}});return UWt(()=>(i(o,c),a(),()=>{i(o,null),a()}),c),null},(e,t)=>e.args===t.args),qWt=e=>{const t=Date.now();return setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-t)}})},1)},YWt=e=>clearTimeout(e),GWt=typeof requestIdleCallback>"u"?qWt:requestIdleCallback,KWt=typeof cancelIdleCallback>"u"?YWt:cancelIdleCallback,ZWt={trailing:!0};function $Ae(e){const{hooks:t,args:n,children:r,onReset:o}=e,i=h.useRef({}),[s,a]=h.useState(0),[c,u]=h.useState({}),d=h.useRef(null),f=h.useCallback(()=>{d.current&&KWt(d.current),d.current=GWt(()=>{d.current=null,a(x=>x+1)})},[]),p=aWt(f,60,ZWt),m=h.useCallback((x,y)=>{if(y===null)delete i.current[x];else{const w=i.current[x];i.current[x]={...w,value:y}}},[]),v=h.useCallback(x=>{u(y=>({...y,[x]:(y[x]||0)+1})),o&&o()},[o]),g=h.useMemo(()=>t.map(x=>Xee(x)),[t]),b=h.useMemo(()=>g.map(x=>{var y;return(y=i.current[x])==null?void 0:y.value}).filter(bo),[g,s]);return l.jsxs(l.Fragment,{children:[t.map(x=>{const y=Xee(x),w=c[y]||0;return l.jsx(WWt,{hook:x,id:y,args:n,onNext:m,onRequestUpdate:p,onReset:v},"".concat(y,"-").concat(w))}),r({states:b})]})}function fB(e){let{makePlatformAware:t=!0,keys:n=[],...r}=e;const o=t?n.map(XWt):n;return l.jsx(NL,{...r,keys:o})}const Qee=typeof navigator>"u"||typeof navigator.platform!="string"?!1:/Mac|iPod|iPhone|iPad/.test(navigator.platform||"");function XWt(e){const t=e.toLowerCase();return t==="alt"&&Qee?Jee(e,"option"):t==="option"&&!Qee?Jee(e,"alt"):e}function Jee(e,t){const n=e.length;return t.replace(/./g,(r,o)=>o<n&&e[o]===e[o].toUpperCase()?r.toUpperCase():r)}function Ac(e){const{currentUser:t,title:n="Insufficient permissions",operationLabel:r="access this feature"}=e,o=(t==null?void 0:t.roles)||[],i=o.length!==1;return l.jsxs(M,{padding:2,children:[l.jsxs(Zt,{space:2,children:[l.jsx(L,{size:1,children:l.jsx(Ef,{})}),l.jsx(L,{weight:"semibold",children:n})]}),l.jsx(Zt,{marginTop:4,children:l.jsx(L,{size:1,children:o.length===0?l.jsxs(l.Fragment,{children:["You have no role that grants you permission to ",r]}):l.jsxs(l.Fragment,{children:["Your role",i&&"s"," ",QWt(o.map(s=>l.jsx("code",{children:s.title},s.name)),l.jsx(l.Fragment,{children:", "}))," ","do",i||"es"," not have permissions to ",r]})})})]})}function QWt(e,t){return e.reduce((n,r)=>n===null?[r]:[...n,t,r],null)}const JWt=P(eo)(e=>{const{theme:t}=e,{container:n,media:r}=t.sanity;return gt(r,e.$width,o=>({width:o==="auto"?"none":ge(n[o]),maxWidth:"100%"}))}),eqt=re.forwardRef(function(t,n){const{width:r,...o}=t,i=ye(r);return l.jsx(JWt,{...o,"data-ui":"PopoverContainer",$width:i,ref:n})});var ete=Object.freeze,tqt=Object.defineProperty,MAe=(e,t)=>ete(tqt(e,"raw",{value:ete(t||e.slice())})),tte,nte;const nqt=P(rn)(()=>de(tte||(tte=MAe([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),rqt=P(os)(e=>{const t=e.theme.sanity.radius[3];return de(nte||(nte=MAe([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),t,t)});function oqt(e){const{children:t,header:n,onClose:r,referenceElement:o,containerRef:i,width:s}=e,a=h.useCallback(()=>{r(),o==null||o.focus()},[r,o]),c=l.jsx(eqt,{width:s,children:l.jsx(rh,{autoFocus:!0,children:l.jsxs(ee,{ref:i,children:[l.jsx(rqt,{children:l.jsx(M,{padding:2,paddingLeft:3,children:l.jsxs(H,{align:"center",gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(L,{textOverflow:"ellipsis",weight:"semibold",children:n})}),l.jsx(oe,{icon:Di,mode:"bleed",onClick:a})]})})}),t]})})});return l.jsx(nqt,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var rte=Object.freeze,iqt=Object.defineProperty,sqt=(e,t)=>rte(iqt(e,"raw",{value:rte(t||e.slice())})),ote;const aqt=P(Q)(()=>de(ote||(ote=sqt([`
    /* this is a hack to avoid layout jumps while previews are loading
    there's probably better ways of solving this */
    min-height: 35px;

    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),FAe=h.createContext({selected:!1});function lqt(){const e=h.useContext(FAe);if(!e)throw new Error("PreviewCard: missing context value");return e}const Ap=h.forwardRef(function(t,n){const{children:r,selected:o,as:i,...s}=t;return l.jsx(aqt,{"data-ui":"PreviewCard",...s,forwardedAs:i,ref:n,selected:o,children:l.jsx(FAe.Provider,{value:{selected:o},children:r})})}),es={block:{width:33,height:33},blockImage:{width:600,height:400},default:{width:35,height:35},detail:{width:75,height:75},inline:{width:15,height:15},media:{width:160,height:160}},cqt={block:31,blockImage:45,default:33,detail:45,inline:15,media:45};var ite=Object.freeze,uqt=Object.defineProperty,dqt=(e,t)=>ite(uqt(e,"raw",{value:ite(t||e.slice())})),ste;const LAe=P.span(e=>{const{$dimensions:t,$layout:n,$radius:r,$responsive:o}=e,i=t.width||0,s=t.width||0,a=cqt[n];return de(ste||(ste=dqt([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      display: block;
      flex: 1;
      font-size: calc(21 / 16 * 1em);
    }

    & [data-sanity-icon] {
      display: block;
      font-size: calc(`,` / 16 * 1em);
    }

    /*
      NOTE on why we can’t use the ":after" pseudo-element:
      The thing is we only want the shadow when then <MediaWrapper> contains
      something else than <svg> – icons should not have the shadow.
      This is why we use the "*:not(svg) + span" selector to target only that
      situation to render the shadow.
    */
    & *:not(svg) + span {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.2;
      border-radius: inherit;
    }
  `])),o?"100%":ge(i),o?"100%":ge(s),o?void 0:ge(i),c=>{let{theme:u}=c;return ge(u.sanity.radius[r])},a)});LAe.displayName="MediaWrapper";function oC(e){const{border:t=!0,dimensions:n,layout:r,media:o,radius:i=1,responsive:s=!1,styles:a}=e;return l.jsxs(LAe,{$dimensions:n,$layout:r,$radius:i,$responsive:s,className:a==null?void 0:a.media,"data-testid":"Media",children:[fqt({dimensions:n,layout:r,media:o}),t&&l.jsx("span",{})]})}function fqt(e){const{dimensions:t,layout:n,media:r,styles:o}=e;return kr.isValidElementType(r)?h.createElement(r,{dimensions:t,layout:n}):typeof r=="string"?l.jsx(L,{as:"span",className:o==null?void 0:o.mediaString,children:r}):h.isValidElement(r)?r:null}function hqt(e,t,n){return kr.isValidElementType(e)?h.createElement(e,{layout:t,dimensions:n}):typeof e=="string"?l.jsx("div",{children:e}):e}function Vo(e,t,n){return typeof e=="string"?e:kr.isValidElementType(e)?h.createElement(e,{layout:t}):e||n}var ate=Object.freeze,pqt=Object.defineProperty,hB=(e,t)=>ate(pqt(e,"raw",{value:ate(t||e.slice())})),lte,cte,ute;const mqt={...es.default,aspect:1,fit:"crop",dpr:jm()},dte=P(H)(lte||(lte=hB([`
  height: `,`;
`])),ge(es.default.height)),gqt=P(Oi).attrs({animated:!0,radius:1})(cte||(cte=hB([`
  max-width: `,`;
  width: 80%;
`])),ge(160)),vqt=P(Oi).attrs({animated:!0,radius:1,size:1})(ute||(ute=hB([`
  max-width: `,`;
  width: 60%;
`])),ge(120));function BAe(e){const{title:t,subtitle:n,media:r,status:o,isPlaceholder:i,children:s,styles:a}=e,c=Imt(a==null?void 0:a.root,!!n&&(a==null?void 0:a.hasSubtitle)),u=o&&l.jsx(M,{className:a==null?void 0:a.status,"data-testid":"default-preview__status",paddingLeft:3,paddingRight:1,children:Vo(o,"default")});return i?l.jsxs(dte,{align:"center",className:a==null?void 0:a.placeholder,"data-testid":"default-preview",children:[r!==!1&&l.jsx(D0,{animated:!0,marginRight:2,radius:2,style:es.default}),l.jsxs(ee,{"data-testid":"default-preview__heading",flex:1,paddingLeft:r===!1?1:2,paddingRight:o?0:1,space:2,children:[l.jsx(gqt,{}),l.jsx(vqt,{})]}),u]}):l.jsxs(dte,{align:"center",className:c,"data-testid":"default-preview",children:[r!==!1&&r!==void 0&&l.jsx(oC,{dimensions:mqt,layout:"default",media:r,styles:a}),l.jsxs(ee,{className:a==null?void 0:a.heading,"data-testid":"default-preview__header",flex:1,paddingLeft:r?2:1,paddingRight:o?0:1,space:2,children:[l.jsxs(L,{className:a==null?void 0:a.title,style:{color:"inherit"},textOverflow:"ellipsis",children:[t&&Vo(t,"default"),!t&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",className:a==null?void 0:a.subtitle,children:Vo(n,"default")}),s&&l.jsx("div",{className:a==null?void 0:a.children,children:s})]}),u]})}var fte=Object.freeze,yqt=Object.defineProperty,$m=(e,t)=>fte(yqt(e,"raw",{value:fte(t||e.slice())})),hte,pte,mte,gte,vte,yte,bte;const xte=P(H).attrs({align:"center"})(hte||(hte=$m([`
  height: `,`;
`])),ge(es.detail.height)),bqt=P(M)(pte||(pte=$m([`
  white-space: nowrap;
`]))),xqt=P(D0).attrs({animated:!0,radius:2})(mte||(mte=$m([`
  width: `,`;
  height: `,`;
`])),ge(es.detail.width),ge(es.detail.height)),wqt=P(Oi).attrs({animated:!0,radius:1})(gte||(gte=$m([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),ge(160)),Cqt=P(Oi).attrs({animated:!0,radius:1,size:1})(vte||(vte=$m([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),ge(120)),_qt=P(Oi).attrs({animated:!0,radius:1,size:1})(yte||(yte=$m([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),ge(180)),Sqt=P(L)(e=>{let{theme:t}=e;const{fonts:n}=t.sanity,r=n.text.sizes[1],o=2,i=r.lineHeight*o;return de(bte||(bte=$m([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),ge(i),o)}),Eqt={...es.detail,fit:"crop",aspect:1,dpr:jm()};function kqt(e){const{title:t,subtitle:n,description:r,mediaDimensions:o=Eqt,media:i,status:s,children:a,isPlaceholder:c}=e,u=s&&l.jsx(bqt,{marginLeft:3,paddingRight:1,children:Vo(s,"detail")});return c?l.jsxs(xte,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(xqt,{"data-testid":"detail-preview__media"}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(H,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(ee,{flex:1,space:2,children:[l.jsx(wqt,{}),l.jsx(Cqt,{})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(_qt,{})})]})]}):l.jsxs(xte,{"data-testid":"detail-preview",children:[i!==!1&&l.jsx(oC,{dimensions:o,layout:"detail",media:i}),l.jsxs(M,{flex:1,paddingLeft:i===!1?1:2,children:[l.jsxs(H,{align:"center","data-testid":"detail-preview__header",children:[l.jsxs(ee,{flex:1,space:2,children:[l.jsxs(L,{textOverflow:"ellipsis",style:{color:"inherit"},children:[t&&Vo(t,"detail"),!t&&l.jsx(l.Fragment,{children:"Untitled"})]}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Vo(n,"detail")})]}),u]}),r&&l.jsx(M,{marginTop:3,children:l.jsx(Sqt,{muted:!0,size:1,children:Vo(r,"detail")})})]}),a]})}var wte=Object.freeze,jqt=Object.defineProperty,pB=(e,t)=>wte(jqt(e,"raw",{value:wte(t||e.slice())})),Cte,_te,Ste;const dl=43,mB=3,Tqt=P.svg(Cte||(Cte=pB([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),dl,dl),Aqt=P.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(_te||(_te=pB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),fe.gray[n.dark?900:100].hex,mB)}),Dqt=P.circle(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(Ste||(Ste=pB([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),fe.blue[n.dark?400:500].hex,mB)});function Iqt(e){const{value:t}=e,n=Math.min(Math.max(t,0),100),r=dl/2-mB/2,o=2*Math.PI*r,i=(100-n)/100*o,s="".concat(dl/2," ").concat(dl/2," ").concat(dl," ").concat(dl);return l.jsxs(Tqt,{viewBox:s,children:[l.jsx(Aqt,{cx:dl,cy:dl,r}),l.jsx(Dqt,{cx:dl,cy:dl,r,style:{strokeDasharray:o,strokeDashoffset:"".concat(i,"px")}})]})}var Ete=Object.freeze,Oqt=Object.defineProperty,NAe=(e,t)=>Ete(Oqt(e,"raw",{value:Ete(t||e.slice())})),kte,jte;const Pqt=.5,Rqt=P(Q)(kte||(kte=NAe([`
  overflow: hidden;
  overflow: clip;
`]))),$qt=P(Q)(e=>{let{theme:t}=e;const{color:n}=t.sanity;return de(jte||(jte=NAe([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),Pqt,fe.blue[n.dark?400:500].hex)});function Mqt(e){const{value:t}=e;return l.jsx(Rqt,{radius:5,children:l.jsx($qt,{radius:5,style:{transform:"translate3d(".concat(t-100,"%, 0, 0)")}})})}var Tte=Object.freeze,Fqt=Object.defineProperty,iC=(e,t)=>Tte(Fqt(e,"raw",{value:Tte(t||e.slice())})),Ate,Dte,Ite,Ote,Pte;const Lqt=P(M)(Ate||(Ate=iC([`
  position: relative;
`]))),Bqt=P(H).attrs({align:"center",justify:"center"})(Dte||(Dte=iC([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),Nqt=P(D0).attrs({animated:!0,radius:2})(Ite||(Ite=iC([`
  width: 100%;
  height: 100%;
`]))),zqt=P(H).attrs({align:"center",justify:"center"})(Ote||(Ote=iC([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),Vqt=P(ee).attrs({padding:2,space:2})(Pte||(Pte=iC([`
  max-width: `,`;
`])),ge(200)),Hqt={...es.media,aspect:1,fit:"crop",dpr:jm()};function Uqt(e){const{media:t,mediaDimensions:n=Hqt,children:r,isPlaceholder:o,progress:i=-1,subtitle:s,title:a,withBorder:c=!0,withRadius:u=!0}=e,d=n.aspect||1,f=h.useMemo(()=>({paddingBottom:"".concat(100/d,"%")}),[d]),p=h.useMemo(()=>!a||!s?null:l.jsxs(Vqt,{children:[a&&l.jsx(L,{align:"center",size:1,weight:"semibold",children:Vo(a,"media")}),s&&l.jsx(L,{align:"center",muted:!0,size:1,children:Vo(s,"media")})]}),[s,a]);return l.jsxs(Lqt,{"data-testid":"media-preview",overflow:"hidden",flex:1,children:[l.jsx("div",{style:f}),l.jsx(it,{content:p,disabled:!p,placement:"top",portal:!0,children:l.jsxs(Bqt,{children:[o?l.jsx(Nqt,{}):l.jsx(oC,{border:c,dimensions:n,layout:"media",media:t,radius:u?1:0,responsive:!0}),typeof i=="number"&&i>-1&&l.jsx(zqt,{children:l.jsx(Iqt,{value:i})})]})}),r]})}var Rte=Object.freeze,Wqt=Object.defineProperty,gB=(e,t)=>Rte(Wqt(e,"raw",{value:Rte(t||e.slice())})),$te,Mte,Fte;const qqt=P(H).attrs({align:"center"})($te||($te=gB([`
  box-shadow: 0 0 0 1px var(--card-border-color);
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),ge(es.block.height)),Yqt=P(Q)(Mte||(Mte=gB([`
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),e=>{let{$ratio:t}=e;return t}),Gqt=P(M).attrs({overflow:"hidden"})(Fte||(Fte=gB([`
  border-radius: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.radius[1]}),Kqt={...es.blockImage,fit:"fillmax",dpr:jm()},Zqt=e=>{const{height:t,width:n}=e;return!t||!n?1:t/n*100};function Xqt(e){const{actions:t,title:n,subtitle:r,description:o,fallbackTitle:i="Untitled",mediaDimensions:s=Kqt,media:a,children:c,status:u}=e;return l.jsxs(Gqt,{children:[l.jsxs(ee,{children:[l.jsxs(qqt,{paddingLeft:2,paddingRight:1,paddingY:1,children:[l.jsxs(ee,{flex:1,space:2,children:[(n||i)&&l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Vo(n,"block"):i}),r&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Vo(r,"block")})]}),l.jsxs(H,{gap:1,paddingLeft:1,children:[u&&l.jsx(M,{paddingX:2,paddingY:3,children:Vo(u,"block")}),t]})]}),l.jsx(Yqt,{$ratio:Zqt(s),__unstable_checkered:!0,display:"flex",sizing:"border",tone:"inherit",children:l.jsx(oC,{border:!1,dimensions:s,layout:"blockImage",media:a,radius:0,responsive:!0})})]}),o&&l.jsx(M,{paddingX:2,paddingY:3,children:l.jsx(L,{muted:!0,size:1,children:Vo(o,"block")})}),c&&l.jsx("div",{children:c})]})}var Lte=Object.freeze,Qqt=Object.defineProperty,Jqt=(e,t)=>Lte(Qqt(e,"raw",{value:Lte(t||e.slice())})),Bte;const eYt={...es.block,aspect:1,fit:"crop",dpr:jm()},tYt=P(H).attrs({align:"center"})(Bte||(Bte=Jqt([`
  min-height: `,`;
`])),ge(es.block.height));function nYt(e){const{actions:t,title:n,subtitle:r,description:o,mediaDimensions:i=eYt,media:s,status:a,children:c}=e;return l.jsxs(ee,{"data-testid":"block-preview",space:1,children:[l.jsxs(tYt,{"data-testid":"block-preview__header",children:[s&&l.jsx(oC,{dimensions:i,layout:"block",media:s}),l.jsxs(M,{flex:1,paddingLeft:s?2:1,children:[l.jsx(L,{size:1,textOverflow:"ellipsis",weight:"semibold",children:n?Vo(n,"block"):"Untitled"}),r&&l.jsx(M,{marginTop:2,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Vo(r,"block")})}),o&&l.jsx(M,{marginTop:3,children:l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:Vo(o,"block")})})]}),l.jsxs(H,{gap:1,paddingLeft:1,children:[a&&l.jsx(M,{paddingX:2,paddingY:3,children:Vo(a,"block")}),t]})]}),c&&l.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var Nte=Object.freeze,rYt=Object.defineProperty,vB=(e,t)=>Nte(rYt(e,"raw",{value:Nte(t||e.slice())})),zte,Vte,Hte;const oYt=P.span(zte||(zte=vB([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),iYt=P.span(Vte||(Vte=vB([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])},e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),sYt=P(L).attrs({forwardedAs:"span"})(e=>{let{theme:t}=e;const n=t.sanity.fonts.text,r=n.sizes[1];return de(Hte||(Hte=vB([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),r.fontSize,n.weights.medium,r.lineHeight/r.fontSize)}),aYt={...es.inline,fit:"crop",aspect:1,dpr:jm()};function lYt(e){const{title:t,fallbackTitle:n="Untitled",media:r,mediaDimensions:o=aYt}=e;return l.jsxs(oYt,{"data-testid":"inline-preview",children:[r&&l.jsxs(iYt,{"data-testid":"inline-preview-media",children:[hqt(r,"inline",o),l.jsx("span",{})]}),l.jsx(sYt,{"data-testid":"inline-preview-title",size:1,children:Vo(t,"inline",n)})]})}var Ute=Object.freeze,cYt=Object.defineProperty,kA=(e,t)=>Ute(cYt(e,"raw",{value:Ute(t||e.slice())})),Wte,qte,Yte,Gte;({...es.default,dpr:jm()});P(M)(Wte||(Wte=kA([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));P(H).attrs({align:"center"})(qte||(qte=kA([`
  height: `,`;
`])),ge(es.default.height));P(Oi).attrs({animated:!0,radius:1})(Yte||(Yte=kA([`
  max-width: `,`;
  width: 80%;
`])),ge(160));P(Oi).attrs({animated:!0,radius:1,size:1})(Gte||(Gte=kA([`
  max-width: `,`;
  width: 60%;
`])),ge(120));const uYt=["aria-hidden","disabled","href"],dYt='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function fYt(e){return[...e.querySelectorAll(dYt)].filter(t=>!t.hasAttribute("disabled")&&t.getAttribute("aria-hidden")!=="true")}function zAe(e){const{direction:t="horizontal",initialFocus:n,loop:r=!0,navigation:o=["arrows"],pause:i=!1,rootElement:s}=e,[a,c]=h.useState(-1),[u,d]=h.useState([]),f=u.length,p=f-1,m=t==="horizontal"?"ArrowRight":"ArrowDown",v=t==="horizontal"?"ArrowLeft":"ArrowUp",g=h.useCallback(()=>{if(s){const y=fYt(s);d(y)}},[s]),b=h.useCallback(y=>{c(y)},[]),x=h.useCallback(y=>{if(i)return;const w=()=>{y.preventDefault(),c(_=>{const S=(_+p)%f;return!r&&S===p?_:S})},C=()=>{y.preventDefault(),c(_=>{const S=(_+1)%f;return!r&&S===0?_:S})};y.key==="Tab"&&o.includes("tab")&&(y.shiftKey?w():C()),o.includes("arrows")&&(y.key===v&&w(),y.key===m&&C())},[i,v,o,m,p,f,r]);h.useEffect(()=>{g()},[g,n,t]),h.useEffect(()=>{const y=new MutationObserver(g);return s&&y.observe(s,{childList:!0,subtree:!0,attributeFilter:uYt}),()=>{y.disconnect()}},[u,g,s]),h.useEffect(()=>{var y;u.forEach((w,C)=>{C===a?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>b(C),w.onblur=()=>b(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>b(C))}),a===-1&&u&&((y=u[n==="last"?p:0])==null||y.setAttribute("tabIndex","0"))},[u,a,b,n,p]),h.useEffect(()=>(s==null||s.addEventListener("keydown",x),()=>{s==null||s.removeEventListener("keydown",x)}),[x,s])}const hYt=P(M)({position:"relative"}),pYt=P.div({position:"absolute",top:-4,right:-4,width:6,height:6,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),dh=h.forwardRef(function(t,n){const{disabled:r,fontSize:o,hotkey:i,icon:s,label:a,mode:c="bleed",space:u=3,text:d,tone:f,tooltip:p,...m}=t,v=As(),g=f&&v.sanity.color.solid[f],b=h.useMemo(()=>({backgroundColor:g==null?void 0:g.enabled.bg}),[g]),x=!!r,y=typeof r=="object"?l.jsx(L,{size:1,children:r.reason}):l.jsxs(H,{align:"center",gap:2,style:{lineHeight:0},children:[l.jsx(L,{size:1,children:a}),i&&l.jsx(fB,{fontSize:0,keys:i,style:{margin:-4}})]});return l.jsx(it,{padding:2,placement:"bottom",...p,content:y,disabled:!a,portal:!0,children:l.jsx("div",{children:l.jsx(oe,{"data-ui":"StatusButton",...m,"aria-label":a,disabled:x,mode:c,ref:n,children:l.jsxs(H,{gap:u,children:[l.jsxs(hYt,{children:[l.jsxs(L,{size:o,children:[h.isValidElement(s)&&s,kr.isValidElementType(s)&&h.createElement(s)]}),f&&l.jsx(pYt,{style:b})]}),d&&l.jsx(M,{flex:1,children:l.jsx(L,{size:o,children:d})})]})})})})});var Kte=Object.freeze,mYt=Object.defineProperty,gYt=(e,t)=>Kte(mYt(e,"raw",{value:Kte(t||e.slice())})),Zte;const vYt=P(L)(e=>{let{$tone:t,theme:n}=e;const r=n.sanity.color.muted[t];return de(Zte||(Zte=gYt([`
    &:not([data-muted]) {
      --card-fg-color: `,`;
    }

    &[data-dimmed] {
      opacity: 0.3;
    }
  `])),r?r.enabled.fg:void 0)}),cr=re.forwardRef(function(t,n){const{tone:r,dimmed:o,muted:i,...s}=t;return l.jsx(vYt,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":i?"":void 0,$tone:r,muted:i,ref:n,...s})}),sC=h.forwardRef(function(t,n){const{children:r,content:o,disabled:i,...s}=t;return l.jsx(it,{...s,content:o,disabled:i||!o,padding:2,ref:n,children:l.jsx("div",{children:r})})}),yB=h.forwardRef((e,t)=>{const{push:n}=qo();return h.useImperativeHandle(t,()=>({push:n})),null});yB.displayName="ImperativeToast";const yYt={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},bYt=h.createContext(yYt);function VAe(){return h.useContext(bYt)}function Zu(e){let{children:t,zOffset:n}=e;const o=VAe()[n];return l.jsx(Nu,{zOffset:o,children:t})}function xYt(){const e=new WeakMap,t=new WeakMap;function n(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function r(u){const d=t.get(u);if(d)return d;const f=n();return t.set(u,f),f}function o(u){return Array.from(new Set(u)).map(d=>[r(d),d]).sort((d,f)=>{let[p]=d,[m]=f;return p.localeCompare(m,"en")}).map(d=>{let[,f]=d;return f})}function i(u,d){if(!u.length)return;const[f,...p]=u,m=d.get(f);if(m)return p.length?i(p,m.next):m.value}function s(u,d,f){if(!u.length)return;const[p,...m]=u,v=d.get(p)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(d.set(p,v),!m.length){v.value=f;return}s(m,v.next,f)}function a(u){return i(o(u),e)}function c(u,d){s(o(u),e,d)}return{get:a,set:c}}const HAe=h.createContext(null);function wYt(e){let{children:t}=e;const n=h.useMemo(()=>{const r=new Map,o={};return{get:i=>{let{namespace:s,dependencies:a}=i;const c=a.map(d=>d===null?o:d),u=r.get(s);return u==null?void 0:u.get(c)},set:i=>{let{namespace:s,dependencies:a,value:c}=i;const u=r.get(s)||xYt(),d=a.map(f=>f===null?o:f);r.set(s,u),u.set(d,c)}}},[]);return l.jsx(HAe.Provider,{value:n,children:t})}function vd(){const e=h.useContext(HAe);if(!e)throw new Error("Could not find `cache` context");return e}class bB extends Error{constructor(t){let{projectId:n}=t;super("CorsOriginError"),this.projectId=n}}const xB=(()=>{const e="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),wB={};function UAe(e,t){xB?localStorage[e]=t:wB[e]=t}function CYt(e){return xB?localStorage[e]:wB[e]}function WAe(e){xB?localStorage.removeItem(e):delete wB[e]}function _Yt(e){const t=typeof window>"u"?ve():Pi(window,"storage"),n="__studio_local_storage_messaging_".concat(e),r=new Er,o=an(r,t.pipe(pt(s=>s.key===n),le(s=>s.newValue),pt(bo),le(s=>JSON.parse(s)))).pipe(Do(1));function i(s){try{UAe(n,JSON.stringify(s)),WAe(n),r.next(s)}catch{}}return{messages:o,broadcast:i}}const Xte=/sid=([^&]{20,})&?/;function SYt(){if(typeof window>"u"||typeof window.location!="object")return null;const e=window.location.hash,[,t]=e.match(Xte)||[];if(!t)return null;const n=e.replace(Xte,""),r=new URL(window.location.href);return r.hash=n.length>1?n:"",history.replaceState(null,"",r),t}let Qte=SYt();const EYt=()=>{const e=Qte;return e&&(Qte=null),e};var Jte=Object.freeze,kYt=Object.defineProperty,qAe=(e,t)=>Jte(kYt(e,"raw",{value:Jte(t||e.slice())})),ene,tne;const jYt=P.svg(e=>{let{theme:t}=e;const{fg:n}=t.sanity.color.base;return de(ene||(ene=qAe([`
    fill: `,`;
  `])),n)}),TYt=P.img(tne||(tne=qAe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),AYt=()=>l.jsx(jYt,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:l.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),DYt=()=>l.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),l.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),l.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),l.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function IYt(e){const{provider:t}=e;return t.logo?l.jsx(TYt,{src:t.logo,alt:"Logo for ".concat(t.name)}):void 0}const OYt={google:DYt,github:AYt};async function PYt(e){let{client:t,mode:n,providers:r=[]}=e;if(n==="replace"&&Array.isArray(r))return r;const{providers:o}=await t.request({uri:"/auth/providers"});return typeof r=="function"?r(o):r.length===0?o:n==="replace"?r:o.filter(i=>r.some(s=>s.url!==i.url)).concat(r)}function nne(e){let{loginMethod:t="dual",projectId:n,url:r,basePath:o}=e;const i=new URLSearchParams;return i.set("origin","".concat(window.location.origin).concat(o)),i.set("projectId",n),t==="token"?i.set("withSid","true"):i.set("type",t),"".concat(r,"?").concat(i)}function RYt(e){let{getClient:t,loginMethod:n,redirectOnSingle:r,...o}=e;const i=ch(t);function s(a){let{projectId:c,basePath:u}=a;const[d,f]=h.useState(null),[p,m]=h.useState(null);if(p)throw p;const[v]=i();h.useEffect(()=>{v&&PYt({client:v,...o}).then(f).catch(m)},[v]);const g=r&&(d==null?void 0:d.length)===1&&(d==null?void 0:d[0])&&nne({loginMethod:n,projectId:c,url:d[0].url,basePath:u}),b=!d||g;return h.useEffect(()=>{g&&(window.location.href=g)},[g]),b?l.jsxs(H,{align:"center",direction:"column",gap:4,justify:"center",padding:6,sizing:"border",children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(hr,{muted:!0})]}):l.jsxs(ee,{space:4,children:[l.jsx(Wo,{align:"center",size:1,children:"Choose login provider"}),l.jsx(ee,{space:2,children:d.map((x,y)=>l.jsx(oe,{as:"a",icon:OYt[x.name]||l.jsx(IYt,{provider:x}),href:nne({loginMethod:n,projectId:c,url:x.url,basePath:u}),mode:"ghost",text:x.title},"".concat(x.url,"_").concat(y)))})]})}return s}const CB=e=>{if(!e)throw new Error("Invalid project id");return"__studio_auth_token_".concat(e)},rne=e=>{try{const t=CYt(CB(e));if(t){const{token:n}=JSON.parse(t);if(n&&typeof n=="string")return n}}catch(t){console.error(t)}return null},YAe=e=>{try{WAe(CB(e))}catch(t){console.error(t)}},$Yt=e=>{let{token:t,projectId:n}=e;try{UAe(CB(n),JSON.stringify({token:t,time:new Date().toISOString()}))}catch(r){console.error(r)}},one=async(e,t)=>{var n;try{const r=await e.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(r==null?void 0:r.id)=="string"?r:null}catch(r){if(r.statusCode===401)return YAe(e.config().projectId||""),t(null),null;if(await e.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new bB({projectId:(n=e.config())==null?void 0:n.projectId});if(r.isNetworkError&&!r.message&&r.request&&r.request.url){const i=new URL(r.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(i))}throw r}};function MYt(e){let{clientFactory:t,projectId:n,dataset:r,apiHost:o,loginMethod:i="dual",...s}=e;const{broadcast:a,messages:c}=_Yt("dual_mode_auth_".concat(n)),u=t??pSe,d=c.pipe(oi(i==="dual"?rne(n):null)),f={};o&&(f.apiHost=o);const p=d.pipe(le(x=>u({projectId:n,dataset:r,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...f})),rt(x=>go(async()=>{const y=await one(x,a);return{currentUser:y,client:x,authenticated:!!y}})),Jn((x,y)=>Ut(x.currentUser,y.currentUser)),Do(1));async function m(){const x=EYt();if(!x){a(i==="cookie"?null:rne(n));return}const y=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});let w;if((i==="dual"||i==="cookie")&&(w=await one(y,a)),w||i==="cookie"){a(null);return}const C=await v(y,x);a(C??null)}async function v(x,y){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:y},tag:"auth.fetch-token"});return $Yt({token:w,projectId:n}),w}async function g(){const x=u({projectId:n,dataset:r,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...f});YAe(n),await x.request({uri:"/auth/logout",method:"POST"}),a(null)}const b=RYt({...s,getClient:()=>p.pipe(le(x=>x.client)),loginMethod:i});return{handleCallbackUrl:m,token:d,state:p,LoginComponent:b,logout:g}}function GAe(e){return typeof e!="object"||e===null?"".concat(e):JSON.stringify(Object.fromEntries(Object.entries(e).sort((t,n)=>{let[r]=t,[o]=n;return r.localeCompare(o,"en")}).map(t=>{let[n,r]=t;return[n,GAe(r)]})))}const FYt=mT(MYt,GAe);function LYt(e){return xt(e)&&"state"in e&&xt(e.state)&&"subscribe"in e.state&&typeof e.state.subscribe=="function"}function KAe(e){if(e==="google")return"Google";if(e==="github")return"GitHub";if(e==="sanity")return"Sanity";if(e!=null&&e.startsWith("saml-"))return"SAML/SSO"}function BYt(e){return t=>{let n=[];const r=Rn((o,i)=>(n.push(o),e(o,n.length,i).pipe(r)));return t.pipe(Cn(()=>{n=[]}),r)}}const ine=typeof window>"u"?ve({}):Pi(window,"online"),NYt=typeof window>"u"?ve({}):Pi(window,"offline"),zYt=e=>Math.pow(2,e)*100,VYt={type:"connecting"},ZAe=YCe(),HYt=ZAe[0];ZAe[1];const UYt=e=>{let{error:t,isOffline:n,attemptNo:r,retryAt:o}=e;return{type:"error",error:t,attemptNo:r,isOffline:n,retryAt:o}};function WYt(e){let{bifur:t}=e;return{connectionStatus$:an(t.heartbeats,NYt.pipe(Wp(zu(new Error("The browser went offline"))))).pipe(le(r=>({type:"connected",lastHeartbeat:r})),BYt((r,o,i)=>{const s=Math.min(24e4,zYt(o)),a=new Date(new Date().getTime()+s),c=Uo(a),u=!navigator.onLine,d=UYt({error:r,retryAt:a,isOffline:u,attemptNo:o}),f=QL.pipe(n8(u?ine:an(c,ine,HYt)));return Wr(ve(d),f.pipe(ji(1)),i)}),oi(VYt))}}const qYt=b0e(e=>{let{theme:t}=e;const{color:n,fonts:r}=t.sanity;return{html:{backgroundColor:n.base.bg},"#sanity":{fontFamily:r.text.family}}});function sne(e){const t=["projectId"in e&&"`projectId` not allowed in plugin configuration","dataset"in e&&"`dataset` not allowed in plugin configuration"].filter(ST);if(t.length)throw new Error(`Invalid plugin configuration:
`.concat(t.map(n=>"	".concat(n)).join(`
`)))}function _B(e){if(typeof e=="function"){const t=e;return n=>{const r=t(n);return sne(r),r}}return sne(e),()=>e}const YYt=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_fieldActions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},GYt=[];const yf=class XAe{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.message=t,this.paths=n.paths||[],this.children=n.children,this.operation=n.operation}cloneWithMessage(t){return new XAe(t,{paths:this.paths,children:this.children,operation:this.operation})}};function KYt(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function SB(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(jl(n))return"".concat(t,'[_key=="').concat(n._key,'"]');throw new Error('Unsupported path segment "'.concat(n,'"'))},"")}function ZYt(e){return e!==null||e!==void 0}function kb(e,t,n){var r;if(!n)throw new Error("missing context");if(e===!0)return[];if(Array.isArray(e))return e.flatMap(i=>kb(i,t,n)).filter(ZYt);if(typeof e=="string")return kb(new yf(e),t,n);if(!(e instanceof yf)){if(typeof(e==null?void 0:e.message)!="string")throw new Error("".concat(SB(n.path),": Validator must return 'true' if valid or an error message as a string on errors"));return kb(new yf(e.message,e),t,n)}const o=[];return(r=e.paths)!=null&&r.length?o.concat(e.paths.map(i=>({path:(n.path||[]).concat(i),level:t||"error",item:e}))):[{level:t||"error",item:e,path:n.path||[]}]}const XYt={}.toString,ane=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function QYt(e){for(let t=0;t<ane.length;t++)if(ane[t]===e)return!0;return!1}function QAe(e){const t=XYt.call(e).slice(8,-1);if(e==null)return t.toLowerCase();const n=e.constructor;return n&&!QYt(n)?n.name:t}function Lx(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!Lx(e[n],t[n]))return!1;return!0}if(Array.isArray(e)!=Array.isArray(t))return!1;if(e&&t&&typeof e=="object"&&typeof t=="object"){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof Date!=t instanceof Date)return!1;if(e instanceof RegExp&&t instanceof RegExp)return e.toString()==t.toString();if(e instanceof RegExp!=t instanceof RegExp)return!1;for(let r=0;r<n.length;r++)if(n[r]!=="_key"&&!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<n.length;r++){const o=n[r];if(o!=="_key"&&!Lx(e[o],t[o]))return!1}return!0}return!1}const lne=5e3,cne=e=>{var t;let n;return e.message?n=e.message:e.results.length===1?n=(t=e.results[0])==null?void 0:t.item.message:n="[".concat(e.results.map(r=>r.item.message).join(" - ".concat(e.operation," - ")),"]"),new yf(n,{children:e.results.length>1?e.results:void 0,operation:e.operation})},Mm={type:(e,t,n)=>{const r=QAe(t);return r!==e&&r!=="undefined"?n||'Expected type "'.concat(e,'", got "').concat(r,'"'):!0},presence:(e,t,n)=>t===void 0&&e==="required"?n||"Value is required":!0,all:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length?cne({message:n,results:i,operation:"AND"}):!0},either:async(e,t,n,r)=>{const i=(await Promise.all(e.map(s=>s.validate(t,r)))).flat();return i.length<e.length?!0:cne({message:n,results:i,operation:"OR"})},valid:(e,t,n)=>{const r=typeof t;if(r==="undefined")return!0;const o=(r==="number"||r==="string")&&"".concat(t),i=o&&o.length>30?"".concat(o.slice(0,30),"…"):o,s=o?'Value "'.concat(i,'" did not match any allowed values'):"Value did not match any allowed values";return e.some(a=>Lx(a,t))?!0:n||s},custom:async(e,t,n,r)=>{const o=setTimeout(()=>{console.warn("Custom validator at ".concat(SB(r.path)," has taken more than ").concat(lne,"ms to respond"))},lne);let i;try{i=await e(t,r)}finally{clearTimeout(o)}return typeof i=="string"&&n||i}},JYt={...Mm,presence:(e,t,n)=>e==="required"&&typeof t!="boolean"?n||"Required":!0},eGt=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,tGt={...Mm,integer:(e,t,n)=>Number.isInteger(t)?!0:n||"Must be an integer",precision:(e,t,n)=>{if(t===void 0)return!0;const r=t.toString().match(eGt);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)>e?n||"Max precision is ".concat(e):!0},min:(e,t,n)=>t>=e?!0:n||"Must be greater than or equal ".concat(e),max:(e,t,n)=>t<=e?!0:n||"Must be less than or equal ".concat(e),greaterThan:(e,t,n)=>t>e?!0:n||"Must be greater than ".concat(e),lessThan:(e,t,n)=>t<e?!0:n||"Must be less than ".concat(e)},kO="http://sanity",nGt=e=>/^\.*\//.test(e),rGt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,oGt={...Mm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must be at least ".concat(e," characters long"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must be at most ".concat(e," characters long"),length:(e,t,n)=>(t||"").length===e?!0:n||"Must be exactly ".concat(e," characters long"),uri:(e,t,n)=>{const r=t||"",{options:o}=e,{allowCredentials:i,relativeOnly:s}=o,a=o.allowRelative||s;let c;try{c=a?new URL(r,kO):new URL(r)}catch{return n||"Not a valid URL"}if(s&&c.origin!==kO)return n||"Only relative URLs are allowed";if(!a&&c.origin===kO&&nGt(r))return n||"Relative URLs are not allowed";if(!i&&(c.username||c.password))return n||"Username/password not allowed";const u=c.protocol.replace(/:$/,"");return o.scheme.some(f=>f.test(u))?!0:n||"Does not match allowed protocols/schemes"},stringCasing:(e,t,n)=>{const r=t||"";return e==="uppercase"&&r!==r.toLocaleUpperCase()?n||"Must be all uppercase letters":e==="lowercase"&&r!==r.toLocaleLowerCase()?n||"Must be all lowercase letters":!0},presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,regex:(e,t,n)=>{const{pattern:r,name:o,invert:i}=e,s=o||'"'.concat(r.toString(),'"'),a=t||"";r.lastIndex=0;const c=r.test(a);if(!i&&!c||i&&c){const u=i?"Should not match ".concat(s,"-pattern"):"Does not match ".concat(s,"-pattern");return n||u}return!0},email:(e,t,n)=>{const r="".concat(t||"").trim();return!r||rGt.test(r)?!0:n||"Must be a valid email address"}},iGt={...Mm,min:(e,t,n)=>!t||t.length>=e?!0:n||"Must have at least ".concat(e," items"),max:(e,t,n)=>!t||t.length<=e?!0:n||"Must have at most ".concat(e," items"),length:(e,t,n)=>!t||t.length===e?!0:n||"Must have exactly ".concat(e," items"),presence:(e,t,n)=>e==="required"&&!t?n||"Required":!0,valid:(e,t,n)=>{if(typeof t==="undefined")return!0;const o=[];for(let i=0;i<t.length;i++){const s=t[i];if(e.some(c=>Lx(c,s)))continue;const a=s&&s._key?{_key:s._key}:i;o.push([a])}return o.length===0?!0:new yf(n||"Value did not match any allowed values",{paths:o})},unique:(e,t,n)=>{const r=[];if(!t)return!0;for(let i=0;i<t.length;i++)for(let s=i+1;s<t.length;s++){const a=t[i],c=t[s];Lx(a,c)&&(r.indexOf(i)===-1&&r.push(i),r.indexOf(s)===-1&&r.push(s))}const o=r.map(i=>{const s=t[i];return[s&&s._key?{_key:s._key}:i]});return r.length>0?new yf(n||"Can't be a duplicate",{paths:o}):!0}},sGt=["_key","_type","_weak"],aGt={...Mm,presence:(e,t,n)=>{if(e!=="required")return!0;const r=t&&Object.keys(t).filter(o=>!sGt.includes(o));return t===void 0||r&&r.length===0?n||"Required":!0},reference:async(e,t,n,r)=>{if(!t)return!0;if(!nd(t))return n||"Must be a reference to a document";const{type:o,getDocumentExists:i}=r;if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!i)throw new Error("`getDocumentExists` was not provided in validation context");return await i({id:t._ref})?!0:"This reference must be published"},assetRequired:(e,t,n)=>{if(!t||!t.asset||!t.asset._ref){const r=e.assetType||"Asset";return n||"".concat(r," required")}return!0}};function une(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const lGt=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,dne=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r="yyyy-MM-dd";return n&&n.dateFormat&&(r=n.dateFormat),e==="date"?Jo(new Date(t),r):(n&&n.timeFormat?r+=" ".concat(n.timeFormat):r+=" HH:mm",Jo(new Date(t),r))};function a2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!e)return null;if(e==="now")return new Date;const n=new Date(e),r=isNaN(n.getTime());if(r&&t)throw new Error('Unable to parse "'.concat(e,'" to a date'));return r?null:n}const cGt={...Mm,type:(e,t,n)=>!"".concat(t)||lGt.test(t)?!0:n||"Must be a valid ISO-8601 formatted date string",min:(e,t,n,r)=>{const o=a2(t);if(!o||!t||o>=a2(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=une(r.type.options)?r.type.options:{},s=dne(r.type.name,e,i);return n||"Must be at or after ".concat(s)},max:(e,t,n,r)=>{const o=a2(t);if(!o||!t||o<=a2(e,!0))return!0;if(!r.type)throw new Error("`type` was not provided in validation context.");const i=une(r.type.options)?r.type.options:{},s=dne(r.type.name,e,i);return n||"Must be at or before ".concat(s)}};var Co;const uGt={Boolean:JYt,Number:tGt,String:oGt,Array:iGt,Object:aGt,Date:cGt},JAe=e=>e&&e.type?JAe(e.type):e,dGt=e=>typeof e!="object"||!e?!1:e.type===a4.FIELD_REF,fGt=[],fne=Symbol("FIELD_REF"),hGt=["Array","Boolean","Date","Number","Object","String"],a4=(Co=class{constructor(e){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=Co.valueOfField.bind(Co),this._typeDef=e,this.reset()}_mergeRequired(e){if(this._required==="required"||e._required==="required")return"required";if(this._required==="optional"||e._required==="optional")return"optional"}error(e){const t=this.clone();return t._level="error",t._message=e||void 0,t}warning(e){const t=this.clone();return t._level="warning",t._message=e||void 0,t}info(e){const t=this.clone();return t._level="info",t._message=e||void 0,t}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(e=>e.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const e=new Co;return e._type=this._type,e._message=this._message,e._required=this._required,e._rules=YSt(this._rules),e._level=this._level,e._fieldRules=this._fieldRules,e._typeDef=this._typeDef,e}cloneWithRules(e){const t=this.clone(),n=new Set;return e.forEach(r=>{r.flag==="type"&&(t._type=r.constraint),n.add(r.flag)}),t._rules=t._rules.filter(r=>{const o=["type","uri","email"].includes(r.flag),i=n.has(r.flag);return!(o&&i)}).concat(e),t}merge(e){if(this._type&&e._type&&this._type!==e._type)throw new Error("merge() failed: conflicting types");const t=this.cloneWithRules(e._rules);return t._type=this._type||e._type,t._message=this._message||e._message,t._required=this._mergeRequired(e),t._level=this._level==="error"?e._level:this._level,t}type(e){const t="".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1));if(!hGt.includes(t))throw new Error('Unknown type "'.concat(e,'"'));const n=this.cloneWithRules([{flag:"type",constraint:t}]);return n._type=t,n}all(e){return this.cloneWithRules([{flag:"all",constraint:e}])}either(e){return this.cloneWithRules([{flag:"either",constraint:e}])}optional(){const e=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return e._required="optional",e}required(){const e=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return e._required="required",e}custom(e){return this.cloneWithRules([{flag:"custom",constraint:e}])}min(e){return this.cloneWithRules([{flag:"min",constraint:e}])}max(e){return this.cloneWithRules([{flag:"max",constraint:e}])}length(e){return this.cloneWithRules([{flag:"length",constraint:e}])}valid(e){const t=Array.isArray(e)?e:[e];return this.cloneWithRules([{flag:"valid",constraint:t}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(e){return this.cloneWithRules([{flag:"precision",constraint:e}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(e){return this.cloneWithRules([{flag:"greaterThan",constraint:e}])}lessThan(e){return this.cloneWithRules([{flag:"lessThan",constraint:e}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(e,t,n){var r,o;const i=typeof t=="string"?t:(r=t==null?void 0:t.name)!=null?r:n==null?void 0:n.name,s=typeof t=="string"?!1:(o=t==null?void 0:t.invert)!=null?o:n==null?void 0:n.invert,a={pattern:e,name:i,invert:s||!1};return this.cloneWithRules([{flag:"regex",constraint:a}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(e){const t=(e==null?void 0:e.scheme)||["http","https"],n=Array.isArray(t)?t:[t];if(!n.length)throw new Error("scheme must have at least 1 scheme specified");const r={options:{scheme:n.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(KYt(o),"$")):o}),allowRelative:(e==null?void 0:e.allowRelative)||!1,relativeOnly:(e==null?void 0:e.relativeOnly)||!1,allowCredentials:(e==null?void 0:e.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:r}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(e){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const t=this.cloneWithRules([]);return t._fieldRules=e,t}assetRequired(){const e=JAe(this._typeDef);let t;return e&&["image","file"].includes(e.name)?t=e.name==="image"?"Image":"File":t="Asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:t}}])}async validate(e,t){if(!t)throw new Error("missing context");const n=e==null;if(n&&this._required==="optional")return fGt;const r=this._required===void 0&&n?this._rules.filter(s=>s.flag==="custom"):this._rules,o=this._type&&uGt[this._type]||Mm;return(await Promise.all(r.map(async s=>{if(s.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const a=o[s.flag];if(!a){const d=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(s.flag,'" not found for ').concat(d))}let c="constraint"in s?s.constraint:null;dGt(c)&&(c=qn(t.parent,c.path));let u;try{u=await a(c,e,this._message,t)}catch(d){const f=new yf("".concat(SB(t.path),": Exception occurred while validating value: ").concat(d.message));return kb(f,"error",t)}return kb(u,this._level,t)}))).flat()}},Co.FIELD_REF=fne,Co.array=e=>new Co(e).type("Array"),Co.object=e=>new Co(e).type("Object"),Co.string=e=>new Co(e).type("String"),Co.number=e=>new Co(e).type("Number"),Co.boolean=e=>new Co(e).type("Boolean"),Co.dateTime=e=>new Co(e).type("Date"),Co.valueOfField=e=>({type:fne,path:e}),Co),pGt=function(t,n){const r=Date.now();return window.setTimeout(()=>{t({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-r)}})},0)},mGt=function(t){return window.clearTimeout(t)},x5=typeof window>"u"?void 0:window,gGt=(x5==null?void 0:x5.requestIdleCallback)||pGt,vGt=(x5==null?void 0:x5.cancelIdleCallback)||mGt,yGt=mT(xGt);function bGt(e){const t=e.indexOf("drafts.")===0;return{published:t?e.slice(7):e,draft:t?e:"drafts.".concat(e)}}function hne(e){return e.reduce((t,n,r)=>{const o=typeof n=="number",i=jl(n),s=r===0?"":".",a=o||i?"[]":"".concat(s).concat(n);return"".concat(t).concat(a)},"")}const pne=(e,t)=>{const{getClient:n,document:r,path:o,type:i}=t,s=i==null?void 0:i.options;if(!r)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const a=(s==null?void 0:s.disableArrayWarning)||!1,{published:c,draft:u}=bGt(r._id),d=r._type,f=hne(o.concat("current"));!a&&f.includes("[]")&&yGt(hne(o));const p=["_type == $docType","!(_id in [$draft, $published])","".concat(f," == $slug")].join(" && ");return n({apiVersion:"2022-09-09"}).fetch("!defined(*[".concat(p,"][0]._id)"),{docType:d,draft:u,published:c,slug:e},{tag:"validation.slug-is-unique"})};function xGt(e){console.warn(["Slug field at path ".concat(e," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const wGt=async(e,t)=>{var n;if(!e)return!0;if(typeof e!="object")return"Slug must be an object";const r=e.current;if(!r)return"Slug must have a value";const o=(n=t==null?void 0:t.type)==null?void 0:n.options,i=(o==null?void 0:o.isUnique)||pne,s={...t,parent:t.parent,type:t.type,defaultIsUnique:pne};return await i(r,s)?!0:"Slug is already in use"},CGt={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},_Gt=e=>e in CGt;function eDe(e,t){return e?t.has(e)?[]:(t.add(e),[...e.type?eDe(e.type,t):[],e]):[]}function SGt(e,t){let n=e;_Gt(t.jsonType)&&(n=n.type(t.jsonType));const r=(t==null?void 0:t.options)&&typeof t.options=="object"&&"list"in t.options&&t.options.list;return Array.isArray(r)&&(n=n.valid(r.map(o=>EGt(o,t)))),t.name==="datetime"||t.name==="date"?n.type("Date"):t.name==="url"?n.uri():t.name==="slug"?n.custom(wGt):t.name==="reference"?n.reference():t.name==="email"?n.email():n}function tDe(e){return e?!("fields"in e)&&e.type?tDe(e.type):!("fields"in e)||!Array.isArray(e.fields)?!1:e.fields.some(t=>t.name==="value"):!1}function EGt(e,t){return t.jsonType==="object"&&tDe(t)||e.value===void 0?e:e.value}function Bx(e){if(!e)return[];const t=e.validation;if(Array.isArray(t))return t.flatMap(r=>Bx({...e,validation:r}));if(t instanceof a4)return[t];const n=Object.values(eDe(e,new Set).reduce((r,o)=>(r[o.name]=o,r),{})).reduce(SGt,new a4(e));return t?Bx({...e,validation:t(n)}):[n]}const mne=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),kGt=e=>e!=null;function jGt(e,t){if(t.length===1)return t[0];const n=xF(e)&&e._type,r=e==null||!n&&QAe(e).toLowerCase();return r&&r!=="object"?t.find(o=>o.jsonType===r):t.find(o=>{var i;return((i=o.type)==null?void 0:i.name)===n})||t.find(o=>o.name===n)||t.find(o=>o.name==="object"&&r==="object")}const TGt=[];function AGt(e,t,n,r){const o=n.get(t._type);if(!o)return console.warn('Schema type for object type "%s" not found, skipping validation',t._type),ve(TGt);const i={getClient:e,schema:n,parent:void 0,value:t,path:[],document:t,type:o,getDocumentExists:r==null?void 0:r.getDocumentExists};return l4(i).pipe(Rn(s=>(console.error(s),ve([{type:"validation",level:"error",path:[],item:new yf(s==null?void 0:s.message)}]))))}function l4(e){let{value:t,type:n,path:r=[],parent:o,...i}=e;const s=Bx(n),a=s.map(p=>go(()=>p.validate(t,{...i,parent:o,path:r,type:n})));let c=[];const u=s.some(p=>p.isRequired());if((n==null?void 0:n.jsonType)==="object"&&(!!t||t==null&&u)){const p=n.fields.reduce((m,v)=>(m[v.name]=v.type,m),{});c=c.concat(s.map(m=>m._fieldRules).filter(kGt).flatMap(m=>Object.entries(m)).flatMap(m=>{let[v,g]=m;const b=p[v];return Bx({...b,validation:g}).map(x=>{const y=mne(t)?t[v]:void 0;return go(()=>x.validate(y,{...i,parent:t,path:r.concat(v),type:b}))})})),c=c.concat(n.fields.map(m=>l4({...i,parent:t,value:mne(t)?t[m.name]:void 0,path:r.concat(m.name),type:m.type})))}return(n==null?void 0:n.jsonType)==="array"&&Array.isArray(t)&&(c=c.concat(t.map((p,m)=>l4({...i,parent:t,value:p,path:r.concat(jl(p)?{_key:p._key}:m),type:jGt(p,n.of)})))),go(()=>an([...a,...c])).pipe(ft(p=>Wr(DGt(),p),40),eT(),RCe(),le(On),le(p=>s.some(m=>m._fieldRules)?Lf(p,m=>JSON.stringify(m)):p))}function DGt(e){return new mt(t=>{const n=gGt(()=>{t.complete()},e?{timeout:e}:void 0);return()=>vGt(n)})}function IGt(e){return BS(e,new Set),e}function BS(e,t){if(!t.has(e)){if(t.add(e),e.validation=Bx(e),"fields"in e)for(const n of e.fields)BS(n.type,t);if("of"in e)for(const n of e.of)BS(n,t);if(e.annotations)for(const n of e.annotations)BS(n,t)}}function OGt(e){return e.getTypeNames().forEach(n=>{const r=e.get(n);r&&IGt(r)}),e}var PGt={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]},RGt={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},$Gt={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},MGt={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},FGt={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},LGt={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||typeof e.path=="string"&&e.path.split("/").slice(-1)[0],media:{asset:{_ref:e.id}},subtitle:"".concat(e.mimeType," (").concat((Number(e.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},BGt={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},NGt={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},zGt={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},VGt={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},HGt={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(e){return{title:e.title||e.path.split("/").slice(-1)[0],subtitle:"".concat(e.mimeType," (").concat((e.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]};const UGt=e=>e.severity==="error",WGt=[FGt,PGt,RGt,LGt,HGt,$Gt,MGt,VGt,zGt,BGt,NGt];function qGt(e){const t=LSt(e.types).getTypes(),n=L2t(t),r=n.some(i=>i.problems.some(UGt)),o=K8.compile({name:e.name,types:r?[]:[...e.types,...WGt].filter(Boolean)});return o._validation=n,OGt(o)}function Dp(e){return typeof e.title=="string"?e.title:e.type?Dp(e.type):e.name||e.jsonType}const cn={apiVersion:"2022-09-09"};var gne=Object.freeze,YGt=Object.defineProperty,GGt=(e,t)=>gne(YGt(e,"raw",{value:gne(t||e.slice())})),vne;const KGt=P(os)(vne||(vne=GGt([`
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
`])));function ZGt(){return l.jsx(KGt,{children:l.jsx(H,{height:"fill",align:"center",justify:"center",children:l.jsx(hr,{})})})}function XGt(e){const{text:t}=e;return l.jsxs(H,{direction:"row",justify:"center",align:"center",children:[l.jsx(hr,{}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{children:t})})]})}const yne={referringDocuments:[],isLoading:!0};function QGt(e){const t=ol();return xo(()=>t.listenQuery("*[references($docId)] [0...101]",{docId:e},{tag:"use-referring-documents"}).pipe(le(n=>({referringDocuments:n,isLoading:!1})),oi(yne)),[t,e],yne)}const JGt=()=>h.createElement(h.Fragment);function eKt(e,t){return n=>{let r=o=>h.createElement(e,o);for(const o of t){const i=r;r=s=>h.createElement(o,{...s,renderDefault:i})}return r({...n,renderDefault:JGt})}}function Hl(e){const{options:t}=Ln().__internal,{defaultComponent:n,pick:r}=e;return h.useMemo(()=>{const o=[...nD(t,[])];o.reverse();const s=o.map(a=>{let{config:c}=a;return r(c)}).filter(Boolean);return eKt(n,s)},[n,t,r])}function gc(e,t){return t.name===e||!!(t.type&&gc(e,t.type))}const tKt={default:BAe,media:Uqt,detail:kqt,inline:lYt,block:nYt,blockImage:Xqt};function nKt(){return l.jsx(kf,{className:"sanity-studio__preview-fallback-icon"})}function fh(e){const{icon:t,layout:n,media:r,imageUrl:o,title:i,...s}=e,a=mr(cn),c=h.useMemo(()=>OT(a),[a]),u=h.useCallback(v=>{const{dimensions:g}=v;return l.jsx("img",{alt:xv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:c.image(r).width(g.width||100).height(g.height||100).fit(g.fit).dpr(g.dpr||1).url()||""})},[c,r,i]),d=h.useCallback(()=>h.createElement(t||nKt),[t]),f=h.useMemo(()=>t===!1?!1:kr.isValidElementType(r)||h.isValidElement(r)?r:mb(r)?u:xv(o)?l.jsx("img",{src:o,alt:xv(i)?i:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):d,[t,o,r,d,u,i]),p=h.useMemo(()=>({...s,media:f,title:i}),[f,s,i]),m=tKt[n||"default"];return h.createElement(m,p)}const rKt=typeof window>"u"?Qn:Pi(window,"resize").pipe(Do(1)),oKt=typeof window>"u"?Qn:Pi(window,"scroll",{passive:!0,capture:!0}).pipe(Do(1)),iKt=typeof window>"u"?Qn:Pi(window,"orientationchange").pipe(Do(1)),nDe=150;function sKt(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const aKt=sKt()?lKt():cKt();function lKt(){const e=new Er,t=new IntersectionObserver(n=>{n.forEach(r=>{e.next(r)})},{threshold:0,rootMargin:"".concat(nDe,"px")});return function(r){return new mt(o=>(t.observe(r),o.next(),()=>t.unobserve(r))).pipe(ft(()=>e.asObservable()),pt(o=>o.target===r),le(o=>({isIntersecting:o.isIntersecting})))}}function cKt(){function e(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function t(r,o,i){return r.left<=o.right+i&&r.right>=o.left-i&&r.top<=o.bottom+i&&r.bottom>=o.top-i}function n(r){return()=>t(r.getBoundingClientRect(),e(),nDe)}return function(o){const i=n(o);return an(ve(i()),rKt,oKt,iKt).pipe(le(i),le(s=>({isIntersecting:s})))}}const uKt=typeof window>"u"?Qn:Pi(document,"visibilitychange").pipe(Do(1));function dKt(e){const{element:t,hideDelay:n=0}=e,[r,o]=h.useState(!1);return h.useEffect(()=>{if(!t)return;const i=Wr(ve(!document.hidden),uKt.pipe(le(u=>{var d;return u.target instanceof Document?!((d=u==null?void 0:u.target)!=null&&d.hidden):!1}))).pipe(Jn()),s=aKt(t).pipe(le(u=>u.isIntersecting)),c=i.pipe(rt(u=>u?s:ve(!1)),rt(u=>u?ve(!0):ve(!1).pipe(FCe(n))),Jn()).subscribe(o);return()=>c.unsubscribe()},[t,n]),r}const fKt={isLoading:!0},hKt={isLoading:!1};function EB(e){const{enabled:t=!0,ordering:n,schemaType:r,value:o}=e||{},{observeForPreview:i}=Ni();return xo(()=>!t||!o||!r?ve(hKt):i(o,r,{ordering:n}).pipe(le(s=>({isLoading:!1,value:s.snapshot||void 0})),Rn(s=>ve({isLoading:!1,error:s}))),[t,i,n,r,o],fKt)}function pKt(e){return mKt(e==null?void 0:e._upload)}function ny(e){return xv(e)?e:void 0}function mKt(e){var t,n;if(!xt(e))return;const r=typeof e.progress=="number"?e.progress:0,o=ny(e.initiated||e.createdAt),i=ny(e.updated||e.updatedAt),s=ny((t=e==null?void 0:e.file)==null?void 0:t.name),a=ny((n=e==null?void 0:e.file)==null?void 0:n.type),c=ny(e.previewImage);if(o&&i&&s&&a)return{progress:r,createdAt:o,updatedAt:i,file:{name:s,type:a},previewImage:c}}const gKt=1e3*2;function rDe(e){const{layout:t,value:n,component:r,style:o,schemaType:i,skipVisibilityCheck:s,...a}=e,[c,u]=h.useState(null),d=dKt({element:s?null:c,hideDelay:gKt}),f=EB({enabled:s||d,schemaType:i,value:n}),p=h.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),m=h.useMemo(()=>pKt(n),[n]),v=h.useMemo(()=>{var g,b;return m!=null&&m.previewImage?l.jsx("img",{alt:"The image currently being uploaded",src:m.previewImage}):(g=f==null?void 0:f.value)!=null&&g.media?(b=f==null?void 0:f.value)==null?void 0:b.media:i.icon},[f,i,m]);return l.jsx("div",{ref:u,style:p,children:h.createElement(r,{...a,...(f==null?void 0:f.value)||{},media:v,error:f==null?void 0:f.error,isPlaceholder:f==null?void 0:f.isLoading,layout:t,schemaType:i})})}function kB(e){const t=e==null?void 0:e.select;if(t)return Object.values(t).map(n=>String(n).split("."))}const vKt=e=>e.liveEdit===!0;function jA(e,t,n,r){const o=vKt(t)?ve({snapshot:null}):e.observeForPreview({_type:"reference",_ref:ai(n)},t),i=e.observeForPreview({_type:"reference",_ref:$n(n)},t);return Ho([o,i]).pipe(le(s=>{let[a,c]=s;return{draft:a.snapshot?{title:r,...a.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:r,...c.snapshot||{}}:null}}),oi({draft:null,isLoading:!0,published:null}))}const yKt=e=>({title:l.jsx("em",{children:e.title?String(e.title):"Missing document"}),subtitle:l.jsx("em",{children:e.title?"Missing document ID: ".concat(e._id):"Document ID: ".concat(e._id)}),media:()=>l.jsx(Br,{})}),jB=e=>{let{value:t,draft:n,published:r}=e;const o=n||r;return o?K7t({},o,t,(i,s)=>typeof s>"u"?i:s):yKt(t)},oDe=["_id","_rev","_type"],bKt=[...oDe,"_key"],bne={available:!0,reason:"READABLE"},xKt={available:!1,reason:"PERMISSION_DENIED"},wKt={available:!1,reason:"NOT_FOUND"},CKt={title:"Invalid preview config",subtitle:"Check the error log in the console",media:l.jsx(Br,{})};function _Kt(e){return Array.isArray(e)&&(e.length===0||e.some(Uf))}function SKt(e){const t=Array.isArray(e)&&e.find(Uf);return!t||!t.children?"":t.children.filter(Ks).map(n=>n.text).join("")}function iDe(e){return Object.keys(e)}const EKt=["_id","_type","_upload","_createdAt","_updatedAt"],a0=[],c4=(()=>{let e={};return{add:(t,n,r)=>{e[t.name]||(e[t.name]=[]),e[t.name].push({error:r,type:t,value:n})},getAll(){return e},clear(){e={}}}})(),kKt=aw(()=>{const e=c4.getAll(),n=On(Object.keys(e).map(r=>{const o=e[r];return Lf(o,i=>i.error.message)})).length;n!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(n===1?"error":"".concat(n," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(e).forEach(r=>{const o=e[r],i=o[0];console.group('Check the preview config for schema type "'.concat(r,'": %o'),i.type.preview),Lf(o,a=>a.error.message).forEach(a=>{var c;if(a.error.type==="returnValueError"){const u=typeof((c=a.type.preview)==null?void 0:c.prepare)=="function",{value:d,error:f}=a;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),d),console.error(f)}if(a.error.type==="prepareError"){const{value:u,error:d}=a;console.log("Encountered an error when calling prepare(%o):",u),console.error(d)}}),console.groupEnd()}),console.groupEnd(),c4.clear())},1e3),ry=e=>t=>{const n=typeof t;return t===null||n==="undefined"||n==="string"||n==="number"||n==="boolean"?a0:[AB("returnValueError",new Error('The "'.concat(e,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(TB(t))))]},jKt={media:()=>a0,title:ry("title"),subtitle:ry("subtitle"),description:ry("description"),imageUrl:ry("imageUrl"),date:ry("date")};function TB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(xt(e)){const n=Object.keys(e),r=n.length>3?"...":"",o="object with keys ";return"".concat(t?o:"","{").concat(n.slice(0,3).join(", ")).concat(r,"}")}if(Array.isArray(e)){const n=e.length>3?"...":"",r="array with ";return"".concat(t?r:"","[").concat(e.map(o=>TB(o,!1))).concat(n,"]")}return"the ".concat(typeof e," ").concat(e)}function TKt(e,t){if(typeof t>"u")return a0;const n=jKt[e];return n&&n(t)||a0}function AB(e,t){return Object.assign(t,{type:e})}function AKt(e){return!Tr(e)||e===null?[AB("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(TB(e))))]:Object.entries(e).reduce((t,n)=>{let[r,o]=n;return[...t,...TKt(r,o)]},a0)}function DKt(e){return{...e,errors:[...e.errors||[],...AKt(e.returnValue)]}}function IKt(e){return iDe(e).reduce((t,n)=>{const r=e[n];return{...t,[n]:_Kt(r)?SKt(r):r}},{})}function u4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r;const o=(r=e.preview)==null?void 0:r.prepare;try{return{returnValue:o?o(t,n):IKt(t),errors:a0}}catch(i){return{returnValue:null,errors:[AB("prepareError",i)]}}}function xne(e,t,n){return e.errors.forEach(r=>c4.add(t,n,r)),kKt(),CKt}function OKt(e){const t=e.options&&typeof e.options=="object"?e.options:!1;if(!t||!("list"in t))return!1;const n=t.list;return Array.isArray(n)}function PKt(e){return OKt(e)?e.options.list.map(n=>_F(n)?n:{title:n,value:n}):void 0}function w5(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,o;const i=typeof((r=t.preview)==null?void 0:r.prepare)=="function",s=((o=t.preview)==null?void 0:o.select)||{},c=Object.keys(s).reduce((f,p)=>{var m;const v="fields"in t?t:null,g=s[p],b=(m=v==null?void 0:v.fields)==null?void 0:m.find(y=>y.name===g),x=b&&PKt(b.type);if(!i&&x){const y=x&&x.find(w=>w.value===qn(e,s[p]));f[p]=y?y.value:qn(e,s[p])}else f[p]=qn(e,s[p]);return f},{}),u=u4(t,c,n);if(u.errors.length>0)return xne(u,t,c);const d=DKt(u4(t,c,n));return d.errors.length>0?xne(d,t,c):{...St(e,EKt),...u.returnValue}}function NS(e,t){let n,r={},o=0;return function(){for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return new mt(d=>{clearTimeout(n),n=setTimeout(i,t);const f={args:c,observer:d,completed:!1},p=o++;return r[p]=f,()=>{f.completed=!0}})};function i(){const s=r;r={};const a=Object.keys(s).filter(u=>{const d=s[u];return d&&!d.completed});if(a.length===0)return;const c=a.map(u=>{const d=s[u];return d&&d.args}).filter(bo);e(c).subscribe({next(u){u.forEach((d,f)=>{const p=s[a[f]];p&&!p.completed&&p.observer.next(u[f])})},complete(){a.forEach(u=>{const d=s[u];d&&!d.completed&&d.observer.complete()})},error(u){a.forEach(d=>{const f=s[d];f&&!f.completed&&f.observer.error(u)})}})}}const RKt=11164;function $Kt(e){let t=[],n=0;const r=[];for(const o of e)n+o.length+1>=RKt&&(r.push(t),t=[],n=0),n+=o.length+1,t.push(o);return r.includes(t)||r.push(t),r}function MKt(e,t){return e.push(...t),e}function sDe(e,t){function n(s){const a=ai(s),c=$n(s);return Ho([r(a),r(c)]).pipe(Jn(Vu),le(u=>{let[d,f]=u;return{draft:d,published:f}}))}function r(s){return t({_ref:s},[["_rev"]]).pipe(le(a=>xt(a)&&!!("_rev"in a&&(a!=null&&a._rev))),Jn(),rt(a=>a?ve(bne):o(s)))}const o=NS(function(a){const c=[...new Set(On(a))];return jr($Kt(c)).pipe(ft(i,10),PCe(MKt,[]),le(u=>a.map(d=>{let[f]=d;return u[c.indexOf(f)]})))},1);function i(s){return go(()=>{const a={uri:e.getDataUrl("doc",s.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return e.observable.request(a).pipe(le(c=>{const u=h9(c.omitted||[],d=>d.id);return s.map(d=>{const f=u[d];if(!f)return bne;if(f.reason==="existence")return wKt;if(f.reason==="permission")return xKt;throw new Error('Unexpected reason for omission: "'.concat(f.reason,'"'))})}))})}return{observeDocumentPairAvailability:n}}function wne(e,t,n){return{...e,[t]:n}}function FKt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t=>new mt(n=>t.subscribe(n)).pipe(rt(n=>{const r=iDe(n).map(o=>{const i=n[o];return Utt(i)?jr(i).pipe(le(s=>[o,s])):ve([o,i])});return e.wait?Ho(r).pipe(le(o=>o.reduce((i,s)=>{let[a,c]=s;return wne(i,a,c)},{}))):jr(r).pipe(eT(),ra((o,i)=>{let[s,a]=i;return wne(o,s,a)},{}))}))}function LKt(e){return e.reduce((t,n)=>(t[n]=void 0,t),{})}function BKt(e,t){return t.filter(n=>!(n[0]in e))}function NKt(e){return nd(e)?e._ref:"_id"in e?e._id:void 0}function d4(e,t,n,r){if(!e||typeof e!="object")return ve(e);const o=NKt(e),i=o?{...e,_id:o}:{...e};i._type==="reference"&&(delete i._type,delete i._ref,delete i._weak,delete i._dataset,delete i._projectId,delete i._strengthenOnPublish);const s=BKt(i,t);if(o&&s.length>0){const u=vo(s.map(f=>f[0])),d=jve(e)?{projectId:e._projectId,dataset:e._dataset}:r;return n(o,u,d).pipe(rt(f=>f===null?ve(null):d4({...LKt(u),...nd(e)?{...e,...d}:e,...f},t,n,d)))}const a={};t.forEach(u=>{const[d,...f]=u;a[d]||(a[d]=[]),a[d].push(f)});const c=Object.keys(a).reduce((u,d)=>{const f=a[d].filter(p=>p.length>0);return f.length===0?u[d]=xt(e)?e[d]:void 0:u[d]=d4(e[d],f,n,r),u},i);return ve(c).pipe(FKt({wait:!0}))}function zKt(e){return e.map(t=>typeof t=="string"?t.split("."):t)}function VKt(e){const{observeFields:t}=e;return{observePaths(n,r,o){return d4(n,zKt(r),t,o)}}}function HKt(e){return Tr(e)}function UKt(e){return Tr(e)}function WKt(e){const{observeDocumentTypeFromId:t,observePaths:n}=e;return function r(o,i,s,a){if(CF(i)){if(!jve(o))return ve({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return t(o._ref,u).pipe(rt(d=>{if(d){const f=i.to.find(p=>p.type===d);return r(o,f,{},u)}return ve({snapshot:void 0})}))}if(Du(i))return UKt(o)?t(o._ref).pipe(rt(u=>{if(u){const d=i.to.find(f=>f.name===u);return r(o,d)}return ve({snapshot:void 0})})):ve({snapshot:void 0});const c=kB(i.preview);return c?n(o,c,a).pipe(le(u=>({type:i,snapshot:u&&w5(u,i,s)}))):ve({type:i,snapshot:o&&HKt(o)?u4(i,o,s).returnValue:null})}}function qKt(e,t){const{observeDocumentPairAvailability:n}=sDe(e,t),r=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(i,s){const{draftId:a,publishedId:c}=TAe(i);return n(a).pipe(rt(u=>{if(!u.draft.available&&!u.published.available)return ve({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const d=[...s,...r];return Ho([t({_type:"reference",_ref:a},d),t({_type:"reference",_ref:c},d)]).pipe(le(f=>{let[p,m]=f;const v=xt(p)&&"_type"in p&&p._type||xt(m)&&"_type"in m&&m._type||null;return{id:c,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:p},published:{availability:u.published,snapshot:m}}}))}))}}function YKt(e){return nBt(e.reduce((t,n,r)=>{let[o,i]=n;const s=Em(i.join(","),j_e).join(".");t[s]||(t[s]={fields:i,ids:[],map:[]});const a=t[s].ids.length;return t[s].ids[a]=o,t[s].map[a]=r,t},{}))}function GKt(e){return JSON.stringify(e)}const KKt=e=>AAe(e)?'"'.concat(e,'": @').concat(uB(e)):e;function ZKt(e){let{ids:t,fields:n}=e;const r=[...oDe,...n];return"*[_id in [".concat(t.map(GKt).join(","),"]][0...").concat(t.length,"]{").concat(r.map(KKt).join(","),"}")}function XKt(e){return"[".concat(e.map(ZKt).join(","),"][0...").concat(e.length,"]")}function QKt(e,t){return e.reduce((n,r,o)=>(t[o].map.forEach((s,a)=>{const c=t[o].ids[a],u=r.find(d=>d._id===c);n[s]=u||null}),n),[])}function JKt(e){return(t,n)=>t===n?!0:!t||!n||typeof t!="object"||typeof n!="object"?!1:e.every(r=>t[r]===n[r])}const eZt=e=>e;function tZt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eZt,n,r;for(let o=0;o<e.length;o++){if(o===0){n=t(e[o]);continue}if(r=t(e[o]),n!==r)return!1;n=r}return!0}function nZt(e){const{observePaths:t,versionedClient:n}=e;let r;const o=()=>{if(!r){const w=jr(n.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(oa()),C=w.pipe(pt(S=>S.type==="welcome"),Do({refCount:!0,bufferSize:1}));C.subscribe();const _=w.pipe(pt(S=>S.type==="mutation"));r={welcome$:C,mutations$:_}}return r};function i(w){const C=o();return an(C.welcome$,C.mutations$.pipe(pt(_=>_.documentId===w)))}function s(w){return function(_){const S=YKt(_);return w.observable.fetch(XKt(S),{},{tag:"preview.document-paths"}).pipe(le(E=>QKt(E,S)))}}const a=NS(s(n),100),c=NS(s(n),1e3);function u(w,C){return i(w).pipe(rt(_=>_.type==="welcome"||_.visibility==="query"?a(w,C).pipe(ft(S=>Wr(ve(S),S===void 0?c(w,C):[]))):c(w,C)))}const d={},f=mT(function(C){const _=n.withConfig(C),S=s(_);return NS(S,10)},w=>w.dataset+w.projectId),p=1e4,m=Pi(document,"visibilitychange").pipe(oi(0),le(()=>document.visibilityState==="visible"),rt(w=>w?Uo(0,p):Qn),oa());function v(w,C,_){return m.pipe(oi(0)).pipe(rt(()=>f(_)(w,C)))}function g(w,C,_){let S=null;const E=an(go(()=>S===null?Qn:ve(S)),_?v(w,C,_):u(w,C)).pipe(Cn(j=>S=j),Do({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:E}}function b(w,C,_){const S=_?"".concat(_.projectId,":").concat(_.dataset,":").concat(w):"$current$-".concat(w);S in d||(d[S]=[]);const E=d[S];qp(C,On(E.map(T=>T.fields))).length>0&&E.push(g(w,C,_));const k=E.filter(T=>T.fields.some(A=>C.includes(A))).map(T=>T.changes$);return Ho(k).pipe(le(T=>T.filter(Boolean)),pt(T=>tZt(T,A=>A._rev)),le(T=>T.length===0?null:x(T,C)),Jn(JKt(C)))}return{observeFields:b};function x(w,C){return[...bKt,...C].reduce((_,S)=>{const E=y(w,S);return E!==void 0&&(_[S]=E),_},{})}function y(w,C){let _;return w.some(S=>C in S?(_=S[C],!0):!1),_}}function rZt(e){let{client:t}=e;const n=t.withConfig({apiVersion:"1"}),r=(d,f,p)=>i(d,f,p),{observeFields:o}=nZt({observePaths:r,versionedClient:n}),{observePaths:i}=VKt({observeFields:o});function s(d,f){return i({_type:"reference",_ref:d},["_type"],f).pipe(le(p=>xt(p)&&typeof p._type=="string"?p._type:void 0),Jn())}const a=WKt({observeDocumentTypeFromId:s,observePaths:i}),{observeDocumentPairAvailability:c}=sDe(n,i),{observePathsDocumentPair:u}=qKt(n,i);return{observePaths:i,observeForPreview:a,observeDocumentTypeFromId:s,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const oZt=e=>!!(e.type&&e.type.name==="document"),iZt=e=>e.name.startsWith("sanity."),sZt=e=>e.getTypeNames().map(t=>e.get(t)).filter(bo).filter(t=>oZt(t)).filter(t=>!iZt(t)),aZt=(e,t)=>{const{phrases:n,words:r}=fZt(e),[o,i]=uZt(n,t),[s,a]=dZt(r,t);return[o+s,[a,i].join(", ")]},lZt=e=>typeof e=="string"?e:JSON.stringify(e);function cZt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const r=h9(e,o=>o.typeName);return t.map((o,i)=>{var s;const c=(s=r[o._type].paths||[])==null?void 0:s.map((d,f)=>{const p=lZt(o["w".concat(f)]);if(!p)return{path:d.path,score:0,why:"No match"};const[m,v]=aZt(n,p);return{path:d.path,score:m*d.weight,why:"".concat(v," (*").concat(d.weight,")")}}),u=c.reduce((d,f)=>d+f.score,0);return{hit:o,resultIndex:t.length-i,score:u,stories:c}})}function uZt(e,t){const n=t.toLowerCase().trim();let r=0,o=0;return e.forEach(i=>{n.includes(i)&&(r+=i.length/n.length,o+=i.length)}),r===1?[1,"[Phrase] Exact match"]:[r/2,"[Phrase] Matched ".concat(o," of ").concat(n.length," characters")]}function dZt(e,t){const n=vo(PT(DSe(dv(t)))),r=ek(e,n),o=XEe(n,e),i=r.length/o.length;return i===1?[1,"[Word] Exact match"]:[i/2,"[Word] Matched ".concat(r.length," of ").concat(o.length," terms: [").concat(r.join(", "),"]")]}function fZt(e){const t=vo(e.map(dv)),[n,r]=e9(t,o=>/^".*"$/.test(o));return{phrases:vo(n).map(dv).map(hZt),words:vo(r.map(dv))}}function hZt(e){return e.replace(/^"(.*)"$/,"$1")}const pZt=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,mZt=/(^[.]+)|([.]+$)/;function gZt(e){return(e.match(pZt)||[]).map(t=>t.replace(mZt,""))}const vZt=4,yZt=1e3,bZt=_Tt([On,XEe,PT]);function Cne(e,t){let n=!1;return{specs:e.map(o=>({typeName:o.name,paths:o.__experimental_search.map(i=>{const s=i.path.map(a=>typeof a=="number"&&(n=!0,t)?[]:a);return{weight:i.weight,path:rWt(s),mapWith:i.mapWith}})})),hasIndexedPaths:n}}const aDe=e=>{let{mapWith:t,path:n}=e;return t?"".concat(t,"(").concat(n,")"):n};function xZt(e,t){const n=bZt(t.map(o=>(o.paths||[]).map(i=>aDe(i))));return e.map((o,i)=>n.map(s=>"".concat(s," match $t").concat(i))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function wZt(e){const t=[],n=e.replace(/("[^"]*")/g,i=>DSe(i).length>1?(t.push(i),""):i),r=t.map(i=>LTt(dv(i))),o=vo(PT(gZt(dv(n))));return[...r,...o]}function CZt(e){function t(n){return n.mapWith?"".concat(n.mapWith,"(").concat(n.field,")"):n.field}return(e||[]).map(n=>[t(n),(n.direction||"").toLowerCase()].map(r=>r.trim()).filter(Boolean).join(" ")).join(",")}function lDe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var n,r;const{filter:o,params:i,tag:s}=t,{specs:a,hasIndexedPaths:c}=Cne(e.types,!1),u=wZt(e.query),d=c?Cne(e.types,!0).specs:a,f=["_type in $__types",t.includeDrafts===!1&&"!(_id in path('drafts.**'))",...xZt(u,d),o?"(".concat(o,")"):"",e.filter?"(".concat(e.filter,")"):""].filter(Boolean),p=a.map(S=>{const E='_type == "'.concat(S.typeName,'" => '),j="{ ".concat(S.paths.map((k,T)=>'"w'.concat(T,'": ').concat(aDe(k)))," }");return"".concat(E).concat(j)}),m=CZt((t==null?void 0:t.sort)||[{field:"_id",direction:"asc"}]),v=["_type","_id"],g=p.length>0?"...select(".concat(p.join(`,
`),")"):"",b=v.join(", ")+(g?", ".concat(g):"");let x="*[".concat(f.join(" && "),"]")+"| order(".concat(m,")")+"[$__offset...$__limit]"+"{".concat(b,"}");if(t!=null&&t.__unstable_extendedProjection){const S=t==null?void 0:t.__unstable_extendedProjection,E=v.concat(S).join(", ");x=["*[".concat(f.join(" && "),"]{").concat(E,"}"),"order(".concat(m,")[$__offset...$__limit]{").concat(b,"}")].join("|")}const y=["findability-mvi:".concat(vZt)].concat((t==null?void 0:t.comments)||[]).map(S=>"// ".concat(S)).join(`
`),w=y?"".concat(y,`
`).concat(x):x,C=(n=t==null?void 0:t.offset)!=null?n:0,_=((r=t==null?void 0:t.limit)!=null?r:yZt)+C;return{query:w,params:{..._Zt(u),__types:a.map(S=>S.typeName),__limit:_,__offset:C,...i||{}},options:{tag:s},searchSpec:a,terms:u}}const _Zt=e=>{const t={};return e.reduce((n,r,o)=>(n["t".concat(o)]="".concat(r,"*"),n),t)};function SZt(e,t){return typeof e=="string"?{query:e,types:t}:e.types.length?e:{...e,types:t}}function DB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(o){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=SZt(o,e),{query:a,params:c,options:u,searchSpec:d,terms:f}=lDe(s,{...n,...i});return t.observable.fetch(a,c,u).pipe(n.unique?le(UUt):Cn(),le(p=>cZt(d,p,f)),i!=null&&i.skipSortByScore?Cn():le(p=>Em(p,m=>-m.score)))}}const EZt={available:!0,reason:"READABLE"},_ne={available:!1,reason:"PERMISSION_DENIED"},Sne={available:!1,reason:"NOT_FOUND"};function cDe(e,t,n){const{publishedId:r,draftId:o}=TAe(t);return e.unstable_observeDocumentPairAvailability(t).pipe(rt(s=>{if(!s.draft.available&&!s.published.available){const d=s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?_ne:Sne;return ve({id:t,type:void 0,availability:d,preview:{draft:void 0,published:void 0}})}const a={_type:"reference",_ref:o},c={_type:"reference",_ref:r};return Ho([e.observeDocumentTypeFromId(o),e.observeDocumentTypeFromId(r)]).pipe(le(d=>{let[f,p]=d;return f||p})).pipe(rt(d=>{if(!d)return ve({id:t,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const f=n.to.find(b=>b.name===d);if(!f)return ve({id:t,type:d,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const p=[...kB(f==null?void 0:f.preview)||[],["_updatedAt"],["_createdAt"]],m=e.observePaths(a,p).pipe(le(b=>b?{_id:o,...w5(b,f)}:void 0),oi(void 0)),v=e.observePaths(c,p).pipe(le(b=>b?{_id:r,...w5(b,f)}:void 0),oi(void 0));return Ho([m,v]).pipe(le(b=>{let[x,y]=b;return{draft:x,published:y}})).pipe(le(b=>{const x=s.draft.available||s.published.available?EZt:s.draft.reason==="PERMISSION_DENIED"||s.published.reason==="PERMISSION_DENIED"?_ne:Sne;return{type:d,id:r,availability:x,preview:{draft:xt(b.draft)?b.draft:void 0,published:xt(b.published)?b.published:void 0}}}))}))}))}function kZt(e){return e.filter(t=>!t.draft||!t.published).map(t=>t.draft?t.id:ai(t.id))}function jZt(e,t){return t.length===0?ve([]):e.observable.fetch("*[_id in $ids]._id",{ids:t},{tag:"get-counterpart-ids"})}function uDe(e,t,n,r){return DB(n.to,e,r)(t,{includeDrafts:!0}).pipe(le(i=>i.map(s=>s.hit)),le(CA),le(i=>i.slice(0,100)),ft(i=>jZt(e,kZt(i)).pipe(le(s=>i.map(a=>{const c=ai(a.id);return{id:a.id,type:a.type,draft:a.draft||s.includes(c)?{_id:c,_type:a.type}:void 0,published:a.published||s.includes(a.id)?{_id:a.id,_type:a.type}:void 0}})))))}function TZt(){const e=[];return{publish(t){for(const n of e)n(t)},subscribe(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}}}const nm=Symbol.for("sanity.patch");function Qi(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:nm,type:"setIfMissing",path:t,value:e}}function nf(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:nm,type:"insert",path:n,position:t,items:e}}function bt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:nm,type:"set",path:t,value:e}}function Je(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:nm,type:"unset",path:e}}function AZt(e,t){return{...e,path:[t,...e.path]}}class dt{static from(t){return t instanceof dt?t:new dt(Array.isArray(t)?On(t):[t])}constructor(t){this.patches=t}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dt.from([...On(n),...this.patches])}append(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return dt.from([...this.patches,...On(n)])}prefixAll(t){return dt.from(this.patches.map(n=>AZt(n,t)))}}var Ene=Object.freeze,DZt=Object.defineProperty,IZt=(e,t)=>Ene(DZt(e,"raw",{value:Ene(t||e.slice())})),kne;const OZt={warning:"caution",error:"critical"},PZt=P(M)(kne||(kne=IZt([`
  border-top: 1px solid var(--card-border-color);
`])));function zc(e){const{children:t,status:n="warning",suffix:r,title:o,...i}=e;return l.jsxs(Q,{radius:2,tone:OZt[n],...i,"data-ui":"Alert",children:[l.jsxs(H,{padding:4,children:[l.jsx(M,{children:l.jsxs(L,{size:1,children:[n==="warning"&&l.jsx(Br,{}),n==="error"&&l.jsx(la,{})]})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:o}),t&&l.jsx(M,{marginTop:3,children:t})]})]}),r&&l.jsx(PZt,{children:r})]})}function IB(e,t){const n=h.useRef(t||null);return h.useEffect(()=>{n.current=e},[e]),n.current}function Bi(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Vu;const r=IB(e);h.useEffect(()=>{n(r,e)||t(r,e)},[t,e,r,n])}function dDe(e,t){h.useEffect(()=>{const n=r=>{const o=r.target;if(o instanceof HTMLElement){if(e.some(i=>{var s;return(s=i.current)==null?void 0:s.contains(o)}))return;t(r)}};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n)}},[e,t])}const fDe=h.createContext(null);function ci(){const e=h.useContext(fDe);if(!e)throw new Error("FormBuilder: missing context value");return e}const RZt={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function OB(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=h.useCallback(u=>{const d=o(u);i(d)},[o,i]),c=re.useCallback(()=>{a(t.of[0])},[t,a]);return n?l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(nn,{children:l.jsx(oe,{icon:Zs,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(nn,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(oe,{icon:Zs,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(on,{button:l.jsx(oe,{icon:Zs,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Nt,{children:t.of.map((u,d)=>{var f,p;const m=Du(u)&&(u.to||[]).length===1&&u.to[0].icon,v=u.icon||((f=u.type)==null?void 0:f.icon)||m;return l.jsx(ze,{text:u.title||((p=u.type)==null?void 0:p.name),onClick:()=>a(u),icon:v},d)})}),popover:RZt}),r]})}var jne=Object.freeze,$Zt=Object.defineProperty,MZt=(e,t)=>jne($Zt(e,"raw",{value:jne(t||e.slice())})),Tne;const FZt=e=>e==="error"?l.jsx(la,{}):e==="warning"?l.jsx(Br,{}):l.jsx(hm,{}),LZt=P(L)(e=>{let{theme:t}=e;return de(Tne||(Tne=MZt([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),t.sanity.color.muted.primary.enabled.fg,t.sanity.color.muted.caution.enabled.fg,t.sanity.color.muted.critical.enabled.fg)});function hDe(e){const{markers:t,validation:n,renderCustomMarkers:r}=e,{CustomMarkers:o}=ci().__internal.components;return t.length===0&&n.length===0?null:l.jsxs(ee,{space:1,children:[n.length>0&&n.map((i,s)=>{let{message:a,level:c}=i;return l.jsxs(H,{children:[l.jsx(M,{marginRight:2,marginBottom:s+1===n.length?0:2,children:l.jsx(LZt,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:FZt(c)})}),l.jsx(M,{children:l.jsx(L,{size:1,children:a||"Error"})})]},"validationItem-".concat(s))}),t.length>0&&l.jsxs(M,{marginTop:n.length>0?3:0,children:[r&&r(t),!r&&l.jsx(o,{markers:t})]})]})}function BZt(){return l.jsxs(L,{size:1,children:["This is a example custom marker, please implement ",l.jsx("code",{children:"renderCustomMarkers"})," function."]})}const PB=re.createContext(null),aC=h.memo(function(t){const n=h.useRef(t);n.current=t;const r=h.useCallback(p=>{var m,v,g;return(g=(v=(m=n.current)==null?void 0:m.transformPatches)==null?void 0:v.call(m,p))!=null?g:[]},[n]),o=h.useCallback(p=>{n.current.onChange(p)},[]),i=h.useCallback(p=>{n.current.onPathFocus(p)},[]),s=h.useCallback(p=>{n.current.onPathBlur(p)},[]),a=h.useCallback(p=>{n.current.onPathOpen(p)},[]),c=h.useCallback((p,m)=>{n.current.onSetPathCollapsed(p,m)},[]),u=h.useCallback((p,m)=>{n.current.onSetFieldSetCollapsed(p,m)},[]),d=h.useCallback((p,m)=>{n.current.onFieldGroupSelect(p,m)},[]),f=h.useMemo(()=>({transformPatches:r,onChange:o,onPathFocus:i,onPathBlur:s,onPathOpen:a,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:d}),[o,d,s,i,a,u,c,r]);return l.jsx(PB.Provider,{value:f,children:t.children})});function fa(){const e=h.useContext(PB);if(!e)throw new Error("Form context not provided");return e}function RB(e,t){return f4(e,t,new WeakSet)}function f4(e,t,n){if(e===t)return e;if(n.has(t)||e==null||t==null||typeof e!==typeof t)return t;if(Array.isArray(t)){n.add(t);let i=e.length===t.length;const s=[];for(let a=0;a<t.length;a++){const c=f4(e[a],t[a],n);c!==e[a]&&(i=!1),s[a]=c}return i?e:s}if(typeof t=="object"){n.add(t);const i=Object.keys(t);let s=Object.keys(e).length===i.length;const a={};for(const c of i){const u=f4(e[c],t[c],n);u!==e[c]&&(s=!1),a[c]=u}return s?e:a}return t}const pDe=h.createContext([]);function NZt(e){return l.jsx(pDe.Provider,{value:e.presence,children:e.children})}function zZt(){const e=h.useContext(pDe);if(!e)throw new Error("Form context not provided");return e}function J0(e,t){const n=zZt(),r=h.useRef(n),o=RB(r.current,n.filter(i=>Si(e,i.path)&&(t||!wn(e,i.path))));return r.current=o,o}const mDe=h.createContext([]);function VZt(e){return l.jsx(mDe.Provider,{value:e.validation,children:e.children})}function HZt(){const e=h.useContext(mDe);if(!e)throw new Error("Form context not provided");return e}function $B(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=HZt();return h.useMemo(()=>n.filter(r=>Si(e,r.path)&&(t||!wn(e,r.path))).map(r=>({message:r.item.message,level:r.level,path:r.path})),[t,e,n])}function UZt(e){const{action:t}=e,n=h.useCallback(()=>{t.onAction()},[t]),r=typeof t.disabled=="object"&&l.jsx(L,{size:1,children:t.disabled.reason});return l.jsx(sC,{content:r,placement:"left",children:l.jsx(ze,{disabled:!!t.disabled,fontSize:1,icon:t.icon,iconRight:t.iconRight||(t.selected?ea:void 0),onClick:n,padding:3,pressed:t.selected,space:3,text:t.title,tone:t.tone})})}const WZt={placement:"right",fallbackPlacements:["top","bottom"]};function qZt(e){const{group:t}=e;return t.expanded?l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Ht,{muted:!0,size:0,children:t.title})}),t.children.map((n,r)=>{var o;return l.jsx(h4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})]}):l.jsx(zL,{fontSize:1,icon:t.icon,padding:3,popover:WZt,space:3,text:t.title,tone:t.tone,children:t.children.map((n,r)=>{var o;return l.jsx(h4,{action:n,isFirst:r===0,prevIsGroup:((o=t.children[r-1])==null?void 0:o.type)==="group"},r)})})}function h4(e){const{action:t,isFirst:n,prevIsGroup:r}=e;return t.type==="divider"?l.jsx($r,{}):t.type==="group"?l.jsxs(l.Fragment,{children:[!n&&l.jsx($r,{}),l.jsx(qZt,{group:t})]}):l.jsxs(l.Fragment,{children:[r&&l.jsx($r,{}),l.jsx(UZt,{action:t})]})}const gDe={placement:"top"};function Ane(e){return"renderAsButton"in e&&e.renderAsButton}const YZt=h.memo(function(t){const{nodes:n,onMenuOpenChange:r}=t,[o,i]=h.useState(!1),s=h.useCallback(()=>{r(!0),i(!0)},[r]),a=h.useCallback(()=>{r(!1),i(!1)},[r]),c=h.useMemo(()=>n.filter(Ane),[n]),u=h.useMemo(()=>n.filter(p=>!Ane(p)),[n]),d=h.useMemo(()=>{const p=u.length;if(p===0||p>1)return u;const m=u[0];return m.type==="group"?[{...m,expanded:!0}]:u},[u]),f=h.useMemo(()=>[...d.length?[{type:"group",children:d,icon:Io,title:"Field actions"}]:[],...c],[c,d]);return l.jsx(l.Fragment,{children:f.map((p,m)=>l.jsx(GZt,{node:p,onOpen:s,onClose:a,open:o},m))})}),GZt=h.memo(function(t){const{node:n,onOpen:r,onClose:o,open:i}=t;return n.type==="divider"?l.jsx(Q,{borderLeft:!0,flex:"none"}):n.type==="action"?l.jsx(dh,{fontSize:1,icon:n.icon,label:i?void 0:n.title,mode:"bleed",onClick:n.onAction,padding:2,tooltip:gDe}):l.jsx(ZZt,{node:n,onOpen:r,onClose:o,open:i})}),KZt={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function ZZt(e){const{node:t,onOpen:n,onClose:r,open:o}=e;return l.jsx(on,{button:l.jsx(dh,{fontSize:1,icon:t.icon,label:o?void 0:t.title,mode:"bleed",padding:2,tooltip:gDe}),id:h.useId(),menu:l.jsx(Nt,{children:t.children.map((i,s)=>{var a;return l.jsx(h4,{action:i,isFirst:s===0,prevIsGroup:((a=t.children[s-1])==null?void 0:a.type)==="group"},s)})}),onOpen:n,onClose:r,popover:KZt})}function vDe(e){return e.filter(Boolean).filter(t=>"hidden"in t?t.hidden!==!0:!0).map(t=>t.type==="group"?{...t,children:vDe(t.children)}:t)}const lC=h.memo(function(t){const{actions:n,documentId:r,documentType:o,onActions:i,path:s,schemaType:a}=t,c=n.length,u=h.useRef(c),[d,f]=h.useState(()=>Array.from(new Array(c))),p=h.useRef(d),m=h.useCallback((v,g)=>{f(b=>{const x=[...b];return x[v]=g,x})},[]);return h.useEffect(()=>{p.current!==d&&(p.current=d,i(vDe(d)))},[d,i]),h.useEffect(()=>{if(u.current!==c){const v=Array.from(new Array(c));for(let g=0;g<c;g++)v[g]=p.current[g];u.current=c,f(v),p.current=v}},[c]),l.jsx(l.Fragment,{children:n.map((v,g)=>l.jsx(XZt,{action:v,index:g,documentId:r,documentType:o,path:s,schemaType:a,setFieldAction:m},g))})}),XZt=h.memo(function(t){const{action:n,documentId:r,documentType:o,index:i,path:s,schemaType:a,setFieldAction:c}=t,u=No(n.useAction({documentId:r,documentType:o,path:s,schemaType:a}));return h.useEffect(()=>{c(i,u)},[i,u,c]),null}),yDe=h.createContext(null);function MB(){const e=h.useContext(yDe);if(!e)throw new Error("UserColorManager: missing context value");return e}function QZt(e){const t=MB();return xo(e?t.listen(e):Att(),[e],t.get(null))}const JZt="purple",eXt=["green","red","gray"],tXt=x0e.filter(e=>!eXt.includes(e)),bDe=e=>{const t=e==="dark";return{background:t?"900":"100",border:t?"700":"300",text:t?"200":"700"}},nXt=e=>{const{background:t,border:n,text:r}=bDe(e);return tXt.reduce((o,i)=>(o[i]={name:i,background:fe[i][t].hex,border:fe[i][n].hex,text:fe[i][r].hex,tints:fe[i]},o),{})},rXt=e=>{const{background:t,border:n,text:r}=bDe(e);return{name:"gray",background:fe.gray[t].hex,border:fe.gray[n].hex,text:fe.gray[r].hex,tints:fe.gray}};function oXt(e){const{anonymousColor:t,colors:n,currentUserColor:r,scheme:o}=e,i=n||nXt(o),s=t||rXt(o),a=r||JZt;if(!i.hasOwnProperty(a))throw new Error("'colors' must contain 'currentUserColor' (".concat(a,")"));const c=Object.keys(i),u=new Map,d=new Map,f=c.reduce((k,T)=>(k[T]=0,k),{}),p=new Map;let m;return e!=null&&e.userStore&&e.userStore.me.subscribe(k=>E(k?k.id:null)),{get:v,listen:b};function v(k){return k?i[g(k)]:s}function g(k){if(k===m)return a;const T=p.get(k);if(T)return T;const A=d.get(k);if(A&&(f[A]===0||!C()))return x(k,A);const D=j(k);return f[D]===0?x(k,D):x(k,_(A))}function b(k){let T=u.get(k);if(T)return T;const A=g(k);return T=S(k,A),u.set(k,T),T}function x(k,T){return p.set(k,T),d.set(k,T),f[T]++,T}function y(k,T){p.delete(k),f[T]--}function w(){return c.find(k=>f[k]===0)}function C(){return!!w()}function _(k){let T=1/0,A=[];return c.forEach(D=>{const I=f[D];I===T?A.push(D):I<T&&(T=I,A=[D])}),k&&A.includes(k)?k:A[0]}function S(k,T){return new mt(A=>{const D=i[T];return A.next(D),()=>{u.delete(k),y(k,T)}}).pipe(Do({refCount:!0}))}function E(k){m=k,f[a]+=k?1:-1}function j(k){let T=0;for(let A=0;A<k.length;A++)T=(T<<5)-T+k.charCodeAt(A)|0;return c[Math.abs(T)%c.length]}}function iXt(e){let{children:t,manager:n}=e;const{scheme:r}=Hc(),o=h.useMemo(()=>n||oXt({scheme:r}),[n,r]);return l.jsx(yDe.Provider,{value:o,children:t})}const sXt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aXt=/_key\s*==\s*['"](.*)['"]/;function _n(e){if(!Array.isArray(e))throw new Error("Path is not an array");return e.reduce((t,n,r)=>{const o=typeof n;if(o==="number")return"".concat(t,"[").concat(n,"]");if(o==="string"){const i=r===0?"":".";return"".concat(t).concat(i).concat(n)}if(Mr(n)&&n._key)return"".concat(t,'[_key=="').concat(n._key,'"]');if(Array.isArray(n)){const[i,s]=n;return"".concat(t,"[").concat(i,":").concat(s,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(n),"`"))},"")}function kl(e,t){const n=t[0];if(!n)return e;const r=t.slice(1);if(Cl(n))return kl(Array.isArray(e)?e[n]:void 0,r);if(Mr(n))return kl(Array.isArray(e)?e.find(o=>o._key===n._key):void 0,r);if(typeof n=="string")return kl(xt(e)?e[n]:void 0,r);throw new Error("Unknown segment type ".concat(JSON.stringify(n)))}function lXt(e,t){return typeof t!="number"&&!Mr(t)?-1:typeof t=="number"?t:e.findIndex(n=>jl(n)&&n._key===t._key)}function cXt(e){const t=e.match(sXt);if(!t)throw new Error("Invalid path string");return t.map(uXt)}function uXt(e){return Cl(e)?dXt(e):Mr(e)?fXt(e):Pp(e)?hXt(e):e}function dXt(e){return Number(e.replace(/[^\d]/g,""))}function fXt(e){const t=e.match(aXt);if(!t)throw new Error("Invalid key segment");return{_key:t[1]}}function hXt(e){const[t,n]=e.split(":").map(r=>r===""?r:Number(r));return[t,n]}function xDe(e,t){return e.length!==t.length?!1:e.every((n,r)=>{const o=t[r];return Mr(n)&&Mr(o)?n._key===o._key:Cl(n)?Number(n)===Number(o):Pp(n)&&Pp(o)?n[0]===o[0]&&n[1]===o[1]:n===o})}function wDe(e){return jl(e)?e._key:void 0}function p4(e){const t=wDe(e);return t?{_key:t}:void 0}function pXt(e){return typeof e=="object"&&e!==null&&Object.keys(e).length<=0}function CDe(e,t){return e.get((t==null?void 0:t.author)||null)}function cC(e,t){const n=Array.isArray(t)?t:cXt(t);return mXt(e,n)}function mXt(e,t){const n=m4(e,t);if(n&&n.action!=="unchanged")return n.annotation||void 0}function m4(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t.length===0)return e;const r=t[0],o=t.slice(1);if(Pp(r))throw new Error("Index tuples are not supported in diff paths");if(Cl(r)||Mr(r)){const s=Cl(r)?"at index ".concat(r):"with key ".concat(r._key);if(e.type!=="array"){"Failed to get item ".concat(s," at path ").concat(_n(n)," (not an array)");return}const a=e.items.find(Cl(r)?c=>c.toIndex===r:c=>gXt(c,r));if(!a){"Failed to get item ".concat(s," at path ").concat(_n(n)," (item missing)");return}return m4(a.diff,o,n.concat(r))}if(e.type!=="object"){"Failed to get property ".concat(r," at path ").concat(_n(n)," (not an object)");return}const i=e.fields[r];if(typeof i>"u"){"Failed to get property ".concat(r," at path ").concat(_n(n)," (field did not exist)");return}return m4(i,o,n.concat(r))}function gXt(e,t){const n=e.diff;return n.type!=="object"||!n.toValue?!1:n.toValue._key===t}function TA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t(e,n)){if(e.type==="array"){vXt(e,t,n);return}if(e.type==="object"){yXt(e,t,n);return}e.type==="string"&&bXt(e,t,n)}}function vXt(e,t,n){e.action!=="unchanged"&&e.items.forEach(r=>{var o;const i=r.diff.type==="object"&&((o=r.diff.toValue)==null?void 0:o._key),s=i?{_key:i}:xXt(r);TA(r.diff,t,n.concat(s))})}function yXt(e,t,n){e.action!=="unchanged"&&Object.keys(e.fields).forEach(r=>{const o=e.fields[r];TA(o,t,n.concat(r))})}function bXt(e,t,n){e.action!=="unchanged"&&e.segments.forEach(r=>{TA(r,t,n)})}function xXt(e){return typeof e.toIndex>"u"?e.fromIndex||0:e.toIndex}function _De(e){const t=MB();return CDe(t,e)}function l0(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=MB(),r=h.useMemo(()=>cC(e,t),[e,t]);return h.useMemo(()=>CDe(n,r),[r,n])}function Ji(e){if("diff"in e){const{diff:t,path:n=[],...r}=e,o=cC(t,n);return l.jsx(Dne,{...r,annotations:o?[o]:[]})}return l.jsx(Dne,{...e})}function Dne(e){const{annotations:t,children:n,description:r="Changed",...o}=e;if(!t)return n;const i=l.jsxs(ee,{padding:3,space:2,children:[l.jsx(Ht,{size:1,style:{textTransform:"uppercase"},children:r}),l.jsx(ee,{space:2,children:t.map((s,a)=>l.jsx(wXt,{annotation:s},a))})]});return l.jsx(Zu,{zOffset:"paneFooter",children:l.jsx(it,{content:i,portal:!0,...o,children:n})})}function wXt(e){let{annotation:t}=e;const{author:n,timestamp:r}=t,[o]=u1(n),i=_De(t),s=Qo(r,{minimal:!0});return l.jsxs(Zt,{space:2,children:[l.jsxs(H,{align:"center",paddingRight:3,style:{backgroundColor:i.background,color:i.text,borderRadius:"calc(23px / 2)"},children:[l.jsx(Ya,{user:n}),l.jsx(Zt,{paddingLeft:2,children:l.jsx(L,{muted:!0,size:1,style:{color:i.text},children:o?o.displayName:"Loading…"})})]}),l.jsx(L,{as:"time",muted:!0,size:1,dateTime:r,children:s})]})}var Ine=Object.freeze,CXt=Object.defineProperty,_Xt=(e,t)=>Ine(CXt(e,"raw",{value:Ine(t||e.slice())})),One;const SXt=P(Q)(One||(One=_Xt([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return t.sanity.color.card.enabled.bg}),EXt=[],Ai=h.forwardRef(function(t,n){const{annotation:r,as:o="div",children:i,className:s,diff:a,disableHoverEffect:c,path:u=EXt,style:d={},tooltip:f,...p}=t,m=h.useMemo(()=>r||cC(a,u),[r,a,u]),v=_De(m),g=l.jsx(SXt,{...p,as:o,className:s,"data-hover":c||!m?void 0:"",ref:n,radius:1,style:{...d,backgroundColor:v.background,color:v.text},children:i});return f&&m?l.jsx(Ji,{annotations:[m],description:f&&typeof f=="object"&&f.description,children:g}):g});var Pne=Object.freeze,kXt=Object.defineProperty,SDe=(e,t)=>Pne(kXt(e,"raw",{value:Pne(t||e.slice())})),Rne,$ne;const FB=P.div(Rne||(Rne=SDe([`
  border-radius: `,`;
  padding: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),C5=P(L)($ne||($ne=SDe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function jXt(e){const{change:t,segment:n}=e;if(typeof n=="string")return l.jsx(M,{children:l.jsx(L,{title:n,size:1,weight:"semibold",textOverflow:"ellipsis",children:n})});const{hasMoved:r,fromIndex:o,toIndex:i,annotation:s}=n,a=typeof o>"u",c=typeof i>"u";if(a)return l.jsx(TXt,{annotation:s,change:t,toIndex:i});if(c)return l.jsx(AXt,{annotation:s,fromIndex:o});if(r&&typeof i<"u"&&typeof o<"u")return l.jsx(DXt,{annotation:s,fromIndex:o,toIndex:i});const u=(i||0)+1;return l.jsx(M,{padding:1,children:l.jsxs(L,{size:1,weight:"semibold",children:["#",u]})})}function TXt(e){const{annotation:t,change:n,toIndex:r=0}=e,o=r+1,i="Added in position ".concat(o),s=l.jsxs(l.Fragment,{children:["#",o]}),c=(n!=null&&n.diff?cC(n.diff,[]):void 0)||t;return c?l.jsx(Ai,{annotation:c,tooltip:{description:i},as:FB,children:l.jsx(C5,{size:1,weight:"semibold",forwardedAs:"ins",style:{textDecoration:"none"},children:s})}):l.jsx(L,{size:1,weight:"semibold",children:s})}function AXt(e){const{annotation:t,fromIndex:n=0}=e,r=n+1,o="Removed from position ".concat(r);return l.jsx(Ai,{annotation:t||null,as:FB,tooltip:{description:o},children:l.jsxs(C5,{size:1,weight:"semibold",forwardedAs:"del",children:["#",r]})})}function DXt(e){const{annotation:t,fromIndex:n,toIndex:r}=e,o=r-n,i=o<0?"↑":"↓",s=Math.abs(o),a="Moved ".concat(s," position").concat(s===1?"":"s"," ").concat(o<0?"up":"down");return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:1,children:l.jsxs(C5,{size:1,weight:"semibold",children:["#",r+1]})}),l.jsx(Ai,{annotation:t,as:FB,tooltip:{description:a},children:l.jsxs(C5,{size:1,weight:"semibold",children:[i,Math.abs(o)]})})]})}function EDe(e){const{change:t,titlePath:n}=e;return l.jsx(BL,{maxLength:4,separator:l.jsx(L,{muted:!0,size:1,children:l.jsx(Ic,{})}),children:n.map((r,o)=>typeof r=="string"||!t||t.showIndex?l.jsx(jXt,{change:t,segment:r},o):null)})}function IXt(e){return xt(e)&&typeof(e==null?void 0:e.then)=="function"}function OXt(e,t,n){const{currentUser:r,document:o,parent:i,value:s}=n,a=h.useRef(!1);return h.useMemo(()=>{let c=!1;if(typeof e=="boolean"||e===void 0)return e||!1;try{c=e({document:o,parent:i,value:s,currentUser:r})}catch(u){return console.error("An error occurred while running the callback from `".concat(t,"`: ").concat(u.message)),!1}return IXt(c)&&!a.current?(console.warn("The `".concat(t,"` option is either a promise or a promise returning function. Async callbacks for `").concat(t,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(t,"` option is or returned `undefined`. `").concat(t,"` should return a boolean.")),c)},[e,o,i,s,r,t])}const g4=e=>{const{checkProperty:t=!1,checkPropertyKey:n,document:r,parent:o,value:i}=e,s=No(i),a=Yo();return OXt(t,n,{currentUser:a,document:r,parent:o,value:s})},Xu=h.createContext({path:[]});function v4(e,t){const{jsonType:n}=t,r=Array.isArray(e)?"array":typeof e;if(!(e===null||r==="undefined")){if(r!==n)return{message:"Value is ".concat(r,", expected ").concat(n),value:e};if(PXt(t)&&RXt(e))for(const o of t.fields){const i=v4(e[o.name],o.type);if(i)return i}}}function PXt(e){return e.jsonType==="object"}function RXt(e){return e!==null&&!Array.isArray(e)&&typeof e=="object"}function $Xt(e){return xF(e)?e._type:FXt(e)}function MXt(e,t){return e.action==="added"?{toType:oy(t,e.toValue)}:e.action==="changed"?{fromType:oy(t,e.fromValue),toType:oy(t,e.toValue)}:e.action==="removed"?{fromType:oy(t,e.fromValue)}:{toType:oy(t,e.toValue)}}function oy(e,t){const n=$Xt(t),r=e.of.find(o=>o.name===n);return r||(e.of.length===1?e.of[0]:void 0)}function FXt(e){return Array.isArray(e)?"array":e===null?"null":typeof e}const e1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],AA="",t1=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],LXt="↲",_5=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],BXt=" ",kDe="⁠";function NXt(e){return e.of.some(TDe)}const zXt=t1.map(e=>e[0]).concat(e1.map(e=>e[0])),VXt=t1.map(e=>e[1]).concat(e1.map(e=>e[1])),jDe=zXt.concat(VXt).concat(_5).concat(AA).concat(kDe),Mne=new RegExp("".concat(jDe.join("|")),"g"),HXt=new RegExp("".concat(jDe.join("|"),`|
`),"g");function TDe(e){return e.jsonType==="object"&&e.name==="block"}function UXt(e){return Uf(e)&&!!e.style&&["h1","h2","h3","h4","h5","h6"].includes(e.style)}function Fne(e,t){return e.fields.children.items.filter(r=>r.diff.isChanged&&(r.diff.toValue===t||r.diff.fromValue===t)).map(r=>r.diff).map(r=>r)[0]}function y4(e,t){const n=e.find(o=>o.name==="children");return n&&n.type&&n.type.jsonType==="array"&&n.type.of.find(o=>o.name===t._type)||void 0}function LB(e){return e.decorators?V0(e.decorators,["value"],["asc"]):[]}function ADe(e,t){return LB(t).some(n=>n.value===e)}function Lne(e,t,n,r,o){return t?t.children.map(i=>{var s;let a=Ks(i)?(s=i.text)==null?void 0:s.replace(Mne,""):"";if(Ks(i)){const c=BB(e,i),u=c==null?void 0:c.fields.text;u&&u.toValue===i.text&&u.type==="string"&&u.action!=="unchanged"&&(a=u.segments.filter(d=>d.action!=="removed").map(d=>d.text.replace(Mne,"")).join(kDe)),i.marks&&i.marks.forEach(d=>{!!n[d]?a="".concat(n[d][0]).concat(a).concat(n[d][1]):r[d]&&(a="".concat(r[d][0]).concat(a).concat(r[d][1]))})}else a=o[i._key];return"".concat(AA).concat(a)}).join(""):""}function WXt(e,t){const n=e.action==="removed"?e.fromValue:e.toValue,r={...e,origin:e,displayValue:n};if(n){const o={},i={},s={},a=y4(t.fields,{_key:"bogus",_type:"span"});a&&LB(a).forEach((g,b)=>{i[g.value]=t1[b]}),ODe(r.origin).forEach((g,b)=>{o[g._key]=e1[b]}),DDe(r.origin).forEach((g,b)=>{s[g._key]=_5[b]});const d=Lne(r.origin,r.fromValue,i,o,s),f=Lne(r.origin,r.toValue,i,o,s),p={...n,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]},m={displayValue:n,children:[{_type:"span",_key:"pseudoSpanKey",text:d,marks:[]}]};return{origin:e,action:"changed",type:"object",displayValue:p,fromValue:m,toValue:p,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:d,toValue:f,segments:qXt(d,f).map(g=>({...g,...r.action!=="unchanged"&&r.annotation?{annotation:r.annotation}:{}}))}},fromValue:m.children[0],toValue:p.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:m.children,toValue:p.children}}}}throw new Error("Can not display this diff")}function qXt(e,t){const n=[],r=b9(Uw(e,t));let o=0,i=0;for(const[s,a]of r)switch(s){case Et:n.push({type:"stringSegment",action:"unchanged",text:a}),o+=a.length,i+=a.length;break;case Dn:n.push({type:"stringSegment",action:"removed",text:e.substring(o,o+a.length),annotation:null}),o+=a.length;break;case Zn:n.push({type:"stringSegment",action:"added",text:t.substring(i,i+a.length),annotation:null}),i+=a.length;break}return On(n.map(s=>{const a=[];if(s.text.length>1){const c=[...s.text.matchAll(HXt)];let u=-1;c.forEach(d=>{const f=d.index||0;f>u&&(a.push({...s,text:s.text.substring(u+1,f)}),a.push({...s,text:d[0]})),d===c[c.length-1]&&a.push({...s,text:s.text.substring(f+1)}),u=f}),c.length===0&&a.push(s)}else a.push(s);return a}))}function DDe(e){const t=[...e.toValue?e.toValue.children.filter(r=>r._type!=="span"):[]];return(e.fromValue?e.fromValue.children.filter(r=>r._type!=="span"):[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),V0(t,["_key"],["asc"])}function BB(e,t){const n=e.fields.children&&e.fields.children.action!=="unchanged"&&e.fields.children.type==="array"&&e.fields.children.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.action==="removed"?r.diff.fromValue&&r.diff.fromValue._key===t._key:(r.diff.toValue&&r.diff.toValue._key)===t._key));if(n)return n.diff}function YXt(e,t){var n;return e.fields.markDefs&&e.fields.markDefs.isChanged&&e.fields.markDefs.type==="array"&&((n=e.fields.markDefs.items.find(r=>r.diff&&r.diff.type==="object"&&(r.diff.toValue&&r.diff.toValue._key&&r.diff.toValue._key===t||r.diff.fromValue&&r.diff.fromValue._key&&r.diff.fromValue._key===t)))==null?void 0:n.diff)||void 0}function IDe(e){return e&&Ut(Object.keys(e),["_key","_type"])||!1}function GXt(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function ODe(e){const t=[...e.toValue&&e.toValue.markDefs?e.toValue.markDefs:[]];return(e.fromValue&&e.fromValue.markDefs?e.fromValue.markDefs:[]).forEach(r=>{t.some(o=>r._key===o._key)||t.push(r)}),V0(t,["_key"],["asc"])}const KXt=[];function ZXt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:n==null?void 0:n.background,children:[l.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof t>"u"&&l.jsx("path",{d:"M4.07996 8.5H12.92",stroke:n==null?void 0:n.text,strokeWidth:"2"}),t&&l.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:n==null?void 0:n.text,strokeWidth:"2"})]})}function XXt(e){let{checked:t,color:n}=e;return l.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("rect",{width:"38",height:"22",rx:"11",fill:t?n==null?void 0:n.border:n==null?void 0:n.background}),typeof t>"u"&&l.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),t&&l.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof t=="boolean"&&!t&&l.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const QXt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o}=t,{title:i,options:s}=n,a=(s==null?void 0:s.layout)==="checkbox"?ZXt:XXt,c=l0(t,[]),u=o!=null;return l.jsxs(H,{align:"center",children:[l.jsx(Ji,{diff:t,children:l.jsxs(H,{align:"center",children:[l.jsx(a,{checked:r,color:c}),u&&l.jsxs(l.Fragment,{children:[l.jsx(M,{marginX:2,children:l.jsx(qB,{})}),l.jsx(a,{checked:o,color:c})]})]})}),u&&i&&l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i})})]})};var Bne=Object.freeze,JXt=Object.defineProperty,eQt=(e,t)=>Bne(JXt(e,"raw",{value:Bne(t||e.slice())})),Nne;const tQt="YYYY-MM-DD",nQt="HH:mm",rQt=P.div(Nne||(Nne=eQt([`
  display: inline-block;
  word-wrap: break-word;
`]))),oQt=function(t){let{value:n,schemaType:r}=t;return l.jsx(M,{as:rQt,paddingX:2,paddingY:1,children:iQt(n,r)})};function iQt(e,t){const{options:n,name:r}=t,o=(n==null?void 0:n.dateFormat)||tQt,i=(n==null?void 0:n.timeFormat)||nQt;return GT(new Date(e),r==="date"?o:"".concat(o," ").concat(i))}const zne=e=>{let{diff:t,schemaType:n}=e;return l.jsx(uC,{align:"center",diff:t,layout:"grid",previewComponent:oQt,schemaType:n})},PDe=h.createContext(null);function DA(){const e=h.useContext(PDe);if(!e)throw new Error("DocumentChange: missing context value");return e}function Vne(e){const[t,n]=h.useState(void 0),r=mr(cn);return h.useEffect(()=>{if(!e)return;const o=r.observable.getDocument(e).subscribe(n);return()=>{o.unsubscribe()}},[r,e]),e?t:void 0}function sQt(e,t){if(!e||!t)return 0;const n=t-e;return Math.round(n/e*100)}var Hne=Object.freeze,aQt=Object.defineProperty,lQt=(e,t)=>Hne(aQt(e,"raw",{value:Hne(t||e.slice())})),Une;const cQt=P.div(Une||(Une=lQt([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),e=>{let{theme:t}=e;return`
    --size-diff-positive: `.concat(t.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(t.sanity.color.solid.critical.enabled.bg,`;
  `)}),uQt=e=>{let{diff:t,schemaType:n}=e;const{fromValue:r,toValue:o,fields:i}=t,s=r==null?void 0:r.asset,a=o==null?void 0:o.asset,c=Vne(s==null?void 0:s._ref),u=Vne(a==null?void 0:a._ref),d=Object.entries(i).filter(S=>{let[E,j]=S;return j.isChanged&&E!=="_type"}).map(S=>{let[E]=S;return E}),f=d.includes("asset"),p=n.fields.filter(S=>S.name!=="asset"&&d.includes(S.name)).map(S=>S.name),m=(c==null?void 0:c.size)&&c.size/1e3/1e3,v=(u==null?void 0:u.size)&&u.size/1e3/1e3,g=sQt(m,v),b=m?m.toFixed(2):void 0,x=v?v.toFixed(2):void 0,y=h.useMemo(()=>({display:"block",flex:1}),[]),w=c&&l.jsx(Ai,{as:"del",diff:t,path:"asset._ref",style:y,children:l.jsx(_4,{title:c.originalFilename||"Untitled",icon:kf,children:l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(b,"MB")})})}),C=u&&l.jsx(Ai,{as:"ins",diff:t,path:"asset._ref",style:y,children:l.jsx(_4,{title:u.originalFilename||"Untitled",icon:kf,children:l.jsxs(H,{align:"center",children:[l.jsx(L,{size:0,style:{color:"inherit"},children:"".concat(x,"MB")}),g!==0&&l.jsx(Q,{radius:2,padding:1,as:cQt,marginLeft:2,children:l.jsxs(L,{size:0,"data-number":g>0?"positive":"negative",children:[g>0&&"+",g,"%"]})})]})})}),_=l.jsxs(l.Fragment,{children:[w&&!C&&l.jsx(Ji,{diff:t,path:"asset._ref",description:"Removed",children:w}),w&&C&&l.jsx(Ji,{diff:t,path:"asset._ref",children:l.jsx(YB,{from:w,layout:"grid",to:C})}),!w&&C&&l.jsx(Ji,{diff:t,path:"asset._ref",description:"Added",children:C})]});return l.jsxs(l.Fragment,{children:[f&&_,p.length>0&&l.jsx(M,{marginTop:f?4:3,children:l.jsx(dC,{diff:t,schemaType:n,fields:p})})]})};function Wne(e,t){const n=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e)||[]).slice(1).map(r=>parseInt(r,16)).concat(t);return"rgba(".concat(n.join(", "),")")}function dQt(e){let t=0;if(e.length==0)return t.toString();for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);t=(t<<5)-t+r,t&=t}return t.toString()}function fQt(){const e=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,e))}function hQt(e){const{crop:t,diff:n,hash:r,hotspot:o,width:i=100,height:s=100,...a}=e,c=l0(n,"crop"),u=l0(n,"hotspot");return l.jsxs("svg",{...a,fill:"none",width:i,height:s,viewBox:"0 0 ".concat(i," ").concat(s),children:[l.jsx("defs",{children:t&&o&&l.jsxs("mask",{id:"mask-hotspot-".concat(r),children:[l.jsx("rect",{x:0,y:0,width:i,height:s,fill:"#fff"}),l.jsx(qne,{hotspot:o,fill:"#000",offset:1,width:i,height:s,stroke:"#000",strokeWidth:3})]})}),t&&l.jsx(Ji,{diff:n,path:"crop",description:"Crop changed",children:l.jsx("g",{children:l.jsx(pQt,{crop:t,fill:Wne(c.border,.25),mask:o?"url(#mask-hotspot-".concat(r,")"):void 0,stroke:c.border,strokeWidth:1,width:i,height:s})})}),o&&l.jsx(Ji,{diff:n,path:"hotspot",description:"Hotspot changed",children:l.jsx("g",{children:l.jsx(qne,{hotspot:o,fill:Wne(u.border,.25),stroke:u.border,strokeWidth:1,width:i,height:s})})})]})}function pQt(e){let{crop:t,width:n,height:r,...o}=e;const i={x:t.left*n,y:t.top*r,width:(1-t.right-t.left)*n,height:(1-t.bottom-t.top)*r};return l.jsx("rect",{...o,...i,style:{vectorEffect:"non-scaling-stroke"}})}function qne(e){let{hotspot:t,offset:n=0,width:r,height:o,...i}=e;const s={cx:t.x*r,cy:t.y*o,rx:t.width/2*r+n,ry:t.height/2*o+n};return l.jsx("ellipse",{...i,...s,style:{vectorEffect:"non-scaling-stroke"}})}var Yne=Object.freeze,mQt=Object.defineProperty,NB=(e,t)=>Yne(mQt(e,"raw",{value:Yne(t||e.slice())})),Gne,Kne,Zne;const gQt=["originalFilename"],Xne=()=>l.jsx(Q,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:l.jsx(H,{align:"center",justify:"center",height:"fill",children:l.jsx(L,{size:1,muted:!0,children:"(no image)"})})}),vQt=P.div(Gne||(Gne=NB([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),fe.gray[100].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex,fe.gray[50].hex),yQt=P.img(Kne||(Kne=NB([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),bQt=P.div(Zne||(Zne=NB([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function jO(e){var t,n,r,o;const{id:i,action:s,diff:a,hotspot:c,crop:u,is:d}=e,f=mr(cn),[p,m]=re.useState(),{value:v}=pxn(i,gQt),g=djt(i),b=h.useMemo(()=>OT(f),[f]),x=v===null,y=v&&v.originalFilename||"Untitled",w=b.image(i).height(190).dpr(fQt()).fit("max"),C=((n=(t=a.fromValue)==null?void 0:t.asset)==null?void 0:n._ref)!==((o=(r=a.toValue)==null?void 0:r.asset)==null?void 0:o._ref),_=s==="changed"?void 0:s;return l.jsxs(H,{direction:"column",height:"fill",flex:1,children:[l.jsx(M,{flex:1,padding:2,paddingBottom:0,children:l.jsxs(H,{as:vQt,direction:"column","data-changed":d==="from"&&C?"":void 0,"data-error":p?"":void 0,children:[!x&&!p&&l.jsx(yQt,{src:w.toString()||"",alt:y,"data-action":_,onError:m,width:g.width,height:g.height}),(x||p)&&l.jsx(M,{paddingY:5,children:l.jsx(L,{size:1,muted:!0,align:"center",children:x?"Image is deleted":"Error loading image"})}),l.jsx(bQt,{children:l.jsx(hQt,{crop:u&&!X5t(u)?u:void 0,diff:a,hash:dQt("".concat(w.toString()||"","-").concat(d)),hotspot:c&&!Q5t(c)?c:void 0,width:g.width,height:g.height})})]})}),l.jsx(_4,{title:y,icon:Al,markRemoved:C&&d==="from",children:_?l.jsx("div",{children:_}):l.jsxs("div",{children:[g.width," × ",g.height]})})]})}const xQt=["crop","hotspot"],wQt=["asset",...xQt],TO={flex:1},CQt=e=>{let{diff:t,schemaType:n}=e;var r,o;const{fromValue:i,toValue:s,fields:a,isChanged:c}=t,u=(r=i==null?void 0:i.asset)==null?void 0:r._ref,d=(o=s==null?void 0:s.asset)==null?void 0:o._ref,f=cC(t,["asset","_ref"]),p=Object.keys(a).filter(j=>a[j].isChanged&&j!=="_type"),m=n.fields.filter(j=>!wQt.includes(j.name)&&p.includes(j.name)).map(j=>j.name);let v="changed";!u&&d?v="added":!d&&u&&(v="removed");const g=p.includes("asset"),b=p.includes("crop"),x=p.includes("hotspot"),y=b||x,w=g||y,C=y&&!g,_=i&&u?l.jsx(Ai,{annotation:f,style:TO,children:l.jsx(jO,{is:"from",id:u,diff:t,action:v,hotspot:C&&x?i.hotspot:void 0,crop:C&&b?i.crop:void 0})}):l.jsx(Xne,{}),S=s&&d?l.jsx(Ai,{annotation:f,style:TO,children:l.jsx(jO,{is:"to",id:d,diff:t,hotspot:C&&x?s.hotspot:void 0,crop:C&&b?s.crop:void 0})}):l.jsx(Xne,{});if(!_&&!S)return l.jsx(Q,{padding:4,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,align:"center",children:"Image not set"})});if(!c)return d?l.jsx(Ai,{annotation:f,style:TO,children:l.jsx(jO,{id:d,is:"to",diff:t})}):null;const E=l.jsx(YB,{align:"center",from:_,layout:"grid",to:S});return l.jsxs(l.Fragment,{children:[w&&(g?l.jsx(Ji,{annotations:f?[f]:[],description:"".concat(v[0].toUpperCase()).concat(v.slice(1)),children:E}):E),m.length>0&&l.jsx(M,{marginTop:w?4:3,children:l.jsx(dC,{diff:t,schemaType:n,fields:m})})]})};var Qne=Object.freeze,_Qt=Object.defineProperty,SQt=(e,t)=>Qne(_Qt(e,"raw",{value:Qne(t||e.slice())})),Jne;const EQt=P.div(Jne||(Jne=SQt([`
  display: inline-block;
  word-break: break-all;
`]))),kQt=e=>{const{value:t}=e;return l.jsx(M,{as:EQt,paddingX:2,paddingY:1,children:t})},jQt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(uC,{diff:t,schemaType:n,previewComponent:kQt,layout:"inline"})};var ere=Object.freeze,TQt=Object.defineProperty,AQt=(e,t)=>ere(TQt(e,"raw",{value:ere(t||e.slice())})),tre;const DQt=P.blockquote(tre||(tre=AQt([`
  margin: 0;
`])));function IQt(e){let{children:t}=e;return l.jsx("div",{children:l.jsx(DQt,{children:t})})}var nre=Object.freeze,OQt=Object.defineProperty,PQt=(e,t)=>nre(OQt(e,"raw",{value:nre(t||e.slice())})),rre;const RQt={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},$Qt=P(Wo)(rre||(rre=PQt([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function MQt(e){let{style:t,children:n}=e;return l.jsx($Qt,{size:RQt[t],children:n})}var ore=Object.freeze,FQt=Object.defineProperty,LQt=(e,t)=>ore(FQt(e,"raw",{value:ore(t||e.slice())})),ire;const BQt=P.div(ire||(ire=LQt([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function NQt(e){let{children:t}=e;return l.jsx(BQt,{children:t})}const zQt=[];function VQt(e){var t,n,r;const{diff:o,block:i,children:s}=e,a=l0(o,zQt),{path:c}=h.useContext(Xu),{onSetFocus:u}=h.useContext(Rm),d=o.action==="removed";let f=s;const p=h.useCallback(v=>{v.stopPropagation(),d||u(c)},[c,d,u]);i.style==="blockquote"?f=l.jsx(IQt,{children:f}):i.style&&UXt(i)?f=l.jsx(MQt,{style:i.style,children:f}):f=l.jsx(NQt,{children:f});let m;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){m=(n=(t=o==null?void 0:o.origin)==null?void 0:t.fromValue)==null?void 0:n.style;const v=a?{background:a.background,color:a.text}:{};f=l.jsx(Q,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:l.jsxs(ee,{space:2,children:[l.jsx(Ji,{annotations:[(r=o.origin.fields.style)==null?void 0:r.annotation],diff:o.origin.fields.style,children:l.jsxs(L,{size:0,children:["Changed block style from '",m,"' to '",i.style,"'"]})}),l.jsx(M,{style:v,children:f})]})})}return l.jsx("div",{onClick:p,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(m||"undefined"),children:f})}var sre=Object.freeze,HQt=Object.defineProperty,IA=(e,t)=>sre(HQt(e,"raw",{value:sre(t||e.slice())})),are,lre,cre,ure;const n1=P(M)(are||(are=IA([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),RDe=P(L)(lre||(lre=IA([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),zB=P(M)(cre||(cre=IA([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),n1),$De=P(M)(ure||(ure=IA([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var dre=Object.freeze,UQt=Object.defineProperty,WQt=(e,t)=>dre(UQt(e,"raw",{value:dre(t||e.slice())})),fre;const b4=P.div(fre||(fre=WQt([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),zB);function qQt(e){let{children:t,diff:n,object:r,schemaType:o,path:i,...s}=e;return o?n&&n.action!=="unchanged"?l.jsx(YQt,{...s,diff:n,object:r,schemaType:o,path:i,children:t}):l.jsx(b4,{children:t}):l.jsx(b4,{...s,children:"Unknown schema type"})}function YQt(e){let{diff:t,children:n,object:r,schemaType:o,path:i,...s}=e;const{onSetFocus:a}=h.useContext(Rm),{path:c}=h.useContext(Xu),[u,d]=h.useState(null),f=l0(t,[]),p=h.useMemo(()=>f?{background:f.background,color:f.text}:{},[f]),m=t.action==="removed",[v,g]=h.useState(!1),b=r&&IDe(r),x=h.useMemo(()=>[i[0]].concat(["markDefs",{_key:r._key}]),[r._key,i]),y=h.useMemo(()=>c.slice(0,c.findIndex(I=>Mr(I)&&I._key===r._key)),[c,r._key]),w=h.useMemo(()=>y.concat(i),[i,y]),C=h.useMemo(()=>y.concat(x),[x,y]),_="field-".concat(Nr(C)),S=aB(),E=h.useMemo(()=>S.filter(I=>{let[O]=I;return O.startsWith(_)}).length>0,[_,S]);h.useEffect(()=>{!v&&E&&(g(!0),a(C))},[E,C,a,v]);const j=h.useCallback(I=>{I.stopPropagation(),g(!0),m||(I.preventDefault(),a(w),setTimeout(()=>a(C),10))},[w,m,C,a]),k=h.useCallback(()=>{E||g(!1)},[E]);dr(k,[u]);const T=t.action!=="unchanged"&&t.annotation||null,A=h.useMemo(()=>T?[T]:[],[T]),D=l.jsx(Xu.Provider,{value:{path:C},children:l.jsx($De,{padding:3,children:l.jsxs("div",{children:[b&&l.jsxs(Ht,{size:1,muted:!0,children:["Empty ",o.title]}),!b&&l.jsx(dC,{diff:t,schemaType:o})]})})});return l.jsx(b4,{...s,onClick:j,style:p,"data-changed":"","data-removed":t.action==="removed"?"":void 0,children:l.jsx(rn,{content:D,open:v,ref:d,portal:!0,children:l.jsx(zB,{paddingLeft:1,children:l.jsx(Ji,{annotations:A,description:"".concat(t.action," annotation"),children:l.jsxs(n1,{style:{display:"inline-flex"},children:[l.jsx("span",{children:n}),l.jsx(H,{align:"center",paddingX:1,children:l.jsx(RDe,{size:0,children:l.jsx(Ja,{})})})]})})})})})}var hre=Object.freeze,GQt=Object.defineProperty,KQt=(e,t)=>hre(GQt(e,"raw",{value:hre(t||e.slice())})),pre;const ZQt=P.span(pre||(pre=KQt([`
  display: inline;
  `,`
`])),e=>{let{theme:t,decoration:n}=e;switch(n){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(t.sanity.fonts.code.family,`;
          background: `).concat(t.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function XQt(e){let{mark:t,children:n}=e;return l.jsx(ZQt,{decoration:t,children:n})}var mre=Object.freeze,QQt=Object.defineProperty,JQt=(e,t)=>mre(QQt(e,"raw",{value:mre(t||e.slice())})),gre;const x4=P(Q)(gre||(gre=JQt([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),n1);function eJt(e){let{diff:t,object:n,schemaType:r,...o}=e;return r?t?l.jsx(tJt,{...o,diff:t,object:n,schemaType:r}):l.jsx(x4,{children:l.jsx(vC,{schemaType:r,value:n,layout:"inline"})}):l.jsxs(x4,{...o,border:!0,radius:1,children:["Unknown schema type: ",n._type]})}function tJt(e){let{diff:t,object:n,path:r,schemaType:o,...i}=e;const{path:s}=h.useContext(Xu),{onSetFocus:a}=h.useContext(Rm),c=l0(t,[]),u=h.useMemo(()=>c?{background:c.background,color:c.text}:{},[c]),[d,f]=h.useState(!1),p=n&&IDe(n),m=t.action==="removed",g=s.slice(0,s.findIndex(k=>Mr(k)&&k._key===n._key)).concat(r),b="field-".concat(Nr(g)),y=aB().filter(k=>{let[T]=k;return T.startsWith(b)}).length>0,w=s.slice(0,-1).concat(r).concat([Vve]);h.useEffect(()=>{y&&(f(!0),a(w))},[w,y,a]);const C=h.useCallback(k=>{if(k.stopPropagation(),f(!0),!m){a(w);return}k.preventDefault()},[w,m,a]),_=h.useCallback(()=>{f(!1)},[]),S=l.jsx(Xu.Provider,{value:{path:g},children:l.jsx(nJt,{diff:t,emptyObject:p,onClose:_,schemaType:o})}),E=t.action!=="unchanged"&&t.annotation||null,j=E?[E]:[];return l.jsx(x4,{...i,onClick:C,style:u,"data-removed":t.action==="removed"?"":void 0,border:!0,radius:2,children:l.jsx(rn,{content:S,open:d,portal:!0,children:l.jsx(zB,{children:l.jsx(Ji,{annotations:j,description:"".concat(t.action," inline object"),children:l.jsxs(n1,{children:[l.jsx(vC,{schemaType:o,value:n,layout:"inline"}),l.jsx(H,{align:"center",paddingX:1,children:l.jsx(RDe,{size:0,children:l.jsx(Ja,{})})})]})})})})})}function nJt(e){let{diff:t,emptyObject:n,onClose:r,schemaType:o}=e;const[i,s]=h.useState(null),a=h.useCallback(()=>{r()},[r]);return dr(a,[i]),l.jsxs($De,{ref:s,padding:3,children:[n&&l.jsxs(Ht,{size:1,muted:!0,children:["Empty ",o.title]}),!n&&l.jsx(dC,{diff:t,schemaType:o})]})}function rJt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const a=t||n;return a&&a.action!=="unchanged"&&i.action!=="unchanged"?l.jsx(oJt,{...s,childDiff:n,diff:t,segment:i,path:o,children:r}):l.jsx(n1,{children:r})}function oJt(e){let{diff:t,childDiff:n,children:r,path:o,segment:i,...s}=e;const{onSetFocus:a}=re.useContext(Rm),{path:c}=re.useContext(Xu),u=h.useMemo(()=>o.slice(-2,1)[0],[o]),d=t&&t.action==="removed",p=c.slice(0,c.findIndex(y=>Mr(y)&&Mr(u)&&y._key===u._key)).concat(o),m=h.useCallback(y=>{y.stopPropagation(),d||(y.preventDefault(),a(p))},[p,d,a]),g=t&&t.segments.find(y=>y.text===i.text)||t||n,b=g&&g.action!=="unchanged"&&g.annotation||null,x=b&&i.action!=="unchanged"?l.jsx(Ai,{annotation:b,as:i.action==="removed"?"del":"ins",tooltip:{description:"".concat(fn(i.action)," text")},children:r}):null;return l.jsx(n1,{...s,onClick:m,"data-changed":"",children:l.jsx("span",{children:l.jsx(l.Fragment,{children:x||r})})})}const VB=t1.map(e=>e[0]),HB=t1.map(e=>e[1]),zS=e1.map(e=>e[0]),w4=e1.map(e=>e[1]),iJt=VB.concat(zS),MDe=HB.concat(w4),sJt=VB.concat(HB),aJt=new RegExp("".concat(sJt.concat(MDe).join("|")),"g");function lJt(e){const{diff:t,schemaType:n}=e,r=t.origin.toValue||t.origin.fromValue,o=h.useMemo(()=>t.origin.toValue?DDe(t.origin):[],[t.origin]),i=h.useCallback(s=>{const a=y4(n.fields,s);let c=[];if(a){c=LB(a);const u=t.fields.children,d=u.items[0].diff&&u.items[0].diff.type==="object"&&u.items[0].diff.fields.text.type==="string"&&u.items[0].diff.fields.text.segments||[],f=[],p={};if(dJt(r,t)&&(t.origin.action==="added"||t.origin.action==="removed")){const y=Fne(t.origin,r.children[0])||t.origin;if(y&&y.action!=="unchanged")return l.jsx(Ai,{annotation:y.annotation,as:y.action==="removed"?"del":"ins",tooltip:{description:"".concat(fn(y.action)," empty text")},children:l.jsx("span",{children:LXt})},"empty-block-".concat(r._key))}let m=-1,v=-1;const g=[];let b;const x=ODe(t.origin);return d.forEach(y=>{var w,C,_;v++;const S=_5.includes(y.text),E=iJt.includes(y.text),j=MDe.includes(y.text),k=y.text===AA,T=y.action==="removed";if(k)T||m++;else if(E||j){if(E&&zS.includes(y.text)){const A=x[zS.indexOf(y.text)];A&&g.push({mark:A._key,symbols:[y.text,w4[zS.indexOf(y.text)]],object:A})}j&&w4.includes(y.text)&&(b=g.pop())}else if(S){const A=_5.findIndex(O=>O===y.text),D=(w=o[A])==null?void 0:w._key,I=o[A];if(D){const O=y4(n.fields,I),$=Fne(t.origin,I);f.push(l.jsx(eJt,{object:I,path:[{_key:r._key},"children",{_key:I._key}],diff:$,schemaType:O},"inline-object-".concat(I._key)))}}else if(y.text){const A=()=>{var R;return(R=t.origin.fromValue)==null?void 0:R.children.find(z=>z.text&&z.text.match(GXt(y.text)))},D=r.children[m]||A(),I=D&&BB(t.origin,D);if(!D)throw new Error("Could not find child");const O=(C=I==null?void 0:I.fields)!=null&&C.text?(_=I==null?void 0:I.fields)==null?void 0:_.text:void 0,$=l.jsx(rJt,{diff:O,path:[{_key:r._key},"children",{_key:D._key}],childDiff:I,segment:y,children:cJt({diff:t,child:D,decoratorTypes:c,seg:y,segIndex:v,spanSchemaType:a})},"text-".concat(D._key,"-").concat(v));if(g.length>0&&g.forEach(R=>{p[R.mark]=p[R.mark]||[],p[R.mark].push($)}),b){const R="annotation-".concat(b.object._key),z=f[f.length-1];if(z&&z.key!==R){const B=YXt(t.origin,b.mark),U=b&&a.annotations&&a.annotations.find(W=>b&&b.object&&W.name===b.object._type);f.push(l.jsx(qQt,{object:b.object,diff:B,path:[{_key:r._key},"children",{_key:D._key}],schemaType:U,children:l.jsx(l.Fragment,{children:p[b.mark]})},R))}b=void 0}g.length===0&&f.push($)}}),re.createElement("div",{key:r._key},...f)}throw new Error("'span' schemaType not found")},[r,t,o,n]);return l.jsx(VQt,{block:t.displayValue,diff:t,children:l.jsx(l.Fragment,{children:(t.displayValue.children||[]).map(s=>i(s))})})}function cJt(e){let{diff:t,child:n,decoratorTypes:r,seg:o,segIndex:i,spanSchemaType:s}=e;if(o.text===`
`)return l.jsx("br",{});let a=l.jsx("span",{children:o.text.replace(/ /g,BXt)},"text-".concat(i));const c=n&&BB(t.origin,n),u=Ks(n)?n.marks||[]:[];return c&&(a=uJt({activeMarks:u,decoratorTypes:r,diff:t,children:a,seg:o,segIndex:i,spanDiff:c,spanSchemaType:s})),u&&u.length>0&&u.forEach(d=>{ADe(d,s)&&(a=l.jsx(XQt,{mark:d,children:a},"decorator-".concat(d,"-").concat(n._key,"-").concat(i)))}),a}function uJt(e){let{activeMarks:t,decoratorTypes:n,diff:r,children:o,seg:i,segIndex:s,spanDiff:a,spanSchemaType:c}=e;var u;let d=l.jsx("span",{children:o},"text-segment-".concat(s));const f=r.origin.fromValue&&r.fromValue&&r.fromValue.children[0].text||"",p=a&&a.action!=="unchanged"&&a.annotation||void 0,m=(u=a==null?void 0:a.fields)==null?void 0:u.marks,v=m&&m.action!=="unchanged"&&m.annotation||p;let g=[];const x=f.split(AA).filter(S=>!!S).join(""),y=x.substring(0,x.indexOf(i.text)+i.text.length),w=y.substring(0,y.indexOf(i.text)),C=[];return[...w.matchAll(aJt)].forEach(S=>{var E;const j=S[0],k=t1.concat(e1).find(T=>T.indexOf(j)>-1);if(k){const T=j===k[0],A=((E=n[T?VB.indexOf(j):HB.indexOf(j)])==null?void 0:E.value)||j;w.lastIndexOf(j)>w.lastIndexOf(k[1])&&C.push(A)}}),g=lLt(t,vo(C)),v&&g.length>0&&g.some(S=>ADe(S,c))&&(d=l.jsx(Ai,{annotation:v,as:"ins",tooltip:{description:"Changed formatting"},children:d},"diffcard-annotation-".concat(s,"-").concat(g.join("-")))),d}function dJt(e,t){return e.children.length===1&&e.children[0]._type==="span"&&typeof e.children[0].text=="string"&&e.children[0].text===""&&t.origin.action!=="unchanged"}const fJt=e=>{const{diff:t,schemaType:n}=e,r=h.useMemo(()=>WXt(t,n),[t,n]);return l.jsx("div",{"data-diff-action":t.action,children:l.jsx(lJt,{diff:r,schemaType:n})})};var vre=Object.freeze,hJt=Object.defineProperty,pJt=(e,t)=>vre(hJt(e,"raw",{value:vre(t||e.slice())})),yre;const mJt=P.div(yre||(yre=pJt([`
  word-wrap: break-word;
`]))),gJt=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{as:mJt,padding:2,children:l.jsx(vC,{schemaType:n,value:t,layout:"default"})})},vJt=e=>{let{diff:t,schemaType:n}=e;return l.jsx(uC,{align:"center",diff:t,layout:"grid",path:"_ref",previewComponent:gJt,schemaType:n})};var bre=Object.freeze,yJt=Object.defineProperty,bJt=(e,t)=>bre(yJt(e,"raw",{value:bre(t||e.slice())})),xre;const xJt=P.div(xre||(xre=bJt([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),wJt=e=>{const{value:t}=e;return l.jsx(M,{as:xJt,paddingX:2,paddingY:1,children:t})};var wre=Object.freeze,CJt=Object.defineProperty,_Jt=(e,t)=>wre(CJt(e,"raw",{value:wre(t||e.slice())})),Cre;const SJt=P.div(Cre||(Cre=_Jt([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),EJt=e=>{let{diff:t,schemaType:n}=e;const{options:r}=n;return r!=null&&r.list?l.jsx(uC,{diff:t,previewComponent:wJt,schemaType:n}):l.jsx(SJt,{children:l.jsx(ven,{diff:t})})},_re={block:fJt,boolean:{component:QXt,showHeader:!1},date:zne,datetime:zne,file:uQt,image:CQt,number:jQt,reference:vJt,string:EJt};function FDe(e,t){var n;let r=e;for(;r;){const s=((n=r==null?void 0:r.components)==null?void 0:n.diff)||kJt(r,t)||_re[r.name];if(s)return s;r=r.type}const i=["date","datetime"].includes(e.name)?e.name:e.jsonType;return _re[i]}function kJt(e,t){const n=KXt;let r;for(const o of n){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(r=o({schemaType:e,parentSchemaType:t}),r)return r}}function jJt(e){const t=Sre(e.fromValue),n=Sre(e.toValue);return!t&&n?"Added":!n&&t?"Removed":"Changed"}function LDe(e){return e.type==="field"}function Sre(e){return e!==null&&typeof e<"u"&&e!==""}function UB(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!FDe(e,o.parentSchema)){if(e.jsonType==="object"&&t.type==="object")return BDe(e,t,n,r,o);if(e.jsonType==="array"&&t.type==="array")return DJt(e,t,n,r)}return NDe(e,t,n,r,o)}function BDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const i=[],s={...o,parentSchema:e},a=e.fieldsets||e.fields.map(c=>({single:!0,field:c}));for(const c of a)c.single?i.push(...TJt(c.field,t,n,r,s)):i.push(...AJt(c,t,n,r,s));return i.length<2?i:[{type:"group",key:_n(n)||"root",path:n,titlePath:r,changes:WB(i,r.length),schemaType:e}]}function TJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:i,...s}=o,a=t.fields[e.name];if(!a||!a.isChanged||i&&!i.includes(e.name))return[];const c=n.concat([e.name]),u=r.concat([e.type.title||e.name]);return UB(e.type,a,c,u,s)}function AJt(e,t,n,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:i,name:s,title:a,readOnly:c,hidden:u}=e,{fieldFilter:d,...f}=o,p=u,m=c,v=r.concat([a||s]),g=[];for(const b of i){const x=t.fields[b.name];if(!x||!x.isChanged||d&&!d.includes(b.name))continue;const y=n.concat([b.name]),w=v.concat([b.type.title||b.name]);g.push(...UB({readOnly:m,hidden:p,...b.type},x,y,w,f))}return g.length<2?g:[{type:"group",key:_n(n)||"root",fieldsetName:s,path:n,titlePath:v,changes:WB(g,v.length),readOnly:m,hidden:p}]}function DJt(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=t.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const i=NXt(e),s=[],a=o.reduce((c,u)=>{const d=MXt(u.diff,e),f=d.toType||d.fromType;if(!f)return console.warn("Could not determine schema type for item at %s",_n(n)),c;const p=p4(u.diff.fromValue)||p4(u.diff.toValue)||t.items.indexOf(u),m=n.concat(p),v={itemDiff:u,parentDiff:t,parentSchema:e},g=r.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),b=y=>(y.type==="field"&&xDe(m,y.path)&&(y.itemDiff=u),y),x=UB(f,u.diff,m,g,v).map(b);return i&&x.filter(LDe).forEach((y,w,C)=>{y.showHeader=C.length===1,y.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...NDe(f,u.diff,m,g,v)):c.push(...x),c},s);return a.length>1?[{type:"group",key:_n(n)||"root",path:n,titlePath:r,changes:WB(a,r.length),schemaType:e}]:a}function NDe(e,t,n,r){let{itemDiff:o,parentDiff:i,parentSchema:s}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:a,toValue:c,type:u}=t;if(u==="array"&&Ere(a)&&Ere(c))return[];let d;typeof a<"u"&&(d=v4(a,e)),!d&&typeof c<"u"&&(d=v4(c,e));let f=!0,p;const m=FDe(e,s);return m&&typeof m=="function"?p=m:m&&(p=m.component,f=typeof m.showHeader>"u"?f:m.showHeader),[{type:"field",diff:t,path:n,error:d,itemDiff:o,parentDiff:i,titlePath:r,schemaType:e,showHeader:f,showIndex:!0,key:_n(n)||"root",diffComponent:d?void 0:p,parentSchema:s}]}function WB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return e.map(n=>(n.titlePath=n.titlePath.slice(t),n))}function Ere(e){return Array.isArray(e)&&e.length===0||e===null||typeof e>"u"}const kre=e=>e.type==="field"&&e.diff.action==="added",zDe=e=>{if(e.type!=="group")return[e];const t=[];return e.changes.forEach(n=>{t.push(...zDe(n))}),t},VDe=(e,t)=>{if(t.length>=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},IJt=(e,t)=>{const n=e[t],r=wDe(n);return r?{_key:r}:Array.isArray(e)?parseInt(t,10):t},OJt={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function OA(e,t,n){if(!t)return;const r=[];if(e.type==="group"){const o=zDe(e),i=o.filter(kre);o.filter(s=>!kre(s)).forEach(s=>OA(s,t,n)),r.push(...jre(t,i.map(s=>s.path).reverse()))}else e.diff.action==="added"?r.push(...jre(t,[e.path])):e.type==="field"&&e.itemDiff&&e.parentDiff&&e.parentDiff.type==="array"&&e.itemDiff.hasMoved?r.push(...RJt(e.itemDiff,e.parentDiff,e.path)):r.push(...$Jt(e.diff,t,e.path));n.patch.execute(r)}function PJt(e,t,n){const r=e.toValue;return HDe(r,t,n)}function jre(e,t){const n=[];for(let r=0;r<t.length;r++)n.some(i=>VDe(t[r],i))||n.push(PJt(e,t[r],t));return[{unset:[...new Set(n.map(_n))]}]}function HDe(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;if(t.length<=0){if(!r)throw new Error("Root has no ancestor");return r}const o=t.slice(0,-1),i=kl(e,o),s=[o,...n.filter(a=>!VDe(a,o))];return UDe(i,o,n)?HDe(e,o,s,r):t}function RJt(e,t,n){const r=n.slice(0,-1),{parentValue:o,fromIndex:i,fromValue:s}=LJt(t,e);let a;if(i===0)a={before:_n([...r,0])};else{const c=i-1,d=p4(o[c])||c;a={after:_n([...r,d])}}return[{unset:[_n(n)]},{insert:{...a,items:[s]}}]}function $Jt(e,t,n){const r=aA(e.toValue,e.fromValue,OJt,n),o=r.filter(d=>d.op==="insert").map(d=>{let{after:f,items:p}=d;return{insert:{after:_n(f),items:p}}}),i=r.filter(d=>d.op==="unset").reduce((d,f)=>d.concat(_n(f.path)),[]),s=new Set,a=[];let c=!1;const u=r.filter(d=>d.op==="set").reduce((d,f)=>(c=!0,a.push(...MJt(f.path,t,s)),d[_n(f.path)]=f.value,d),{});return[...a,...o,...i.length>0?[{unset:i}]:[],...c?[{set:u}]:[]]}function MJt(e,t,n){const r=t.fromValue,o=t.toValue,i=[];for(let s=1;s<=e.length;s++){const a=e.slice(0,s),c=_n(a);if(n.has(c))continue;const u=e[s],d=Mr(u)||Cl(u),f=kl(r,a),p=Tre(f);if(d&&Array.isArray(f)&&!kl(o,e.slice(0,s+1))){const m=lXt(f,u),v=f[m-1],g=kl(r,a.concat(u)),b=jl(v)?{_key:v._key}:m-1,x=_n(a.concat(m<1?0:b));i.push({setIfMissing:{[c]:[]}}),i.push({insert:{after:x,items:[Tre(g)]}}),s++;continue}typeof p>"u"||(n.add(c),i.push({setIfMissing:{[c]:p}}))}return i}function FJt(e,t,n){if(!xt(e)||!Array.isArray(e))return!1;for(const r in e){if(!Object.prototype.hasOwnProperty.call(e,r)||r==="_type"||r==="_key")continue;const o=[...t,IJt(e,r)];if(!UDe(e[r],o,n))return!1}return!0}function UDe(e,t,n){const r=n==null?void 0:n.some(i=>_n(i)===_n(t)),o=Array.isArray(e)&&e.length<=0;return r||e===void 0||e===null||o||pXt(e)||FJt(e,t,n)}function Tre(e){if(Array.isArray(e))return[];if(typeof e!="object"||e===null)return;const t={};return jl(e)&&(t._key=e._key),xF(e)&&(t._type=e._type),t}function LJt(e,t){if(e.fromValue&&typeof t.fromIndex=="number"){const n=e.fromValue[t.fromIndex];return{parentValue:e.fromValue,fromIndex:t.fromIndex,fromValue:n}}throw new Error("Failed to find item at index ".concat(t.fromIndex))}const Vc=!1;class BJt extends re.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t){console.error("Error rendering diff component: "),console.error(t)}render(){const{error:t}=this.state;return t?l.jsx(Q,{padding:3,radius:2,tone:"critical",children:l.jsxs(H,{children:[l.jsx(L,{size:1,children:l.jsx(la,{})}),l.jsxs(M,{paddingLeft:3,children:[l.jsx(L,{as:"h3",size:1,weight:"medium",children:"Rendering the changes to this field caused an error"}),Vc]})]})}):this.props.children}}const NJt={down:w0e,right:C0e};function qB(e){const{direction:t="right",...n}=e,r=NJt[t];return l.jsx(L,{muted:!0,size:1,...n,children:h.createElement(r)})}var Are=Object.freeze,zJt=Object.defineProperty,WDe=(e,t)=>Are(zJt(e,"raw",{value:Are(t||e.slice())})),Dre,Ire;const AO=P.pre(Dre||(Dre=WDe([`
  overflow-x: auto;
  position: relative;
`]))),VJt=P.div(Ire||(Ire=WDe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function HJt(e){const{children:t,as:n,change:r,...o}=e,i=h.useRef(!1),[s,a]=h.useState(!1),c=h.useCallback(()=>a(f=>!f),[a]),u=h.useCallback(()=>i.current=!0,[]),d=h.useCallback(()=>i.current=!1,[i]);return h.useEffect(()=>{function f(p){const{metaKey:m,key:v}=p;m&&v==="i"&&i.current&&c()}return window.addEventListener("keydown",f,!1),()=>window.removeEventListener("keydown",f,!1)},[c]),l.jsx(M,{as:n,onMouseEnter:u,onMouseLeave:d,...o,children:s?l.jsx(UJt,{change:r}):t})}const DO=e=>{let{title:t}=e;return l.jsx(M,{padding:3,display:"inline-block",as:VJt,children:l.jsx(Ht,{size:1,muted:!0,children:t})})};function UJt(e){let{change:t}=e;var n,r,o;return l.jsxs(ee,{space:3,children:[l.jsxs(Q,{padding:3,tone:"transparent",as:AO,radius:1,children:[l.jsx(DO,{title:"meta"}),l.jsx(lr,{language:"json",size:1,children:WJt({path:_n(t.path),fromIndex:(n=t.itemDiff)==null?void 0:n.fromIndex,toIndex:(r=t.itemDiff)==null?void 0:r.toIndex,hasMoved:(o=t.itemDiff)==null?void 0:o.hasMoved,action:t.diff.action,isChanged:t.diff.isChanged})})]}),l.jsxs(Q,{as:AO,tone:"critical",padding:3,radius:1,children:[l.jsx(DO,{title:"from"}),l.jsx(lr,{language:"json",size:1,children:Ore(t.diff.fromValue)})]}),l.jsx(Q,{children:l.jsx(qB,{direction:"down",align:"center"})}),l.jsxs(Q,{as:AO,tone:"positive",padding:3,radius:1,children:[l.jsx(DO,{title:"to"}),l.jsx(lr,{language:"json",size:1,children:Ore(t.diff.toValue)})]})]})}function Ore(e){return typeof e>"u"?"undefined":JSON.stringify(e,null,2)}function WJt(e){const t=[];return Object.entries(e).forEach(n=>{let[r,o]=n;typeof o<"u"&&o!==null&&t.push("".concat(r,": ").concat(o))}),t.join(`
`)}const qJt={flexShrink:0},YJt={alignItems:"stretch"},Pre={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},YB=h.forwardRef(function(t,n){const{align:r="top",layout:o="inline",from:i,to:s,style:a,...c}=t,u=As(),d=o==="inline"?H:nn,f=h.useMemo(()=>({...a,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(ge(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,a,u]),p=o==="inline"?qJt:YJt;return l.jsxs(d,{...c,ref:n,style:f,"data-from-to-layout":!0,children:[i&&l.jsxs(l.Fragment,{children:[l.jsx(H,{align:Pre[r],style:p,children:i}),l.jsx(H,{align:"center",justify:"center",padding:2,children:l.jsx(qB,{})})]}),l.jsx(H,{align:Pre[r],style:p,children:s})]})}),IO={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function uC(e){const{align:t,cardClassName:n,diff:r,layout:o,path:i,previewComponent:s,schemaType:a}=e,{action:c}=r,u=jJt(r);if(c==="unchanged")return l.jsx(Ai,{className:n,style:IO,children:h.createElement(s,{schemaType:a,value:r.toValue})});const d=r.fromValue!==void 0&&r.fromValue!==null&&l.jsx(Ai,{as:"del",className:n,diff:r,path:i,style:IO,children:h.createElement(s,{schemaType:a,value:r.fromValue})}),f=r.toValue!==void 0&&r.toValue!==null&&l.jsx(Ai,{as:"ins",className:n,diff:r,path:i,style:IO,children:h.createElement(s,{schemaType:a,value:r.toValue})});return d&&!f?l.jsx(Ji,{description:u,diff:r,path:i,children:d}):!d&&f?l.jsx(Ji,{description:u,diff:r,path:i,children:f}):l.jsx(Ji,{description:u,diff:r,path:i,children:l.jsx(YB,{align:t,from:d,layout:o,to:f})})}const GJt=e=>{let{value:t,schemaType:n}=e;return l.jsx(M,{padding:2,children:l.jsx(vC,{schemaType:n,value:t,layout:"default"})})},KJt=e=>{const{diff:t,schemaType:n}=e;return l.jsx(uC,{diff:t,schemaType:n,previewComponent:GJt,layout:"grid"})};var Rre=Object.freeze,ZJt=Object.defineProperty,XJt=(e,t)=>Rre(ZJt(e,"raw",{value:Rre(t||e.slice())})),$re;const QJt=P(oe)($re||($re=XJt([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),qDe=h.forwardRef(function(t,n){const{selected:r,...o}=t;return l.jsx(QJt,{icon:YF,selected:r,text:"Revert changes",mode:"bleed",padding:1,fontSize:1,space:2,ref:n,...o})});function JJt(e){let{error:t}=e;return l.jsx(Q,{tone:"critical",padding:3,children:l.jsxs(H,{align:"flex-start",children:[l.jsx(M,{children:l.jsx(L,{children:l.jsx(la,{})})}),l.jsx(M,{flex:1,paddingLeft:3,children:l.jsxs(L,{size:1,as:"p",children:["Value error: ",t.message]})})]})})}var Mre=Object.freeze,een=Object.defineProperty,GB=(e,t)=>Mre(een(e,"raw",{value:Mre(t||e.slice())})),Fre,Lre,Bre;const ten=P.div(Fre||(Fre=GB([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg}),nen=P.div(Lre||(Lre=GB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),ren=P(rn)(Bre||(Bre=GB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function oen(e){var t;const{change:n,hidden:r,readOnly:o}=e,i=n.diffComponent||KJt,{documentId:s,schemaType:a,rootDiff:c,isComparingCurrent:u,FieldWrapper:d=re.Fragment}=DA(),f=ql(s,a.name),[p,m]=h.useState(!1),[v,g]=h.useState(!1),[b,x]=h.useState(null),[y,w]=mh({id:s,type:a.name,permission:"update"}),C=h.useCallback(()=>{OA(n,c,f)},[n,c,f]),_=h.useCallback(()=>{m(!0)},[]),S=re.useCallback(()=>{m(!1)},[]),E=h.useCallback(()=>{g(!0)},[]),j=h.useCallback(()=>{g(!1)},[]),k=h.useCallback(()=>m(!1),[]);dr(k,[b]);const A=((t=n.parentSchema)==null?void 0:t.jsonType)==="array"?n.path.slice(0,-1):n.path;return h.useMemo(()=>r?null:l.jsxs(ee,{space:1,as:ten,children:[n.showHeader&&l.jsx(EDe,{change:n,titlePath:n.titlePath}),l.jsx(d,{path:A,hasHover:v,children:l.jsxs(HJt,{change:n,as:nen,"data-revert-field-hover":v?"":void 0,"data-error":n.error?"":void 0,"data-revert-all-hover":!0,children:[n.error?l.jsx(JJt,{error:n.error}):l.jsx(BJt,{children:l.jsx(Xu.Provider,{value:{path:n.path},children:l.jsx(i,{diff:n.diff,schemaType:n.schemaType})})}),u&&!w&&(y==null?void 0:y.granted)&&l.jsx(ren,{content:l.jsxs(M,{padding:3,sizing:"border",children:["Are you sure you want to revert the changes?",l.jsxs(nn,{columns:2,gap:2,marginTop:2,children:[l.jsx(oe,{mode:"ghost",onClick:S,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(oe,{tone:"critical",onClick:C,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),open:p,portal:!0,placement:"left",ref:x,children:l.jsx(M,{flex:1,children:l.jsx(qDe,{onClick:_,onMouseEnter:E,onMouseLeave:j,selected:p,disabled:o,"data-testid":"single-change-revert-button-".concat(n==null?void 0:n.key)})})})]})})]}),[n,S,o,p,i,d,r,E,j,C,_,u,w,y,v,A])}function ien(){const e=h.useRef(null),[t,n]=h.useState(!1);return h.useEffect(()=>{const r=e.current;if(!r)return()=>{};const o=()=>n(!0),i=()=>n(!1);return r.addEventListener("mouseover",o),r.addEventListener("mouseout",i),()=>{r.removeEventListener("mouseover",o),r.removeEventListener("mouseout",i)}},[]),[e,t]}var Nre=Object.freeze,sen=Object.defineProperty,KB=(e,t)=>Nre(sen(e,"raw",{value:Nre(t||e.slice())})),zre,Vre,Hre;const aen=P.div(zre||(zre=KB([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),len=P.div(Vre||(Vre=KB([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.solid.critical.enabled.bg},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[2])}),cen=P(rn)(Hre||(Hre=KB([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function uen(e){const{change:t,readOnly:n,hidden:r,...o}=e,{titlePath:i,changes:s,path:a}=t,{path:c}=h.useContext(Xu),{documentId:u,schemaType:d,FieldWrapper:f,rootDiff:p,isComparingCurrent:m}=DA(),v=s.every(I=>LDe(I)&&TDe(I.schemaType)),g=xDe(c,a),[b,x]=ien(),y=ql(u,d.name),[w,C]=h.useState(!1),[_,S]=h.useState(null),[E,j]=mh({id:u,type:d.name,permission:"update"}),k=h.useCallback(()=>OA(t,p,y),[t,p,y]),T=h.useCallback(()=>{C(!0)},[]),A=h.useCallback(()=>{C(!1)},[]);dr(()=>C(!1),[_]);const D=h.useMemo(()=>r?null:l.jsxs(ee,{space:1,as:len,"data-revert-group-hover":x?"":void 0,"data-portable-text":v?"":void 0,children:[l.jsx(ee,{as:aen,space:5,children:s.map(I=>l.jsx(YDe,{change:I,readOnly:n,hidden:r},I.key))}),m&&!j&&(E==null?void 0:E.granted)&&l.jsx(cen,{content:l.jsxs(M,{children:["Are you sure you want to revert the changes?",l.jsxs(nn,{columns:2,gap:2,marginTop:2,children:[l.jsx(oe,{mode:"ghost",onClick:A,children:l.jsx(L,{align:"center",children:"Cancel"})}),l.jsx(oe,{tone:"critical",onClick:k,children:l.jsx(L,{align:"center",children:"Revert change"})})]})]}),portal:!0,padding:4,placement:"left",open:w,ref:S,children:l.jsx(M,{children:l.jsx(qDe,{onClick:T,ref:b,selected:w,disabled:n,"data-testid":"group-change-revert-button-".concat(t.fieldsetName)})})})]}),[s,A,w,n,t.fieldsetName,k,T,r,m,x,j,v,E,b]);return r?null:l.jsxs(ee,{space:1,...o,children:[l.jsx(EDe,{titlePath:i}),g||!f?D:l.jsx(f,{hasHover:x,path:t.path,children:D})]})}function YDe(e){var t,n;const{change:r,hidden:o,readOnly:i}=e,{value:s}=DA(),a=g4({document:s,checkProperty:o||((t=r.schemaType)==null?void 0:t.hidden),checkPropertyKey:"hidden",value:r.type==="field"?r.diff.toValue:void 0}),c=g4({document:s,checkProperty:i||((n=r.schemaType)==null?void 0:n.readOnly),checkPropertyKey:"readOnly",value:r.type==="field"?r.diff.toValue:void 0});return a?null:r.type==="field"?l.jsx(oen,{change:r,readOnly:c}):r.type==="group"?l.jsx(uen,{change:r,"data-testid":"group-change-".concat(r.fieldsetName),readOnly:c}):l.jsxs(L,{children:["Unknown change type: ",l.jsx("code",{children:r.type||"undefined"})]})}function C4(){return l.jsxs(ee,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",as:"h3",children:"There are no changes"}),l.jsx(L,{as:"p",size:1,muted:!0,children:"Edit the document or select an older version in the timeline to see a list of changes appear in this panel."})]})}var Ure=Object.freeze,den=Object.defineProperty,GDe=(e,t)=>Ure(den(e,"raw",{value:Ure(t||e.slice())})),Wre,qre;const fen=P.div(Wre||(Wre=GDe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),hen=P(rn)(qre||(qre=GDe([`
  /* hides the popover when the target of it has left the visible part of the window.
   without it, the popover will be on top of the headers (document title & changes)
   and footers (changed notifications, publish button etc)*/
  &[data-popper-reference-hidden='true'] {
    display: none;
  }
`])));function dC(e){let{diff:t,fields:n,schemaType:r}=e;const{documentId:o,isComparingCurrent:i,value:s}=DA(),a=ql(o,r.name),{path:c}=h.useContext(Xu),u=c.length===0,[d,f]=h.useState(!1),[p,m]=h.useState(!1),v=g4({document:s,value:void 0,checkProperty:r.readOnly,checkPropertyKey:"readOnly"});if(r.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[g,b]=mh({id:o,type:r.name,permission:"update"}),x=h.useMemo(()=>BDe(r,t,c,[],{fieldFilter:n}),[r,n,c,t]),y=h.useMemo(()=>n&&n.length===0?[]:pen(x),[x,n]),w=x[0],C=h.useCallback(()=>{OA(w,t,a),f(!1)},[w,t,a]),_=h.useCallback(()=>{f(!0)},[]),S=h.useCallback(()=>{m(!0)},[]),E=h.useCallback(()=>{m(!1)},[]),j=h.useCallback(()=>{f(!1)},[]),[k,T]=h.useState(null),A=h.useCallback(()=>f(!1),[]);if(dr(A,[k]),y.length===0)return u?l.jsx(C4,{}):null;const D=u&&y.length>1;return l.jsx(Q,{children:l.jsxs(ee,{space:5,children:[l.jsx(ee,{as:fen,space:5,children:y.map(I=>l.jsx("div",{children:l.jsx(YDe,{change:I,"data-revert-all-changes-hover":p?"":void 0,readOnly:v||(I==null?void 0:I.readOnly),hidden:I==null?void 0:I.hidden},I.key)},I.key))}),D&&i&&!b&&(g==null?void 0:g.granted)&&l.jsx(hen,{content:l.jsxs(M,{children:["Are you sure you want to revert all ",y.length," changes?",l.jsxs(nn,{columns:2,gap:2,marginTop:2,children:[l.jsx(oe,{mode:"ghost",text:"Cancel",onClick:j}),l.jsx(oe,{tone:"critical",text:"Revert all",onClick:C})]})]}),open:d,padding:4,placement:"left",portal:!0,ref:T,children:l.jsx(ee,{children:l.jsx(oe,{tone:"critical",mode:"ghost",text:"Revert all changes",icon:YF,onClick:_,onMouseEnter:S,onMouseLeave:E,disabled:v})})})]})})}function pen(e){return e.length===1&&e[0].type==="group"&&e[0].path.length===0?e[0].changes:e}var Yre=Object.freeze,men=Object.defineProperty,KDe=(e,t)=>Yre(men(e,"raw",{value:Yre(t||e.slice())})),Gre,Kre;const Zre=P.span(Gre||(Gre=KDe([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[1])}),Xre=P(L)(Kre||(Kre=KDe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function gen(e){const{segment:t}=e,{text:n}=t;return t.action==="added"?l.jsx(Ai,{annotation:t.annotation,disableHoverEffect:!0,tooltip:{description:"Added"},as:Zre,children:l.jsx(Xre,{as:"ins",style:{textDecoration:"none"},children:n})}):t.action==="removed"?l.jsx(Ai,{annotation:t.annotation,as:Zre,disableHoverEffect:!0,tooltip:{description:"Removed"},children:l.jsx(Xre,{as:"del",children:n})}):l.jsx(Q,{as:"span",radius:2,style:{display:"inline"},children:n})}function ven(e){const{diff:t}=e;return l.jsx(l.Fragment,{children:(t.segments||[]).map((n,r)=>l.jsx(gen,{segment:n},r))})}var Qre=Object.freeze,yen=Object.defineProperty,ben=(e,t)=>Qre(yen(e,"raw",{value:Qre(t||e.slice())})),Jre;const OO=P(L)(Jre||(Jre=ben([`
  color: inherit;
`])));function _4(e){const{title:t,action:n,icon:r,children:o,markRemoved:i}=e;return l.jsxs(H,{padding:2,align:"center",children:[r&&l.jsx(M,{padding:2,children:l.jsx(OO,{size:4,forwardedAs:i?"del":"div",children:h.createElement(r)})}),l.jsxs(ee,{space:2,paddingLeft:2,children:[l.jsx(OO,{size:1,weight:"semibold",forwardedAs:i?"del":"h3",textOverflow:"ellipsis",children:t}),n&&l.jsx("div",{children:n}),l.jsx(OO,{size:0,textOverflow:"ellipsis",children:o})]})]})}var eoe=Object.freeze,xen=Object.defineProperty,wen=(e,t)=>eoe(xen(e,"raw",{value:eoe(t||e.slice())})),toe;P.div(toe||(toe=wen([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));const ZDe=h.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function noe(){return h.useContext(ZDe)}const XDe=h.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function fC(e){const{actions:t,children:n,path:r,focused:o}=e,{onMouseEnter:i,onMouseLeave:s}=noe(),a=noe().hoveredStack[0],c=tm||(a?_n(r)===a:!1),u=h.useCallback(()=>{i(r)},[i,r]),d=h.useCallback(()=>{s(r)},[s,r]),f=h.useMemo(()=>({actions:t,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:d}),[t,o,u,d,c]);return l.jsx(XDe.Provider,{value:f,children:n})}function ZB(){return h.useContext(XDe)}function Cen(e){const{children:t}=e,[n,r]=h.useState([]),o=h.useCallback(a=>{const c=_n(a);r(u=>u.includes(c)?u:[c,...u])},[]),i=h.useCallback(a=>{const c=_n(a);r(u=>u.includes(c)?u.filter(d=>d!==c):u)},[]),s=h.useMemo(()=>({hoveredStack:n,onMouseEnter:o,onMouseLeave:i}),[o,i,n]);return l.jsx(ZDe.Provider,{value:s,children:t})}const _en={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function Sen(e){const{__internal_fieldActions:t=gn,__internal_patchChannel:n=_en,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,file:c,filterField:u,focusPath:d,focused:f,groups:p,id:m,image:v,members:g,onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:S,presence:E,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:O,renderPreview:$,schemaType:R,unstable:z,validation:B,value:U}=e,W=h.useRef(U);h.useEffect(()=>{W.current=U},[U]);const V=h.useMemo(()=>({patchChannel:n,components:{ArrayFunctions:OB,CustomMarkers:(z==null?void 0:z.CustomMarkers)||BZt,Markers:(z==null?void 0:z.Markers)||hDe},field:{actions:t},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},getDocument:()=>W.current,onChange:b}),[t,c.assetSources,c==null?void 0:c.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,b,n,z==null?void 0:z.CustomMarkers,z==null?void 0:z.Markers]),K=h.useMemo(()=>({__internal:V,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:d,focused:f,groups:p,id:m,members:g,readOnly:j,renderAnnotation:k,renderBlock:T,renderField:A,renderInlineBlock:D,renderInput:I,renderItem:O,renderPreview:$,schemaType:R,value:U}),[V,r,o,s,a,U,d,f,p,m,g,j,k,T,A,D,I,O,$,R]);return l.jsx(fDe.Provider,{value:K,children:l.jsx(aC,{onChange:b,onFieldGroupSelect:x,onPathBlur:y,onPathFocus:w,onPathOpen:C,onSetPathCollapsed:S,onSetFieldSetCollapsed:_,children:l.jsx(NZt,{presence:E,children:l.jsx(VZt,{validation:B,children:l.jsx(Cen,{children:i})})})})})}function Een(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,children:i,collapsedFieldSets:s,collapsedPaths:a,focusPath:c,focused:u,groups:d,id:f,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:C,readOnly:_,schemaType:S,validation:E,value:j}=e,{file:k,image:T}=Ln().form,A=dhn(),D=fhn(),I=J3e(),O=hhn(),$=phn(),R=mhn(),z=ghn(),B=h.useCallback(G=>l.jsx(A,{...G}),[A]),U=h.useCallback(G=>l.jsx(D,{...G}),[D]),W=h.useCallback(G=>l.jsx(O,{...G}),[O]),V=h.useCallback(G=>l.jsx(rDe,{component:I,...G}),[I]),K=h.useCallback(G=>l.jsx($,{...G}),[$]),te=h.useCallback(G=>l.jsx(R,{...G}),[R]),N=h.useCallback(G=>l.jsx(z,{...G}),[z]);return l.jsx(Sen,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,file:k,focusPath:c,focused:u,groups:d,id:f,image:T,members:p,onChange:m,onPathBlur:v,onPathFocus:g,onPathOpen:b,onFieldGroupSelect:x,onSetPathCollapsed:y,onSetFieldSetCollapsed:w,presence:C,readOnly:_,renderAnnotation:N,renderBlock:K,renderField:U,renderInlineBlock:te,renderInput:B,renderItem:W,renderPreview:V,schemaType:S,validation:E,value:j,children:i})}function ken(e){const{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:b,onSetFieldSetCollapsed:x,onSetPathCollapsed:y,presence:w,readOnly:C,schemaType:_,validation:S,value:E}=e;return l.jsx(Een,{__internal_fieldActions:t,__internal_patchChannel:n,autoFocus:r,changesOpen:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,focused:c,groups:u,id:d,members:f,onChange:p,onPathBlur:m,onPathFocus:v,onPathOpen:g,onFieldGroupSelect:b,onSetPathCollapsed:y,onSetFieldSetCollapsed:x,presence:w,validation:S,readOnly:C,schemaType:_,value:E,children:l.jsx(jen,{})})}function jen(){const{focusPath:e,focused:t,groups:n,id:r,members:o,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,value:v}=ci(),{onChange:g,onFieldGroupSelect:b,onPathBlur:x,onPathFocus:y,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:_}=fa(),S=h.useCallback(B=>_([B],!0),[_]),E=h.useCallback(B=>_([B],!1),[_]),j=h.useCallback(()=>x(gn),[x]),k=h.useCallback(()=>y(gn),[y]),T=h.useCallback(B=>g(dt.from(B)),[g]),A=h.useRef(null),D=h.useCallback(B=>b(gn,B),[b]),I=h.useCallback(B=>w([B]),[w]),O=h.useCallback(()=>w([]),[w]),$=h.useCallback(B=>C([B],!0),[C]),R=h.useCallback(B=>C([B],!1),[C]),z={focusPath:e,elementProps:{ref:A,id:r,onBlur:j,onFocus:k,"aria-describedby":void 0},changed:o.some(B=>B.kind==="field"&&B.field.changed),focused:t,groups:n,id:r,level:0,members:o,onChange:T,onFieldClose:O,onFieldCollapse:S,onFieldSetCollapse:$,onFieldExpand:E,onFieldSetExpand:R,onPathFocus:y,onFieldOpen:I,onFieldGroupSelect:D,path:gn,presence:gn,readOnly:i,renderAnnotation:s,renderBlock:a,renderField:c,renderInlineBlock:u,renderInput:d,renderItem:f,renderPreview:p,schemaType:m,validation:gn,value:v};return l.jsx(l.Fragment,{children:d(z)})}const QDe=h.createContext({});function JDe(){return h.useContext(QDe)}function Ten(e){const{children:t,activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}=e,s=h.useMemo(()=>({activePath:n,EditReferenceLinkComponent:r,onEditReference:o,initialValueTemplateItems:i}),[n,r,o,i]);return l.jsx(QDe.Provider,{value:s,children:t})}h.createContext(null);function PA(e,t){return Bi(t,h.useCallback((n,r)=>{e.current&&!n&&r&&Qv(e.current,{scrollMode:"always"})},[e]))}function Aen(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const t=new Uint8Array(e);return H9(t),t}const Den=(()=>{let e;return()=>{if(e)return e;e=[];for(let t=0;t<256;++t)e[t]=(t+256).toString(16).substring(1);return e}})();function Nx(e){const t=Den();return Aen(e).reduce((n,r)=>n+t[r],"").slice(0,e)}var roe=Object.freeze,Ien=Object.defineProperty,eIe=(e,t)=>roe(Ien(e,"raw",{value:roe(t||e.slice())})),ooe,ioe;const Oen={portal:!0},Pen=P(Q)(e=>{let{theme:t,$selected:n}=e;var r;const{color:o}=t.sanity;return de(ooe||(ooe=eIe([`
    --card-bg-color: inherit;
    --card-fg-color: inherit;
    --card-hairline-hard-color: `,`;
  `])),n?(r=o.selectable)==null?void 0:r.default.pressed.border:void 0)}),Ren=P(M)(ioe||(ioe=eIe([`
  max-width: 150px;
`]))),soe=e=>{if(e.length===1)return"".concat(e[0].user.displayName," is editing this document");if(e.length>1)return"".concat(e.length," people are editing this document right now")};function XB(e){const{presence:t}=e,{color:n}=v0e().sanity,r=n.dark?"light":"dark",{selected:o}=lqt(),i=h.useMemo(()=>Array.from(new Set(t.map(a=>a.user.id))).map(a=>t.find(c=>c.user.id===a)).filter(bo),[t]),s=h.useMemo(()=>l.jsx(Ren,{padding:2,children:l.jsx(L,{align:"center",size:1,children:soe(i)})}),[i]);return l.jsx(it,{content:s,...Oen,children:l.jsx(Pen,{scheme:o?r:void 0,$selected:o,children:l.jsx(qj,{maxLength:2,"aria-label":soe(i),children:i.map(a=>l.jsx(Ya,{user:a.user},a.user.id))})})})}const $en=3,tIe=3,S5=-4,zx=23,aoe=4,Men=[0,.25,.75,1],l2=23,Fen=8,Len=8,nIe=20,rIe=20,PO=!1,Ben=(e,t)=>{const n=e.length>t?t-1:t,r=Math.max(0,e.length-n);return[e.slice(0,r),e.slice(r)]};function Nen(e){return-S5+(zx+S5)*e}var loe=Object.freeze,zen=Object.defineProperty,oIe=(e,t)=>loe(zen(e,"raw",{value:loe(t||e.slice())})),coe,uoe;const iIe=P(H)(coe||(coe=oIe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),Ven=P(H)(uoe||(uoe=oIe([`
  height: 23px;
  min-width: 23px;
  vertical-align: top;
`]))),Hen=re.createContext([]);function Uen(e){const{children:t,items:n}=e,r=h.useMemo(()=>l.jsx(ee,{padding:1,sizing:"border",children:n.map(o=>l.jsxs(H,{align:"center",gap:2,padding:1,children:[l.jsx("div",{children:l.jsx(Ya,{user:o.user,status:"online"})}),l.jsx(L,{size:1,children:o.user.displayName})]},o.user.id))}),[n]);return l.jsx(it,{content:r,placement:"top",portal:"documentScrollElement",children:t})}const{Tracker:Wen,useReporter:qen,useReportedValues:Yen}=kAe(),sIe=h.memo(function(t){let{presence:n,position:r="inside",animateArrowFrom:o="inside",maxAvatars:i=tIe,stack:s=!0}=t;const a=Lf(n||[],p=>p.user.id),c=Em(a,p=>p.lastActiveAt),[u,d]=s?Ben(c,i):[[],c],f=[...d.reverse().map(p=>({key:p.user.id,element:l.jsx(Ya,{animateArrowFrom:o,position:r,status:"online",user:p.user})})),u.length>=2?{key:"counter",element:l.jsx(e$,{count:u.length})}:null].filter(Boolean);return l.jsxs(iIe,{children:[l.jsx("div",{}),l.jsx(Ven,{direction:"row-reverse",children:f.map((p,m)=>p&&l.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-m*(zx+S5),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-m},children:p.element},p.key))})]})});function Gen(e){const t=h.useContext(Hen),{presence:n=t,maxAvatars:r=tIe}=e,o=h.useRef(null);qen(h.useId(),()=>({presence:n,element:o.current,maxAvatars:r}));const i=h.useMemo(()=>Lf(n||[],s=>s.user.id),[n]);return l.jsx(Uen,{items:i,children:l.jsx(iIe,{ref:o,style:{minHeight:zx,minWidth:zx}})})}const hC=Gen,Ken=e=>{const t=new Er,n=new IntersectionObserver(r=>{r.forEach(o=>{t.next(o)})},e);return{observe:r=>new mt(o=>{const i=t.pipe(pt(s=>s.target===r)).subscribe(o);return n.observe(r),()=>{i.unsubscribe(),n.unobserve(r)}})}},QB=e=>{const{onIntersection:t,io:n,id:r,...o}=e,i=re.useRef(null);return re.useEffect(()=>{const s=i.current;if(!s)return;const a=n.observe(s).pipe(Cn(c=>t(r,c))).subscribe();return()=>a.unsubscribe()},[n,r,t]),l.jsx("div",{ref:i,...o})};var doe=Object.freeze,Zen=Object.defineProperty,rm=(e,t)=>doe(Zen(e,"raw",{value:doe(t||e.slice())})),foe,hoe,poe,moe,goe,voe,yoe;const Xen=P.div(foe||(foe=rm([`
  position: relative;
`]))),Qen=P.div(hoe||(hoe=rm([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),JB=de(poe||(poe=rm([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),Jen=P(QB)(e=>{let{$debug:t,margins:n}=e;return de(moe||(moe=rm([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),JB,n?"".concat(n[0]-1,"px"):void 0,t?"red":"none")}),etn=P(QB)(e=>{let{$debug:t}=e;return de(voe||(voe=rm([`
    `,`

    visibility: none;

    `,`
  `])),JB,t&&de(goe||(goe=rm([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),ttn=P(QB)(e=>{let{$debug:t}=e;return de(yoe||(yoe=rm([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),JB,t?"blue":"transparent")}),ntn=e=>"".concat(e,"px"),rtn=e=>0-e,otn=h.forwardRef(function(t,n){const{regions:r,render:o,children:i,margins:s}=t,a=h.useRef(null),c=h.useMemo(()=>s,[JSON.stringify(s)]),u=h.useMemo(()=>Ken({rootMargin:c.map(rtn).map(ntn).join(" "),threshold:Men}),[c]),[d,f]=h.useState({}),p=h.useCallback((b,x)=>{f(y=>({...y,[b]:x}))},[]),m=d["::top"],v=d["::bottom"],g=h.useMemo(()=>m&&v?r.filter(b=>{var x;return((x=b.presence)==null?void 0:x.length)>0}).map(b=>{const x=d[b.id];if(!x)return null;const{bottom:y,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<m.boundingClientRect.bottom,_=x.boundingClientRect.top<v.boundingClientRect.top,S=x.isIntersecting?w-(x.intersectionRect.top-l2):C?-m.boundingClientRect.bottom:v.boundingClientRect.top,E=x.isIntersecting?-(y-(x.intersectionRect.bottom+l2)):_?v.boundingClientRect.top:-m.boundingClientRect.bottom,j=S<=Fen?"top":E<=Len?"bottom":"inside";return{distanceTop:S,distanceBottom:E,region:b,position:j}}).filter(Boolean):[],[v,d,r,m]);return l.jsxs(Xen,{ref:n,children:[l.jsx(Jen,{$debug:PO,io:u,id:"::top",onIntersection:p,margins:c}),l.jsx("div",{children:i}),l.jsx(Qen,{ref:a,children:a.current&&o(g,a.current.offsetWidth)}),r.map(b=>{const x=b.rect.width===0;return l.jsx(etn,{$debug:PO,io:u,onIntersection:p,id:b.id,style:{width:x?1:b.rect.width,left:b.rect.left-(x?1:0),top:b.rect.top-l2,height:b.rect.height+l2*2}},b.id)}),l.jsx(ttn,{$debug:PO,id:"::bottom",io:u,onIntersection:p})]})}),aIe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},itn=e=>e.top+e.height;function stn(e){return e.map((t,n,r)=>{var o;const i=(o=r[n-1])==null?void 0:o.region.rect,s=i?itn(i):0;return{...t,spacerHeight:t.region.rect.top-s}})}const c2=e=>V0(e,t=>t.region.rect.top),atn=(e,t)=>e+t,boe=e=>e.reduce(atn,0);function ltn(e){const t=stn(c2(e)),n={top:[],inside:[],bottom:[],...g7(t,r=>r.position)};return{top:c2(n.top).map((r,o,i)=>({...r,indent:i.slice(o+1).reduce((s,a)=>s+a.region.rect.width,0)})),inside:c2(n.inside).map(r=>({...r,indent:0})),bottom:c2(n.bottom).map((r,o,i)=>({...r,indent:i.slice(0,o).reduce((s,a)=>s+a.region.rect.width,0)}))}}const xoe=e=>{let{height:t,...n}=e;return l.jsx("div",{style:{height:Math.max(0,t),...n==null?void 0:n.style}})},ctn=[0,0,0,0],utn=(e,t)=>{let n=e,r=-n.scrollTop,o=0;for(;n&&n!==t;)r+=n.offsetTop-n.scrollTop,o+=n.offsetLeft,n=n.offsetParent instanceof HTMLElement?n.offsetParent:null;return{top:r,left:o}};function dtn(e,t){return{...utn(e,t),width:e.offsetWidth,height:e.offsetHeight}}function ftn(e,t){return e.map(n=>{let[r,o]=n;return{...o,id:r,rect:dtn(o.element,t)}})}function htn(e){const{children:t,margins:n=ctn}=e,r=Yen(),o=re.useRef(null),i=re.useMemo(()=>o.current?ftn(r,o.current):S4,[r]),s=re.useCallback((a,c)=>{const u=ltn(a.filter(m=>m.region.presence.length>0)),d=boe(u.top.map(m=>m.region.rect.height+m.spacerHeight)),f=boe([...u.inside,...u.bottom].map(m=>m.region.rect.height+m.spacerHeight)),p=u.inside.reduce((m,v)=>{const{distanceTop:g,distanceBottom:b}=v,x=g<=nIe,y=b<=rIe;return{nearTop:m.nearTop+(x?v.region.presence.length:0),nearBottom:m.nearBottom+(y?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return l.jsxs(l.Fragment,{children:[l.jsx(woe,{closeCount:p.nearTop,margins:n,position:"top",regionsWithIntersectionDetails:u.top}),l.jsx(xoe,{height:d}),l.jsx(ptn,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),l.jsx(xoe,{height:f}),l.jsx(woe,{closeCount:p.nearBottom,margins:n,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[n]);return l.jsx(otn,{ref:o,margins:n,regions:i,render:s,children:t})}const S4=[],woe=h.memo(function(t){const{closeCount:n,margins:r,position:o,regionsWithIntersectionDetails:i}=t,s=o==="top"?1:-1,a=h.useMemo(()=>i.length?On(Em(i,g=>g.region.rect.top*s).map(g=>g.region.presence||S4)):S4,[s,i]),[c,u,d,f]=r,p=(f||0)+(a.length>0?-n*(zx+S5):0)-u,m=o==="top"?c:d,v=h.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",...aIe,transform:"translate3d(".concat(p,"px, 0px, 0px)"),top:aoe+1+m,bottom:aoe+1+m}),[p,m]);return l.jsx("div",{"data-dock":o,style:v,children:l.jsx(sIe,{position:o,maxAvatars:$en,presence:a})},"sticky-".concat(o))});function ptn(e){const{regionsWithIntersectionDetails:t,containerWidth:n}=e;return l.jsx(l.Fragment,{children:t.map(r=>{const o=r.region.rect.left,{distanceTop:i,distanceBottom:s}=r,a=i<=nIe,c=s<=rIe,u=n-o-r.region.rect.width,{presence:d,maxAvatars:f}=r.region;return l.jsx(re.Fragment,{children:l.jsx("div",{style:{zIndex:2,position:"absolute",...aIe,left:o,transform:"translate3d(".concat(a||c?u:0,"px, 0px, 0px)"),height:r.region.rect.height,top:r.region.rect.top},children:l.jsx(gtn,{value:()=>"⤒".concat(i," | ").concat(s,"⤓"),children:l.jsx(sIe,{stack:!a&&!c,position:a?"top":c?"bottom":"inside",maxAvatars:f,presence:d})})})},r.region.id)})})}const mtn=e=>e.children,gtn=mtn,vtn=[0,0,0,0];function ytn(e){let{children:t,margins:n}=e;return l.jsx(Wen,{children:l.jsx(htn,{margins:n||vtn,children:t})})}const pC=ytn;var Coe=Object.freeze,btn=Object.defineProperty,r1=(e,t)=>Coe(btn(e,"raw",{value:Coe(t||e.slice())})),_oe,Soe,Eoe,koe,joe,Toe;const xtn={open:500},wtn=P(H)(_oe||(_oe=r1([`
  /* Prevent buttons from taking up extra vertical space */
  line-height: 1;
  /* For floating actions menu */
  position: relative;
`]))),Ctn=P(M)(e=>{let{theme:t,$right:n}=e;const{space:r}=t.sanity;return de(Soe||(Soe=r1([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),n+r[1])}),_tn=P(M)(e=>{let{theme:t,$presenceMaxWidth:n}=e;const{space:r}=t.sanity;return de(Eoe||(Eoe=r1([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),n+r[1])}),Stn=P(M)(e=>{let{theme:t,$right:n,$fieldActionsVisible:r}=e;const{space:o}=t.sanity,i=r?n+o[1]:n;return de(koe||(koe=r1([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),i)}),Etn=P(Q)(e=>{let{theme:t}=e;const n=t.sanity.space[1]/2;return de(joe||(joe=r1([`
    align-items: center;
    bottom: 0;
    gap: `,`px;
    padding: `,`px;
    position: absolute;
    right: 0;

    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default
      // and only show it when it has focus within or when the field is hovered or focused.
      opacity: 0;
      pointer-events: none;

      [data-ui='FieldActionsFlex'] {
        opacity: 0;
        width: 0;
      }

      &[data-actions-visible='false']:not(:focus-within) {
        // Remove the shadow when the field actions are not visible
        box-shadow: none;

        // Since the field actions always will be present in the DOM (to make them focusable) –
        // they will always affect the width of the floating card, even when they are not visible.
        // Therefore, we remove the background of the floating card when the field actions are not visible.
        background: transparent;
      }

      // Remove the shadow when the field has comments but no actions
      &[data-has-comments='true']:not([data-has-actions='true']) {
        box-shadow: none;
      }

      // Show the floating card when it has focus within (ie when field actions are focused).
      &:focus-within {
        opacity: 1;
        pointer-events: auto;
        width: max-content;

        [data-ui='FieldActionsFlex'] {
          opacity: 1;
          pointer-events: auto;
          width: max-content;
        }
      }
    }

    &[data-visible='true'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }

    &[data-actions-visible='true'] {
      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  `])),n,n)}),ktn=P(H)(Toe||(Toe=r1([`
  gap: inherit;
`]))),Aoe=4;function lIe(e){const{__internal_comments:t,__internal_slot:n,actions:r,content:o,fieldFocused:i,fieldHovered:s,presence:a}=e,[c,u]=h.useState(!1),[d,f]=h.useState(null),[p,m]=h.useState(0),[v,g]=h.useState(null),[b,x]=h.useState(0),{hasComments:y=!1,button:w=null,isAddingComment:C=!1}=t||{},_=r&&r.length>0,S=i||s||c||C,E=(t==null?void 0:t.button)||_,j=S||y,k=h.useCallback(()=>{if(d){const{width:I}=d.getBoundingClientRect();m(I||0)}},[d]),T=h.useCallback(k,[k]),A=h.useCallback(k,[k]);h.useEffect(()=>{k()},[k,S]),h.useEffect(()=>{if(v){const{width:I}=v.getBoundingClientRect();x(I||0)}},[v]);const D=h.useMemo(()=>n?l.jsx(Stn,{$fieldActionsVisible:!!S,$right:p,ref:g,children:n}):null,[p,S,n]);return l.jsxs(wtn,{align:"flex-end",children:[l.jsx(_tn,{flex:1,paddingY:2,$presenceMaxWidth:Nen(Aoe),children:o}),a&&a.length>0&&l.jsx(Ctn,{flex:"none",paddingBottom:1,$right:p+b,children:l.jsx(hC,{maxAvatars:Aoe,presence:a})}),D,(E||y)&&l.jsx(qwe,{delay:xtn,children:l.jsxs(Etn,{"data-actions-visible":S?"true":"false","data-has-actions":_?"true":"false","data-has-comments":y?"true":"false","data-visible":j?"true":"false",display:"flex",onBlurCapture:A,onFocusCapture:T,radius:2,ref:f,shadow:2,sizing:"border",children:[_&&l.jsx(ktn,{align:"center","data-ui":"FieldActionsFlex",children:l.jsx(YZt,{nodes:r,onMenuOpenChange:u})}),w]})})]})}function hh(e,t){if(!(!t||!e))return"desc_".concat(e)}var Doe=Object.freeze,jtn=Object.defineProperty,Ttn=(e,t)=>Doe(jtn(e,"raw",{value:Doe(t||e.slice())})),Ioe;const Atn=[],wv={error:fe.red[500].hex,warning:fe.yellow[500].hex,info:fe.blue[500].hex},Cv={error:l.jsx(la,{"data-testid":"input-validation-icon-error","aria-label":"Has error","aria-hidden":!0,role:"presentation"}),warning:l.jsx(Br,{"data-testid":"input-validation-icon-warning","aria-label":"Has warning","aria-hidden":!0,role:"presentation"}),info:l.jsx(hm,{"data-testid":"input-validation-icon-info","aria-label":"Has information","aria-hidden":!0,role:"presentation"})},Dtn=P(ee)(Ioe||(Ioe=Ttn([`
  max-width: 200px;
`])));function o1(e){const{validation:t=Atn,__unstable_showSummary:n,fontSize:r,placement:o="top"}=e,i=t.filter(m=>m.level==="error"),s=t.filter(m=>m.level==="warning"),a=t.filter(m=>m.level==="info"),c=i.length>0,u=s.length>0,d=a.length>0,f=h.useMemo(()=>{if(c)return Cv.error;if(u)return Cv.warning;if(d)return Cv.info},[c,d,u]),p=h.useMemo(()=>{if(c)return wv.error;if(u)return wv.warning;if(d)return wv.info},[c,d,u]);return l.jsx(it,{content:l.jsxs(Dtn,{padding:3,space:3,children:[n&&l.jsx(Otn,{validation:t}),!n&&l.jsx(l.Fragment,{children:t.map((m,v)=>l.jsx(Itn,{validation:m},v))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:l.jsx("div",{children:l.jsx(L,{muted:!0,size:r,weight:"semibold",style:{color:p},children:f})})})}function Itn(e){const{validation:t}=e,n=h.useMemo(()=>{if(t.level==="error")return Cv.error;if(t.level==="warning")return Cv.warning;if(t.level==="info")return Cv.info},[t]),r=h.useMemo(()=>{if(t.level==="error")return wv.error;if(t.level==="warning")return wv.warning;if(t.level==="info")return wv.info},[t]);return l.jsxs(H,{children:[l.jsx(M,{marginRight:2,children:l.jsx(L,{size:1,style:{color:r},children:n})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,children:t.message})})]})}function Otn(e){let{validation:t}=e;const n=t.filter(m=>m.level==="error"),r=t.filter(m=>m.level==="warning"),o=n.length,i=r.length,s="error".concat(o===1?"":"s"),a="warning".concat(i===1?"":"s"),c=o&&"".concat(o," ").concat(s),u=i&&"".concat(i," ").concat(a),d=o>0,f=i>0,p=d&&f;return l.jsxs(L,{size:1,children:[c||"",p&&l.jsx(l.Fragment,{children:" and "}),u||""]})}const Ptn=[],cIe=h.memo(function(t){const{description:n,inputId:r,title:o,validation:i=Ptn}=t,s=i.length>0;return l.jsxs(ee,{space:2,children:[l.jsxs(H,{children:[l.jsx(L,{as:"label",htmlFor:r,weight:"semibold",size:1,children:o||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}),s&&l.jsx(M,{marginLeft:2,children:l.jsx(o1,{fontSize:1,validation:i})})]}),n&&l.jsx(L,{muted:!0,size:1,id:hh(r,n),children:n})]})}),Ooe=[],i1=h.memo(function(t){const{__unstable_headerActions:n=Ooe,__unstable_presence:r=Ooe,__internal_slot:o=null,__internal_comments:i,children:s,description:a,inputId:c,level:u,title:d,validation:f,...p}=t,{focused:m,hovered:v,onMouseEnter:g,onMouseLeave:b}=ZB();return l.jsxs(ee,{...p,"data-level":u,onMouseEnter:g,onMouseLeave:b,space:1,children:[d&&l.jsx(lIe,{__internal_comments:i,__internal_slot:o,actions:n,fieldFocused:!!m,fieldHovered:v,presence:r,content:l.jsx(cIe,{description:a,inputId:c,title:d,validation:f})}),l.jsx("div",{children:s})]})});var Poe=Object.freeze,Rtn=Object.defineProperty,eN=(e,t)=>Poe(Rtn(e,"raw",{value:Poe(t||e.slice())})),Roe,$oe,Moe;const Foe=P.legend(Roe||(Roe=eN([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),$tn=P(H).attrs({forwardedAs:"button"})(e=>{const{theme:t}=e,{focusRing:n,radius:r}=t.sanity,{base:o}=t.sanity.color;return de($oe||($oe=eN([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),ge(r[1]),dB({base:o,focusRing:n}))}),Mtn=P(M)(Moe||(Moe=eN([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),Ftn=h.memo(function(t){const{collapsed:n,collapsible:r,onClick:o,title:i}=t,s=l.jsx(L,{weight:"semibold",size:1,children:i||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})});return r?l.jsx(Foe,{children:l.jsxs($tn,{type:"button",onClick:o,children:[l.jsx(Mtn,{children:l.jsx(L,{muted:!0,size:1,children:l.jsx(pj,{style:{transform:"rotate(".concat(n?"0":"90deg",") translate3d(0, 0, 0)")}})})}),s]})}):l.jsx(Foe,{children:s})});var Loe=Object.freeze,Ltn=Object.defineProperty,uIe=(e,t)=>Loe(Ltn(e,"raw",{value:Loe(t||e.slice())})),Boe,Noe;function Btn(e){return typeof e=="function"?e():e}const Ntn=P(M).attrs({forwardedAs:"fieldset"})(Boe||(Boe=uIe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),ztn=P(M)(e=>{const{$borderLeft:t,theme:n}=e,{focusRing:r,radius:o}=n.sanity,{base:i}=n.sanity.color;return de(Noe||(Noe=uIe([`
    outline: none;
    border-left: `,`;
    border-radius: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),t?"1px solid var(--card-border-color)":void 0,ge(o[1]),dB({base:i,focusRing:{...r,offset:2}}))}),RO=[],RA=h.forwardRef(function(t,n){const{__internal_comments:r,__internal_slot:o=null,__unstable_headerActions:i=RO,__unstable_presence:s=RO,children:a,collapsed:c,collapsible:u,columns:d,description:f,level:p=0,onCollapse:m,onExpand:v,onFocus:g,tabIndex:b,title:x,validation:y=RO,inputId:w,...C}=t,{focused:_,hovered:S,onMouseEnter:E,onMouseLeave:j}=ZB(),k=y.length>0,T=fr(n),A=h.useCallback(O=>{T.current===O.target&&g&&g(O)},[T,g]),D=h.useCallback(()=>c?v==null?void 0:v():m==null?void 0:m(),[c,m,v]),I=h.useMemo(()=>c?null:l.jsx(nn,{columns:d,gapX:4,gapY:5,children:Btn(a)}),[a,c,d]);return l.jsxs(Ntn,{"data-level":p,...C,onMouseEnter:E,onMouseLeave:j,children:[l.jsx(lIe,{__internal_comments:r,__internal_slot:o,actions:i,fieldFocused:!!_,fieldHovered:S,presence:s,content:l.jsxs(ee,{space:2,children:[l.jsxs(H,{children:[l.jsx(Ftn,{collapsed:!!c,collapsible:u,onClick:u?D:void 0,title:x}),k&&l.jsx(M,{marginLeft:2,children:l.jsx(o1,{fontSize:1,validation:y})})]}),f&&l.jsx(L,{muted:!0,size:1,id:hh(w,f),children:f})]})}),l.jsx(ztn,{$borderLeft:p>0,hidden:c,marginTop:1,paddingLeft:p===0?0:3,onFocus:typeof b=="number"&&b>-1?A:void 0,ref:T,tabIndex:b,children:!c&&I})]})});var zoe=Object.freeze,Vtn=Object.defineProperty,Htn=(e,t)=>zoe(Vtn(e,"raw",{value:zoe(t||e.slice())})),Voe;const Utn=P.div(Voe||(Voe=Htn([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function Wtn(e){let{children:t,maxAvatars:n,position:r="bottom"}=e;return l.jsx(Utn,{"data-max-avatars":n,"data-position":r,children:t})}var Hoe=Object.freeze,qtn=Object.defineProperty,Ytn=(e,t)=>Hoe(qtn(e,"raw",{value:Hoe(t||e.slice())})),Uoe;const Gtn=P(oe)(Uoe||(Uoe=Ytn([`
  cursor: `,`;
`])),e=>e.grid?"move":"ns-resize"),dIe=re.createContext(null),fIe=function(t){const n=h.useContext(dIe),{listeners:r,attributes:o}=Hje({id:n});return l.jsx(Gtn,{icon:P0e,mode:"bleed","data-ui":"DragHandleButton",...o,...t,...r})};function Ktn(e,t,n,r){const o={...e},i=r.y||0,s=r.x||0;return t.top+o.y<=n.top+i?o.y=n.top-t.top+i:t.bottom+o.y>=n.top+n.height-i&&(o.y=n.top+n.height-t.bottom-i),t.left+o.x<=n.left-s?o.x=n.left-t.left+s:t.right+o.x>=n.left+n.width+s&&(o.x=n.left+n.width-t.right+s),o}const Ztn=e=>t=>{let{containerNodeRect:n,draggingNodeRect:r,transform:o}=t;return!r||!n?o:Ktn(o,r,n,e)};var Woe=Object.freeze,Xtn=Object.defineProperty,qoe=(e,t)=>Woe(Xtn(e,"raw",{value:Woe(t||e.slice())})),Yoe,Goe;const tN="moving",hIe=P(M)(Goe||(Goe=qoe([`
  `,`
`])),e=>e.$moving&&de(Yoe||(Yoe=qoe([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),Qtn={threshold:{x:0,y:.02}},Jtn={coordinateGetter:m9t},enn={duration:200,easing:"ease"};function tnn(e){return e==="x"?v9t:y9t}function nnn(e){return e==="x"?n9t:o9t}const rnn=h.memo(function(t){const{items:n,axis:r,onItemMove:o,onItemMoveStart:i,onItemMoveEnd:s,children:a,...c}=t,u=HLt(HQ(S7),HQ(C7,Jtn)),d=h.useCallback(p=>{var m,v,g,b;const{active:x,over:y}=p;x.id!==(y==null?void 0:y.id)&&(o==null||o({fromIndex:(v=(m=x.data.current)==null?void 0:m.sortable)==null?void 0:v.index,toIndex:(b=(g=y==null?void 0:y.data.current)==null?void 0:g.sortable)==null?void 0:b.index})),s==null||s()},[o,s]),f=h.useMemo(()=>[Ztn({y:4}),...r?[tnn(r)]:[]],[r]);return l.jsx(W8t,{sensors:u,autoScroll:Qtn,modifiers:f,collisionDetection:WLt,onDragEnd:d,onDragStart:i,children:l.jsx(s9t,{items:n,strategy:r?nnn(r):void 0,children:l.jsx(nn,{...c,children:a})})})}),onn=h.forwardRef(function(t,n){const{id:r,children:o,disableTransition:i}=t,{setNodeRef:s,transform:a,transition:c,active:u}=Hje({id:r,transition:i?null:enn}),d=r===(u==null?void 0:u.id),f=h.useMemo(()=>({transform:Ax.Translate.toString(a),transition:c,pointerEvents:u?"none":void 0}),[a,c,u]),p=h.useCallback(m=>{s(m),typeof n=="function"?n(m):n&&(n.current=m)},[n,s]);return l.jsx(hIe,{ref:p,style:f,$moving:d,className:d?tN:"","data-index":t["data-index"],children:o})});function nN(e){const{onItemMove:t,onItemMoveEnd:n,onItemMoveStart:r,sortable:o,...i}=e,s=h.useCallback(a=>{t==null||t(a)},[t]);return o?l.jsx(rnn,{onItemMove:s,onItemMoveStart:r,onItemMoveEnd:n,...i}):l.jsx(nn,{...i})}const rN=h.forwardRef(function(t,n){const{sortable:r,...o}=t;return l.jsx(dIe.Provider,{value:t.id,children:r?l.jsx(onn,{ref:n,...o}):l.jsx(hIe,{ref:n,...o})})});var Koe=Object.freeze,inn=Object.defineProperty,snn=(e,t)=>Koe(inn(e,"raw",{value:Koe(t||e.slice())})),Zoe;const ann=P(Q)(Zoe||(Zoe=snn([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),tN);function $A(e){const{validation:t,selected:n,tone:r,presence:o,focused:i,children:s,dragHandle:a,menu:c,footer:u}=e,d=h.useRef(null);return Bi(i,(f,p)=>{var m;!f&&p&&((m=d.current)==null||m.focus())}),l.jsx(ann,{ref:d,selected:n,"aria-selected":n,radius:2,padding:1,tone:r,children:l.jsxs(ee,{space:1,children:[l.jsxs(H,{align:"center",children:[a&&l.jsx(M,{marginRight:1,paddingY:1,children:l.jsx(fIe,{paddingX:1,paddingY:3})}),l.jsx(M,{flex:1,children:s}),(o||t||c)&&l.jsxs(H,{align:"center",marginLeft:1,children:[o&&l.jsx(M,{marginLeft:1,children:o}),t&&l.jsx(M,{marginLeft:1,children:t}),c]})]}),u]})})}var Xoe=Object.freeze,lnn=Object.defineProperty,MA=(e,t)=>Xoe(lnn(e,"raw",{value:Xoe(t||e.slice())})),Qoe,Joe,eie,tie;const cnn=P.button(Qoe||(Qoe=MA([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),unn=P(pj)(Joe||(Joe=MA([`
  transform: `,`;
`])),e=>e.open?"rotate(90deg)":""),dnn=P(H)(eie||(eie=MA([`
  cursor: default;
`]))),fnn=P(M)(tie||(tie=MA([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function Fm(e){const{children:t,open:n,icon:r,title:o="Details",...i}=e,[s,a]=h.useState(n||!1),c=h.useCallback(()=>a(u=>!u),[]);return h.useEffect(()=>a(n||!1),[n]),l.jsxs(M,{...i,children:[l.jsx(cnn,{type:"button",onClick:c,children:l.jsx(dnn,{align:"center",children:l.jsxs(Zt,{children:[l.jsx(fnn,{"data-open":s?"":void 0,children:l.jsx(L,{size:1,children:l.jsx(unn,{open:s})})}),r&&l.jsx(M,{marginLeft:1,children:r}),l.jsx(M,{flex:1,marginLeft:1,children:l.jsx(L,{size:1,weight:"medium",children:o})})]})})}),l.jsx(M,{hidden:!s,marginTop:3,children:t})]})}const hnn={warning:"caution",error:"critical",info:"positive"},pnn={warning:l.jsx(Br,{}),error:l.jsx(la,{}),info:l.jsx(hm,{})};function bf(e){const{children:t,status:n="warning",title:r,...o}=e;return l.jsx(Q,{radius:2,tone:hnn[n],...o,"data-ui":"Alert",children:l.jsx(H,{padding:1,children:t&&l.jsx(M,{flex:1,children:l.jsx(Fm,{icon:pnn[n],title:r,children:l.jsx(M,{marginLeft:3,marginTop:3,children:t})})})})})}function oN(e){if(Ka(e))return e.name==="object"?{}:{_type:e.name};if(Fl(e))return[];if(e.jsonType==="string")return"";if(e.jsonType==="number")return 0;if(e.jsonType==="boolean")return!1}function s1(e){if(!Ka(e))throw new Error('Invalid item type: "'.concat(e.type,'". Default array input can only contain objects (for now)'));return{...oN(e),_key:Kw(12)}}const mnn={portal:!0,tone:"default",placement:"left",constrainSize:!0},FA=h.memo(function(t){const{types:n,onInsert:r}=t;return l.jsxs(l.Fragment,{children:[l.jsx(nie,{pos:"before",types:n,onInsert:r,text:"Add item before",icon:L0e}),l.jsx(nie,{pos:"after",types:n,onInsert:r,text:"Add item after",icon:B0e})]})});function nie(e){const{types:t,onInsert:n,pos:r,text:o,icon:i}=e;return(t==null?void 0:t.length)===1?l.jsx(ze,{text:o,icon:i,onClick:()=>n(r,t[0])},r):l.jsx(zL,{text:o,popover:mnn,children:t==null?void 0:t.map(s=>l.jsx(ze,{icon:s.icon,text:s.title,onClick:()=>n(r,s)},s.name))},r)}const pIe=()=>{},$O={isLoading:!0,result:void 0,error:void 0,retry:pIe},gnn={isLoading:!1,result:void 0,error:void 0,retry:pIe};function LA(e,t){const n=h.useMemo(()=>new Er,[]),r=h.useMemo(()=>n.asObservable(),[n]),o=h.useCallback(()=>{n.next({type:"retry"})},[n]),i=xo(()=>Wr(ve(null),r).pipe(le(()=>e),b$(a=>a?t(a).pipe(le(c=>({isLoading:!1,result:c,error:void 0,retry:o})),oi($O),Rn(c=>(console.error(c),ve({isLoading:!1,result:void 0,error:c,retry:o})))):ve(gnn))),[t,e,r,o],$O),s=IB(e,e);return e&&s!==e?$O:i}function mIe(e){var t,n,r,o,i,s;const{id:a,layout:c,preview:u,refType:d,renderPreview:f,showTypeLabel:p}=e,m=k0(),v=CC(a),g=((t=u.draft)==null?void 0:t._id)||((n=u.published)==null?void 0:n._id)||a,b=h.useMemo(()=>({_id:g,_type:d.name}),[g,d.name]),x=h.useMemo(()=>({layout:c,schemaType:d,value:b}),[c,b,d]),y=Qo(((r=u.published)==null?void 0:r._updatedAt)||"",{minimal:!0,agoSuffix:!0}),w=Qo(((o=u.draft)==null?void 0:o._updatedAt)||"",{minimal:!0,agoSuffix:!0});return l.jsxs(H,{align:"center",children:[l.jsx(M,{flex:1,children:f(x)}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Zt,{space:3,children:[p&&l.jsx(Ht,{size:1,muted:!0,children:d.title}),v&&v.length>0&&l.jsx(XB,{presence:v}),l.jsxs(Zt,{space:4,children:[l.jsx(M,{children:l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(i=u.published)!=null&&i._updatedAt?"Published ".concat(y):"Not published"})}),children:l.jsx(cr,{tone:m.tone==="default"?"positive":"default",size:1,dimmed:!u.published,muted:!u.published,children:l.jsx(b0,{"aria-label":u.published?"Published":"Not published"})})})}),l.jsx(M,{children:l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:(s=u.draft)!=null&&s._updatedAt?"Edited ".concat(w):"No unpublished edits"})}),children:l.jsx(cr,{tone:m.tone==="default"?"caution":"default",size:1,dimmed:!u.draft,muted:!u.draft,children:l.jsx(Ou,{"aria-label":u.draft?"Edited":"No unpublished edits"})})})})]})]})})]})}function gIe(e){var t,n,r,o,i,s;const{referenceInfo:a,renderPreview:c,type:u,value:d,showTypeLabel:f}=e;if(a.isLoading||a.error)return l.jsx(fh,{isPlaceholder:!0});if(((t=a.result)==null?void 0:t.availability.reason)==="NOT_FOUND"&&d._strengthenOnPublish){const x=u.to.find(w=>{var C;return w.name===((C=d==null?void 0:d._strengthenOnPublish)==null?void 0:C.type)});if(!x)return l.jsx(oie,{documentId:d._ref,actualType:(n=d._strengthenOnPublish)==null?void 0:n.type,declaredTypes:u.to.map(w=>w.name)});const y=(r=d._strengthenOnPublish)!=null&&r.type?{_id:d._ref,_type:(o=d._strengthenOnPublish)==null?void 0:o.type}:d;return l.jsxs(H,{align:"center",children:[l.jsx(M,{flex:1,children:c({layout:"default",schemaType:x,value:y,skipVisibilityCheck:!0})}),l.jsx(M,{children:l.jsx(Zt,{space:4,children:f&&l.jsx(Ht,{size:1,muted:!0,children:x.title})})})]})}const p=a.result.availability,m=p.reason==="NOT_FOUND",v=p.reason==="PERMISSION_DENIED";if(v||m)return l.jsxs(Zt,{space:2,children:[l.jsx(M,{padding:1,children:l.jsx(H,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),v||m?l.jsx(M,{children:l.jsx(it,{portal:!0,content:m?l.jsxs(rie,{title:"Not found",icon:Rv,children:["The referenced document does not exist",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d._ref}),")"]}):l.jsx(rie,{title:"Insufficient permissions",icon:Ef,children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(cr,{tone:"default",children:l.jsx(Rv,{})})})}):null]});const g=(i=a.result)==null?void 0:i.type,b=u.to.find(x=>x.name===g);return b?l.jsx(mIe,{id:d._ref,layout:"default",preview:(s=a.result)==null?void 0:s.preview,refType:b,renderPreview:c,showTypeLabel:f}):l.jsx(oie,{documentId:d._ref,actualType:g||"<unknown>",declaredTypes:u.to.map(x=>x.name)})}function rie(e){const t=e.icon;return l.jsxs(H,{padding:3,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(t,{})})}),l.jsxs(M,{flex:1,marginLeft:3,children:[l.jsx(L,{size:1,weight:"semibold",children:e.title}),l.jsx(M,{marginTop:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:e.children})})]})]})}function oie(e){return l.jsxs(H,{align:"center",justify:"flex-start",children:[l.jsx(M,{padding:1,children:l.jsx(H,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document of invalid type"})})})}),l.jsx(M,{children:l.jsx(it,{portal:!0,content:l.jsxs(ee,{space:3,padding:3,children:[l.jsxs(L,{size:1,children:["Referenced document (",l.jsx("code",{children:e.documentId}),") is of type"," ",l.jsx("code",{children:e.actualType}),"."]}),l.jsxs(L,{size:1,children:["According to the schema, referenced documents can only be of type"," ",vnn(e.declaredTypes.map(t=>l.jsx("code",{children:t},t)),"or"),"."]})]}),children:l.jsx(M,{padding:2,children:l.jsx(cr,{tone:"default",children:l.jsx(Rv,{})})})})})]})}const vnn=(e,t)=>e.length===1?e[0]:e.length===2?[e[0],l.jsxs(h.Fragment,{children:[" ",t," "]},"comma"),e[1]]:[...e.slice(0,-1).map((r,o)=>l.jsxs(h.Fragment,{children:[r,", "]},o)),l.jsxs(h.Fragment,{children:[t," ",e[e.length-1]]},"last")];var iie=Object.freeze,ynn=Object.defineProperty,bnn=(e,t)=>iie(ynn(e,"raw",{value:iie(t||e.slice())})),sie;const xnn=P(Q)(sie||(sie=bnn([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 35px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),vIe=h.forwardRef(function(t,n){const{as:r,documentId:o,documentType:i,...s}=t,a=o&&i&&{"data-as":"a",forwardedAs:r,documentId:o,documentType:i};return l.jsx(xnn,{...s,...a,ref:n})}),yIe=h.createContext(null);function wnn(){const e=h.useContext(yIe);return e||{menuRef:{current:null},containerRef:{current:null}}}function Cnn(e){const{menuRef:t,containerRef:n}=e;return l.jsx(yIe.Provider,{value:{menuRef:t,containerRef:n},children:e.children})}function _nn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Snn={portal:!0,tone:"default"},Enn={position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:.6};function knn(e){var t,n,r,o,i,s,a,c,u,d,f;const{schemaType:p,parentSchemaType:m,path:v,readOnly:g,onRemove:b,value:x,open:y,onInsert:w,presence:C,validation:_,inputId:S,changed:E,focused:j,children:k,inputProps:{onChange:T,focusPath:A,onPathFocus:D,renderPreview:I,elementProps:O}}=e,$=!g&&((t=m.options)==null?void 0:t.sortable)!==!1,R=m.of,z=h.useRef(null),B=h.useRef(null),U=h.useRef(null),{EditReferenceLink:W,getReferenceInfo:V,selectedState:K,isCurrentDocumentLiveEdit:te}=wN({path:v,schemaType:p,value:x});PA(z,y),Bi(j,(Ee,Ne)=>{var ut;!Ee&&Ne&&z.current&&((ut=z.current)==null||ut.focus())});const N=e.validation.some(Ee=>Ee.level==="error"),G=e.validation.some(Ee=>Ee.level==="warning"),q=x._resolvingInitialValue,Z=h.useCallback(()=>{w({items:[{...x,_key:Nx()}],position:"after"})},[w,x]),ie=h.useCallback((Ee,Ne)=>{w({items:[{...s1(Ne),_key:Nx()}],position:Ee})},[w]),ne=LA(x==null?void 0:x._ref,V),Y=x._ref,X=((n=ne.result)==null?void 0:n.type)||((r=x==null?void 0:x._strengthenOnPublish)==null?void 0:r.type),ae=Y&&((s=(i=(o=ne.result)==null?void 0:o.preview)==null?void 0:i.published)==null?void 0:s._id),he=h.useCallback(()=>{T([p.weak===!0?bt(!0,["_weak"]):Je(["_weak"]),Je(["_strengthenOnPublish"])])},[T,p.weak]),ce=X?p.to.find(Ee=>Ee.name===X):void 0,xe=K==="pressed",Se=K==="selected",pe=_nn({readOnly:g,hasErrors:N,hasWarnings:G}),be=!Y||A[0]==="_ref",Be=h.useMemo(()=>h.forwardRef(function(Ne,ut){return l.jsx(km,{...Ne,intent:"edit",params:{id:x==null?void 0:x._ref,type:ce==null?void 0:ce.name},target:"_blank",rel:"noopener noreferrer",ref:ut})}),[ce==null?void 0:ce.name,x==null?void 0:x._ref]),$e=h.useCallback(()=>{D(Y&&be?[]:["_ref"])},[Y,be,D]),ct=h.useMemo(()=>g?null:l.jsx(M,{marginLeft:1,children:l.jsx(on,{button:l.jsx(oe,{paddingY:3,paddingX:2,mode:"bleed",icon:Io}),id:"".concat(S,"-menuButton"),menu:l.jsxs(Nt,{ref:B,children:[!g&&l.jsxs(l.Fragment,{children:[l.jsx(ze,{text:"Remove",tone:"critical",icon:yo,onClick:b}),l.jsx(ze,{text:Y&&be?"Cancel replace":"Replace",icon:Y&&be?Di:x0,onClick:$e}),l.jsx(ze,{text:"Duplicate",icon:Iu,onClick:Z}),l.jsx(FA,{onInsert:ie,types:R})]}),!g&&!be&&Y&&l.jsx($r,{}),!be&&Y&&l.jsx(ze,{as:Be,"data-as":"a",text:"Open in new tab",icon:qf})]}),popover:Snn})}),[g,S,b,Y,be,$e,Z,ie,R,Be]),ot=h.useCallback(()=>{T(p.weak===!0?bt(!0,["_weak"]):Je(["_weak"]))},[T,p]),Lt=x!=null&&x._weak?"weak":"strong",Rt=p.weak===!0?"weak":"strong",Ae=Y&&!ne.isLoading&&(x==null?void 0:x._strengthenOnPublish),Ke=!ne.isLoading&&((a=ne.result)==null?void 0:a.availability.available)&&Y&&Lt!==Rt&&!Ae,Ye=((c=ne.result)==null?void 0:c.preview.draft)||((u=ne.result)==null?void 0:u.preview.published),tt=l.jsxs(l.Fragment,{children:[te&&ae&&x._strengthenOnPublish&&l.jsx(bf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(f=(d=ne.result)==null?void 0:d.preview.published)==null?void 0:f.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(oe,{onClick:he,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Ke&&l.jsx(bf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Lt}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[Rt,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",Ye!=null&&Ye.title?l.jsxs(l.Fragment,{children:['"',Ye==null?void 0:Ye.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",Ye!=null&&Ye.title?l.jsxs(l.Fragment,{children:['"',Ye==null?void 0:Ye.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(oe,{onClick:ot,text:l.jsxs(l.Fragment,{children:["Convert to ",Rt," reference"]}),tone:"caution"})]})}),ne.error&&l.jsx(bf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",ne.error.message]}),l.jsx(oe,{onClick:ne.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),wt=l.jsx(Cnn,{menuRef:B,containerRef:U,children:l.jsx($A,{dragHandle:$,presence:!be&&C.length>0&&l.jsx(hC,{presence:C,maxAvatars:1}),validation:!be&&_.length>0&&l.jsx(o1,{validation:_}),menu:ct,footer:be?void 0:tt,tone:be?void 0:pe,focused:j,children:be?l.jsx(M,{padding:1,ref:U,children:l.jsx(RA,{title:p.title,description:p.description,__unstable_presence:C,validation:_,inputId:S,children:k})}):l.jsxs(vIe,{as:W,tone:"inherit",radius:2,documentId:x==null?void 0:x._ref,documentType:ce==null?void 0:ce.name,disabled:q,paddingX:2,paddingY:1,__unstable_focusRing:!0,selected:Se,pressed:xe,"data-selected":Se?!0:void 0,"data-pressed":xe?!0:void 0,...O,children:[l.jsx(gIe,{value:x,referenceInfo:ne,renderPreview:I,type:p}),q&&l.jsx(Q,{style:Enn,tone:"transparent",radius:2,as:H,justify:"center",children:l.jsxs(H,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(hr,{muted:!0})}),l.jsx(L,{children:"Resolving initial value…"})]})})]})})});return l.jsx(li,{path:v,isChanged:E,hasFocus:!!j,children:l.jsx(M,{paddingX:1,children:wt})})}function aie(e){return Ka(e.schemaType)}function lie(e){return Fl(e.schemaType)}function jnn(e){return e._key!==void 0}function VS(e){return jnn(e)?e:{...e,_key:Nx(12)}}const bIe=4;function cie(e,t){const n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function Tnn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bIe;const n=Ann(t);return function(){return jr(n(e(...arguments)))}}function Ann(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:bIe;const t=[],n=[],r=new Er;return o;function o(a){return new mt(c=>{if(t.length>=e)return i(a).pipe(ft(o)).subscribe(c);const u=a.subscribe(c);return t.push(u),()=>{cie(t,u),cie(n,a),u.unsubscribe(),s()}})}function i(a){return n.push(a),r.asObservable().pipe(zCe(c=>c===a))}function s(){for(;n.length>0&&t.length<e;)r.next(n.shift())}}const Dnn=4;function Inn(e,t,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=r.metadata,i=r.storeOriginalFilename,{label:s,title:a,description:c,creditLine:u,source:d}=r;return Mnn(n).pipe(Rn(()=>ve(null)),ft(f=>f?Rnn(e,"sanity.".concat(t,"Asset"),f):ve(null)),ft(f=>f?ve({type:"complete",id:f._id,asset:f}):e.observable.assets.upload(t,n,{tag:"asset.upload",extract:o,preserveFilename:i,label:s,title:a,description:c,creditLine:u,source:d}).pipe(le(p=>p.type==="response"?{type:"complete",id:p.body.document._id,asset:p.body.document}:p))))}const xIe=Tnn(Inn,Dnn),Onn=(e,t,n)=>xIe(e,"image",t,n),Pnn=(e,t,n)=>xIe(e,"file",t,n);function wIe(e,t){return e.observePaths({_type:"reference",_ref:t},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function CIe(e,t){return wIe(e,t)}function _Ie(e,t){return wIe(e,t)}function Rnn(e,t,n){return e.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:t,hash:n},{tag:"asset.find-duplicate"})}function $nn(e){return new mt(t=>{const n=new FileReader;return n.onload=()=>{t.next(n.result),t.complete()},n.onerror=r=>{t.error(r)},n.readAsArrayBuffer(e),()=>{n.abort()}})}function Mnn(e){return!window.crypto||!window.crypto.subtle||!window.FileReader?ve(null):$nn(e).pipe(ft(t=>crypto.subtle.digest("SHA-1",t)),le(Fnn))}function Fnn(e){return Array.prototype.map.call(new Uint8Array(e),t=>"00".concat(t.toString(16)).slice(-2)).join("")}function Lnn(e,t){return new mt(n=>{const r=new window.FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsArrayBuffer(t===void 0?e:e.slice(0,t)),()=>r.abort()})}const Bnn=/(invalid image format)|(No exif data)/i,Nnn=128e3;function znn(e){return jr(Lnn(e,Nnn)).pipe(le(t=>v7t(t)),Rn(t=>(Bnn.test(t.message)||console.warn("Exif read failed, continuing anyway: ".concat(t.message)),ve({}))))}function uie(e){return[5,6,7,8].indexOf(e)>-1}function Vnn(e,t){const n=t.x,r=t.y,o=(t.degrees||0)*(Math.PI/180);e==null||e.translate(n,r),e==null||e.rotate(o),e==null||e.translate(-n,-r)}function die(e,t,n){const r=e.getContext("2d");r==null||r.translate(t?e.width:0,n?e.height:0),r==null||r.scale(t?-1:1,n?-1:1)}const Hnn=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],Unn=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],Wnn="top-left",qnn=120;function Ynn(e,t){const n=Hnn[t-1],r=e.height/e.width;e.width=qnn/r,e.height=e.width*r;const o=document.createElement("canvas"),i=o.getContext("2d");if(uie(t)?(o.height=e.width,o.width=e.height):(o.width=e.width,o.height=e.height),n.op==="flip-x"&&die(o,!0,!1),n.op==="flip-y"&&die(o,!1,!0),n.degrees&&(Vnn(i,{degrees:n.degrees,x:o.width/2,y:o.height/2}),uie(t))){const s=o.width-o.height;i==null||i.translate(s/2,-s/2)}return i==null||i.drawImage(e,0,0,e.width,e.height),o}function Gnn(e,t){return new mt(n=>{const r=Unn.indexOf(t)+1,o=Ynn(e,r);n.next(o.toDataURL("image/jpeg",.1)),n.complete()})}function Knn(e){return new mt(t=>{const n=new window.Image;return n.onerror=()=>{t.error(new Error('Could not load image from url "'.concat(e,'". Image may be of an unsupported format')))},n.onload=()=>{t.next(n),t.complete()},n.src=e,()=>{}})}function Znn(e,t){return Knn(window.URL.createObjectURL(e)).pipe(ft(n=>Gnn(n,t)))}const gl="_upload",Xnn=Je([gl]);function Ip(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const SIe=Ip([Xnn]);function EIe(e){const t=new Date().toISOString(),n={progress:2,createdAt:t,updatedAt:t,file:{name:e.name,type:e.type}};return Ip([bt(n,[gl])])}function Qnn(e,t,n){const r=Onn(e,t,n).pipe(pt(i=>i.stage!=="download"),le(i=>({...i,progress:2+i.percent/100*98})),le(i=>i.type==="complete"?Ip([bt({_type:"reference",_ref:i.asset._id},["asset"]),bt(100,[gl,"progress"]),bt(new Date().toISOString(),[gl,"updatedAt"])]):Ip([bt(i.percent,[gl,"progress"]),bt(new Date().toISOString(),[gl,"updatedAt"])]))),o=znn(t).pipe(ft(i=>Znn(t,i.orientation||Wnn)),Rn(i=>(console.warn('Image preprocessing failed for "%s" with the error: %s',t.name,i.message),ve(null))),pt(Boolean),le(i=>Ip([bt(i,[gl,"previewImage"])])));return Wr(ve(EIe(t)),an(r,o),ve(SIe))}function kIe(e,t,n){const r=Pnn(e,t,n).pipe(le(o=>o.type==="complete"?Ip([bt({_type:"reference",_ref:o.asset._id},["asset"]),bt(100,[gl,"progress"]),bt(new Date().toISOString(),[gl,"updated"])]):Ip([bt(o.percent,[gl,"progress"]),bt(new Date().toISOString(),[gl,"updated"])])));return Wr(ve(EIe(t)),r,ve(SIe))}const Jnn={type:"image",accepts:"image/*",upload:(e,t,n,r)=>Qnn(e,t,r)},ern={type:"file",accepts:"",upload:(e,t,n,r)=>kIe(e,t,r)},trn={type:"string",accepts:"text/*",upload:(e,t,n,r)=>kIe(e,t,r).pipe(le(o=>({type:"uploadProgress",patches:[bt(o)]})))},nrn=[Jnn,trn,ern].map((e,t)=>({...e,priority:t}));function E4(e,t){if(!e||!t)return!0;const n=Array.isArray(t)?t:t.split(","),r=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return n.some(s=>{const a=s.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?i===a.replace(/\/.*$/,""):o===a})}function iN(e,t){return nrn.find(n=>{var r;return gc(n.type,e)&&E4(t,n.accepts)&&E4(t,((r=e.options)==null?void 0:r.accept)||"")})||null}const rrn=["_key","_type","_weak"];function jIe(e){return Object.keys(e).every(t=>rrn.includes(t))}const orn=(e,t)=>{const n=js(t);return e.of.find(r=>r.name===n)};function irn(e,t){return Object.entries(e).map(n=>{let[r,o]=n;return bt(o,[...t,r])})}function TIe(e,t,n){return jr(e).pipe(ft(r=>{const o={_key:r._key};return ve(orn(t,r)).pipe(ft(i=>i?ve(i):Qn),ft(i=>!jIe(r)||!n?Qn:Wr(ve({type:"patch",patches:[bt(!0,[o,"_resolvingInitialValue"])]}),go(()=>n(i,r)).pipe(pt(bo),le(s=>({type:"patch",patches:irn(s,[o])})),Rn(s=>ve({type:"error",error:s,item:r,schemaType:i}))),ve({type:"patch",patches:[Je([o,"_resolvingInitialValue"])]}))))}))}const fie="before",hie="after";function srn(e,t,n){if(t!==fie&&t!==hie)throw new Error('Invalid position "'.concat(t,'", must be either ').concat(fie," or ").concat(hie));for(var r=arguments.length,o=new Array(r>3?r-3:0),i=3;i<r;i++)o[i-3]=arguments[i];const s=pie(...o);if(e.length===0)return s;const a=e.length,c=Math.abs((a+n)%a)%a,u=t==="after"?c+1:c,d=e.slice();return d.splice(u,0,...pie(s)),d}function pie(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((r,o)=>r.concat(o),[])}const mie=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);function arn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function lrn(e,t){if(typeof t=="number")return t;const n=i7(e,t);return n===-1?!1:n}function crn(e,t){const n=e.slice();if(t.path.length===0){if(t.type==="setIfMissing"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return e===void 0?t.value:e}else if(t.type==="set"){if(!Array.isArray(t.value))throw new Error("Cannot set value of an array to a non-array");return t.value}else{if(t.type==="unset")return;if(t.type==="move"){if(!t.value||!mie(t.value,"from")||!mie(t.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(t.value)));return arn(n,t.value.from,t.value.to)}}throw new Error("Invalid array operation: ".concat(t.type))}const[r,...o]=t.path,i=lrn(e,r);if(i===!1)return n;if(o.length===0){if(t.type==="insert"){const{position:s,items:a}=t;return srn(e,s,i,a)}else if(t.type==="unset"){if(typeof i!="number")throw new Error('Expected array index to be a number, instead got "'.concat(i,'"'));return n.splice(i,1),n}}return n[i]=aN(n[i],{...t,path:o}),n}function urn(e,t){const n=F5e(e);if(t.path.length===0){if(t.type==="set"){if(!sw(t.value))throw new Error("Cannot set value of an object to a non-object");return t.value}else{if(t.type==="unset")return;if(t.type==="setIfMissing")return e===void 0?t.value:e}throw new Error("Invalid object operation: ".concat(t.type))}const[r,...o]=t.path;if(typeof r!="string")throw new Error("Expected field name to be a string, instad got: ".concat(r));return o.length===0&&t.type==="unset"?Ri(n,r):(n[r]=aN(n[r],{...t,path:o}),n)}const AIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},inc(e,t){return e+t},dec(e,t){return e-t}},drn=Object.keys(AIe);function frn(e,t){if(!drn.includes(t.type))throw new Error('Received patch of unsupported type "'.concat(t.type,'" for primitives. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.map(n=>JSON.stringify(n)).join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return AIe[t.type](e,t.value)}const DIe={replace(e,t){return t},set(e,t){return t},setIfMissing(e,t){return e===void 0?t:e},unset(e,t){},diffMatchPatch(e,t){const[n]=oke(ske(t),e,{allowExceedingIndices:!0});return n}},hrn=Object.keys(DIe);function prn(e,t){if(!hrn.includes(t.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(t.type),'" for string. This is most likely a bug.'));if(t.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(t.type,'" and path "').concat(t.path.join("."),' that targeted the value "').concat(JSON.stringify(e),'"'));return DIe[t.type](e,t.value)}function sN(e,t){return t.reduce(aN,e)}function mrn(e,t){return Array.isArray(e)?crn(e,t):ST(e)?prn(e,t):sw(e)?urn(e,t):frn(e,t)}function aN(e,t){return mrn(e,t)}function grn(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onSetPathCollapsed:o,onSetFieldSetCollapsed:i,onPathOpen:s,onFieldGroupSelect:a}=fa(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:b}}=ci().__internal,x=h.useRef(),y=h.useRef({});Bi(c.field.focused,(X,ae)=>{var he;!X&&ae&&((he=x.current)==null||he.focus())});const w=h.useCallback(X=>{X.currentTarget===X.target&&X.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),C=h.useCallback(X=>{X.currentTarget===X.target&&X.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),_=h.useRef(c.field.value);h.useEffect(()=>{_.current=c.field.value},[c.field.value]);const S=h.useCallback(X=>{const ae=dt.from(X).patches;if(ae.some(ce=>ce.type==="unset"&&ce.path.length===1)&&(_.current=sN(_.current||[],ae),Array.isArray(_.current)&&!_.current.length)){r(dt.from(Je([c.name])));return}r(dt.from(X).prepend(Qi([])).prefixAll(c.name))},[r,c.name,_]),E=KN(),j=qo(),k=h.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),T=h.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),A=h.useCallback(X=>{o(c.field.path.concat({_key:X}),!0)},[o,c.field.path]),D=h.useCallback(X=>{o(c.field.path.concat({_key:X}),!1)},[o,c.field.path]),I=h.useCallback(X=>{s(X),o(X,!1)},[s,o]),O=h.useCallback(()=>{s(c.field.path),o(c.field.path,!0)},[s,c.field.path,o]),$=h.useCallback(X=>{if(X.items.length===0)throw new Error("Insert event should include at least one item");const ae=X.items.map(Se=>VS(Se));S(dt.from([nf(ae,X.position,[X.referenceItem])]));const he=ae[0]._key,ce=[...c.field.path,{_key:he}];n(ce);const xe=X.open!==!1;X.skipInitialValue?xe&&I(ce):TIe(ae,c.field.schemaType,E).pipe(Cn(Se=>{Se.type==="patch"?S(Se.patches):j.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(Se.schemaType.title,": ").concat(Se.error.message,"."),status:"error"})})).subscribe({complete:()=>{xe&&I(ce)}})},[S,I,c.field.path,c.field.schemaType,n,E,j]),R=h.useCallback(X=>{const ae=c.field.value,he=ae==null?void 0:ae[X.fromIndex],ce=ae==null?void 0:ae[X.toIndex];if(X.fromIndex!==X.toIndex){if(!(he!=null&&he._key)||!(ce!=null&&ce._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}S([Je([{_key:he._key}]),nf([he],X.fromIndex>X.toIndex?"before":"after",[{_key:ce._key}])])}},[S,c.field.value]),z=h.useCallback(X=>{S([Qi([]),nf([VS(X)],"before",[0])])},[S]),B=h.useCallback(X=>{S([Qi([]),nf([VS(X)],"after",[-1])])},[S]),U=h.useCallback(X=>{y.current[X]&&(y.current[X].unsubscribe(),delete y.current[X]),S([Je([{_key:X}])])},[S]),W=h.useCallback(X=>{n(c.field.path.concat(X))},[c.field.path,n]),V=h.useMemo(()=>({onBlur:C,onFocus:w,id:c.field.id,ref:x,"aria-describedby":hh(c.field.id,c.field.schemaType.description)}),[C,w,c.field.id,c.field.schemaType.description]),K=mr(cn),te=ci(),N=te.__internal.image.directUploads,G=te.__internal.file.directUploads,q=h.useCallback((X,ae)=>gc("image",X)&&!N||gc("file",X)&&!G?null:iN(X,ae),[G,N]),Z=h.useCallback(X=>{let{file:ae,schemaType:he,uploader:ce}=X;const xe=s1(he),Se=xe._key;$({items:[xe],position:"after",referenceItem:-1,open:!1});const pe=ce.upload(K,ae,he).pipe(le(be=>dt.from(be.patches||[]).prefixAll({_key:Se})),Cn(be=>S(be.patches)));y.current={...y.current,[Se]:pe.subscribe()}},[K,S,$]),ie=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:D,onItemCollapse:A,onItemClose:O,onItemOpen:I,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:S,onInsert:$,onItemMove:R,onItemRemove:U,onItemAppend:B,onItemPrepend:z,onPathFocus:W,resolveInitialValue:E,onUpload:Z,resolveUploader:q,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderField:f,renderItem:v,renderPreview:g,elementProps:V}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,D,A,O,I,S,$,R,U,B,z,W,E,Z,q,u,d,p,m,f,v,g,V]),ne=h.useMemo(()=>m(ie),[ie,m]),Y=h.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:k,onExpand:T,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:ne,inputProps:ie}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,T,ne,ie]);return l.jsx(aC,{onFieldGroupSelect:a,onChange:S,onSetFieldSetCollapsed:i,onSetPathCollapsed:o,onPathOpen:s,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(Y),[Y,f])})}function IIe(e,t,n){return Rp(e)&&typeof n=="string"&&Number(n)===t?n:String(t??"")}function vrn(e){const{member:t,renderInput:n,renderField:r}=e,{field:{actions:o}}=ci().__internal,i=h.useRef(),[s,a]=h.useState(),{onPathBlur:c,onPathFocus:u,onChange:d}=fa();h.useEffect(()=>{var C;t.field.focused&&((C=i.current)==null||C.focus())},[t.field.focused]);const f=h.useCallback(()=>{c(t.field.path)},[t.field.path,c]),p=h.useCallback(()=>{u(t.field.path)},[t.field.path,u]),m=h.useCallback(C=>{d(dt.from(C).prefixAll(t.name))},[d,t.name]),v=h.useCallback(C=>{let _=C.currentTarget.value;if(Rp(t.field.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else ow(t.field.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Rp(t.field.schemaType)&&a(S?void 0:C.currentTarget.value),d(dt.from(S?Je():bt(_)).prefixAll(t.name))},[t.name,t.field.schemaType,d]),g=h.useMemo(()=>t.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[t.field.validation])||void 0,b=h.useMemo(()=>({onBlur:f,onFocus:p,id:t.field.id,ref:i,onChange:v,value:IIe(t.field.schemaType,t.field.value,s),readOnly:!!t.field.readOnly,placeholder:t.field.schemaType.placeholder,"aria-describedby":hh(t.field.id,t.field.schemaType.description)}),[f,p,v,t.field.id,t.field.readOnly,t.field.schemaType,t.field.value,s]),x=h.useMemo(()=>({value:t.field.value,readOnly:t.field.readOnly,schemaType:t.field.schemaType,changed:t.field.changed,id:t.field.id,path:t.field.path,focused:t.field.focused,level:t.field.level,onChange:m,validation:t.field.validation,presence:t.field.presence,validationError:g,elementProps:b}),[t.field.value,t.field.readOnly,t.field.schemaType,t.field.changed,t.field.id,t.field.path,t.field.focused,t.field.level,t.field.validation,t.field.presence,m,g,b]),y=h.useMemo(()=>n(x),[x,n]),w=h.useMemo(()=>({actions:o,changed:t.field.changed,children:y,description:t.field.schemaType.description,index:t.index,inputId:t.field.id,inputProps:x,level:t.field.level,name:t.name,path:t.field.path,presence:t.field.presence,schemaType:t.field.schemaType,title:t.field.schemaType.title,validation:t.field.validation,value:t.field.value}),[o,t.field.level,t.field.value,t.field.schemaType,t.field.id,t.field.path,t.field.validation,t.field.presence,t.field.changed,t.name,t.index,y,x]);return l.jsx(l.Fragment,{children:r(w)})}const yrn=function(t){const{onPathBlur:n,onPathFocus:r,onChange:o,onPathOpen:i,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:c}=fa(),{member:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:b}=t,{field:{actions:x}}=ci().__internal,y=h.useRef(),w=h.useRef(u.field.value);h.useEffect(()=>{w.current=u.field.value},[u.field.value]),Bi(u.field.focused,(te,N)=>{var G;!te&&N&&((G=y.current)==null||G.focus())});const C=h.useCallback(()=>{n(u.field.path)},[u.field.path,n]),_=h.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=h.useCallback(te=>{r(u.field.path.concat(te))},[u.field.path,r]),E=h.useCallback(te=>{if(!(u.field.path.length===0)){const G=dt.from(te).patches;if(w.current=sN(w.current||{},G),w.current&&wOt(w.current)){o(dt.from(Je([u.name])));return}}o(dt.from(te).prepend(Qi(oN(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),j=h.useCallback(()=>{s(u.field.path,!0)},[s,u.field.path]),k=h.useCallback(()=>{s(u.field.path,!1)},[s,u.field.path]),T=h.useCallback(te=>{s(u.field.path.concat(te),!0)},[s,u.field.path]),A=h.useCallback(te=>{s(u.field.path.concat(te),!1)},[s,u.field.path]),D=h.useCallback(te=>{i(u.field.path.concat(te))},[i,u.field.path]),I=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),O=h.useCallback(te=>{a(u.field.path.concat(te),!1)},[a,u.field.path]),$=h.useCallback(te=>{a(u.field.path.concat(te),!0)},[a,u.field.path]),R=h.useCallback(()=>{i(u.field.path)},[i,u.field.path]),z=h.useCallback(()=>{i(u.field.path.slice(0,-1))},[i,u.field.path]),B=h.useCallback(te=>{c(u.field.path,te)},[c,u.field.path]),U=h.useMemo(()=>({onBlur:C,onFocus:_,id:u.field.id,ref:y,"aria-describedby":hh(u.field.id,u.field.schemaType.description)}),[C,_,u.field.id,u.field.schemaType.description]),W=h.useMemo(()=>({elementProps:U,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:B,onFieldOpen:D,onFieldClose:I,onFieldCollapse:T,onFieldExpand:A,onFieldSetExpand:O,onFieldSetCollapse:$,onPathFocus:S,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:E,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderItem:g,renderPreview:b}),[U,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,B,D,I,T,A,O,$,S,E,d,f,p,m,v,g,b]),V=h.useMemo(()=>v(W),[W,v]),K=h.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:j,onExpand:k,open:u.open,changed:u.field.changed,onOpen:R,onClose:z,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:V,inputProps:W}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,j,k,R,z,V,W]);return l.jsx(aC,{onFieldGroupSelect:c,onChange:E,onSetFieldSetCollapsed:a,onPathOpen:i,onSetPathCollapsed:s,onPathBlur:n,onPathFocus:r,children:h.useMemo(()=>p(K),[K,p])})};function brn(e,t){return new mt(n=>{const r=new FileReader;return r.onerror=o=>n.error(o),r.onload=()=>{n.next(r.result),n.complete()},r.readAsText(e,t),()=>{r.abort()}})}function xrn(e,t,n){const r=e.slice(),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}function wrn(e,t,n){const r=t.slice();return r.splice(e+1,0,...n),r}function Crn(e){return/^\d+$/.test(e)}function _rn(e,t){let n=!1,r=!1,o=!1;return t.forEach(i=>{ow(i)&&(n=!0),Tve(i)&&(o=!0),Rp(i)&&(r=!0)}),n&&(e==="true"||e==="false")?e==="true":r&&Crn(e)?Number(e):o?e:void 0}function Srn(e){return{priority:0,accepts:"text/*",type:"string",upload(t,n){return brn(n,"utf-8").pipe(le(r=>r==null?void 0:r.split(/[\n\r]/).map(o=>_rn(o,e)).filter(o=>o!==void 0)),pt(r=>Array.isArray(r)),le(r=>({type:"uploadProgress",patches:[nf(r,"after",[-1])]})))}}}function Ern(e){const{onPathBlur:t,onPathFocus:n,onChange:r,onPathOpen:o,onSetPathCollapsed:i,onSetFieldSetCollapsed:s,onFieldGroupSelect:a}=fa(),{member:c,renderAnnotation:u,renderBlock:d,renderField:f,renderInlineBlock:p,renderInput:m,renderItem:v,renderPreview:g}=e,{field:{actions:b}}=ci().__internal,x=h.useRef(),y=h.useRef(),w=mr(cn);Bi(c.field.focused,(N,G)=>{var q;!N&&G&&((q=x.current)==null||q.focus())});const C=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&n(c.field.path)},[c.field.path,n]),_=h.useCallback(N=>{N.currentTarget===N.target&&N.currentTarget===x.current&&t(c.field.path)},[c.field.path,t]),S=h.useCallback(N=>{const G=dt.from(N).patches;if(G.some(Z=>Z.type==="unset"&&Z.path.length===1)){const Z=sN(c.field.value||[],G);if(Array.isArray(Z)&&!Z.length){r(dt.from(Je([c.name])));return}}r(dt.from(N).prepend(Qi([])).prefixAll(c.name))},[r,c.name,c.field.value]),E=h.useCallback(N=>{i(c.field.path,N)},[i,c.field.path]),j=h.useCallback(()=>{i(c.field.path,!0)},[i,c.field.path]),k=h.useCallback(()=>{i(c.field.path,!1)},[i,c.field.path]),T=h.useCallback(N=>{S(N.length===0?Je():bt(N))},[S]),A=h.useCallback(N=>{const{value:G=[]}=c.field;N.fromIndex!==N.toIndex&&T(xrn(G,N.fromIndex,N.toIndex))},[c.field,T]),D=h.useCallback(N=>{const{value:G=[]}=c.field;T(G.concat(N))},[c.field,T]),I=h.useCallback(N=>{const{value:G=[]}=c.field;T([N].concat(G||[]))},[c.field,T]),O=h.useCallback(N=>{const{value:G=[]}=c.field,q=N.referenceIndex+(N.position==="before"?-1:0);T(wrn(q,G,N.items))},[c.field,T]),$=h.useCallback(N=>{S(Je([N]))},[S]),R=h.useCallback(N=>{n(c.field.path.concat([N]))},[c.field.path,n]),z=h.useMemo(()=>({onBlur:_,onFocus:C,id:c.field.id,ref:x,"aria-describedby":hh(c.field.id,c.field.schemaType.description)}),[_,C,c.field.id,c.field.schemaType.description]),B=h.useMemo(()=>Srn(c.field.schemaType.of),[c.field.schemaType.of]),U=h.useCallback((N,G)=>E4(G,"text/*")?B:null,[B]),W=h.useCallback(N=>{let{file:G,schemaType:q,uploader:Z}=N;const ie=Z.upload(w,G,q).pipe(le(ne=>dt.from(ne.patches||[])),Cn(ne=>S(ne.patches)));y.current&&y.current.unsubscribe(),y.current=ie.subscribe()},[w,S]),V=h.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:E,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:z,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:S,onInsert:O,onMoveItem:A,onItemRemove:$,onItemAppend:D,onItemPrepend:I,validation:c.field.validation,presence:c.field.presence,resolveUploader:U,onUpload:W,renderAnnotation:u,renderBlock:d,renderInlineBlock:p,renderInput:m,renderItem:v,onIndexFocus:R,renderPreview:g}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,E,z,S,O,A,$,D,I,U,W,u,d,p,m,v,R,g]),K=h.useMemo(()=>m(V),[V,m]),te=h.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:k,changed:c.field.changed,onCollapse:j,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:K,inputProps:V}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,k,j,K,V]);return l.jsx(aC,{onFieldGroupSelect:a,onChange:S,onPathOpen:o,onSetFieldSetCollapsed:s,onSetPathCollapsed:i,onPathBlur:t,onPathFocus:n,children:h.useMemo(()=>f(te),[te,f])})}function OIe(e){return Ka(e.field.schemaType)}function krn(e){return Fl(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ave(t))}function lN(e){return Fl(e.field.schemaType)&&e.field.schemaType.of.every(t=>Ka(t))}const mC=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=t;return OIe(n)?l.jsx(yrn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):krn(n)?l.jsx(Ern,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInput:a,renderInlineBlock:s,renderItem:c,renderPreview:u}):lN(n)?l.jsx(grn,{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}):l.jsx(vrn,{member:n,renderField:i,renderInput:a})}),PIe=["yes","true","1"],RIe=["false","no","false","0","null"],jrn=PIe.concat(RIe),u2=()=>!0,Trn=e=>t=>t&&t[e],Arn=e=>t=>(t&&t._type)===e;function Drn(e){const t=new Date(e.getTime()+e.getTimezoneOffset()*60*1e3),n=e.getTimezoneOffset()/60,r=e.getHours();return t.setHours(r-n),t}function Irn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const MO={string:{number:{test:Number,convert:Number},boolean:{test:e=>jrn.includes(e.toLowerCase()),convert:e=>PIe.includes(e.toLowerCase())||!RIe.includes(e.toLowerCase())},richDate:{test:e=>Uu(e),convert:e=>({_type:"richDate",local:Drn(new Date(e)).toJSON(),utc:new Date(e).toJSON(),timezone:Irn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:Arn("date"),convert:e=>Object.assign({},e,{_type:"richDate"})}},richDate:{datetime:{test:Trn("utc"),convert:e=>e.utc}},number:{string:{test:u2,convert:String},boolean:{test:u2,convert:Number}},boolean:{string:{test:u2,convert:e=>e?"Yes":"No"},number:{test:u2,convert:Number}}};function Orn(e){let{value:t,targetType:n,onChange:r}=e;const o=h.useMemo(()=>({...t,_type:n}),[n,t]),i=h.useCallback(()=>r(dt.from(Qi(n,["_type"])),o),[o,r,n]);return l.jsx(oe,{onClick:i,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:n})]})})}function Prn(e){let{value:t,onChange:n,validTypes:r}=e;const o=h.useMemo(()=>({...t,_type:r[0]}),[r,t]),i=h.useCallback(()=>n(dt.from(Je()),o),[o,n]);return l.jsx(oe,{onClick:i,tone:"critical",text:"Unset value"})}function Rrn(e){let{validTypes:t,value:n,onChange:r}=e;const o=jn(),i=t.length===1,s=o.has(t[0]);return l.jsx(zc,{status:"warning",title:l.jsxs(l.Fragment,{children:["Property value missing ",l.jsx("code",{children:"_type"})]}),children:l.jsx(Fm,{open:Vc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Encountered an object value without a ",l.jsx("code",{children:"_type"})," property."]}),i&&!s&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["Either remove the ",l.jsx("code",{children:"name"})," property of the object declaration, or set"," ",l.jsx("code",{children:"_type"})," property on items."]}),!i&&l.jsx(L,{as:"p",muted:!0,size:1,children:"The following types are valid here according to schema:"}),!i&&l.jsx(ee,{as:"ul",space:2,children:t.map(a=>l.jsx(L,{as:"li",muted:!0,size:1,children:l.jsx("code",{children:a})},a))}),l.jsxs(ee,{space:2,children:[l.jsxs(L,{as:"h4",weight:"semibold",size:1,children:["Current value (",l.jsx("code",{children:"object"}),"):"]}),l.jsx(Q,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:l.jsx(lr,{language:"json",children:JSON.stringify(n,null,2)})})]}),l.jsxs(nn,{columns:[1,2,2],gap:1,children:[i&&l.jsx(Orn,{onChange:r,targetType:t[0],value:n}),l.jsx(Prn,{onChange:r,validTypes:t,value:n})]})]})})})}function $rn(e,t,n){return t in MO?Object.keys(MO[t]).filter(r=>n.includes(r)).map(r=>({from:t,to:r,...MO[t][r]})).filter(r=>r.test(e)):[]}const $Ie=h.forwardRef((e,t)=>{const{value:n,actualType:r,validTypes:o,onChange:i}=e;h.useImperativeHandle(t,()=>({focus:()=>{}}));const s=h.useCallback(()=>{i(dt.from(Je()))},[i]),a=h.useCallback(d=>{i(dt.from(bt(d)))},[i]),c=h.useMemo(()=>$rn(n,r,o),[n,r,o]);if(Tr(n)&&!("_type"in n))return l.jsx(Rrn,{value:n,validTypes:o,onChange:i});const u=l.jsx(ee,{padding:2,children:l.jsx(oe,{onClick:s,tone:"critical",text:"Reset value"})});return l.jsxs(zc,{status:"error",suffix:u,title:l.jsx(l.Fragment,{children:"Invalid property value"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"The property value is stored as a value type that does not match the expected type."}),l.jsx(Fm,{marginTop:4,open:Vc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(ee,{space:3,children:[o.length===1&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of this property must be of type ",l.jsx("code",{children:o[0]})," according to the schema."]}),o.length===1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Mismatching value types typically occur when the schema has recently been changed."}),o.length!==1&&l.jsx(L,{as:"p",muted:!0,size:1,children:"Only the following types are valid here according to schema:"}),o.length!==1&&l.jsx(ee,{as:"ul",space:2,children:o.map(d=>l.jsx(L,{as:"li",children:l.jsx("code",{children:d})},d))}),l.jsxs(ee,{marginTop:2,space:2,children:[l.jsxs(L,{size:1,weight:"semibold",children:["The current value (",l.jsx("code",{children:r}),")"]}),l.jsx(Q,{border:!0,padding:2,radius:2,tone:"inherit",children:l.jsx(lr,{language:"json",size:1,children:JSON.stringify(n,null,2)})})]}),c.length>0&&l.jsx(ee,{space:1,children:c.map(d=>l.jsx(Mrn,{converter:d,onConvert:a,value:n},"".concat(d.from,"-").concat(d.to)))})]})})]})});$Ie.displayName="InvalidValueInput";function Mrn(e){let{converter:t,onConvert:n,value:r}=e;const o=h.useCallback(()=>n(t.convert(r)),[t,n,r]);return l.jsx(oe,{onClick:o,text:l.jsxs(l.Fragment,{children:["Convert to ",l.jsx("code",{children:t.to})]})})}function Frn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(dt.from((t.value||[]).map((o,i)=>Qi(Kw(),[i,"_key"]))))},[t.value,n]);return l.jsx(i1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(zc,{status:"warning",suffix:l.jsx(ee,{padding:2,children:l.jsx(oe,{onClick:r,text:"Add missing keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Missing keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in the list are missing their keys. This must be fixed in order to edit the list."}),l.jsx(Fm,{marginTop:4,open:Vc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property has not been included."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Lrn(e){const{error:t,onChange:n}=e,r=h.useCallback(()=>{n(dt.from((t.duplicates||[]).map(o=>{let[i,s]=o;return bt("".concat(s,"_deduped_").concat(i),[i,"_key"])})))},[t.duplicates,n]);return l.jsx(i1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(zc,{status:"warning",suffix:l.jsx(ee,{padding:2,children:l.jsx(oe,{onClick:r,text:"Generate unique keys",tone:"caution"})}),title:l.jsx(l.Fragment,{children:"Non-unique keys"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Several items in this list share the same identifier (key). Every item must have an unique identifier."}),l.jsx(Fm,{marginTop:4,open:Vc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This usually happens when items are created using an API client, and the"," ",l.jsx("code",{children:"_key"})," property of each elements has been generated non-uniquely."]}),l.jsxs(L,{as:"p",muted:!0,size:1,children:["The value of the ",l.jsx("code",{children:"_key"})," property must be a unique string."]})]})})]})})}function Brn(e){const{error:t,onChange:n}=e,r=()=>{const i=(t.value||[]).flatMap((s,a)=>Tr(s)?[]:[a]).reverse().map(s=>Je([s]));n(dt.from(i))};return l.jsx(i1,{title:t.schemaType.title,description:t.schemaType.description,children:l.jsxs(zc,{status:"error",suffix:l.jsx(ee,{padding:2,children:l.jsx(oe,{onClick:r,text:"Remove non-object values",tone:"critical"})}),title:l.jsx(l.Fragment,{children:"Invalid list values"}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:"Some items in this list are not objects. This must be fixed in order to edit the list."}),l.jsx(Fm,{marginTop:4,open:Vc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:l.jsx(ee,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list."})})})]})})}function BA(e){const{member:t}=e,{onChange:n}=fa(),r=h.useCallback(o=>{n(dt.from(o).prefixAll(t.fieldName))},[n,t.fieldName]);return t.error.type==="INCOMPATIBLE_TYPE"?l.jsx($Ie,{value:t.error.value,onChange:r,actualType:t.error.resolvedValueType,validTypes:[t.error.expectedSchemaType.name]}):t.error.type==="MISSING_KEYS"?l.jsx(Frn,{error:t.error,onChange:r}):t.error.type==="DUPLICATE_KEYS"?l.jsx(Lrn,{error:t.error,onChange:r}):t.error.type==="MIXED_ARRAY"?l.jsx(Brn,{onChange:r,error:t.error}):l.jsxs(M,{children:["Unexpected error: ",e.member.error.type]})}const cN=h.memo(function(t){var n;const{member:r,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d}=t,{onSetFieldSetCollapsed:f}=fa(),p=h.useCallback(()=>{f(r.fieldSet.path,!0)},[r.fieldSet.path,f]),m=h.useCallback(()=>{f(r.fieldSet.path,!1)},[r.fieldSet.path,f]);return l.jsx(RA,{title:r.fieldSet.title||Tm(r.fieldSet.name),description:r.fieldSet.description,level:r.fieldSet.level,collapsible:r.fieldSet.collapsible,collapsed:r.fieldSet.collapsed,onCollapse:p,onExpand:m,columns:(n=r==null?void 0:r.fieldSet)==null?void 0:n.columns,"data-testid":"fieldset-".concat(r.fieldSet.name),inputId:r.fieldSet.name,children:r.fieldSet.members.map(v=>v.kind==="error"?l.jsx(BA,{member:v},r.key):l.jsx(mC,{member:v,renderAnnotation:o,renderBlock:i,renderField:s,renderInlineBlock:a,renderInput:c,renderItem:u,renderPreview:d},v.key))})});function uN(e){const t=h.useRef(),{member:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=e,{onPathBlur:d,onPathFocus:f,onChange:p,onPathOpen:m,onSetPathCollapsed:v,onSetFieldSetCollapsed:g,onFieldGroupSelect:b}=fa(),x=KN();Bi(n.item.focused,(q,Z)=>{var ie;!q&&Z&&((ie=t.current)==null||ie.focus())});const y=h.useCallback(()=>{p(dt.from([Je([{_key:n.key}])]))},[n.key,p]),w=h.useCallback(q=>{m(q),v(q,!1)},[m,v]),C=qo(),_=h.useCallback(q=>{if(q.items.length===0)throw new Error("Insert event should include at least one item");const Z=q.items.map(ae=>VS(ae));p(dt.from([nf(Z,q.position,[{_key:n.key}])]));const ie=Z[0]._key,Y=[...n.item.path.slice(0,-1),{_key:ie}];f(Y);const X=q.open!==!1;q.skipInitialValue?X&&w(Y):TIe(Z,n.parentSchemaType,x).pipe(Cn(ae=>{ae.type==="patch"?p(dt.from(ae.patches)):C.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(ae.schemaType.title,": ").concat(ae.error.message,"."),status:"error"})})).subscribe({complete:()=>{X&&w(Y)}})},[w,n.item.path,n.key,n.parentSchemaType,p,f,x,C]),S=h.useCallback(()=>{d(n.item.path)},[n.item.path,d]),E=h.useCallback(()=>{f(n.item.path)},[n.item.path,f]),j=h.useCallback(q=>{f(n.item.path.concat(q))},[n.item.path,f]),k=h.useCallback(q=>{p(dt.from(q).prepend(Qi(oN(n.item.schemaType))).prefixAll({_key:n.key}))},[p,n.item.schemaType,n.key]),T=h.useCallback(()=>{v(n.item.path,!0)},[v,n.item.path]),A=h.useCallback(()=>{v(n.item.path,!1)},[v,n.item.path]),D=h.useCallback(q=>{v(n.item.path.concat(q),!0)},[v,n.item.path]),I=h.useCallback(q=>{v(n.item.path.concat(q),!1)},[v,n.item.path]),O=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),$=h.useCallback(q=>{m(n.item.path.concat(q))},[m,n.item.path]),R=h.useCallback(q=>{g(n.item.path.concat(q),!1)},[g,n.item.path]),z=h.useCallback(q=>{g(n.item.path.concat(q),!0)},[g,n.item.path]),B=h.useCallback(()=>{m(n.item.path)},[m,n.item.path]),U=!n.item.value||jIe(n.item.value),W=h.useCallback(()=>{U&&y();const q=n.item.path.slice(0,-1);m(q),f(q)},[U,m,n.item.path,f,y]),V=h.useCallback(q=>{b(n.item.path,q)},[b,n.item.path]),K=h.useMemo(()=>({onBlur:S,onFocus:E,id:n.item.id,ref:t,"aria-describedby":hh(n.item.id,n.item.schemaType.description)}),[S,E,n.item.id,n.item.schemaType.description]),te=h.useMemo(()=>({changed:n.item.changed,focusPath:n.item.focusPath,focused:n.item.focused,groups:n.item.groups,id:n.item.id,level:n.item.level,members:n.item.members,onChange:k,onFieldClose:O,onFieldCollapse:D,onFieldSetCollapse:z,onFieldExpand:I,onFieldSetExpand:R,onFieldGroupSelect:V,onPathFocus:j,onFieldOpen:$,path:n.item.path,presence:n.item.presence,readOnly:n.item.readOnly,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u,schemaType:n.item.schemaType,validation:n.item.validation,value:n.item.value,elementProps:K}),[K,k,O,D,z,I,R,j,$,V,n.item.changed,n.item.focusPath,n.item.focused,n.item.groups,n.item.id,n.item.level,n.item.members,n.item.path,n.item.presence,n.item.readOnly,n.item.schemaType,n.item.validation,n.item.value,r,o,i,s,a,c,u]),N=h.useMemo(()=>a(te),[te,a]),G=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,collapsible:n.collapsible,collapsed:n.collapsed,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:_,onRemove:y,presence:n.item.presence,validation:n.item.validation,open:n.open,onOpen:B,onClose:W,onExpand:A,onCollapse:T,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:E,onBlur:S,inputId:n.item.id,path:n.item.path,children:N,changed:n.item.changed,inputProps:te}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.parentSchemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.item.changed,n.collapsible,n.collapsed,n.open,_,y,B,W,A,T,E,S,N,te]);return l.jsx(aC,{onFieldGroupSelect:b,onChange:k,onPathOpen:m,onSetFieldSetCollapsed:g,onSetPathCollapsed:v,onPathBlur:d,onPathFocus:f,children:h.useMemo(()=>c(G),[G,c])})}function dN(e){switch(e.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(e.jsonType,'"'))}}function Nrn(e){const t=h.useRef(),{member:n,renderItem:r,renderInput:o}=e,[i,s]=h.useState(),{onPathBlur:a,onPathFocus:c,onChange:u}=fa();Bi(n.item.focused,(C,_)=>{var S;!C&&_&&((S=t.current)==null||S.focus())});const d=h.useCallback(C=>{a(n.item.path)},[n.item.path,a]),f=h.useCallback(C=>{c(n.item.path)},[n.item.path,c]),p=h.useCallback(C=>{u(dt.from(C).prefixAll(n.index))},[u,n.index]),m=h.useCallback(C=>{let _=C.currentTarget.value;if(Rp(n.item.schemaType)){if(_=C.currentTarget.valueAsNumber,_>Number.MAX_SAFE_INTEGER||_<Number.MIN_SAFE_INTEGER)return}else ow(n.item.schemaType)&&(_=C.currentTarget.checked);const S=_===""||typeof _=="number"&&isNaN(_);Rp(n.item.schemaType)&&s(S?void 0:C.currentTarget.value),p(bt(S?dN(n.item.schemaType):_))},[p,n.item.schemaType]),v=h.useMemo(()=>({onBlur:d,onFocus:f,id:n.item.id,ref:t,onChange:m,value:zrn(n.item.schemaType,n.item.value,i),readOnly:!!n.item.readOnly,placeholder:n.item.schemaType.placeholder,"aria-describedby":hh(n.item.id,n.item.schemaType.description)}),[d,f,m,n.item.id,n.item.readOnly,n.item.schemaType,n.item.value,i]),g=h.useMemo(()=>({changed:n.item.changed,level:n.item.level,value:n.item.value,readOnly:n.item.readOnly,schemaType:n.item.schemaType,id:n.item.id,path:n.item.path,focused:n.item.focused,onChange:p,validation:n.item.validation,presence:n.item.presence,elementProps:v}),[n.item.changed,n.item.level,n.item.value,n.item.readOnly,n.item.schemaType,n.item.id,n.item.path,n.item.focused,n.item.validation,n.item.presence,p,v]),b=h.useMemo(()=>o(g),[g,o]),x=h.useCallback(()=>{u(dt.from([Je([n.index])]))},[n.index,u]),y=h.useCallback(C=>{u(dt.from([nf(C.items,C.position,[n.index])]))},[n.index,u]),w=h.useMemo(()=>({key:n.key,index:n.index,level:n.item.level,value:n.item.value,title:n.item.schemaType.title,description:n.item.schemaType.description,schemaType:n.item.schemaType,parentSchemaType:n.parentSchemaType,onInsert:y,onRemove:x,presence:n.item.presence,validation:n.item.validation,readOnly:n.item.readOnly,focused:n.item.focused,onFocus:f,onBlur:d,inputId:n.item.id,path:n.item.path,children:b}),[n.key,n.index,n.item.level,n.item.value,n.item.schemaType,n.item.presence,n.item.validation,n.item.readOnly,n.item.focused,n.item.id,n.item.path,n.parentSchemaType,y,x,f,d,b]);return l.jsx(l.Fragment,{children:h.useMemo(()=>r(w),[w,r])})}function zrn(e,t,n){return Object.is(t,-0)?"":IIe(e,t,n)}var gie=Object.freeze,Vrn=Object.defineProperty,Hrn=(e,t)=>gie(Vrn(e,"raw",{value:gie(t||e.slice())})),vie;const Urn=P(Q)(vie||(vie=Hrn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function MIe(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,c]=re.useState(null);dr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=js(t);return l.jsx(rn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Urn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(ee,{space:4,children:[l.jsxs(L,{weight:"semibold",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]}),l.jsx(L,{size:1,weight:"semibold",children:"Why is this happening?"}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(cj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(ee,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(Q,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(Q,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(H,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(Sl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Wrn(e){const{member:t}=e;return t.error.type==="INVALID_ITEM_TYPE"?l.jsx(MIe,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})}const qrn=h.memo(function(t){const{member:n,renderAnnotation:r,renderBlock:o,renderInput:i,renderInlineBlock:s,renderField:a,renderItem:c,renderPreview:u}=t;return n.kind==="field"?l.jsx(mC,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):n.kind==="error"?l.jsx(BA,{member:n},n.key):n.kind==="fieldSet"?l.jsx(cN,{member:n,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:i,renderField:a,renderItem:c,renderPreview:u},n.key):(console.warn(new Error("Unhandled member kind ".concat(n.kind))),null)});function Yrn(e){const{members:t,renderAnnotation:n,renderBlock:r,renderInput:o,renderInlineBlock:i,renderField:s,renderItem:a,renderPreview:c}=e,u=h.useMemo(()=>t.map(d=>l.jsx(qrn,{member:d,renderAnnotation:n,renderBlock:r,renderField:s,renderInlineBlock:i,renderInput:o,renderItem:a,renderPreview:c},d.key)),[t,n,r,s,i,o,a,c]);return l.jsx(l.Fragment,{children:u})}const iy=e=>{let{children:t}=e;return t};function Grn(e){return"absolutePath"in e}const FIe=h.memo(function(t){const n=h.useMemo(()=>Grn(t)?t.absolutePath:t.path.concat(t.relativePath),[t]),r=h.useCallback(()=>l.jsx(l.Fragment,{children:"Missing destination render function"}),[]);return l.jsx(Krn,{...t,absolutePath:n,destinationRenderAnnotation:t.renderAnnotation||r,destinationRenderBlock:t.renderBlock||r,destinationRenderField:t.renderField,destinationRenderInlineBlock:t.renderInlineBlock||r,destinationRenderInput:t.renderInput,destinationRenderItem:t.renderItem,destinationRenderPreview:t.renderPreview})}),Krn=h.memo(function e(t){const{absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderInput:a,destinationRenderItem:c,destinationRenderPreview:u}=t,d=h.useCallback(b=>{if(wn(b.path,n)||Si(n,b.path))return a(b);if(!aie(b)&&!lie(b))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(b.path)));return l.jsx(e,{...b,absolutePath:n,destinationRenderAnnotation:r,destinationRenderBlock:o,destinationRenderInput:a,destinationRenderItem:c,destinationRenderField:i,destinationRenderInlineBlock:s,destinationRenderPreview:u})},[n,r,o,i,s,a,c,u]),f=h.useCallback(b=>Si(n,b.path)&&(t.includeField||!wn(n,b.path))?i(b):iy(b),[n,i,t.includeField]),p=h.useCallback(b=>Si(n,b.path)&&(t.includeItem||!wn(n,b.path))?c(b):iy(b),[n,c,t.includeItem]),m=h.useCallback(b=>Si(n,b.path)&&(t.includeItem||!wn(n,b.path))?o(b):iy(b),[n,o,t.includeItem]),v=h.useCallback(b=>Si(n,b.path)&&(t.includeItem||!wn(n,b.path))?s(b):iy(b),[n,s,t.includeItem]),g=h.useCallback(b=>Si(n,b.path)&&(t.includeItem||!wn(n,b.path))?r(b):iy(b),[n,r,t.includeItem]);if(lie(t)){const b=Uy(t.path,n),x=t.members.find(y=>y.kind=="item"&&Mr(b[0])&&y.key===b[0]._key);if(!x){const w=Uy(t.path,n)[0]._key;return l.jsxs("div",{children:["No array item with _key ",l.jsxs("code",{children:['"',w,'"']})," found at path ",JSON.stringify(t.path)]})}return x.kind==="error"?l.jsx(Wrn,{member:x}):l.jsx(uN,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderField:f,renderInlineBlock:v,renderItem:p,renderPreview:u})}if(aie(t)){const b=Uy(t.path,n),x=t.members.find(y=>y.kind=="field"&&b[0]===y.name);if(!x){const y=b[0];return l.jsxs("div",{children:["Field ",JSON.stringify(y)," not found among members – please verify that it's both defined in the schema and that it has not been conditionally hidden."]})}return l.jsx(mC,{member:x,renderAnnotation:g,renderBlock:m,renderInput:d,renderInlineBlock:v,renderField:f,renderItem:p,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),LIe=h.createContext(null);function Zrn(){const e=h.useContext(LIe);if(!e)throw new Error("VirtualizerScrollInstance: missing context value");return e}function Vx(e){const{scrollElement:t,containerElement:n}=e;return l.jsx(LIe.Provider,{value:{scrollElement:t,containerElement:n},children:e.children})}const Xrn=[0,0,1,0];function BIe(e){const{children:t,header:n,id:r,legacy_referenceElement:o,onClose:i,type:s,width:a,autofocus:c}=e,[u,d]=h.useState(null),f=h.useRef(null),p=l.jsx(pC,{margins:Xrn,children:l.jsx(M,{ref:f,padding:4,children:t})});return s==="dialog"?l.jsx(Vx,{scrollElement:u,containerElement:f,children:l.jsx(Mi,{header:n,id:r||"",onClickOutside:i,onClose:i,width:a,contentRef:d,__unstable_autoFocus:c,children:p})}):l.jsx(oqt,{header:n,onClose:i,referenceElement:o,width:a,containerRef:d,children:l.jsx(Vx,{scrollElement:u,containerElement:f,children:p})})}function Qrn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const Jrn={portal:!0,tone:"default"},eon={position:"absolute",top:0,left:0,bottom:0,right:0,opacity:.6},ton={position:"relative"};function non(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:b,onClose:x,changed:y,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);PA(j,m),Bi(w,(K,te)=>{var N;!K&&te&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Nx()}],position:"after"})},[v,p]),A=h.useCallback((K,te)=>{v({items:[s1(te)],position:K})},[v]),D=J0(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(hC,{presence:D,maxAvatars:1}),[D]),O=$B(u,!0),$=h.useMemo(()=>O.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(o1,{validation:O,__unstable_showSummary:!0})}),[O]),R=O.some(K=>K.level==="error"),z=O.some(K=>K.level==="warning"),B=h.useMemo(()=>d?null:l.jsx(on,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Io}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Nt,{children:[l.jsx(ze,{text:"Remove",tone:"critical",icon:yo,onClick:f}),l.jsx(ze,{text:"Duplicate",icon:Iu,onClick:T}),l.jsx(FA,{types:E,onInsert:A})]}),popover:Jrn}),[T,A,f,E,e.inputId,d]),U=Qrn({readOnly:d,hasErrors:R,hasWarnings:z}),W=l.jsx($A,{menu:B,presence:I,validation:$,tone:U,focused:w,dragHandle:S,selected:m,children:l.jsxs(Q,{as:"button",type:"button",tone:"inherit",radius:2,disabled:k,padding:1,onClick:b,ref:j,onFocus:g,__unstable_focusRing:!0,style:ton,children:[_({schemaType:e.schemaType,value:e.value,layout:"default",skipVisibilityCheck:!0}),k&&l.jsx(Q,{style:eon,tone:"transparent",radius:2,as:H,justify:"center",children:l.jsxs(H,{align:"center",justify:"center",padding:3,children:[l.jsx(M,{marginX:3,children:l.jsx(hr,{muted:!0})}),l.jsx(L,{size:1,muted:!0,children:"Resolving initial value…"})]})})]})}),V=Dp(a);return l.jsxs(l.Fragment,{children:[l.jsx(li,{path:u,isChanged:y,hasFocus:!!w,children:l.jsx(M,{paddingX:1,children:W})}),m&&l.jsx(BIe,{header:d?"View ".concat(V):"Edit ".concat(V),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}function ron(e){var t;return(t=e.components)!=null&&t.item?e.components.item:Du(e)?knn:non}function NA(e){const t=No(e),{value:n}=ci();return kl(n,t)}function zA(){const e=NA(["_id"]);if(typeof e=="string")return $n(e)}function oon(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const ion={portal:!0,tone:"default"};function son(e){var t,n,r,o,i,s,a,c,u,d;const f=h.useRef(null),{schemaType:p,path:m,open:v,inputId:g,children:b,inputProps:x}=e,{readOnly:y,focused:w,renderPreview:C,onChange:_}=e.inputProps,[S,E]=h.useState([]),j=zA(),k=h.useCallback(()=>x.onChange(Je()),[x]),T=e.value,{EditReferenceLink:A,getReferenceInfo:D,selectedState:I,isCurrentDocumentLiveEdit:O}=wN({path:m,schemaType:p,value:T});PA(f,v),Bi(w,(pe,be)=>{!pe&&be&&f.current&&f.current.focus()});const $=e.validation.some(pe=>pe.level==="error"),R=e.validation.some(pe=>pe.level==="warning"),z=LA(T==null?void 0:T._ref,D),B=((t=z.result)==null?void 0:t.type)||((n=T==null?void 0:T._strengthenOnPublish)==null?void 0:n.type),U=B?p.to.find(pe=>pe.name===B):void 0,W=I==="pressed",V=I==="selected",K=T==null?void 0:T._ref,te=K&&((i=(o=(r=z.result)==null?void 0:r.preview)==null?void 0:o.published)==null?void 0:i._id),N=h.useCallback(()=>{_([p.weak===!0?bt(!0,["_weak"]):Je(["_weak"]),Je(["_strengthenOnPublish"])])},[_,p.weak]),G=h.useCallback(()=>{_(p.weak===!0?bt(!0,["_weak"]):Je(["_weak"]))},[_,p]),q=h.useCallback(()=>{x.onPathFocus(["_ref"])},[x]),Z=T!=null&&T._weak?"weak":"strong",ie=p.weak===!0?"weak":"strong",ne=K&&!z.isLoading&&(T==null?void 0:T._strengthenOnPublish),Y=!z.isLoading&&((s=z.result)==null?void 0:s.availability.available)&&K&&Z!==ie&&!ne,X=oon({readOnly:y,hasErrors:$,hasWarnings:R}),ae=!(T!=null&&T._ref)||x.focusPath[0]==="_ref",he=((a=z.result)==null?void 0:a.preview.draft)||((c=z.result)==null?void 0:c.preview.published),ce=l.jsxs(l.Fragment,{children:[O&&te&&T._strengthenOnPublish&&l.jsx(bf,{padding:1,title:p.weak?"Finalize reference":"Convert to strong reference",status:"info","data-testid":"alert-reference-published",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:[l.jsx("strong",{children:(d=(u=z.result)==null?void 0:u.preview.published)==null?void 0:d.title})," is published and this reference should now be"," ",p.weak?l.jsx(l.Fragment,{children:"finalized"}):l.jsx(l.Fragment,{children:"converted to a strong reference"}),"."]}),l.jsx(oe,{onClick:N,text:l.jsx(l.Fragment,{children:"Convert to strong reference"}),tone:"positive"})]})}),Y&&l.jsx(bf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:Z}),", but according to the current schema it should be"," ",l.jsxs("em",{children:[ie,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:p.weak?l.jsxs(l.Fragment,{children:["It will not be possible to delete the"," ",he!=null&&he.title?l.jsxs(l.Fragment,{children:['"',he==null?void 0:he.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first removing this reference."]}):l.jsxs(l.Fragment,{children:["This makes it possible to delete the"," ",he!=null&&he.title?l.jsxs(l.Fragment,{children:['"',he==null?void 0:he.title,'"-document']}):l.jsx(l.Fragment,{children:"referenced document"})," ","without first deleting this reference, leaving this field referencing a nonexisting document."]})}),l.jsx(oe,{onClick:G,text:l.jsxs(l.Fragment,{children:["Convert to ",ie," reference"]}),tone:"caution"})]})}),z.error&&l.jsx(bf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",z.error.message]}),l.jsx(oe,{onClick:z.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]}),xe=h.useMemo(()=>h.forwardRef(function(be,Be){return l.jsx(km,{...be,intent:"edit",params:{id:T==null?void 0:T._ref,type:U==null?void 0:U.name},target:"_blank",rel:"noopener noreferrer",ref:Be})}),[U==null?void 0:U.name,T==null?void 0:T._ref]),Se=h.useMemo(()=>y?null:l.jsx(M,{marginLeft:1,children:l.jsx(on,{button:l.jsx(oe,{paddingY:3,paddingX:2,mode:"bleed",icon:Io}),id:"".concat(g,"-menuButton"),menu:l.jsxs(Nt,{children:[!y&&l.jsxs(l.Fragment,{children:[l.jsx(ze,{text:"Clear",tone:"critical",icon:yo,onClick:k}),l.jsx(ze,{text:"Replace",icon:x0,onClick:q})]}),!y&&(T==null?void 0:T._ref)&&l.jsx($r,{}),(T==null?void 0:T._ref)&&l.jsx(ze,{as:xe,"data-as":"a",text:"Open in new tab",icon:qf})]}),popover:ion})}),[k,q,g,xe,y,T==null?void 0:T._ref]);return l.jsxs(l.Fragment,{children:[j&&e.actions&&e.actions.length>0&&l.jsx(lC,{actions:e.actions,documentId:j,documentType:p.name,onActions:E,path:m,schemaType:p}),l.jsx(fC,{actions:S,focused:!!e.inputProps.focused,path:m,children:l.jsx(i1,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:S,__unstable_presence:e.presence,description:e.description,level:e.level,title:e.title,validation:e.validation,children:ae?l.jsx(M,{children:b}):l.jsx(Q,{shadow:1,radius:1,padding:1,tone:X,children:l.jsxs(ee,{space:1,children:[l.jsxs(H,{gap:1,align:"center",children:[l.jsx(vIe,{__unstable_focusRing:!0,as:A,"data-pressed":W?!0:void 0,"data-selected":V?!0:void 0,documentId:T==null?void 0:T._ref,documentType:U==null?void 0:U.name,flex:1,paddingX:2,paddingY:1,pressed:W,radius:2,ref:f,selected:V,tone:"inherit",children:l.jsx(gIe,{value:T,referenceInfo:z,renderPreview:C,type:p})}),l.jsx(M,{children:Se})]}),ce]})})})})]})}function NIe(e,t){return qn(e.options,t)}const yie=["array","file","image","reference","slug"],aon=["asset","crop","hotspot","_ref","_weak"],lon=["tags"],con=["slug"];function fN(e,t){if(!e)return[];if(t.has(e))return[];t.add(e);const n=e.type?fN(e.type,t):[];return[e,...n]}function uon(e,t){return Fl(e)?fon(e,t):don(e,t)}function don(e,t){var n,r,o;const{type:i,options:s}=e,a=zIe(i,yie),c=(e==null?void 0:e.jsonType)==="object"?e.fields:void 0,u=(a==null?void 0:a.name)||"";if(con.includes(u))return 0;const d=yie.includes(u),f=((n=c==null?void 0:c.filter(m=>!aon.includes(m.name)).length)!=null?n:0)>0,p=((o=(r=s==null?void 0:s.list)==null?void 0:r.length)!=null?o:0)>0;return f||p||!d?t:0}function fon(e,t){var n;const{options:r}=e,o=((n=(r==null?void 0:r.list)||[])==null?void 0:n.length)>0,i=lon.includes((r==null?void 0:r.layout)||"");return o&&!i?t:0}function zIe(e,t){if(e!=null&&e.name&&t.includes(e==null?void 0:e.name))return e;if(e)return zIe(e.type,t)}const E5=[];function hon(e){return l.jsx(li,{hasFocus:!!e.inputProps.focused,isChanged:e.inputProps.changed,path:e.path,children:e.children})}function FO(e){const[t,n]=h.useState(E5),r=zA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(lC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(fC,{actions:t,focused:o,path:e.path,children:l.jsx(i1,{__internal_slot:e.__internal_slot,__internal_comments:e.__internal_comments,__unstable_headerActions:t,__unstable_presence:e.presence,"data-testid":"field-".concat(e.inputId),description:e.description,inputId:e.inputId,level:e.level,title:e.title,validation:e.validation,children:l.jsx(li,{hasFocus:o,isChanged:e.inputProps.changed,path:e.path,children:e.children})})})]})}function pon(e){const[t,n]=h.useState(E5),r=zA(),o=!!e.inputProps.focused;return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(lC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(fC,{actions:t,focused:o,path:e.path,children:l.jsx(RA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:e.presence,collapsed:e.collapsed,collapsible:e.collapsible,"data-testid":"field-".concat(e.inputId),description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function mon(e){const[t,n]=h.useState(E5),r=zA(),o=!!e.inputProps.focused,i=e.inputProps.members.find(a=>a.kind==="field"&&a.name==="hotspot"),s=i!=null&&i.open?e.presence:e.presence.concat((i==null?void 0:i.field.presence)||E5);return l.jsxs(l.Fragment,{children:[r&&e.actions&&e.actions.length>0&&l.jsx(lC,{actions:e.actions,documentId:r,documentType:e.schemaType.name,onActions:n,path:e.path,schemaType:e.schemaType}),l.jsx(fC,{actions:t,focused:o,path:e.path,children:l.jsx(RA,{__internal_comments:e.__internal_comments,__internal_slot:e.__internal_slot,__unstable_headerActions:t,__unstable_presence:s,collapsed:e.collapsed,collapsible:e.collapsible,description:e.description,level:e.level,onCollapse:e.onCollapse,onExpand:e.onExpand,title:e.title,validation:e.validation,inputId:e.inputId,children:e.children})})]})}function gon(e){var t;if((t=e.components)!=null&&t.field)return e.components.field;if(ow(e))return hon;const n=fN(e,new Set);return n.some(r=>r.name==="image"||r.name==="file")?mon:n.some(r=>CF(r))||n.some(r=>r.name==="slug")?FO:n.some(r=>Du(r))?son:e.jsonType!=="object"&&e.jsonType!=="array"?FO:pon}function von(e){const{allowedDecorators:t,block:n,onChange:r}=e;let o;return i=>{o=Array.isArray(i)?i:[i],o=o.map(a=>Sx(a,{allowedDecorators:t}));const s=[nf(o,"after",[{_key:n._key}])];return r(dt.from(s))}}function yon(e){const{allowedDecorators:t,block:n,onChange:r}=e;return o=>{const i=[bt(Sx(o,{allowedDecorators:t}),[{_key:n._key}])];return r(dt.from(i))}}function bon(e){const{block:t,onChange:n}=e;return()=>{const r=[Je([{_key:t._key}])];return n(dt.from(r))}}var bie=Object.freeze,xon=Object.defineProperty,won=(e,t)=>bie(xon(e,"raw",{value:bie(t||e.slice())})),xie;const Con=P.div(xie||(xie=won([`
  display: flex;
  pointer-events: all;
`])));function VIe(e){const t=wo(),{block:n,onChange:r,renderBlockActions:o}=e,i=h.useMemo(()=>t.schemaTypes.decorators.map(a=>a.value),[t]),s=h.useMemo(()=>{if(o){const a={block:n,value:Ce.getValue(t),set:yon({allowedDecorators:i,block:n,onChange:r}),unset:bon({block:n,onChange:r}),insert:von({allowedDecorators:i,block:n,onChange:r})};return o(a)}},[o,n,t,r,i]);return s?l.jsx(Con,{contentEditable:!1,children:s}):null}var wie=Object.freeze,_on=Object.defineProperty,Son=(e,t)=>wie(_on(e,"raw",{value:wie(t||e.slice())})),Cie;const HIe=P.div(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=Dt(o.spot.yellow,.2);return de(Cie||(Cie=Son([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),n[3],r[2],r[1]+r[1],r[4]+r[1],i)});var _ie=Object.freeze,Eon=Object.defineProperty,kon=(e,t)=>_ie(Eon(e,"raw",{value:_ie(t||e.slice())})),Sie;const UIe=P(li)(()=>de(Sie||(Sie=kon([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function VA(e){return e.type?VA(e.type):e.name==="block"}function jon(e){return e.kind==="field"&&e.field.schemaType.jsonType==="array"}const Ton=["@@_NONEXISTENT_PATH_@@"];function HA(e){const t=h.useRef(null),n=e!=null&&e.validation&&e.validation.length>0?e.validation:gn,r=$B((e==null?void 0:e.path)||Ton),o=h.useMemo(()=>e!=null&&e.schemaType&&VA(e==null?void 0:e.schemaType)?n:n.concat(r),[r,e,n]),[i,s,a]=h.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=RB(t.current,o);return t.current=c,h.useMemo(()=>({validation:c,hasError:i,hasWarning:s,hasInfo:a}),[c,i,s,a])}const WIe=h.createContext([]);function Aon(e){return l.jsx(WIe.Provider,{value:e.markers,children:e.children})}function UA(e){const t=h.useContext(WIe);if(!t)throw new Error("Form context not provided");return h.useMemo(()=>t.filter(r=>wn(r.path,e)),[t,e])}const hN=h.createContext([]);function Don(e){return l.jsx(hN.Provider,{value:e.memberItems,children:e.children})}function WA(e){const t=h.useContext(hN);if(!t)throw new Error("Form context not provided");return t.find(n=>n.key===e)}function Ion(){const e=h.useContext(hN);if(!e)throw new Error("Form context not provided");return e}var Eie=Object.freeze,Oon=Object.defineProperty,Qu=(e,t)=>Eie(Oon(e,"raw",{value:Eie(t||e.slice())})),kie,jie,Tie,Aie,Die,Iie,Oie,Pie,Rie;const Pon=P(Q)(e=>{var t;const{color:n,radius:r,space:o}=e.theme.sanity,i=de(kie||(kie=Qu([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),o[1],o[1],o[1],o[1],r[2],n.dark?"screen":"multiply");return de(jie||(jie=Qu([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      box-shadow: 0 0 0 1px `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],(t=n.selectable)==null?void 0:t.primary.selected.border,n.input.default.hovered.border,i,n.dark?fe.purple[950].hex:fe.purple[50].hex,i,n.muted.caution.hovered.bg,n.muted.caution.hovered.border,i,n.input.invalid.enabled.bg,n.input.invalid.hovered.border)}),Ron=P(M)(Tie||(Tie=Qu([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),$on=P.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(Die||(Die=Qu([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),r[2],r[1],!n&&de(Aie||(Aie=Qu([`
        display: none;
      `]))))}),Mon=P(H)(Iie||(Iie=Qu([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),Fon=P(M)(Oie||(Oie=Qu([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Lon=P(H)(Pie||(Pie=Qu([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),Bon=P(M)(Rie||(Rie=Qu([`
  max-width: 250px;
`]))),Non={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function zon(e){const{children:t,focused:n,isOpen:r,onOpen:o,onRemove:i,readOnly:s,value:a}=e,c=h.useId(),u=h.useRef(null),d=h.useRef(!1),f=h.useMemo(()=>nd(a)?h.forwardRef(function(v,g){return l.jsx(km,{...v,intent:"edit",params:{id:a._ref},ref:g})}):void 0,[a]);h.useEffect(()=>{r&&(d.current=!1)},[r]),rs(h.useCallback(m=>{n&&m.key==="Tab"&&u.current&&!d.current&&!r&&(m.preventDefault(),m.stopPropagation(),u.current.focus(),d.current=!0)},[n,r]));const p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation(),i()},[i]);return l.jsxs(H,{children:[l.jsx(M,{flex:1,children:t}),l.jsx(M,{children:l.jsx(on,{button:l.jsx(oe,{"aria-label":"Open menu",fontSize:1,iconRight:Io,mode:"bleed",paddingX:2,tabIndex:n?0:1}),ref:u,id:c,menu:l.jsx(Nt,{children:l.jsxs(l.Fragment,{children:["_ref"in a&&a._ref&&l.jsx(ze,{as:f,"data-as":"a",icon:jf,text:"Open reference"}),s&&l.jsx(ze,{icon:VF,onClick:o,text:"View"}),!s&&l.jsx(ze,{icon:Ou,onClick:o,text:"Edit"}),!s&&l.jsx(ze,{icon:yo,onClick:p,text:"Delete",tone:"critical"})]})}),popover:Non})})]})}const qIe=e=>Array.isArray(e)?e.flatMap(qIe):typeof e=="number"?[e]:e==="auto"?["auto"]:[],Von=e=>e==="dialog"||e==="popover"?e:void 0;function Hon(e){var t;const n=(t=e.options)==null?void 0:t.modal;return typeof n=="object"&&n!==null?{type:Von(n.type),width:qIe(n.width)}:void 0}function Uon(e){const{onClose:t,children:n,title:r,width:o=1,autoFocus:i}=e,s=h.useId(),[a,c]=h.useState(null),u=h.useRef(null);return l.jsx(Mi,{header:r,id:s,onClickOutside:t,onClose:t,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:i,children:l.jsx(pC,{margins:[0,0,1,0],children:l.jsx(Vx,{scrollElement:a,containerElement:u,children:l.jsx(M,{padding:4,ref:u,children:n})})})})}var $ie=Object.freeze,Won=Object.defineProperty,pN=(e,t)=>$ie(Won(e,"raw",{value:$ie(t||e.slice())})),Mie,Fie,Lie;const qon=P(rn)(Mie||(Mie=pN([`
  &[data-popper-reference-hidden='true'] {
    visibility: hidden;
    pointer-events: none;
  }

  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),Yon=P(M)(Fie||(Fie=pN([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),Gon=P(M)(Lie||(Lie=pN([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),Kon=["top","bottom"];function Zon(e){const{floatingBoundary:t,referenceBoundary:n,referenceElement:r,width:o=0}=e,[i,s]=h.useState(!1);return h.useEffect(()=>{s(!0)},[]),l.jsx(qon,{content:l.jsx(Xon,{...e}),constrainSize:!0,"data-ui":"PopoverEditDialog",fallbackPlacements:Kon,floatingBoundary:t,open:i,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:n,referenceElement:r,width:o})}function Xon(e){const{onClose:t,referenceBoundary:n,referenceElement:r,title:o,autoFocus:i}=e;rs(h.useCallback(u=>{u.key==="Escape"&&t()},[t])),dr(t,r?[r]:[],n);const[s,a]=h.useState(null),c=h.useRef(null);return l.jsx(Vx,{scrollElement:s,containerElement:c,children:l.jsxs(H,{ref:c,direction:"column",height:"fill",children:[l.jsx(Gon,{flex:"none",padding:1,children:l.jsxs(H,{align:"center",children:[l.jsx(M,{flex:1,padding:2,children:l.jsx(L,{weight:"semibold",children:o})}),l.jsx(oe,{autoFocus:!!i,icon:Di,mode:"bleed",onClick:t,padding:2})]})}),l.jsx(Yon,{flex:1,children:l.jsx(pC,{margins:[0,0,1,0],children:l.jsx(M,{padding:3,ref:a,children:e.children})})})]})})}function mN(e){const{autoFocus:t,defaultType:n,floatingBoundary:r,onClose:o,referenceBoundary:i,referenceElement:s,schemaType:a}=e,c=h.useMemo(()=>Hon(a),[a]),u=(c==null?void 0:c.type)||n,d=l.jsxs(l.Fragment,{children:["Edit ",a.title]}),f=h.useCallback(()=>{o()},[o]),p=c==null?void 0:c.width;return u==="popover"?l.jsx(Zon,{autoFocus:t,floatingBoundary:r,onClose:f,referenceBoundary:i,referenceElement:s,title:d,width:p,children:e.children}):l.jsx(Uon,{onClose:f,title:d,width:p,autoFocus:t,children:e.children})}function Qon(e){var t;const{floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,relativePath:f,renderAnnotation:p,renderBlock:m,renderBlockActions:v,renderCustomMarkers:g,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:C,schemaType:_,selected:S,value:E}=e,{onChange:j}=fa(),{Markers:k}=ci().__internal.components,[T,A]=h.useState(!1),D=UA(c),I=wo(),O=WA(_n(c)),$=h.useRef(!1),R=h.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),z=h.useCallback(()=>A(!0),[]),B=h.useCallback(()=>A(!1),[]),U=h.useCallback(()=>{O&&(Ce.blur(I),s(O.node.path))},[I,O,s]),W=h.useCallback(()=>{i(),Ce.select(I,R),Ce.focus(I)},[i,I,R]),V=h.useCallback(()=>{if(!$.current)try{Ce.delete(I,R,{mode:"blocks"})}catch(be){console.error(be)}finally{$.current=!0}},[I,R]);h.useEffect(()=>()=>{$.current&&Ce.focus(I)},[I]);const K=h.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:te,hasError:N,hasWarning:G,hasInfo:q}=HA(O==null?void 0:O.node),Z=I.schemaTypes.portableText,ie=D.length>0,ne=J0(c,!0),Y=h.useMemo(()=>ne.filter(be=>wn(be.path,c)),[c,ne]),X=N||G||q||ie,ae=h.useMemo(()=>X&&l.jsx(Bon,{padding:2,children:l.jsx(k,{markers:D,validation:te,renderCustomMarkers:g})})||null,[k,D,g,X,te]),he=!!(O!=null&&O.member.open),ce=O==null?void 0:O.input,xe=(O==null?void 0:O.node.path)||gn,Se=(t=O==null?void 0:O.elementRef)==null?void 0:t.current,pe=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:Se||null,children:ce,focused:r,markers:D,onClose:W,onOpen:U,onPathFocus:a,onRemove:V,open:he,parentSchemaType:Z,path:xe,presence:Y,readOnly:!!u,renderAnnotation:p,renderBlock:m,renderDefault:YIe,renderField:b,renderInlineBlock:x,renderInput:y,renderItem:w,renderPreview:C,schemaType:_,selected:S,validation:te,value:E}),[n,Se,ce,r,D,W,U,a,V,he,Z,xe,Y,u,d,p,m,b,x,y,w,C,_,S,te,E]);return h.useMemo(()=>l.jsx(M,{ref:O==null?void 0:O.elementRef,contentEditable:!1,children:l.jsx(H,{paddingBottom:1,marginY:3,style:void 0,children:l.jsxs(Mon,{flex:1,children:[l.jsx(it,{placement:"top",portal:"editor",disabled:!X,content:ae,children:l.jsx(Ron,{...K,children:m&&m(pe)})}),l.jsx(Fon,{marginRight:1,children:l.jsx(Lon,{children:v&&E&&r&&!u&&l.jsx(VIe,{block:E,onChange:j,renderBlockActions:v})})}),o&&O&&l.jsx($on,{$hasChanges:O.member.item.changed,onMouseOut:B,onMouseOver:z,children:l.jsx(UIe,{hasFocus:r,isChanged:O.member.item.changed,path:O.member.item.path,withHoverEffect:!1})}),T&&l.jsx(HIe,{})]})})}),[pe,r,B,z,K,o,O,j,u,m,v,T,ae,X,E])}const YIe=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,value:g,validation:b}=e,x=PMe(g),y=b.filter(E=>E.level==="error").length>0,w=b.filter(E=>E.level==="warning").length>0,C=s.length>0,_=v||i?"primary":"default",S=h.useCallback(E=>{E.preventDefault(),E.stopPropagation(),c()},[c]);return l.jsxs(l.Fragment,{children:[l.jsx(Pon,{"data-focused":i?"":void 0,"data-image-preview":x?"":void 0,"data-invalid":y?"":void 0,"data-markers":C?"":void 0,"data-read-only":f?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":w?"":void 0,flex:1,onDoubleClick:S,padding:x?0:1,tone:_,children:p({actions:l.jsx(zon,{isOpen:d,focused:i,onOpen:c,onRemove:u,readOnly:f,value:g}),layout:x?"blockImage":"block",schemaType:m,skipVisibilityCheck:!0,value:g})}),d&&l.jsx(mN,{floatingBoundary:t,defaultType:"dialog",onClose:a,autoFocus:i,schemaType:m,referenceBoundary:n,referenceElement:r,children:o})]})},sy=[1,2,3,4,5,6,7,8,9],Bie=["●","○","■"],Nie=["number","lower-alpha","lower-roman"],Jon={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},ein={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};function Qh(e){return"list-level-".concat(e)}var zie=Object.freeze,tin=Object.defineProperty,Dc=(e,t)=>zie(tin(e,"raw",{value:zie(t||e.slice())})),Vie,Hie,Uie,Wie,qie,Yie,Gie,Kie,Zie,Xie;function nin(e){var t;const{$level:n,theme:r}=e,{color:o,fonts:i,radius:s,space:a}=r.sanity,c=Nie[(n-1)%Nie.length],u=Bie[(n-1)%Bie.length];return de(Vie||(Vie=Dc([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),o.dark?"screen":"multiply",a[1],a[1],a[1],a[1],s[2],o.dark?fe.purple[950].hex:fe.purple[50].hex,o.muted.caution.enabled.border,o.muted.caution.hovered.bg,o.muted.critical.enabled.border,o.muted.critical.hovered.bg,Qh(n),Qh(n),c,u,i.text.family,(t=o.selectable)==null?void 0:t.primary.pressed.bg)}const rin=P.div(nin),oin=P(M)(Hie||(Hie=Dc([`
  position: relative;
  display: flex;
`]))),iin=P.div(Uie||(Uie=Dc([`
  user-select: none;
  white-space: nowrap;
`]))),sin=P(M)(Wie||(Wie=Dc([`
  user-select: none;
`]))),ain=P(M)(qie||(qie=Dc([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),lin=P(H)(e=>{let{theme:t}=e;const{fonts:n,space:r}=t.sanity,o=n.text.sizes[1],i=n.text.sizes[2],s=o.lineHeight-o.ascenderHeight-o.descenderHeight,a=i.lineHeight-i.ascenderHeight-i.descenderHeight,u=0-(s+r[2]+r[2]-a)/2;return de(Yie||(Yie=Dc([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),cin=P(M)(Gie||(Gie=Dc([`
  max-width: 250px;
`]))),uin=P(H)(Kie||(Kie=Dc([`
  position: relative;
  padding-left: `,`px;
`])),e=>{let{$level:t}=e;return t?t*32:0}),din=P.div(e=>{let{theme:t,$hasChanges:n}=e;const{space:r}=t.sanity;return de(Xie||(Xie=Dc([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),r[2],r[1],!n&&de(Zie||(Zie=Dc([`
        display: none;
      `]))))});var Qie=Object.freeze,fin=Object.defineProperty,GIe=(e,t)=>Qie(fin(e,"raw",{value:Qie(t||e.slice())})),Jie,ese;const yd=P.div(Jie||(Jie=GIe([`
  display: block;
`]))),gN=e=>{let{children:t,...n}=e;return l.jsx(L,{"data-testid":"text-style--normal",...n,children:l.jsx(yd,{children:t})})},KIe=e=>{let{children:t,...n}=e;return l.jsx(Wo,{as:"h1","data-testid":"text-style--h1",size:5,...n,children:l.jsx(yd,{children:t})})},ZIe=e=>{let{children:t,...n}=e;return l.jsx(Wo,{as:"h2","data-testid":"text-style--h2",size:4,...n,children:l.jsx(yd,{children:t})})},XIe=e=>{let{children:t,...n}=e;return l.jsx(Wo,{as:"h3","data-testid":"text-style--h3",size:3,...n,children:l.jsx(yd,{children:t})})},QIe=e=>{let{children:t,...n}=e;return l.jsx(Wo,{as:"h4","data-testid":"text-style--h4",size:2,...n,children:l.jsx(yd,{children:t})})},JIe=e=>{let{children:t,...n}=e;return l.jsx(Wo,{as:"h5","data-testid":"text-style--h5",size:1,...n,children:l.jsx(yd,{children:t})})},e3e=e=>{let{children:t,...n}=e;return l.jsx(Wo,{as:"h6","data-testid":"text-style--h6",size:0,...n,children:l.jsx(yd,{children:t})})},hin=P.blockquote(ese||(ese=GIe([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),e=>{let{theme:t}=e;return t.sanity.space[3]}),t3e=e=>{let{children:t,...n}=e;return l.jsx(hin,{"data-testid":"text-style--blockquote",...n,children:l.jsx(L,{as:"p",children:t})})},LO={normal:gN,h1:KIe,h2:ZIe,h3:XIe,h4:QIe,h5:JIe,h6:e3e,blockquote:t3e};function pin(e){const{children:t,floatingBoundary:n,focused:r,isFullscreen:o,onItemClose:i,onItemOpen:s,onPathFocus:a,path:c,readOnly:u,referenceBoundary:d,renderBlock:f,renderAnnotation:p,renderBlockActions:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:C,selected:_,spellCheck:S,value:E}=e,{Markers:j}=ci().__internal.components,[k,T]=h.useState(!1),A=UA(c),D=WA(_n(c)),I=wo(),{onChange:O}=fa(),$=J0(c,!0),R=h.useMemo(()=>$.filter(ce=>wn(ce.path,c)||ce.path.slice(-3)[1]==="children"&&ce.path.length-c.length===2),[c,$]),z=h.useCallback(()=>T(!0),[]),B=h.useCallback(()=>T(!1),[]),{validation:U,hasError:W,hasWarning:V,hasInfo:K}=HA(D==null?void 0:D.node),te=!!v&&A.length>0,N=W||V||te||K,G=h.useCallback(()=>{D&&s(D.node.path)},[s,D]),q=h.useCallback(()=>{const ce={path:c.slice(-1),offset:0},xe={focus:ce,anchor:ce};Ce.delete(I,xe,{mode:"blocks"}),Ce.focus(I)},[c,I]),Z=h.useMemo(()=>l.jsxs(uin,{align:"flex-start",$level:E==null?void 0:E.level,children:[E.listItem&&l.jsx(iin,{contentEditable:!1,children:l.jsx(L,{"data-list-prefix":"",children:l.jsx(yd,{})})}),l.jsx("div",{"data-text":"",style:void 0,children:t})]}),[E.listItem,E.level,t]),ie=h.useMemo(()=>o&&!m?{paddingX:5}:o&&m?{paddingLeft:5,paddingRight:2}:m?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,m]),ne=h.useMemo(()=>E.listItem?{paddingY:2}:ein[E.style||"normal"]||{paddingY:2},[E]),Y=!!(D!=null&&D.member.open),X=I.schemaTypes.portableText,ae=h.useMemo(()=>{var ce;return{__unstable_floatingBoundary:n,__unstable_referenceBoundary:d,__unstable_referenceElement:((ce=D==null?void 0:D.elementRef)==null?void 0:ce.current)||null,children:Z,focused:r,markers:A,onClose:i,onOpen:G,onPathFocus:a,onRemove:q,open:Y,parentSchemaType:X,path:(D==null?void 0:D.node.path)||gn,presence:R,readOnly:!!u,renderAnnotation:p,renderBlock:f,renderDefault:n3e,renderField:g,renderInput:x,renderInlineBlock:b,renderItem:y,renderPreview:w,schemaType:C,selected:_,validation:U,value:E}},[n,r,Y,A,D==null?void 0:D.elementRef,D==null?void 0:D.node.path,i,G,a,q,X,u,d,p,f,g,b,x,y,w,C,_,Z,R,U,E]),he=h.useMemo(()=>N&&l.jsx(cin,{padding:2,children:l.jsx(j,{markers:A,renderCustomMarkers:v,validation:U})})||null,[j,A,v,N,U]);return h.useMemo(()=>l.jsx(M,{"data-testid":"text-block",...ne,style:void 0,ref:D==null?void 0:D.elementRef,children:l.jsx(oin,{"data-testid":"text-block__wrapper",children:l.jsxs(H,{flex:1,...ie,children:[l.jsx(M,{flex:1,children:l.jsx(it,{content:he,disabled:!N,placement:"top",portal:"editor",children:l.jsx(rin,{$level:E.level||1,"data-error":W?"":void 0,"data-list-item":E.listItem,"data-markers":te?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":V?"":void 0,spellCheck:S,children:f&&f(ae)})})}),l.jsxs(sin,{contentEditable:!1,children:[l.jsx(ain,{marginRight:1,children:l.jsx(lin,{children:m&&r&&!u&&l.jsx(VIe,{onChange:O,block:E,renderBlockActions:m})})}),o&&D&&l.jsx(din,{$hasChanges:D.member.item.changed,onMouseEnter:z,onMouseLeave:B,children:l.jsx(UIe,{hasFocus:r,isChanged:D.member.item.changed,path:D.member.item.path,withHoverEffect:!1})})]}),k&&l.jsx(HIe,{})]})})}),[ae,r,z,B,W,te,V,ie,o,D,O,ne,u,f,m,k,S,he,N,E])}const n3e=e=>l.jsx(l.Fragment,{children:e.children});var tse=Object.freeze,min=Object.defineProperty,gin=(e,t)=>tse(min(e,"raw",{value:tse(t||e.slice())})),nse;const vin=P(rn)(nse||(nse=gin([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),yin=["top","bottom"];function bin(e){const{floatingBoundary:t,onClosePopover:n,onEdit:r,onDelete:o,referenceBoundary:i,referenceElement:s,title:a,open:c}=e,{sanity:u}=As(),d=h.useRef(null),f=h.useRef(null),p=u.color.dark?"light":"dark";rs(h.useCallback(g=>{g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),n())},[n]));const m=h.useCallback(g=>{var b;if(!((b=f.current)!=null&&b.disabled)){g.preventDefault(),g.stopPropagation();try{o(g)}catch(x){console.error(x)}finally{f.current&&(f.current.disabled=!0)}}},[o]),v=h.useMemo(()=>l.jsx(M,{padding:1,children:l.jsxs(Zt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:a})}),l.jsx(oe,{icon:Ou,mode:"bleed",onClick:r,padding:2,ref:d,alt:"Edit object"}),l.jsx(oe,{ref:f,icon:yo,mode:"bleed",padding:2,onClick:m,tone:"critical",alt:"Remove object"})]})}),[m,r,a]);return l.jsx(vin,{constrainSize:!0,content:v,fallbackPlacements:yin,floatingBoundary:t,open:c,placement:"top",portal:!0,referenceBoundary:i,referenceElement:s,scheme:p})}var rse=Object.freeze,xin=Object.defineProperty,vN=(e,t)=>rse(xin(e,"raw",{value:rse(t||e.slice())})),ose,ise,sse;const win=P(Q)(Sin),Cin=P.span(ose||(ose=vN([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),_in=P(M)(ise||(ise=vN([`
  max-width: 250px;
`])));function Sin(e){let{theme:t}=e;var n,r,o;const{color:i,radius:s}=t.sanity;return de(sse||(sse=vN([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),s[2],(n=i.selectable)==null?void 0:n.primary.selected.border,(r=i.selectable)==null?void 0:r.primary.pressed.fg,(o=i.selectable)==null?void 0:o.primary.pressed.bg,i.input.default.hovered.border,i.dark?fe.purple[950].hex:fe.purple[50].hex,i.muted.caution.hovered.bg,i.muted.caution.hovered.border,i.input.invalid.enabled.bg,i.input.invalid.enabled.border,i.input.invalid.hovered.border)}const Ein=e=>{var t;const{floatingBoundary:n,focused:r,onItemClose:o,onItemOpen:i,onPathFocus:s,path:a,readOnly:c,referenceBoundary:u,relativePath:d,renderAnnotation:f,renderBlock:p,renderCustomMarkers:m,renderField:v,renderItem:g,renderInlineBlock:b,renderInput:x,renderPreview:y,schemaType:w,selected:C,value:_}=e,{Markers:S}=ci().__internal.components,E=wo(),j=UA(a),k=WA(_n(a)),{validation:T,hasError:A,hasInfo:D,hasWarning:I}=HA(k==null?void 0:k.node),O=E.schemaTypes.block,$=j.length>0,R=h.useMemo(()=>({anchor:{path:d,offset:0},focus:{path:d,offset:0}}),[d]),z=h.useCallback(()=>{Ce.delete(E,R,{mode:"children"}),Ce.focus(E)},[R,E]),B=h.useCallback(()=>{k&&(Ce.blur(E),i(k.node.path))},[E,i,k]),U=h.useCallback(()=>{o(),Ce.select(E,R),Ce.focus(E)},[o,E,R]),W=!!(k!=null&&k.member.open),V=k==null?void 0:k.input,K=(k==null?void 0:k.node.path)||gn,te=(t=k==null?void 0:k.elementRef)==null?void 0:t.current,N=J0(a,!0),G=h.useMemo(()=>N.filter(ne=>wn(ne.path,a)),[a,N]),q=h.useMemo(()=>({__unstable_floatingBoundary:n,__unstable_referenceBoundary:u,__unstable_referenceElement:te,children:V,focused:r,onClose:U,onOpen:B,onPathFocus:s,onRemove:z,open:W,markers:j,member:k==null?void 0:k.member,parentSchemaType:O,path:K,presence:G,readOnly:!!c,renderAnnotation:f,renderBlock:p,renderDefault:r3e,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:g,renderPreview:y,schemaType:w,selected:C,value:_,validation:T}),[n,r,V,W,j,k==null?void 0:k.member,K,U,B,s,z,O,c,u,te,f,p,v,b,x,g,y,G,w,C,T,_]),Z=A||I||D||$,ie=h.useMemo(()=>Z&&l.jsx(_in,{padding:2,children:l.jsx(S,{markers:j,validation:T,renderCustomMarkers:m})})||null,[S,j,m,Z,T]);return h.useMemo(()=>l.jsx("span",{ref:k==null?void 0:k.elementRef,contentEditable:!1,children:l.jsx(it,{placement:"bottom",portal:"editor",disabled:!Z,content:ie,children:b&&l.jsx("span",{style:{position:"relative"},children:b(q)})})}),[q,k==null?void 0:k.elementRef,b,ie,Z])},r3e=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,renderPreview:p,schemaType:m,selected:v,validation:g,value:b}=e,x=s.length>0,[y,w]=h.useState(!1),C=(m==null?void 0:m.title)||m.name,_=g.filter(T=>T.level==="error").length>0,S=g.filter(T=>T.level==="warning").length>0,E=h.useCallback(()=>{w(!1),c()},[c]);h.useEffect(()=>{w(d?!1:!!i)},[i,d]);const j=h.useMemo(()=>{if(_)return"critical";if(S)return"caution";if(v||i)return"primary"},[i,_,S,v]),k=h.useCallback(()=>{w(!1)},[]);return l.jsxs(l.Fragment,{children:[l.jsx(win,{"data-focused":i||void 0,"data-invalid":_||void 0,"data-markers":x||void 0,"data-read-only":f||void 0,"data-selected":v||void 0,"data-warning":S||void 0,forwardedAs:"span",onClick:f?E:void 0,onDoubleClick:E,tone:j,children:l.jsx(Cin,{children:p({layout:"inline",schemaType:m,skipVisibilityCheck:!0,value:b,fallbackTitle:"Click to edit"})})}),r&&l.jsx(bin,{floatingBoundary:t,onClosePopover:k,onDelete:u,onEdit:E,open:y,referenceBoundary:n,referenceElement:r,title:C}),d&&l.jsx(mN,{defaultType:"popover",onClose:a,autoFocus:i,floatingBoundary:t,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};var ase=Object.freeze,kin=Object.defineProperty,jin=(e,t)=>ase(kin(e,"raw",{value:ase(t||e.slice())})),lse;const Tin=P(rn)(lse||(lse=jin([`
  &[data-popper-reference-hidden='true'] {
    display: none !important;
  }
`]))),Ain=["top","bottom"];function Din(e){const{annotationOpen:t,floatingBoundary:n,onOpen:r,onRemove:o,referenceBoundary:i,referenceElement:s,selected:a,title:c}=e,[u,d]=h.useState(!1),[f,p]=h.useState(null),m=h.useRef(null),{sanity:v}=As(),g=h.useRef(null),b=v.color.dark?"light":"dark",x=h.useMemo(()=>f?{getBoundingClientRect:()=>f}:null,[f]);rs(h.useCallback(S=>{u&&S.key==="Escape"&&d(!1)},[u]));const y=h.useCallback(()=>{if(t){d(!1),p(null);return}const S=window.getSelection();if(!S||S.rangeCount===0)return;const E=S.getRangeAt(0);if(!(s==null?void 0:s.contains(E.commonAncestorContainer))){d(!1),p(null);return}const k=E==null?void 0:E.getBoundingClientRect();k&&(d(!0),p(k))},[t,s]);h.useEffect(()=>(document.addEventListener("selectionchange",y,{passive:!0}),()=>{document.removeEventListener("selectionchange",y)}),[y]);const w=h.useCallback(()=>{d(!1),r()},[r]);h.useEffect(()=>{!t&&a&&d(!0),t&&d(!1)},[t,a]);const C=h.useCallback(()=>{d(!1),o()},[o]),_=h.useCallback(()=>{m.current&&p(m.current.getBoundingClientRect())},[]);return h.useEffect(()=>{if(u)return i==null||i.addEventListener("scroll",_),()=>{i==null||i.removeEventListener("scroll",_)}},[u,i,_]),u?l.jsx(Tin,{open:u,floatingBoundary:n,constrainSize:!0,content:l.jsx(M,{padding:1,"data-testid":"annotation-toolbar-popover",children:l.jsxs(Zt,{space:1,children:[l.jsx(M,{padding:2,children:l.jsx(L,{weight:"semibold",size:1,children:c})}),l.jsx(oe,{icon:Ou,mode:"bleed",onClick:w,padding:2,alt:"Edit annotation",tabIndex:0}),l.jsx(oe,{icon:yo,mode:"bleed",padding:2,onClick:C,tone:"critical",alt:"Remove annotation",tabIndex:0})]})}),fallbackPlacements:Ain,placement:"top",portal:!0,preventOverflow:!0,ref:g,referenceBoundary:i,referenceElement:x,scheme:b}):null}var cse=Object.freeze,Iin=Object.defineProperty,o3e=(e,t)=>cse(Iin(e,"raw",{value:cse(t||e.slice())})),use,dse;const Oin=P.span(e=>{var t,n,r,o;const{$toneKey:i="default",theme:s}=e;return de(use||(use=o3e([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(t=s.sanity.color.selectable)==null?void 0:t[i].enabled.bg,(n=s.sanity.color.selectable)==null?void 0:n[i].enabled.fg,(r=s.sanity.color.selectable)==null?void 0:r[i].enabled.fg,(o=s.sanity.color.selectable)==null?void 0:o[i].enabled.fg,s.sanity.color.dark?fe.purple[950].hex:fe.purple[50].hex,s.sanity.color.muted.caution.hovered.bg,s.sanity.color.muted.critical.hovered.bg)}),Pin=P(M).attrs({forwardedAs:"span"})(dse||(dse=o3e([`
  max-width: 250px;
`])));function Rin(e){var t;const{children:n,editorNodeFocused:r,floatingBoundary:o,focused:i,onItemClose:s,onItemOpen:a,onPathFocus:c,path:u,readOnly:d,referenceBoundary:f,renderAnnotation:p,renderBlock:m,renderCustomMarkers:v,renderField:g,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:w,schemaType:C,selected:_,value:S}=e,{Markers:E=hDe}=ci().__internal.components,j=wo(),k=h.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:S._key}]),[u,S._key]),[T,A]=h.useState(null),D=h.useMemo(()=>u.slice(u.length-3,u.length),[u]),I=WA(_n(k)),{validation:O}=HA(I==null?void 0:I.node),$=UA(u),R=h.useMemo(()=>l.jsx("span",{"data-annotation":"",children:n}),[n]),z=h.useCallback(()=>{I&&(Ce.blur(j),c(I.node.focusPath),a(I.node.path))},[j,I,a,c]),B=h.useCallback(()=>{s();const Y=Ce.getSelection(j),X=(Y==null?void 0:Y.focus.path)&&wn(Y.focus.path,D)&&Y.focus.offset,ae=(Y==null?void 0:Y.anchor.path)&&wn(Y.anchor.path,D)&&Y.anchor.offset;Ce.select(j,{anchor:{path:D,offset:ae||0},focus:{path:D,offset:X||0}}),Ce.focus(j)},[j,D,s]),U=h.useCallback(()=>{Ce.removeAnnotation(j,C),Ce.focus(j)},[j,C]),W=h.useMemo(()=>O.length>0||$.length>0?l.jsx(it,{placement:"bottom",portal:"default",content:l.jsx(Pin,{padding:2,children:l.jsx(E,{markers:$,renderCustomMarkers:v,validation:O})}),children:R}):void 0,[E,$,v,R,O]),V=J0(u,!0),K=h.useMemo(()=>V.filter(Y=>wn(Y.path,u)),[u,V]),te=!!(I!=null&&I.member.open),N=I==null?void 0:I.input,G=(I==null?void 0:I.node.path)||gn,q=T,Z=h.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:f,__unstable_referenceElement:q,__unstable_textElementFocus:r,children:N,focused:i,markers:$,onClose:B,onOpen:z,onPathFocus:c,onRemove:U,open:te,parentSchemaType:j.schemaTypes.block,path:G,presence:K,readOnly:!!d,renderAnnotation:p,renderBlock:m,renderField:g,renderInlineBlock:b,renderInput:x,renderPreview:w,renderItem:y,renderDefault:k4,schemaType:C,selected:_,textElement:W||R,validation:O,value:S}),[j.schemaTypes.block,r,o,i,N,te,$,W,G,B,z,c,U,d,f,q,p,m,g,b,x,y,w,K,C,_,R,O,S]),ie=(t=C.components)==null?void 0:t.annotation,ne=h.useCallback(Y=>{I!=null&&I.elementRef&&(I.elementRef.current=Y),A(Y)},[I]);return h.useMemo(()=>l.jsx("span",{ref:ne,style:void 0,children:ie?l.jsx(ie,{...Z}):l.jsx(k4,{...Z})}),[ie,Z,ne])}const k4=e=>{const{__unstable_floatingBoundary:t,__unstable_referenceBoundary:n,__unstable_referenceElement:r,children:o,focused:i,markers:s,onClose:a,onOpen:c,onRemove:u,open:d,readOnly:f,selected:p,schemaType:m,textElement:v,validation:g}=e,b=m.name==="link",x=g.filter(_=>_.level==="error").length>0,y=g.filter(_=>_.level==="warning").length>0,w=s.length>0,C=h.useMemo(()=>x?"critical":y?"caution":b?"primary":"default",[b,x,y]);return l.jsxs(Oin,{$toneKey:C,"data-link":b?"":void 0,"data-error":x?"":void 0,"data-warning":y?"":void 0,"data-markers":w||void 0,onClick:f?c:void 0,children:[v,l.jsx(Din,{annotationOpen:d,floatingBoundary:t,onOpen:c,onRemove:u,referenceBoundary:n,referenceElement:r,selected:p,title:m.title||m.name}),d&&l.jsx(mN,{defaultType:"popover",floatingBoundary:t,onClose:a,autoFocus:i,referenceBoundary:n,referenceElement:r,schemaType:m,children:o})]})};function $in(e){var t;return(t=e.components)!=null&&t.block?e.components.block:VA(e)?n3e:YIe}function Min(e){var t;return(t=e.components)!=null&&t.inlineBlock?e.components.inlineBlock:r3e}function Fin(e){var t;return(t=e.components)!=null&&t.annotation?e.components.annotation:k4}const Lin=/^\d+$/;function Bin(e){return e.replace(/^['"]/,"").replace(/['"]$/,"")}function Nin(e){const[t,n]=e.split("==");return{[t]:Bin(n)}}function zin(e){return Lin.test(e)?Number(e):e}function Vin(e){return e.split(/[[.\]]/g).filter(Boolean).map(t=>t.includes("==")?Nin(t):zin(t))}function og(e){return Vin(e)}class r$n extends re.Component{constructor(){super(...arguments),this.state={focusPath:[]},this.handleFocus=t=>{this.setState({focusPath:t})},this.handleBlur=()=>{}}render(){return this.props.children({onBlur:this.handleBlur,onFocus:this.handleFocus,focusPath:this.state.focusPath})}}function c0(e){const{reference:t,children:n,observeAsset:r,waitPlaceholder:o}=e,i=t==null?void 0:t._ref,s=xo(()=>r(i),[i,r]);return l.jsx(l.Fragment,{children:i&&s?n(s):o})}function Hin(e){return e.files&&e.files.length>0?Promise.resolve(Array.from(e.files||[])):i3e(Array.from(e.items||[])).then(On)}function Uin(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t&&t.length>0?Promise.resolve(t):i3e(n).then(On)}function fse(e){return e===null?[]:[e]}function i3e(e){return Promise.all(e.map(t=>{if(t.kind==="file"&&t.webkitGetAsEntry){let n;try{n=t.webkitGetAsEntry()}catch{return fse(t.getAsFile())}return n?n.isDirectory?s3e(n):fse(t.getAsFile()):[]}if(t.kind==="file"){const n=t.getAsFile();return Promise.resolve(n?[n]:[])}return t.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",t.kind),Promise.resolve([]))}))}function s3e(e){if(e.isFile)return new Promise((t,n)=>e.file(t,n)).then(t=>[t]);if(e.isDirectory){const t=e.createReader();return new Promise((n,r)=>t.readEntries(n,r)).then(n=>n.filter(r=>!r.name.startsWith("."))).then(n=>Promise.all(n.map(s3e)).then(On))}return Promise.resolve([])}function Win(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return e.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((r,o)=>{const i=new Image;i.crossOrigin="anonymous",i.referrerPolicy="strict-origin-when-cross-origin",i.onload=()=>{const s=document.createElement("canvas");s.width=i.width,s.height=i.height;const a=s.getContext("2d");a==null||a.drawImage(i,0,0,s.width,s.height);try{s.toBlob(r,t,n)}catch(c){o(c)}},i.src=e})}const qin={opacity:0,position:"absolute"};function a3e(e){return re.forwardRef(function(n,r){const{onFiles:o,onFilesOver:i,onFilesOut:s,disabled:a,...c}=n,[u,d]=re.useState(!1),f=re.useRef(null),p=fr(r),m=re.useRef([]),v=h.useCallback(S=>{o==null||o(S)},[o]),g=h.useCallback(S=>{S.target===p.current&&(S.ctrlKey||S.metaKey)&&S.key==="v"&&d(!0)},[p]),b=h.useCallback(S=>{Hin(S.clipboardData).then(E=>f.current?E.length>0?E:Yin(f.current,"image/jpeg"):[]).then(E=>{var j;v(E),d(!1),(j=p.current)==null||j.focus()})},[v,p]),x=h.useCallback(S=>{m.current=[],S.preventDefault(),S.stopPropagation();const E=S.nativeEvent.dataTransfer;o&&E&&Uin(E).then(j=>{j&&v(j)}),s==null||s()},[v,o,s]),y=h.useCallback(S=>{o&&(S.preventDefault(),S.stopPropagation())},[o]),w=h.useCallback(S=>{if(S.stopPropagation(),i&&p.current===S.currentTarget){m.current=[...new Set(m.current),S.currentTarget];const E=Array.from(S.dataTransfer.items).map(j=>({type:j.type,kind:j.kind}));i(E)}},[i,p]),C=h.useCallback(S=>{S.stopPropagation();const E=m.current.indexOf(S.currentTarget);E>-1&&m.current.splice(E,1),m.current.length===0&&(s==null||s())},[s]),_=re.useRef(!1);return re.useEffect(()=>{var S;!_.current&&u&&f.current?(f.current.focus(),Gin(f.current)):_.current&&!u&&((S=f.current)==null||S.focus()),_.current=u},[u]),l.jsxs(l.Fragment,{children:[l.jsx(e,{...c,ref:p,onKeyDown:a?void 0:g,onDragOver:a?void 0:y,onDragEnter:a?void 0:w,onDragLeave:a?void 0:C,onDrop:a?void 0:x}),!a&&u&&l.jsx("div",{contentEditable:!0,onPaste:b,ref:f,style:qin})]})})}function Yin(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return e.isContentEditable?new Promise(n=>setTimeout(n,10)).then(()=>Array.from(e.querySelectorAll("img"))).then(n=>(e.innerHTML="",n)).then(n=>Promise.all(n.map(r=>Win(r.src)))).then(n=>n.map(r=>new File([r],"pasted-image.jpg",{type:t}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(e.tagName)))}function Gin(e){const t=document.createRange();t.selectNodeContents(e);const n=window.getSelection();n==null||n.removeAllRanges(),n==null||n.addRange(t)}function yN(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function bN(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&yN(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var hse=Object.freeze,Kin=Object.defineProperty,Zin=(e,t)=>hse(Kin(e,"raw",{value:hse(t||e.slice())})),pse;function l3e(e){return P(e)(t=>{const n={width:t.$border?1:0,color:"var(--card-border-color)"};return de(pse||(pse=Zin([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),yN(n),ge(t.theme.sanity.radius[1]),bN({base:t.theme.sanity.color.base,border:n,focusRing:t.theme.sanity.focusRing}))})}const c3e=l3e(a3e(Q));var mse=Object.freeze,Xin=Object.defineProperty,qA=(e,t)=>mse(Xin(e,"raw",{value:mse(t||e.slice())})),gse,vse,yse,bse;const Qin=P(Q)(gse||(gse=qA([`
  min-height: 82px;
  box-sizing: border-box;
`]))),Jin=P(H)(vse||(vse=qA([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),esn=P(ee)(yse||(yse=qA([`
  position: relative;
  width: 60%;
`]))),tsn=P(lr)(bse||(bse=qA([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),nsn=1e3*60*2,rsn=e=>new Date().getTime()-new Date(e).getTime();function u3e(e){let{uploadState:t,onCancel:n,onStale:r,height:o}=e;const i=t.file.name;return h.useEffect(()=>{rsn(t.updatedAt)>nsn&&(r==null||r())},[t.updatedAt,r]),l.jsx(Qin,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:l.jsxs(Jin,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[l.jsxs(esn,{children:[l.jsx(H,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:l.jsx(L,{size:1,children:l.jsxs(Zt,{space:2,children:["Uploading",l.jsx(tsn,{size:1,children:i||"..."})]})})}),l.jsx(Q,{marginTop:3,radius:5,shadow:1,children:l.jsx(Mqt,{value:t.progress})})]}),n?l.jsx(oe,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:n}):null]})})}function osn(e,t){return new Promise((n,r)=>{const o=new XMLHttpRequest;o.onload=()=>{const i=new FileReader;i.onloadend=()=>{var s;const a=(s=i.result)==null?void 0:s.toString(),c=a==null?void 0:a.substring(11,a.indexOf(";base64"));if(!c&&!t){r(new Error("Could not find mime type for image"));return}n(d3e(i.result,t||"".concat(ud(),".").concat(c)))},i.readAsDataURL(o.response)},o.onerror=i=>{r(i)},o.open("GET",e),o.responseType="blob",o.send()})}function isn(e,t){return new Promise((n,r)=>{const o=e.toString(),i=o.substring(11,o.indexOf(";base64"));if(!i&&!t){r(new Error("Could not find mime type for image"));return}n(d3e(e,t||"".concat(ud(),".").concat(i)))})}function d3e(e,t){var n;const r=e.split(","),o=(n=r[0].match(/:(.*?);/))==null?void 0:n[1],i=atob(r[1]);let s=i.length;const a=new Uint8Array(s);for(;s--;)a[s]=i.charCodeAt(s);return new File([a],t,{type:o})}function f3e(e){let{assetFromSource:t,onChange:n,type:r,resolveUploader:o,uploadWith:i,isImage:s}=e;if(!t)throw new Error("No asset given");if(!Array.isArray(t)||t.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const a=t[0],c=a.assetDocumentProps,u=c==null?void 0:c.originalFilename,d=c==null?void 0:c.label,f=c==null?void 0:c.title,p=c==null?void 0:c.description,m=c==null?void 0:c.creditLine,v=c==null?void 0:c.source,g=s?[Je(["hotspot"]),Je(["crop"])]:[];switch(a.kind){case"assetDocumentId":n([Qi({_type:r.name}),...g,bt({_type:"reference",_ref:a.value},["asset"])]);break;case"file":{const b=o(r,a.value);b&&i(b,a.value,{label:d,title:f,description:p,creditLine:m,source:v});break}case"base64":isn(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:v})});break;case"url":osn(a.value,u).then(b=>{const x=o(r,b);x&&i(x,b,{label:d,title:f,description:p,creditLine:m,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var xse=Object.freeze,ssn=Object.defineProperty,asn=(e,t)=>xse(ssn(e,"raw",{value:xse(t||e.slice())})),wse;const lsn=P(ze)(wse||(wse=asn([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),csn=re.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,b="".concat(o||"","-").concat(h.useId()),x=re.useCallback(w=>{u&&w.target.files&&u(Array.from(w.target.files))},[u]),y=l.jsxs(H,{align:"center",justify:"flex-start",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,kr.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",children:m})]});return l.jsxs(lsn,{...g,htmlFor:b,padding:0,fontSize:2,disabled:v,ref:n,children:[y,l.jsx("input",{"data-testid":"file-menuitem-input",accept:i,capture:s,id:b,multiple:c,onChange:x,type:"file",value:"",disabled:v})]})});function h3e(e){const{onUpload:t,onReset:n,readOnly:r,accept:o,directUploads:i,browse:s,downloadUrl:a,copyUrl:c}=e,{push:u}=qo(),d=h.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:"The URL is copied to the clipboard"})},[u,c]);return l.jsxs(l.Fragment,{children:[l.jsx(M,{padding:2,children:l.jsx(Ht,{muted:!0,size:1,children:"Replace"})}),l.jsx(csn,{icon:mj,mode:"bleed",onSelect:t,accept:o,text:"Upload","data-testid":"file-input-upload-button",disabled:r||!i,fontSize:2}),s,(a||c)&&l.jsx($r,{}),a&&l.jsx(ze,{as:"a",icon:zF,text:"Download",href:a}),c&&l.jsx(ze,{icon:Iu,text:"Copy URL",onClick:d}),l.jsx($r,{}),l.jsx(ze,{tone:"critical",icon:Pu,text:"Clear field",onClick:n,disabled:r,"data-testid":"file-input-clear"})]})}var Cse=Object.freeze,usn=Object.defineProperty,dsn=(e,t)=>Cse(usn(e,"raw",{value:Cse(t||e.slice())})),_se;const fsn=P(H)(_se||(_se=dsn([`
  pointer-events: none;
`])));function p3e(e){const{hoveringFiles:t,type:n,readOnly:r,acceptedFiles:o,rejectedFilesCount:i,directUploads:s}=e,a=n==="file",c=h.useMemo(()=>r?l.jsx(cw,{}):t&&i>0||!s?l.jsx(Ef,{}):a?l.jsx(y0,{}):l.jsx(Al,{}),[s,t,a,r,i]),u=h.useMemo(()=>{let d="Drag or paste ".concat(n," here");return s?(r&&(d="Read only"),t&&s&&!r&&(o.length>0&&(d="Drop to upload ".concat(n)),i>0&&(d="Can't upload ".concat(i," file").concat(i>1?"s":""," here"))),d):"Can't upload files here"},[o.length,s,t,r,i,n]);return l.jsxs(fsn,{align:"center",gap:2,justify:"center",children:[l.jsx(L,{muted:!0,children:c}),l.jsx(L,{size:1,muted:!0,children:u})]})}var Sse=Object.freeze,hsn=Object.defineProperty,psn=(e,t)=>Sse(hsn(e,"raw",{value:Sse(t||e.slice())})),Ese;const msn=P(oe).attrs({forwardedAs:"label"})(e=>{let{theme:t}=e;const{focusRing:n}=t.sanity,r=t.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return de(Ese||(Ese=psn([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      & input {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),bN({base:r,border:o,focusRing:n}))}),gsn=re.forwardRef(function(t,n){const{icon:r,id:o,accept:i,capture:s,fontSize:a,multiple:c,onSelect:u,padding:d=3,space:f=3,textAlign:p,text:m,disabled:v,...g}=t,b="".concat(o||"","-").concat(h.useId()),x=As(),y=re.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=l.jsxs(H,{align:"center",justify:"center",padding:d,children:[r&&l.jsx(M,{marginRight:m?f:void 0,children:l.jsxs(L,{size:a,children:[h.isValidElement(r)&&r,kr.isValidElementType(r)&&h.createElement(r)]})}),m&&l.jsx(L,{align:p,size:a,textOverflow:"ellipsis",weight:x.sanity.button.textWeight,children:m})]});return l.jsxs(msn,{...g,htmlFor:b,padding:0,fontSize:2,disabled:v,children:[w,l.jsx("input",{"data-testid":"file-button-input",accept:i,capture:s,id:b,multiple:c,onChange:y,ref:n,type:"file",value:"",disabled:v})]})});function vsn(e){const{accept:t,acceptedFiles:n,browse:r,directUploads:o,hoveringFiles:i,onUpload:s,readOnly:a,rejectedFilesCount:c,type:u}=e,[d,f]=h.useState(null),p=Wj(d),m=(p==null?void 0:p.border)&&p.border.width<440;return l.jsxs(H,{align:m?void 0:"center",direction:m?"column":"row",gap:4,justify:"space-between",paddingY:m?1:void 0,ref:f,children:[l.jsx(H,{flex:1,justify:"center",children:l.jsx(p3e,{acceptedFiles:n,directUploads:o,hoveringFiles:i,readOnly:a,rejectedFilesCount:c,type:u})}),l.jsxs(H,{align:"center",gap:2,justify:"center",wrap:"wrap",children:[l.jsx(gsn,{accept:t,"data-testid":"file-input-upload-button",disabled:a||!o,icon:mj,mode:"ghost",onSelect:s,text:"Upload"}),r]})]})}const m3e=re.memo(vsn);var kse=Object.freeze,ysn=Object.defineProperty,bsn=(e,t)=>kse(ysn(e,"raw",{value:kse(t||e.slice())})),jse;const xsn=P(oe)(jse||(jse=bsn([`
  width: 100%;
`])));function g3e(e){let{onClearStale:t}=e;return l.jsxs(Q,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(H,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Br,{})})}),l.jsxs(ee,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Incomplete upload"}),l.jsx(L,{size:1,children:"An upload has made no progress in the last 6m and likely got interrupted. You can safely clear the incomplete upload and try uploading again."})]})]}),l.jsx(xsn,{icon:Pu,text:"Clear upload",onClick:t,mode:"ghost"})]})}var Tse=Object.freeze,wsn=Object.defineProperty,v3e=(e,t)=>Tse(wsn(e,"raw",{value:Tse(t||e.slice())})),Ase,Dse;const Csn=P(Q)(Ase||(Ase=v3e([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),_sn=P(H)(Dse||(Dse=v3e([`
  height: 100%;
`])));function y3e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(e===0)return"0 Bytes";const n=1024,r=t<0?0:t,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return"".concat(parseFloat((e/Math.pow(n,i)).toFixed(r))," ").concat(o[i])}function Ssn(e){const{originalFilename:t,size:n,children:r,muted:o,disabled:i,onClick:s,isMenuOpen:a,onMenuOpen:c,setMenuButtonElement:u}=e,[d,f]=h.useState(null),[p,m]=h.useState(null),v=h.useCallback(()=>c(!0),[c]);rs(h.useCallback(b=>{a&&(b.key==="Escape"||b.key==="Tab")&&(c(!1),p==null||p.focus())},[a,c,p])),dr(h.useCallback(b=>{p!=null&&p.contains(b.target)||c(!1)},[p,c]),[d]);const g=h.useCallback(b=>{u(b),m(b)},[u]);return h.useEffect(()=>{a&&(d==null||d.focus())},[a,d]),l.jsxs(H,{wrap:"nowrap",justify:"space-between",align:"center",children:[l.jsx(Q,{as:o||i?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:s,flex:1,children:l.jsxs(H,{wrap:"nowrap",align:"center",children:[l.jsx(Q,{padding:3,tone:"transparent",shadow:1,radius:1,children:l.jsx(L,{muted:o,children:l.jsx(y0,{})})}),l.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",children:t}),l.jsx(L,{size:1,muted:!0,"data-testid":"file-size",children:y3e(n)})]})]})}),l.jsx(M,{padding:2,children:l.jsx(H,{justify:"center",children:l.jsx(rn,{content:l.jsx(Nt,{ref:f,children:r}),id:"file-actions-menu",portal:!0,open:a,constrainSize:!0,children:l.jsx(oe,{"aria-label":"Open file options menu","data-testid":"options-menu-button",icon:Io,mode:"bleed",onClick:v,ref:g})})})})]})}function Ise(){return l.jsxs(H,{align:"center",justify:"flex-start",padding:2,children:[l.jsx(D0,{padding:3,radius:1,animated:!0}),l.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[l.jsx(UE,{style:{width:"100%"},radius:1,animated:!0}),l.jsx(UE,{style:{width:"100%"},radius:1,animated:!0})]})]})}var Ose=Object.freeze,Esn=Object.defineProperty,ksn=(e,t)=>Ose(Esn(e,"raw",{value:Ose(t||e.slice())})),Pse;const jsn=P(oe)(Pse||(Pse=ksn([`
  width: 100%;
`])));function Tsn(e){let{onClearValue:t}=e;return l.jsxs(Q,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(H,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Br,{})})}),l.jsxs(ee,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid file value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid file. Resetting this field will let you choose a new file."})]})]}),l.jsx(jsn,{icon:Pu,text:"Reset value",onClick:t,mode:"ghost"})]})}function Asn(e){let{children:t}=e;return t}const Dsn=["asset"];class Isn extends re.PureComponent{constructor(t){var n;super(t),n=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:r,value:o}=this.props,s=typeof r.slice(-1)[0]!="string",a=Object.keys(o||{}),u=a.filter(f=>!["_type","_key","_upload","asset"].includes(f)).length===0,d=["asset"].concat(a.filter(f=>["_upload"].includes(f))).map(f=>Je([f]));this.props.onChange(dt.from(u&&!s?Je():d))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(Je(["asset"]))},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.browseButtonElement)==null||r.focus()},this.setBrowseButtonElement=r=>{this.browseButtonElement=r},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{source:u}=i,d={metadata:qn(s,"options.metadata"),storeOriginalFilename:qn(s,"options.storeOriginalFilename"),source:u};n.cancelUpload(),n.setState({isUploading:!0}),a(dt.from([Qi({_type:s.name})])),n.uploadSubscription=r.upload(c,o,s,d).subscribe({next:f=>{f.patches&&a(dt.from(f.patches))},error:f=>{var p;console.error(f),(p=n.toast)==null||p.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{n.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;f3e({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=r=>{let{file:o,uploader:i}=r;this.uploadWith(i,o)},this.setToast=r=>{this.toast=r},this._assetFieldPath=t.path.concat(Dsn)}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(dt.from([Je(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n}=this.props,r=t.map(o=>{var i,s;return{file:o,uploader:(s=(i=this.props).resolveUploader)==null?void 0:s.call(i,n,o)}}).find(o=>o.uploader);r&&this.uploadWith(r.uploader,r.file),this.setState({isMenuOpen:!1})}renderUploadState(t){const{isUploading:n}=this.state;return l.jsx(u3e,{uploadState:t,onCancel:n?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props;if(!t)return null;const i=qn(r,"options.accept",""),s=t.component;return n&&n.asset?l.jsx(c0,{observeAsset:o,reference:n.asset,waitPlaceholder:l.jsx(Ise,{}),children:a=>l.jsx(s,{selectedAssets:[a],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"file",accept:i,dialogHeaderTitle:"Select file",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:t,changed:n,readOnly:r,elementProps:o}=this.props,{hoveringFiles:i,isStale:s}=this.state,a=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!CZ(t)?()=>l.jsx(Tsn,{onClearValue:this.handleClearField}):c=>l.jsxs(l.Fragment,{children:[s&&l.jsx(M,{marginBottom:2,children:l.jsx(g3e,{onClearStale:this.handleClearUploadState})}),l.jsx(li,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:n,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsx(c3e,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||i.length>0,style:{padding:1},sizing:"border",radius:2,children:l.jsxs("div",{style:{position:"relative"},children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),t!=null&&t.asset&&i.length>0?this.renderAssetMenu(this.getFileTone()):null,!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:t,readOnly:n,assetSources:r,schemaType:o,directUploads:i,observeAsset:s}=this.props,{isMenuOpen:a}=this.state,c=t==null?void 0:t.asset;if(!c)return null;const u=qn(o,"options.accept","");let d=r&&(r==null?void 0:r.length)===0?null:l.jsx(ze,{icon:ei,text:"Browse",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(r[0])},disabled:n,"data-testid":"file-input-browse-button"});return r.length>1&&(d=r.map(f=>l.jsx(ze,{text:f.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(f)},icon:f.icon||Al,disabled:n,"data-testid":"file-input-browse-button-".concat(f.name)},f.name))),l.jsx(c0,{reference:c,observeAsset:s,waitPlaceholder:l.jsx(Ise,{}),children:f=>{let{originalFilename:p,extension:m,url:v,size:g}=f;const b=p||"download.".concat(m);let x,y;return CZ(t)&&(y="".concat(v,"?dl"),x=v),l.jsx(Ssn,{size:g,originalFilename:b,muted:!n,onMenuOpen:w=>this.setState({isMenuOpen:w}),isMenuOpen:a,setMenuButtonElement:this.setBrowseButtonElement,children:l.jsx(h3e,{onUpload:this.handleSelectFiles,browse:d,onReset:this.handleRemoveButtonClick,downloadUrl:y,copyUrl:x,readOnly:n,accept:u,directUploads:i})})}})}renderAssetMenu(t){const{schemaType:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return l.jsx(Csn,{tone:t,children:l.jsx(_sn,{align:"center",justify:"center",gap:2,flex:1,children:l.jsx(p3e,{readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t.length===0?null:t.length>1&&!n&&r?l.jsx(on,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:l.jsx(oe,{mode:"ghost",text:"Select","data-testid":"file-input-multi-browse-button",icon:ei}),"data-testid":"input-select-button",menu:l.jsx(Nt,{children:t.map(i=>l.jsx(ze,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i)},icon:i.icon||Al,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))})}):l.jsx(oe,{fontSize:2,text:"Browse",icon:ei,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:t,schemaType:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o==null?void 0:o(n,u)),a=i.length-s.length,c=qn(n,"options.accept","");return l.jsx("div",{style:{padding:1},children:l.jsx(Q,{tone:t?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(m3e,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:t,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"file",accept:c,directUploads:r})})})}getFileTone(){const{directUploads:t,schemaType:n,value:r,readOnly:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i==null?void 0:i(n,u)),c=s.length-a.length;return s.length>0&&(c>0||!t)?"critical":!(r!=null&&r._upload)&&!o&&s.length>0?"primary":r!=null&&r._upload&&(r!=null&&r.asset)&&o?"transparent":"default"}render(){const{members:t,renderAnnotation:n,renderBlock:r,renderInlineBlock:o,renderItem:i,renderInput:s,renderField:a,renderPreview:c}=this.props,{selectedAssetSource:u}=this.state;return l.jsxs(l.Fragment,{children:[l.jsx(yB,{ref:this.setToast}),t.map(d=>d.kind==="field"&&(d.name==="crop"||d.name==="hotspot")?null:d.kind==="field"?l.jsx(mC,{member:d,renderAnnotation:n,renderInlineBlock:o,renderBlock:r,renderInput:d.name==="asset"?this.renderAsset():s,renderField:d.name==="asset"?Asn:a,renderItem:i,renderPreview:c},d.key):d.kind==="fieldSet"?l.jsx(cN,{member:d,renderAnnotation:n,renderBlock:r,renderField:a,renderInlineBlock:o,renderInput:s,renderItem:i,renderPreview:c},d.key):d.kind==="error"?l.jsx(BA,{member:d},d.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",d.kind]})),u&&this.renderAssetSource()]})}}function Osn(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,r=Ni(),{file:o}=ci().__internal,i=mr(cn),s=h.useCallback((u,d)=>o.directUploads?iN(u,d):null,[o.directUploads]),a=h.useMemo(()=>n||o.assetSources,[o,n]),c=h.useCallback(u=>_Ie(r,u),[r]);return l.jsx(Isn,{...e,client:i,assetSources:a,directUploads:o.directUploads,observeAsset:c,resolveUploader:s})}var Rse=Object.freeze,Psn=Object.defineProperty,Rsn=(e,t)=>Rse(Psn(e,"raw",{value:Rse(t||e.slice())})),$se;const Mse=P(M)($se||($se=Rsn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),e=>{let{ratio:t=3/2}=e;return 1/t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t},e=>{let{padding:t=0}=e;return t});function $sn(e){const{src:t,children:n}=e,[r,o]=h.useState(!0),[i,s]=h.useState(null),[a,c]=h.useState(null);return h.useEffect(()=>{s(null),c(null),o(!0);const u=new Image;u.onload=()=>{s(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(t)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=t},[t]),n({image:i,error:a,isLoading:r})}const Msn=["","webkit","moz","ms","o"].map(e=>"".concat(e,"backingStoreRatio"));let d2=-1;function Fsn(e){return d2===-1&&(d2=Msn.find(t=>t in e)),d2&&e[d2]}function Fse(e,t){const n={x:t.center.x,y:t.center.y},r=t.width/2,o=t.height/2;if(r<=0||o<=0)return!1;const i={x:e.x-n.x,y:e.y-n.y};return Math.pow(i.x,2)/Math.pow(r,2)+Math.pow(i.y,2)/Math.pow(o,2)<=1}function Lse(e,t){let{x:n,y:r}=e;return Math.pow(n-t.x,2)+Math.pow(r-t.y,2)<Math.pow(t.radius,2)}function BO(e,t){return e.x>=t.left&&e.x<=t.left+t.width&&e.y>=t.top&&e.y<=t.top+t.height}function Bse(e,t){return{x:t.center.x-t.width/2*Math.cos(e),y:t.center.y-t.height/2*Math.sin(e)}}class j4{constructor(t,n){this.x=t,this.y=n}}class Nse{constructor(t,n,r){this.y=t,this._left=n,this._right=r}get right(){return new j4(this._right,this.y)}get left(){return new j4(this._left,this.y)}get length(){return this._right-this._left}}class Lsn{constructor(t){this.rect=t}get top(){return new Nse(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new Nse(this.rect.bottom,this.rect.left,this.rect.right)}}class ao{static fromEdges(t){let{left:n,right:r,top:o,bottom:i}=t;return new ao(n,o,1-n-r,1-o-i)}constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=t,this.top=n,this.width=r,this.height=o}setTopLeft(t,n){return new ao(t,n,this.width||0,this.height||0)}setSize(t,n){return new ao(this.left||0,this.top||0,t,n)}setCenter(t,n){const r=this.width||0,o=this.height||0;return new ao(t-r/2,n-o/2,r||0,o||0)}get center(){return new j4(this.left+this.width/2,this.top+this.height/2)}get corners(){return new Lsn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(t){return new ao((this.left||0)+this.width*t.left,(this.top||0)+this.height*t.top,this.width*t.width,this.height*t.height)}grow(t){return new ao(this.left-t,this.top-t,this.width+t*2,this.height+t*2)}shrink(t){return this.grow(-t)}cropRelative(t){const n=this.top+t.top*this.height,r=this.left+t.left*this.width,o=this.height*t.height,i=this.width*t.width;return new ao(r,n,i,o)}clamp(t){let{left:n,top:r,width:o,height:i}=this;return t.width<o&&(o=t.width,n=t.left),t.height<i&&(i=t.height,r=t.top),n+o>t.left+t.width&&(n=t.right-o),r+i>t.top+t.height&&(r=t.bottom-i),new ao(Math.max(n,t.left),Math.max(r,t.top),o,i)}}const f2=Ud("sanity-imagetool");function Bsn(e){return class extends re.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleTouchMove=n=>{this.isDragging&&n.preventDefault()},this.handleDragStart=n=>{const{onDragStart:r,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){f2("Start cancelled, already a drag in progress");return}this.isDragging=!0;const i=zO(n);f2("Drag started %o",i),r(NO(i.x,i.y,this.domNode.getBoundingClientRect())),this.currentPos=i},this.handleDrag=n=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:r}=this.props,o=zO(n),i=Nsn(o,this.currentPos);r(i),f2("moving by %o",i),this.currentPos=o},this.handleDragEnd=n=>{const{onDragEnd:r,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const i=zO(n);r(NO(i.x,i.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,f2("Done moving %o",i)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:n}=this.props;this.isDragging=!1,n(NO(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=n=>{this.domNode=n}}componentDidMount(){tm?(document.body.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),document.body.addEventListener("touchend",this.handleDragEnd),document.body.addEventListener("touchcancel",this.handleDragCancel)):(document.body.addEventListener("mousemove",this.handleDrag),document.body.addEventListener("mouseup",this.handleDragEnd),document.body.addEventListener("mouseleave",this.handleDragCancel))}componentWillUnmount(){tm?(document.body.removeEventListener("touchmove",this.handleTouchMove),document.body.removeEventListener("touchend",this.handleDragEnd),document.body.removeEventListener("touchcancel",this.handleDragCancel)):(document.body.removeEventListener("mousemove",this.handleDrag),document.body.removeEventListener("mouseup",this.handleDragEnd),document.body.removeEventListener("mouseleave",this.handleDragCancel))}render(){const{readOnly:n,onDragStart:r,onDragEnd:o,onDrag:i,...s}=this.props;return l.jsx(e,{ref:this.setDomNode,onTouchStart:n?void 0:this.handleDragStart,onMouseDown:n?void 0:this.handleDragStart,onTouchMove:n?void 0:this.handleDrag,...s})}}}function NO(e,t,n){return{x:e-n.left,y:t-n.top}}function zO(e){return"touches"in e?e.touches.length>0?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:0,y:0}:{x:e.clientX,y:e.clientY}}function Nsn(e,t){return{x:e.x-t.x,y:e.y-t.y}}var zse=Object.freeze,zsn=Object.defineProperty,b3e=(e,t)=>zse(zsn(e,"raw",{value:zse(t||e.slice())})),Vse,Hse;const Vsn=Bsn("canvas"),Hsn=P.div(Vse||(Vse=b3e([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),Usn=P(Vsn)(Hse||(Hse=b3e([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
`]))),Wsn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",qsn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",Ju={x:.5,y:.5,height:1,width:1},ed={top:0,left:0,right:0,bottom:0},ay=8,Ysn=12,Gsn=10;function Ksn(e){const t=e.top>e.bottom,n=e.left>e.right;return{top:t?e.bottom:e.top,bottom:t?e.top:e.bottom,left:n?e.right:e.left,right:n?e.left:e.right}}function Zsn(e,t){return!(!e||!e.crop||e.crop.top+t.top<0||e.crop.left+t.left<0||e.crop.right+t.right<0||e.crop.bottom+t.bottom<0)}function Use(e,t){const{top:n,right:r,bottom:o,left:i}=e.crop||ed,s={hotspot:e.hotspot,crop:{top:n+(t.top||0)>0?n:0,right:r+(t.right||0)>0?r:0,bottom:o+(t.bottom||0)>0?o:0,left:i+(t.left||0)>0?i:0}},a={top:n+(t.top||0)>0&&t.top||0,right:r+(t.right||0)>0&&t.right||0,bottom:o+(t.bottom||0)>0&&t.bottom||0,left:i+(t.left||0)>0&&t.left||0};return{value:s,delta:a}}function Xsn(e){switch(e){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const Wse=mT(()=>{const e=window.devicePixelRatio||1,t=document.createElement("canvas").getContext("2d"),n=t&&Fsn(t)||1;return e/n}),qse=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class Qsn extends re.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,mousePosition:null},this.handleDragStart=t=>{let{x:n,y:r}=t;const o={x:n*this.getScale(),y:r*this.getScale()},i=Fse(o,this.getHotspotRect()),s=Lse(o,this.getDragHandleCoords()),a=this.getActiveCropHandleFor(o),c=BO(o,this.getCropRect());a?this.setState({cropping:a}):s?this.setState({resizing:!0}):i?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=t=>{this.state.cropping?this.emitCrop(this.state.cropping,t):this.state.cropMoving?this.emitCropMove(t):this.state.moving?this.emitMove(t):this.state.resizing&&this.emitResize(t)},this.handleDragEnd=()=>{const{onChange:t,onChangeEnd:n}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:r,crop:o}=this.getClampedValue(),i=Ksn(o),s={crop:{top:i.top,bottom:1-i.bottom,left:i.left,right:1-i.right},hotspot:{x:r.center.x,y:r.center.y,height:Math.abs(r.height),width:Math.abs(r.width)}};t(s),n&&n(s)},this.handleMouseOut=()=>{this.setState({mousePosition:null})},this.handleMouseMove=t=>{const n=t.currentTarget.getBoundingClientRect();this.setState({mousePosition:{x:(t.clientX-n.left)*this.getScale(),y:(t.clientY-n.top)*this.getScale()}})},this.setCanvas=t=>{this.canvas=t}}getHotspotRect(){const{value:t,image:n}=this.props,r=t.hotspot||Ju,o=new ao().setSize(r.width,r.height).setCenter(r.x,r.y);return new ao().setSize(n.width,n.height).shrink(ay*this.getScale()).multiply(o)}getCropRect(){const{value:t,image:n}=this.props;return new ao().setSize(n.width,n.height).shrink(ay*this.getScale()).cropRelative(ao.fromEdges(t.crop||ed).clamp(new ao(0,0,1,1)))}getCropHandles(){const t=this.getCropRect(),n=Ysn*this.getScale(),r=n/2,o=new ao(0,0,n,n);return{left:o.setTopLeft(t.left-r,t.center.y-r),right:o.setTopLeft(t.right-r,t.center.y-r),top:o.setTopLeft(t.center.x-r,t.top-r),topLeft:o.setTopLeft(t.left-r,t.top-r),topRight:o.setTopLeft(t.right-r,t.top-r),bottom:o.setTopLeft(t.center.x-r,t.bottom-r),bottomLeft:o.setTopLeft(t.left-r,t.bottom-r),bottomRight:o.setTopLeft(t.right-r,t.bottom-r)}}getActiveCropHandleFor(t){let{x:n,y:r}=t;const o=this.getCropHandles();for(const i of qse)if(BO({x:n,y:r},o[i]))return i;return!1}emitMove(t){const{image:n,value:r,onChange:o}=this.props,i=this.getScale(),s={x:t.x*i/n.width,y:t.y*i/n.height};o(Jsn(r,s))}emitCropMove(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s=t.x*i/n.width,a=-t.x*i/n.width,c=t.y*i/n.height,u=-t.y*i/n.height,d={left:s,right:a,top:c,bottom:u};Zsn(o,d)&&r(Yse(o,d))}emitCrop(t,n){const{image:r,onChange:o,value:i}=this.props,s=this.getScale();let a=0,c=0,u=0,d=0;t=="left"||t==="topLeft"||t==="bottomLeft"?a=n.x*s/r.width:(t=="right"||t==="topRight"||t==="bottomRight")&&(c=-n.x*s/r.width),t=="top"||t==="topLeft"||t==="topRight"?u=n.y*s/r.height:(t=="bottom"||t==="bottomLeft"||t==="bottomRight")&&(d=-n.y*s/r.height);const f={left:a,right:c,top:u,bottom:d},p=Use(i,f).value,m=Use(i,f).delta;o(Yse(p,m))}emitResize(t){const{image:n,onChange:r,value:o}=this.props,i=this.getScale(),s={x:t.x*i*2/n.width,y:t.y*i*2/n.height};r(ean(o,{height:s.y,width:s.x}))}getClampedValue(){const t=this.props.value,n=ao.fromEdges(t.crop||ed).clamp(new ao(0,0,1,1)),r=t.hotspot||Ju,o=new ao(0,0,1,1).setSize(r.width,r.height).setCenter(r.x,r.y).clamp(n);return{crop:n,hotspot:o}}paintHotspot(t,n){const{image:r,readOnly:o}=this.props,i=new ao().setSize(r.width,r.height),{hotspot:s,crop:a}=this.getClampedValue(),c=this.getScale(),u=ay*c;t.save(),m(),d(),t.clip(),p(),t.restore(),o||v(Math.PI*1.25);function d(){t.save();const g=i.shrink(u).multiply(s),b=g.height/g.width;t.scale(1,b),t.beginPath(),t.globalAlpha=n,t.arc(g.center.x,g.center.y/b,Math.abs(g.width/2),0,2*Math.PI,!1),t.strokeStyle="white",t.lineWidth=1.5*c,t.stroke(),t.closePath(),t.restore()}function f(g,b,x,y,w,C,_,S){t.save(),t.drawImage(r,g,b,x,y,w,C,_,S),t.restore()}function p(){const g=i.multiply(s),b=i.shrink(u).multiply(s);f(g.left,g.top,g.width,g.height,b.left,b.top,b.width,b.height)}function m(){const g=i.cropRelative(a),b=i.shrink(u).cropRelative(a);t.save(),f(g.left,g.top,g.width,g.height,b.left,b.top,b.width,b.height),t.globalAlpha=.5,t.fillStyle="black",t.fillRect(b.left,b.top,b.width,b.height),t.restore()}function v(g){t.save();const b=Gsn*c,x=i.shrink(u).multiply(s),y=Bse(g,x);t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.fillStyle="rgb(255,255,255)",t.fill(),t.closePath(),t.restore(),t.beginPath(),t.arc(y.x,y.y,b,0,2*Math.PI,!1),t.strokeStyle="rgb(0, 0, 0)",t.lineWidth=.5*c,t.stroke(),t.closePath()}}getActualSize(){var t;const n=(t=this.canvas)==null?void 0:t.domNode;return n?{height:n.clientHeight,width:n.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const t=this.getHotspotRect(),n=Bse(Math.PI*1.25,t);return{x:n.x,y:n.y,radius:8*this.getScale()}}debug(t){t.save();const{image:n}=this.props,r=this.getHotspotRect(),o=this.getScale(),i=ay*o;t.setLineDash&&t.setLineDash([2*o,2*o]),t.lineWidth=.5*o,t.strokeStyle="rgba(200, 200, 200, 0.5)",s(r.center.x),a(r.center.y),t.strokeStyle="rgba(150, 150, 150, 0.5)",a(r.top),a(r.bottom),s(r.left),s(r.right),t.restore();function s(u){c(u,i,u,n.height-i)}function a(u){c(i,u,n.width-i,u)}function c(u,d,f,p){t.beginPath(),t.moveTo(u,d),t.lineTo(f,p),t.stroke(),t.closePath()}}paintBackground(t){const{image:n}=this.props,r=new ao().setSize(n.width,n.height).shrink(ay*this.getScale());t.save(),t.fillStyle="white",t.clearRect(0,0,n.width,n.height),t.globalAlpha=.3,t.drawImage(n,r.left,r.top,r.width,r.height),t.restore()}paint(t){const{readOnly:n}=this.props;t.save();const r=Wse();t.scale(r,r);const o=!n&&this.state.mousePosition?.8:.2;this.paintBackground(t),this.paintHotspot(t,o),this.debug(t),this.paintCropBorder(t),n||this.highlightCropHandles(t,o),t.restore()}paintMousePosition(t){if(!this.state.mousePosition)return;const{x:n,y:r}=this.state.mousePosition;t.beginPath(),t.arc(n,r,14*this.getScale(),0,2*Math.PI,!1),t.fillStyle="lightblue",t.fill(),t.restore()}paintCropBorder(t){const n=this.getCropRect();t.save(),t.beginPath(),t.fillStyle="rgba(66, 66, 66, 0.9)",t.lineWidth=1,t.rect(n.left,n.top,n.width,n.height),t.stroke(),t.closePath(),t.restore()}highlightCropHandles(t,n){t.save();const r=this.getCropHandles();qse.forEach(o=>{t.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(n,")"):"rgba(230, 230, 230, ".concat(n+.4,")");const{left:i,top:s,height:a,width:c}=r[o];t.fillRect(i,s,c,a),t.beginPath(),t.fillStyle="rgba(66, 66, 66, ".concat(n,")"),t.rect(i,s,c,a),t.closePath(),t.stroke()}),t.restore()}getScale(){const t=this.getActualSize();return this.props.image.width/t.width}getCursor(){const{mousePosition:t}=this.state,{readOnly:n}=this.props;if(!t||n)return"auto";const r=this.state.cropping||this.getActiveCropHandleFor(t);if(r)return Xsn(r)||"auto";const o=Lse(t,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(qsn,"), move");const i=Fse(t,this.getHotspotRect()),s=BO(t,this.getCropRect());return i||s?"url(".concat(Wsn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const t=this.canvas.domNode,n=t.getContext("2d");if(!n)return;this.paint(n);const r=t.style.cursor,o=this.getCursor();r!==o&&(t.style.cursor=o)}render(){const{image:t,readOnly:n}=this.props,r=Wse();return l.jsx(Hsn,{children:l.jsx(Usn,{readOnly:n,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onMouseMove:this.handleMouseMove,onMouseOut:this.handleMouseOut,height:t.height*r,width:t.width*r})})}}function Jsn(e,t){const n=e&&e.hotspot||Ju;return{...e,hotspot:{...n,x:n.x+t.x,y:n.y+t.y}}}function ean(e,t){const n=e&&e.hotspot||Ju;return{...e,hotspot:{...n,height:n.height+t.height,width:n.width+t.width}}}function Yse(e,t){const n=e&&e.crop||ed;return{...e,crop:{left:n.left+(t.left||0),right:n.right+(t.right||0),top:n.top+(t.top||0),bottom:n.bottom+(t.bottom||0)}}}function tan(e){const{image:t,maxHeight:n,maxWidth:r,children:o}=e,[i]=h.useState(()=>{const a=document.createElement("canvas");return a.style.display="none",a});h.useEffect(()=>(document.body.appendChild(i),()=>{document.body.removeChild(i)}),[i]);const s=h.useCallback((a,c,u)=>{const d=a.width/a.height,f=Math.min(a.width,u),p=Math.min(a.height,c),m=a.width>a.height,v=m?f:p*d,g=m?f/d:p;i.width=v,i.height=g;const b=i.getContext("2d");return b&&b.drawImage(a,0,0,a.width,a.height,0,0,v,g),i},[i]);return o(s(t,n,r))}function Hx(e){return l.jsx($sn,{src:e.src,children:t=>{let{isLoading:n,image:r,error:o}=t;return n?l.jsx("div",{children:"Loading..."}):o?l.jsx("div",{children:o.message}):r?l.jsx(tan,{image:r,maxHeight:Hx.maxHeight,maxWidth:Hx.maxWidth,children:i=>l.jsx(Qsn,{image:i,...e})}):null}})}Hx.maxHeight=500;Hx.maxWidth=1e3;function nan(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=Gse(e.image)||1,n=e.hotspot||Ju,r=e.crop||ed,o=Gse(e.container)||t*oan(r),i=e.align||{x:"center",y:"center"},s=ran(t,{hotspot:n,crop:r},{aspect:o,align:i}),a=w3e(x3e(100/o));return{debug:{result:s},container:{overflow:"hidden",position:"relative",width:"100%",height:a},padding:{marginTop:a},crop:{position:"absolute",overflow:"hidden",height:_d(s.crop.height),width:_d(s.crop.width),top:_d(s.crop.top),left:_d(s.crop.left)},image:{position:"absolute",height:_d(s.image.height),width:_d(s.image.width),top:_d(s.image.top),left:_d(s.image.left)}}}function Gse(e){if(!e)return null;if("aspectRatio"in e)return e.aspectRatio;if("height"in e||"width"in e){if(typeof e.height!="number"&&typeof e.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(e)));return e.width/e.height}return null}function x3e(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const n=Math.pow(10,t);return Math.round(e*n)/n}function ran(e,t,n){const r=t.crop,o=n.aspect,i=n.align,s=1-r.left-r.right,a=1-r.top-r.bottom,c={top:-r.top/a,left:-r.left/s,width:1/s,height:1/a},d=s/a*e,f={x:(t.hotspot.x-r.left)/s,y:(t.hotspot.y-r.top)/a,height:t.hotspot.height/a,width:t.hotspot.width/s},p=1/f.width,m=1/f.height*d/o,v=Math.min(p,m);let g;const b=d<=o;b?g=1:g=d/o;let x,y;if(g>v){x="letterbox";let w;const C=g-v;b?w=1-C:w=v,y={width:w,height:w/d*o,left:0,top:0};const _=f.x*y.width-f.width*y.width/2;switch(i.x){case"left":y.left=b?0:-_;break;case"right":y.left=b?1-y.width:_;break;case"center":y.left=b?(1-y.width)/2:-_;break;default:throw new Error("Invalid x alignment: '".concat(i.x,"'. Must be either 'left', 'right' or 'center'"))}const S=f.y*y.height-f.height*y.height/2;switch(i.y){case"top":y.top=b?-S:0;break;case"bottom":y.top=S;break;case"center":y.top=b?-S:(1-y.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(i.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(b){x="full_width";let w=-f.y/d*o+.5;const C=g/d*o;w>0?w=0:-w>C-1&&(w=-(C-1)),y={width:g,height:C,left:0,top:w}}else{x="full_height";const w=g;let C=.5-f.x*g;C>0?C=0:-C>w-1&&(C=-(w-1)),y={width:w,height:g/d*o,top:0,left:C}}return{method:x,crop:y,image:c}}function oan(e){const t=1-e.top-e.bottom;return(1-e.left-e.right)/t}function w3e(e){return e===0?0:"".concat(e,"%")}function _d(e){return w3e(x3e(e*100))}var Kse=Object.freeze,ian=Object.defineProperty,san=(e,t)=>Kse(ian(e,"raw",{value:Kse(t||e.slice())})),Zse;const aan=P.div(Zse||(Zse=san([`
  position: relative;
  width: 100%;
`]))),lan=Ud("sanity-imagetool");function can(e,t){const n=1/t,r=t*n,o=r-(e.left+e.right)*r,i=n-(e.top+e.bottom)*n;return o/i}const uan=h.memo(function(t){const{alignX:n="center",alignY:r="center",alt:o,aspectRatio:i="none",className:s="",crop:a=ed,hotspot:c=Ju,onError:u,onLoad:d,src:f,srcAspectRatio:p,srcSet:m,style:v}=t,[g,b]=h.useState(null),x=h.useRef(null),y=h.useRef(null),w=h.useCallback(()=>{if(x.current)if(i==="auto"){const S=x.current.parentNode;h.startTransition(()=>b(S.offsetWidth/S.offsetHeight))}else b(null)},[i]);h.useEffect(()=>{const S=y.current;return S&&S.src&&S.complete&&S.naturalWidth!==void 0&&(lan("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",f),S.src=S.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[f,w]);const C=h.useMemo(()=>i==="none"?a?can(a,p):p:i==="auto"?g:i||null,[i,g,a,p]),_=h.useMemo(()=>nan({container:{aspectRatio:C||p},image:{aspectRatio:p},hotspot:c,crop:a,align:{x:n,y:r}}),[n,r,a,c,p,C]);return l.jsx(aan,{className:"".concat(s),style:v,ref:x,children:l.jsxs("div",{style:_.container,children:[l.jsx("div",{style:_.padding}),l.jsx("div",{style:_.crop,children:l.jsx("img",{ref:y,src:f,alt:o,srcSet:m,onLoad:d,onError:u,style:_.image})})]})})}),dan="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function fan(e){return e.startsWith("blob:")}function han(e){return new mt(t=>{const n=document.createElement("img");let r=!1;const o=()=>{r=!0,t.next(n),t.complete()},i=()=>{r=!0,t.error(new Error("Could not load image from ".concat(fan(e)?"blob":e)))};return n.onload=o,n.onerror=i,n.src=e,()=>{n.onload=null,n.onerror=null,r||(n.src=dan)}})}const Xse={isLoading:!0};function pan(e){const[t,n]=h.useState(Xse);return h.useEffect(()=>{n(Xse);const r=han(e).subscribe({error:o=>{n({isLoading:!1,error:o})},next:o=>{n({image:o,isLoading:!1})}});return()=>{r.unsubscribe()}},[e]),t}var Qse=Object.freeze,man=Object.defineProperty,gan=(e,t)=>Qse(man(e,"raw",{value:Qse(t||e.slice())})),Jse;const eae=["hotspot"],tae=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],nae={crop:ed,hotspot:Ju},van=P.div(Jse||(Jse=gan([`
  min-height: 6em;
`])));function yan(e){return l.jsx(H,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:e.children})}function ban(e){const{imageUrl:t,value:n,changed:r,level:o,path:i,focusPath:s=gn,presence:a,onChange:c,schemaType:u,onPathFocus:d,readOnly:f,elementProps:p}=e,[m,v]=h.useState(n||nae),{image:g,isLoading:b,error:x}=pan(t),y=h.useCallback(()=>{d(eae)},[d]);h.useEffect(()=>{v(n||nae)},[n]);const w=s[0]==="hotspot";Bi(w,_=>{var S;!_&&w&&((S=p.ref.current)==null||S.focus())});const C=h.useCallback(_=>{if(f)return;const S=u.fields.find(T=>T.name==="crop"&&T.type.name!=="object"),E=u.fields.find(T=>T.type.name!=="object"&&T.name==="hotspot"),j=S?{_type:S.type.name,..._.crop||ed}:_.crop,k=E?{_type:E.type.name,..._.hotspot||Ju}:_.hotspot;c([bt(j,["crop"]),bt(k,["hotspot"])])},[c,f,u.fields]);return l.jsx(i1,{title:"Hotspot & crop",level:o,description:"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.",__unstable_presence:a,children:l.jsxs("div",{children:[l.jsx(Q,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:p.ref,onFocus:y,children:l.jsx(li,{path:i.concat(eae),hasFocus:s[0]==="hotspot",isChanged:r,children:l.jsxs(Mse,{ratio:3/2,children:[(b||x)&&l.jsx(yan,{children:x?l.jsx(Q,{padding:4,radius:2,tone:"critical",border:!0,children:l.jsxs(L,{children:["Error: ",x.message]})}):l.jsx(L,{muted:!0,children:"Loading image… "})}),!b&&g&&l.jsx(M,{margin:1,children:l.jsx(Hx,{value:m,src:g.src,readOnly:!!f,onChangeEnd:C,onChange:v})})]})})}),l.jsx(M,{marginTop:3,children:l.jsx(nn,{columns:tae.length,gap:1,children:tae.map(_=>{let[S,E]=_;return l.jsxs("div",{children:[l.jsx(Wo,{as:"h4",size:0,children:S}),l.jsx(M,{marginTop:2,children:l.jsx(Mse,{ratio:E,children:l.jsx(Q,{__unstable_checkered:!0,children:!b&&g?l.jsx(uan,{aspectRatio:E,src:g.src,srcAspectRatio:g.width/g.height,hotspot:m.hotspot||Ju,crop:m.crop||ed}):l.jsx(van,{})})})})]},E)})})})]})})}var rae=Object.freeze,xan=Object.defineProperty,wan=(e,t)=>rae(xan(e,"raw",{value:rae(t||e.slice())})),oae;const Can=P(Zt)(oae||(oae=wan([`
  position: absolute;
  top: 0;
  right: 0;
`])));function _an(e){const{onEdit:t,children:n,showEdit:r,setHotspotButtonElement:o,setMenuButtonElement:i,onMenuOpen:s,isMenuOpen:a}=e,[c,u]=h.useState(null),[d,f]=h.useState(null),p=h.useCallback(()=>s(!a),[s,a]);rs(h.useCallback(v=>{a&&(v.key==="Escape"||v.key==="Tab")&&(s(!1),d==null||d.focus())},[a,s,d])),dr(h.useCallback(v=>{d!=null&&d.contains(v.target)||s(!1)},[d,s]),[c]);const m=h.useCallback(v=>{i(v),f(v)},[i]);return h.useEffect(()=>{a&&(c==null||c.focus())},[a,c]),l.jsxs(Can,{"data-buttons":!0,space:1,padding:2,children:[r&&l.jsx(it,{content:l.jsx(L,{size:1,children:"Crop image"}),padding:2,children:l.jsx(oe,{"aria-label":"Open image edit dialog","data-testid":"options-menu-edit-details",icon:I0e,mode:"ghost",onClick:t,ref:o})}),l.jsx(rn,{id:"image-actions-menu",content:l.jsx(Nt,{ref:u,children:n}),portal:!0,open:a,constrainSize:!0,children:l.jsx(oe,{"aria-label":"Open image options menu","data-testid":"options-menu-button",icon:Io,mode:"ghost",onClick:p,ref:m})})]})}var iae=Object.freeze,San=Object.defineProperty,YA=(e,t)=>iae(San(e,"raw",{value:iae(t||e.slice())})),sae,aae,lae,cae;const uae=30,Ean=P(Q)(sae||(sae=YA([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),kan=P(hr)(aae||(aae=YA([`
  position: absolute;
`]))),jan=P(H)(e=>{let{$drag:t,$tone:n}=e;const r=$f.color.light[n].card.enabled.fg,o=Dt($f.color.light[n].card.enabled.bg,.8);return de(lae||(lae=YA([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),t?"blur(10px)":"",n?r:"",t?o:"transparent")}),Tan=P(H)(cae||(cae=YA([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),Aan=e=>{const n=new URLSearchParams(e.split("?")[1]).get("rect");return n?[n.split(",")[2],n.split(",")[3]].map(Number):e.split("-")[1].split(".")[0].split("x").map(Number)};function Dan(e){const{drag:t,readOnly:n,isRejected:r,src:o,...i}=e,[s,a]=h.useState(!1),[c,u]=h.useState(null),d=Qf(c),f=(d==null?void 0:d.width)||0,m=t?r||n?"critical":"primary":"default",v=uae*document.documentElement.clientHeight/100,[g,b]=Aan(o),x=g/b,w=(g>f?f/x:b)<v?null:"".concat(uae,"vh");h.useEffect(()=>{a(!1)},[o]);const C=h.useCallback(()=>{a(!0)},[]);return l.jsxs(Ean,{...i,ref:u,style:{height:w},tone:"transparent",children:[l.jsxs(Q,{"data-container":!0,tone:"inherit",children:[!s&&l.jsx(dae,{cardTone:"transparent",drag:!0,content:l.jsx(kan,{})}),l.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:e.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),t&&l.jsx(dae,{cardTone:m,drag:t,content:l.jsxs(l.Fragment,{children:[l.jsx(M,{marginBottom:3,children:l.jsx(Wo,{children:l.jsx(Ian,{isRejected:r,readOnly:n})})}),l.jsx(Oan,{isRejected:r,readOnly:n})]})})]})}function Ian(e){let{isRejected:t,readOnly:n}=e;return t?l.jsx(Ef,{}):n?l.jsx(cw,{}):l.jsx(Al,{})}function Oan(e){let{isRejected:t,readOnly:n}=e,r="Drop image to upload";return t&&(r="Cannot upload this file here"),n&&(r="This field is read only"),l.jsx(L,{size:1,children:r})}function dae(e){let{cardTone:t,drag:n,content:r}=e;return l.jsx(jan,{justify:"flex-end",padding:3,$drag:n,$tone:t,children:l.jsx(Tan,{direction:"column",align:"center",justify:"center",children:r})})}var fae=Object.freeze,Pan=Object.defineProperty,Ran=(e,t)=>fae(Pan(e,"raw",{value:fae(t||e.slice())})),hae;const $an=P(oe)(hae||(hae=Ran([`
  width: 100%;
`])));function Man(e){let{onClearValue:t}=e;return l.jsxs(Q,{tone:"caution",padding:4,border:!0,radius:2,children:[l.jsxs(H,{gap:4,marginBottom:4,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Br,{})})}),l.jsxs(ee,{space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Invalid image value"}),l.jsx(L,{size:1,children:"The value of this field is not a valid image. Resetting this field will let you choose a new image."})]})]}),l.jsx($an,{icon:Pu,text:"Reset value",onClick:t,mode:"ghost"})]})}const Fan=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function Lan(e){let{children:t}=e;return t}const pae=["asset"],Ban={portal:!0};class Nan extends re.PureComponent{constructor(t){var n;super(t),n=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=r=>{this._previewElement=r},this.setHotspotButtonElement=r=>{this.setState({hotspotButtonElement:r})},this.setMenuButtonElement=r=>{this.setState({menuButtonElement:r})},this.getUploadOptions=r=>{const{schemaType:o,resolveUploader:i}=this.props,s=i&&i(o,r);return s?[{type:o,uploader:s}]:[]},this.uploadWith=function(r,o){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:s,onChange:a,client:c}=n.props,{label:u,title:d,description:f,creditLine:p,source:m}=i,v={metadata:qn(s,"options.metadata"),storeOriginalFilename:qn(s,"options.storeOriginalFilename"),label:u,title:d,description:f,creditLine:p,source:m};n.cancelUpload(),n.setState({isUploading:!0}),a(Qi({_type:s.name})),n.uploadSubscription=r.upload(c,o,s,v).subscribe({next:g=>{g.patches&&a(g.patches)},error:g=>{var b;console.error(g),(b=n.toast)==null||b.push({status:"error",description:"The upload could not be completed at this time.",title:"Upload failed"}),n.clearUploadStatus()},complete:()=>{a([Je(["hotspot"]),Je(["crop"])]),n.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:r}=this.props,o=Object.keys(r||{}),s=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,a=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>Je([c]));this.props.onChange(s&&!this.valueIsArrayElement()?Je():a)},this.handleFieldChange=r=>{const{onChange:o,schemaType:i}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(r)){o(Je());return}o(r.prepend(Qi({_type:i.name})).patches)},this.eventIsUnsettingLastFilledField=r=>{const o=r.patches[0];if(r.patches.length!==1||o.type!=="unset")return!1;const s=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return r.patches[0].path.length===1&&s.length===1&&s[0]===r.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:r}=this.props;return typeof r.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{this.props.onPathFocus(["hotspot"])},this.handleCloseDialog=()=>{var r;this.props.onPathFocus([]),(r=this.state.hotspotButtonElement)==null||r.focus()},this.handleSelectAssetFromSource=r=>{const{onChange:o,schemaType:i,resolveUploader:s}=this.props;f3e({assetFromSource:r,onChange:o,type:i,resolveUploader:s,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=r=>{var o;r.currentTarget===r.target&&r.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(r)},this.handleFilesOver=r=>{this.setState({hoveringFiles:r.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([Je(["asset"]),Je(["crop"]),Je(["hotspot"])])},this.handleSelectFiles=r=>{const{directUploads:o,readOnly:i}=this.props,{hoveringFiles:s}=this.state;o&&!i?this.uploadFirstAccepted(r):s.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=r=>{this.setState({selectedAssetSource:r})},this.handleAssetSourceClosed=()=>{var r;this.setState({selectedAssetSource:null}),(r=this.state.menuButtonElement)==null||r.focus()},this.renderHotspotInput=r=>{const{value:o,changed:i,id:s,imageUrlBuilder:a}=this.props,c=this.isImageToolEnabled()&&o&&o.asset;return l.jsx(Mi,{__unstable_autoFocus:!1,header:"Edit hotspot and crop",id:"".concat(s,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:l.jsx(pC,{children:l.jsx(M,{padding:4,children:l.jsx(ee,{space:5,children:c&&(o==null?void 0:o.asset)&&l.jsx(ban,{...this.props,imageUrl:a.image(o.asset).url(),value:o,presence:r.presence,changed:i})})})})})},this.renderPreview=()=>{const{value:r,schemaType:o,readOnly:i,directUploads:s,imageUrlBuilder:a,resolveUploader:c}=this.props;if(!r||!mb(r))return null;const{hoveringFiles:u}=this.state,d=u.filter(m=>c(o,m)),f=u.length-d.length,p=a.width(2e3).fit("max").image(r).dpr(Fan()).auto("format").url();return l.jsx(Dan,{drag:!(r!=null&&r._upload)&&u.length>0,isRejected:f>0||!s,readOnly:i,src:p,alt:"Preview of uploaded image"})},this.setToast=r=>{this.toast=r},this._assetPath=t.path.concat(pae)}isImageToolEnabled(){return qn(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var t;(t=this.props.value)!=null&&t._upload&&this.props.onChange(Je(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(t){const{schemaType:n,resolveUploader:r}=this.props,o=t.map(i=>({file:i,uploader:r(n,i)})).find(i=>i.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:t,assetSources:n,schemaType:r,readOnly:o,directUploads:i,imageUrlBuilder:s,observeAsset:a}=this.props,c=t==null?void 0:t.asset;if(!c)return null;const u=qn(r,"options.accept","image/*"),d=t&&c&&this.isImageToolEnabled();let f=n&&n.length===0?null:l.jsx(ze,{icon:ei,text:"Select",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(n[0])},disabled:o,"data-testid":"file-input-browse-button"});return n&&n.length>1&&(f=n.map(p=>l.jsx(ze,{text:p.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(p)},icon:p.icon||Al,"data-testid":"file-input-browse-button-".concat(p.name),disabled:o},p.name))),l.jsx(c0,{observeAsset:a,reference:c,children:p=>{let{_id:m,originalFilename:v,extension:g}=p,b,x;if(mb(t)){const y=v||"download.".concat(g);x=s.image(m).forceDownload(y).url(),b=s.image(m).url()}return l.jsx(_an,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:y=>this.setState({isMenuOpen:y}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:d,children:l.jsx(h3e,{onUpload:this.handleSelectFiles,browse:f,onReset:this.handleRemoveButtonClick,downloadUrl:x,copyUrl:b,readOnly:o,directUploads:i,accept:u})})}})}renderBrowser(){const{assetSources:t,readOnly:n,directUploads:r,id:o}=this.props;return t&&t.length===0?null:t&&t.length>1&&!n&&r?l.jsx(on,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:l.jsx(oe,{"data-testid":"file-input-multi-browse-button",icon:ei,iconRight:Ja,mode:"ghost",text:"Select"}),menu:l.jsx(Nt,{children:t.map(i=>l.jsx(ze,{text:i.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(i)},icon:i.icon||Al,disabled:n,"data-testid":"file-input-browse-button-".concat(i.name)},i.name))}),popover:Ban}):l.jsx(oe,{fontSize:2,text:"Select",icon:ei,mode:"ghost",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(t[0])},"data-testid":"file-input-browse-button",disabled:n})}renderUploadPlaceholder(){const{schemaType:t,readOnly:n,directUploads:r,resolveUploader:o}=this.props,{hoveringFiles:i}=this.state,s=i.filter(u=>o(t,u)),a=i.length-s.length,c=qn(t,"options.accept","image/*");return l.jsx("div",{style:{padding:1},children:l.jsx(Q,{tone:n?"transparent":"inherit",border:!0,padding:3,style:i.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:l.jsx(m3e,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:n,hoveringFiles:i,acceptedFiles:s,rejectedFilesCount:a,type:"image",accept:c,directUploads:r})})})}renderUploadState(t){var n;const{isUploading:r}=this.state,o=(n=this._previewElement)==null?void 0:n.offsetHeight;return l.jsx(u3e,{uploadState:t,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:t}=this.state,{value:n,schemaType:r,observeAsset:o}=this.props,i=qn(r,"options.accept","image/*");if(!t)return null;const s=t.component;return n&&n.asset?l.jsx(c0,{observeAsset:o,reference:n.asset,children:a=>l.jsx(s,{selectedAssets:[a],assetType:"image",accept:i,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):l.jsx(s,{selectedAssets:[],selectionType:"single",assetType:"image",accept:i,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:t,value:n,readOnly:r,directUploads:o,resolveUploader:i}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>i(t,u)),c=s.length-a.length;return s.length>0&&(c>0||!o)?"critical":!(n!=null&&n._upload)&&!r&&s.length>0?"primary":r||n!=null&&n._upload&&(n!=null&&n.asset)?"transparent":"default"}renderAsset(){const{value:t,readOnly:n,elementProps:r}=this.props,{hoveringFiles:o,isStale:i}=this.state,s=!!(t!=null&&t._upload||t!=null&&t.asset);return t&&typeof t.asset<"u"&&!(t!=null&&t._upload)&&!mb(t)?()=>l.jsx(Man,{onClearValue:this.handleClearField}):a=>l.jsxs(l.Fragment,{children:[i&&l.jsx(M,{marginBottom:2,children:l.jsx(g3e,{onClearStale:this.handleClearUploadState})}),l.jsx(li,{path:a.path.concat(pae),hasFocus:!!a.focused,isChanged:a.changed,children:t!=null&&t._upload?this.renderUploadState(t._upload):l.jsxs(c3e,{...r,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!n,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:s||o.length>0,style:{padding:1},sizing:"border",radius:2,children:[!(t!=null&&t.asset)&&this.renderUploadPlaceholder(),!(t!=null&&t._upload)&&(t==null?void 0:t.asset)&&l.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{focusPath:t,members:n,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u}=this.props,{selectedAssetSource:d}=this.state,f=n.find(p=>p.kind==="field"&&p.name==="hotspot");return l.jsxs(ee,{space:5,"data-testid":"image-input",children:[l.jsx(yB,{ref:this.setToast}),n.map(p=>p.kind==="field"&&(p.name==="crop"||p.name==="hotspot")?null:p.kind==="field"?l.jsx(mC,{member:p,renderAnnotation:r,renderBlock:o,renderInlineBlock:s,renderInput:p.name==="asset"?this.renderAsset():a,renderField:p.name==="asset"?Lan:i,renderItem:c,renderPreview:u},p.key):p.kind==="fieldSet"?l.jsx(cN,{member:p,renderAnnotation:r,renderBlock:o,renderField:i,renderInlineBlock:s,renderInput:a,renderItem:c,renderPreview:u},p.key):p.kind==="error"?l.jsx(BA,{member:p},p.key):l.jsxs(l.Fragment,{children:["Unknown member kind: $",p.kind]})),f&&t[0]==="hotspot"&&l.jsx(FIe,{...this.props,absolutePath:f.field.path,renderInput:this.renderHotspotInput}),d&&this.renderAssetSource()]})}}function zan(e){var t;const n=(t=e.schemaType.options)==null?void 0:t.sources,{image:r}=ci().__internal,o=Ni(),i=mr(cn),a=ci().__internal.image.directUploads,c=h.useCallback((p,m)=>a?iN(p,m):null,[a]),u=re.useMemo(()=>n||r.assetSources,[r,n]),d=re.useMemo(()=>OT(i),[i]),f=h.useCallback(p=>CIe(o,p),[o]);return l.jsx(Nan,{...e,client:i,assetSources:u,directUploads:r.directUploads,imageUrlBuilder:d,observeAsset:f,resolveUploader:c})}const C3e=()=>{},VO={isLoading:!0,result:void 0,error:void 0,retry:C3e},Van={isLoading:!1,result:void 0,error:void 0,retry:C3e};function _3e(e,t){const[n,r]=h.useState(0),o=h.useCallback(()=>{r(c=>c+1)},[]),i=h.useMemo(()=>({_id:e._id,_type:e._type}),[e._id,e._type]),s=xo(()=>i._id?t(i).pipe(le(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:n})),oi(VO),Rn(c=>(console.error(c),ve({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:n})))):ve(Van),[i,t,o,n],VO);return IB(e._id,e._id)!==e._id?VO:s}var mae=Object.freeze,Han=Object.defineProperty,S3e=(e,t)=>mae(Han(e,"raw",{value:mae(t||e.slice())})),gae,vae;const Uan=P(H)(gae||(gae=S3e([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`]))),E3e=P(H)(vae||(vae=S3e([`
  /* This limits the width of the tooltip content */
  max-width: 250px;
`])));function yae(e){return l.jsx(E3e,{padding:3,children:l.jsx(M,{flex:1,children:l.jsx(M,{children:l.jsx(L,{as:"p",size:1,children:e.children})})})})}function k3e(e){var t,n,r;const{refType:o,showStudioUrlIcon:i,hasStudioUrl:s,showTypeLabel:a,availability:c,preview:u,id:d,dataset:f,projectId:p}=e,m=(c==null?void 0:c.reason)==="NOT_FOUND",v=(c==null?void 0:c.reason)==="PERMISSION_DENIED",g=(t=u.published)==null?void 0:t.media,b=h.useMemo(()=>{if(g){const x=typeof(g==null?void 0:g.asset)<"u"&&mb(g),y=re.isValidElement(g);return!x&&!y?null:function(C){let{dimensions:_}=C;return y?g:l.jsx("img",{src:OT({dataset:f,projectId:p}).image(g).withOptions(_).url(),alt:"Image preview of referenced document",referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?h.createElement(o.icon):null},[g,f,p,o==null?void 0:o.icon]);return l.jsxs(Uan,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?l.jsx(M,{flex:1,children:l.jsx(BAe,{title:(n=u.published)==null?void 0:n.title,subtitle:(r=u.published)==null?void 0:r.subtitle,media:b||!1})}):l.jsx(M,{flex:1,children:l.jsx(H,{align:"center",children:l.jsx(M,{flex:1,paddingY:2,children:l.jsx(L,{muted:!0,children:"Document unavailable"})})})}),l.jsx(M,{paddingLeft:3,children:l.jsxs(Zt,{space:4,children:[o&&a&&l.jsx(Ht,{size:1,muted:!0,children:o.title||o.type}),(v||m)&&l.jsx(M,{children:l.jsx(it,{portal:!0,content:m?l.jsxs(yae,{children:["The referenced document no longer exist and might have been deleted.",l.jsx("br",{}),"(id: ",l.jsx("code",{children:d}),")"]}):l.jsx(yae,{children:"The referenced document could not be accessed due to insufficient permissions"}),children:l.jsx(cr,{tone:"default",children:v?l.jsx(Ef,{}):l.jsx(Rv,{})})})}),!(m||v)&&i&&l.jsx(M,{children:l.jsx(it,{portal:!0,content:l.jsx(E3e,{padding:2,children:s?l.jsx(L,{size:1,children:"This document opens in a new tab"}):l.jsxs(L,{size:1,children:["This document cannot be opened ",l.jsx("br",{})," (unable to resolve URL to Studio)"]})}),children:l.jsx(cr,{size:1,tone:"default",muted:!s,children:l.jsx(qf,{})})})})]})})]})}function xN(){return mr(cn).config().projectId}function Wan(e){var t;const{isLoading:n,result:r,error:o}=_3e(e.document,e.getReferenceInfo),i=xN();if(n)return l.jsxs(ee,{space:2,padding:1,children:[l.jsx(Oi,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Oi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return l.jsx(ee,{space:2,padding:1,children:l.jsxs(zc,{title:"Failed to load referenced document",children:["Error: ",o.message]})});if(!r)return null;if(((t=r.availability)==null?void 0:t.reason)==="PERMISSION_DENIED")return l.jsx(ee,{space:2,padding:1,children:"Insufficient permissions to view this document"});const s=e.referenceType.to.find(a=>a.type===r.type);return s?r&&s&&l.jsx(k3e,{id:r.id,availability:r.availability,preview:r.preview,refType:s,dataset:e.referenceType.dataset,projectId:i,showTypeLabel:e.referenceType.to.length>1}):l.jsxs(ee,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,r.type,'"']})}function bae(e){var t,n;const{value:r,type:o,showStudioUrlIcon:i,hasStudioUrl:s,referenceInfo:a}=e,c=xN();if(a.isLoading||a.error)return l.jsxs(ee,{space:2,padding:1,children:[l.jsx(Oi,{style:{maxWidth:320},radius:1,animated:!a.error}),l.jsx(Oi,{style:{maxWidth:200},radius:1,size:1,animated:!a.error})]});const u=o.to.length>1,d=(t=a.result)==null?void 0:t.type,f=o.to.find(p=>p.type===d);return(n=a.result.availability)!=null&&n.available&&!f?l.jsx(ee,{space:2,padding:2,children:l.jsxs(L,{as:"p",children:["The referenced document is of invalid type: (",d||"unknown",")",l.jsx("pre",{children:JSON.stringify(r,null,2)})]})}):l.jsx(k3e,{availability:a.result.availability,hasStudioUrl:s,showStudioUrlIcon:i,preview:a.result.preview,refType:f,projectId:c,dataset:o.dataset,id:r._ref,showTypeLabel:u})}var xae=Object.freeze,qan=Object.defineProperty,j3e=(e,t)=>xae(qan(e,"raw",{value:xae(t||e.slice())})),wae,Cae;const Yan=P(rn)(wae||(wae=j3e([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Gan=P(L)(Cae||(Cae=j3e([`
  word-break: break-word;
`]))),Kan=["top-start","bottom-start"],Zan=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;return l.jsx(Yan,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:Kan,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(H,{align:"center",height:"fill",justify:"center",children:l.jsxs(Gan,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]})]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(LL,{...t,ref:n,renderPopover:o})});var _ae=Object.freeze,Xan=Object.defineProperty,Qan=(e,t)=>_ae(Xan(e,"raw",{value:_ae(t||e.slice())})),Sae;const Jan=P(oe)(Sae||(Sae=Qan([`
  width: 100%;
`])));function eln(e){let{value:t,onClearValue:n}=e;const r=h.useMemo(()=>!!(t!=null&&t._ref),[t==null?void 0:t._ref]);return l.jsxs(Q,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[l.jsxs(H,{gap:4,marginBottom:r?4:void 0,children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Br,{})})}),l.jsxs(ee,{space:3,children:[l.jsx(L,{as:"h2",size:1,weight:"semibold",children:"Unavailable feature: Cross dataset reference"}),r&&l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",size:1,children:["This feature has been disabled. Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]}),l.jsx(L,{as:"p",size:1,children:"You can still clear this field's existing reference, but that cannot be revoked as long as the feature is disabled."})]}),!r&&l.jsxs(L,{as:"p",size:1,children:["Read how to enable it in"," ",l.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:"documentation"})]})]})]}),n&&r&&l.jsx(Jan,{icon:Pu,text:"Reset value",onClick:n,mode:"ghost"})]})}const Eae={hits:[],isLoading:!1},tln=()=>!0,kae=["_ref"],nln="crossDatasetReferences";function rln(e){var t,n,r;const{changed:o,focused:i,focusPath:s,getReferenceInfo:a,onChange:c,onPathFocus:u,onSearch:d,path:f,readOnly:p,schemaType:m,validation:v,value:g,elementProps:b}=e,x=xN(),[y,w]=h.useState(Eae),C=h.useCallback(ce=>{if(!ce){c(Je()),u([]);return}if(!y.hits.find(Se=>Se.id===ce))throw new Error("Selected an item that wasnt part of the result set");c(bt({_type:m.name,_ref:$n(ce),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:g==null?void 0:g._key})),u([])},[g==null?void 0:g._key,y.hits,m.name,m.dataset,m.weak,x,c,u]),_=h.useCallback(()=>{c(Je())},[c]),S=h.useCallback(ce=>{ce.keyCode===27&&(u==null||u([]))},[u]),E=h.useCallback(ce=>a(ce,m),[a,m]),j=h.useMemo(()=>({_id:g==null?void 0:g._ref}),[g==null?void 0:g._ref]),k=_3e(j,E),T=hPe(nln),A=h.useRef(null),D=s.length===1&&s[0]==="_ref",I=b.ref;Bi({hasFocusAt:D,ref:g==null?void 0:g._ref},(ce,xe)=>{var Se;const pe=(ce==null?void 0:ce.ref)!==xe.ref;((ce==null?void 0:ce.hasFocusAt)!==xe.hasFocusAt||pe)&&xe.hasFocusAt&&((Se=I.current)==null||Se.focus())});const O=g!=null&&g._weak?"weak":"strong",$=m.weak===!0?"weak":"strong",R=!!(g!=null&&g._ref),z=h.useCallback(()=>{c(m.weak===!0?bt(!0,["_weak"]):Je(["_weak"]))},[c,m]),{push:B}=qo(),U=h.useMemo(()=>v.filter(ce=>ce.level==="error"),[v]),W=h.useCallback(ce=>{ce.currentTarget===b.ref.current&&(u==null||u([Vve]))},[b.ref,u]),V=h.useCallback(ce=>{ce.currentTarget===b.ref.current&&(u==null||u(kae))},[b.ref,u]),K=h.useCallback(()=>{u==null||u(kae)},[u]),te=h.useId(),N=nT(ce=>ce.pipe(pt(bo),Jn(),rt(xe=>Wr(ve({isLoading:!0}),d(xe).pipe(le(Se=>({hits:Se,searchString:xe,isLoading:!1})),Rn(Se=>(B({title:"Reference search failed",description:Se.message,status:"error",id:"reference-search-fail-".concat(te)}),console.error(Se),ve({hits:[]})))))),ra((xe,Se)=>({...xe,...Se}),Eae),Cn(w)),[te,d,B]),G=h.useCallback(()=>{N("")},[N]),q=!k.isLoading&&R&&O!==$,Z=(g==null?void 0:g._ref)&&((n=m.studioUrl)==null?void 0:n.call(m,{id:g==null?void 0:g._ref,type:(t=k==null?void 0:k.result)==null?void 0:t.type}))||null,ie=h.useCallback(ce=>l.jsx(Ap,{as:"button",type:"button",radius:2,children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(Wan,{referenceType:m,document:ce.hit.published,getReferenceInfo:E})})}),[m,E]),ne=(r=k.result)==null?void 0:r.preview.published,Y=D||!(g!=null&&g._ref),X=h.useRef(null),ae=h.useRef(null),he=h.useRef(null);return dDe([X,ae,he],()=>{D&&u([])}),l.jsxs(l.Fragment,{children:[!T.isLoading&&!T.enabled&&l.jsx(eln,{value:g,onClearValue:_}),(T.isLoading||T.enabled)&&l.jsx(ee,{space:1,children:Y?l.jsx(ee,{space:2,ref:X,children:l.jsx(li,{path:f,isChanged:o,hasFocus:!!i,children:l.jsx("div",{ref:A,children:l.jsx(Zan,{...b,"data-testid":"autocomplete",loading:y.isLoading,referenceElement:A.current,portalRef:ae,id:te||"",options:y.hits.map(ce=>({value:ce.id,hit:ce})),onFocus:V,radius:1,placeholder:"Type to search",onKeyDown:S,readOnly:p,disabled:k.isLoading,onQueryChange:N,searchString:y.searchString,onChange:C,filterOption:tln,renderOption:ie,openButton:{onClick:G}})})})}):l.jsx(li,{path:f,isChanged:o,hasFocus:!!i,children:l.jsxs(Q,{padding:0,border:!0,flex:1,radius:1,tone:p?"transparent":k.error||U.length>0?"critical":"default",children:[l.jsxs(H,{align:"center",padding:1,children:[Z?l.jsx(Ap,{as:"a",target:"_blank",rel:"noopener noreferrer",href:Z,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:b.ref,children:l.jsx(bae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,hasStudioUrl:!!Z,type:m})}):l.jsx(Ap,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:W,ref:b.ref,children:l.jsx(bae,{value:g,referenceInfo:k,showStudioUrlIcon:!0,type:m})}),l.jsx(Zt,{paddingX:1,children:l.jsx(on,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Io,"data-testid":"menu-button"}),id:"".concat(te,"-menuButton"),menu:l.jsx(Nt,{children:!p&&l.jsxs(l.Fragment,{children:[l.jsx(ze,{text:"Clear",tone:"critical",icon:Pu,"data-testid":"menu-item-clear",onClick:_}),l.jsx(ze,{text:"Replace",icon:x0,"data-testid":"menu-item-replace",onClick:K})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),q&&l.jsx(bf,{padding:1,title:"Reference strength mismatch",status:"warning","data-testid":"alert-reference-strength-mismatch",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["This reference is ",l.jsx("em",{children:O}),", but according to the current schema it should be ",l.jsxs("em",{children:[$,"."]})]}),l.jsx(L,{as:"p",muted:!0,size:1,children:m.weak?l.jsxs(l.Fragment,{children:['It will not be possible to delete the "',ne==null?void 0:ne.title,'"-document without first removing this reference.']}):l.jsxs(l.Fragment,{children:['This makes it possible to delete the "',ne==null?void 0:ne.title,'"-document without first deleting this reference, leaving this field referencing a nonexisting document.']})}),l.jsx(oe,{onClick:z,text:l.jsxs(l.Fragment,{children:["Convert to ",$," reference"]}),tone:"caution"})]})}),k.error&&l.jsx(bf,{padding:1,title:"Unable to load reference metadata",status:"warning","data-testid":"alert-reference-info-failed",children:l.jsxs(ee,{space:3,children:[l.jsxs(L,{as:"p",muted:!0,size:1,children:["Error: ",k.error.message]}),l.jsx(oe,{onClick:k.retry,text:l.jsx(l.Fragment,{children:"Retry"}),tone:"primary"})]})})]})})})]})}function oln(e,t,n,r){return DB(n.to.map(i=>({name:i.type,__experimental_search:i.__experimental_search})),e,r)(t,{includeDrafts:!1}).pipe(le(i=>i.map(s=>s.hit)),le(CA),le(i=>i.map(s=>({id:s.id,type:s.type,published:s.published}))))}const iln="cross-dataset-refs",T3e={available:!0,reason:"READABLE"},sln={available:!1,reason:"PERMISSION_DENIED"},aln={available:!1,reason:"NOT_FOUND"};function lln(e){const{client:t,documentPreviewStore:n}=e,{dataset:r,projectId:o}=t.config(),i=r&&o?{dataset:r,projectId:o}:void 0;return function(a,c){return(a._type?ve(a):n.observeDocumentTypeFromId(a._id,i).pipe(le(u=>({_id:a._id,_type:u})))).pipe(rt(u=>{if(!u._type)return cln(t,a._id).pipe(le(m=>({id:a._id,type:void 0,availability:m,preview:{published:void 0}})));const d=c.to.find(m=>m.type===u._type),f=[...kB(d==null?void 0:d.preview)||[],["_updatedAt"],["_createdAt"]],p=n.observePaths(a,f,i).pipe(le(m=>m&&w5(m,d)));return Ho([p]).pipe(le(m=>{let[v]=m;return{type:u._type,id:a._id,availability:T3e,preview:{published:xt(v)?v:void 0}}}))}))}}function cln(e,t){const n={uri:e.getDataUrl("doc",t),json:!0,query:{excludeContent:"true"},tag:"".concat(iln,".availability")};return e.observable.request(n).pipe(le(r=>{const i=h9(r.omitted||[],s=>s.id)[t];return i?i.reason==="existence"?aln:i.reason==="permission"?sln:null:T3e}))}async function uln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=cm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function dln(e){const t=h.useRef(e);return t.current=e,t}function fln(e){const{path:t,schemaType:n}=e,r=Ln(),o=r.getClient(cn),i=Ni(),s=r.getClient,a=h.useMemo(()=>o.withConfig({dataset:n.dataset,apiVersion:"2022-03-07",ignoreBrowserTokenWarning:!0}).clone(),[o,n.dataset]),c=NA([]),u=dln(c),d=h.useCallback(p=>jr(uln(n.options,u.current,t,s)).pipe(ft(m=>{let{filter:v,params:g}=m;return oln(a,p,n,{...n.options,filter:v,params:g,tag:"search.cross-dataset-reference"})}),Rn(m=>{var v;const g=m.details&&m.details.type==="queryParseError";return(v=n.options)!=null&&v.filter&&g&&(m.message='Invalid reference filter, please check the custom "filter" option'),zu(m)})),[a,u,t,n,s]),f=h.useMemo(()=>lln({client:a,documentPreviewStore:i}),[a,i]);return l.jsx(rln,{...e,getReferenceInfo:f,onSearch:d})}function hln(e){const t=h.useRef(e);return t.current=e,t}async function pln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=cm(t,o);return e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function wN(e){var t,n,r,o;const{path:i,schemaType:s}=e,a=Ln(),c=a.getClient(cn),u=jn(),d=Ni(),f=h.useMemo(()=>c.withConfig({apiVersion:"2021-03-25"}),[c]),{EditReferenceLinkComponent:p,onEditReference:m,activePath:v,initialValueTemplateItems:g}=JDe(),b=NA([]),x=hln(b),y=(t=x.current)==null?void 0:t._type,w=h.useMemo(()=>{var I;return(I=u.get(y))==null?void 0:I.liveEdit},[y,u]),C=((n=s.options)==null?void 0:n.disableNew)===!0,_=a.getClient,S=h.useCallback(I=>jr(pln(s.options,x.current,i,_)).pipe(ft(O=>{let{filter:$,params:R}=O;return uDe(f,I,s,{...s.options,filter:$,params:R,tag:"search.reference"})}),Rn(O=>{var $;const R=O.details&&O.details.type==="queryParseError";return($=s.options)!=null&&$.filter&&R&&(O.message='Invalid reference filter, please check the custom "filter" option'),zu(O)})),[x,i,f,s,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(O,$){return p?l.jsx(p,{...O,ref:$,parentRefPath:i,template:E}):null}),[p,i,E]),k=h.useCallback(I=>{m==null||m({parentRefPath:i,id:I.id,type:I.type,template:I.template})},[m,i]),T=Si(i,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",A=h.useMemo(()=>C?[]:(g||[]).filter(I=>s.to.some(O=>{var $;return O.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var O;return(O=I.template)!=null&&O.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(bo),[C,g,s.to]),D=h.useCallback(I=>cDe(d,I,s),[d,s]);return{selectedState:T,handleSearch:S,isCurrentDocumentLiveEdit:w,handleEditReference:k,EditReferenceLink:j,createOptions:A,getReferenceInfo:D}}function mln(e){const{getReferenceInfo:t,id:n,renderPreview:r}=e,{isLoading:o,result:i,error:s}=LA(n,t);if(o)return l.jsxs(ee,{space:2,padding:1,children:[l.jsx(Oi,{style:{maxWidth:320},radius:1,animated:!0}),l.jsx(Oi,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(s)return l.jsx(ee,{space:2,padding:1,children:l.jsx(zc,{title:"Failed to load referenced document",children:l.jsxs(L,{muted:!0,size:1,children:["Error: ",s.message]})})});if(!i)return null;if(i.availability.reason==="PERMISSION_DENIED")return l.jsx(ee,{space:2,padding:1,children:"Insufficient permissions to view this document"});const a=e.type.to.find(c=>c.name===i.type);return a?i&&a&&l.jsx(mIe,{id:i.id,layout:"default",preview:i.preview,refType:a,renderPreview:r,showTypeLabel:e.type.to.length>1}):l.jsxs(ee,{space:2,padding:1,children:[`Search returned a type that's not valid for this reference: "$`,i.type,'"']})}const gln={display:"inline-flex"},vln={width:"100%"},yln={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function bln(e){const{createOptions:t,onCreate:n,id:r,...o}=e;return t.some(s=>s.permission.granted)?t.length>1?l.jsx(on,{button:l.jsx(oe,{...o,disabled:e.readOnly,text:"Create new…",mode:"ghost",icon:Zs}),id:r,menu:l.jsx(Nt,{ref:e.menuRef,children:t.map(s=>l.jsx(it,{disabled:s.permission.granted,content:l.jsx(M,{padding:2,children:l.jsx(Ac,{operationLabel:"create this type of document"})}),portal:!0,children:l.jsx("div",{children:l.jsx(ze,{disabled:!s.permission.granted,icon:s.icon,text:s.title,onClick:()=>n(s)})})},s.id))}),popover:yln}):l.jsx(oe,{...o,text:"Create new",mode:"ghost",disabled:!t[0].permission.granted||e.readOnly,onClick:()=>n(t[0]),icon:Zs}):l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(Ac,{operationLabel:"create a new reference"})}),children:l.jsx("div",{style:gln,children:l.jsx(oe,{text:"Create new",mode:"ghost",disabled:!0,icon:Zs,style:vln})})})}var jae=Object.freeze,xln=Object.defineProperty,A3e=(e,t)=>jae(xln(e,"raw",{value:jae(t||e.slice())})),Tae,Aae;const wln=P(rn)(Tae||(Tae=A3e([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),Cln=P(L)(Aae||(Aae=A3e([`
  word-break: break-word;
`]))),_ln=["top-start","bottom-start"],Sln=h.forwardRef(function(t,n){const r=t.options&&t.options.length>0,o=h.useCallback((i,s)=>{let{content:a,hidden:c,inputElement:u,onMouseEnter:d,onMouseLeave:f}=i;var p;return l.jsx(wln,{placement:"bottom-start",fallbackPlacements:_ln,arrow:!1,constrainSize:!0,onMouseEnter:d,onMouseLeave:f,content:l.jsx("div",{ref:s,children:r?a:l.jsx(M,{padding:4,children:l.jsx(H,{align:"center",height:"fill",justify:"center",children:l.jsxs(Cln,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",t.searchString,"”"]}),((p=t.searchString)==null?void 0:p.toLowerCase())==="capybara"?l.jsx(l.Fragment,{children:". What a shame. There should be more Capybaras."}):null]})})})}),open:!t.loading&&!c,ref:t.portalRef,portal:!0,referenceElement:t.referenceElement||u,matchReferenceWidth:!0})},[r,t.searchString,t.loading,t.portalRef,t.referenceElement]);return l.jsx(LL,{...t,ref:n,renderPopover:o})});var Dae=Object.freeze,Eln=Object.defineProperty,D3e=(e,t)=>Dae(Eln(e,"raw",{value:Dae(t||e.slice())})),Iae,Oae;const kln=de(Iae||(Iae=D3e([`
  grid-template-columns: minmax(0px, 1fr);
`]))),jln=de(Oae||(Oae=D3e([`
  grid-template-columns: 1fr min-content;
`]))),Tln=P(nn)(e=>e.$narrow?kln:jln),Aln=h.forwardRef(function(t,n){const[r,o]=h.useState(null),i=h.useCallback(a=>{Dln(n,a),o(a)},[n]),s=Qf(r);return l.jsx(Tln,{ref:i,gap:1,$narrow:((s==null?void 0:s.width)||0)<480,children:t.children})});function Dln(e,t){typeof e=="function"?e(t):e&&(e.current=t)}var Pae=Object.freeze,Iln=Object.defineProperty,Oln=(e,t)=>Pae(Iln(e,"raw",{value:Pae(t||e.slice())})),Rae;const Pln=P(Ap)(Rae||(Rae=Oln([`
  /* this is a hack to avoid layout jumps while previews are loading
  there's probably better ways of solving this */
  min-height: 36px;
`]))),$ae={hits:[],isLoading:!1},Rln=()=>!0;function $ln(e){return e!==null}function Mln(e){var t,n,r,o,i,s;const{createOptions:a,onChange:c,onEditReference:u,onSearch:d,schemaType:f,readOnly:p,id:m,onPathFocus:v,value:g,renderPreview:b,path:x,elementProps:y,focusPath:w}=e,{getReferenceInfo:C}=wN({path:x,schemaType:f,value:g}),[_,S]=h.useState($ae),E=h.useCallback(Y=>{const X=ud(),ae=[Qi({}),bt(f.name,["_type"]),bt(X,["_ref"]),bt(!0,["_weak"]),bt({type:Y.type,weak:f.weak,template:Y.template},["_strengthenOnPublish"])].filter(bo);c(ae),u({id:X,type:Y.type,template:Y.template}),v([])},[c,u,v,f]),j=h.useCallback(Y=>{if(!Y){c(Je()),v([]);return}const X=_.hits.find(he=>he.id===Y);if(!X)throw new Error("Selected an item that wasnt part of the result set");const ae=[Qi({}),bt(f.name,["_type"]),bt($n(Y),["_ref"]),X.published&&!f.weak?Je(["_weak"]):bt(!0,["_weak"]),X.published?Je(["_strengthenOnPublish"]):bt({type:X==null?void 0:X.type,weak:f.weak},["_strengthenOnPublish"])].filter(bo);c(ae),v([])},[c,v,f.name,f.weak,_.hits]),k=h.useCallback(()=>{c(Je())},[c]),T=h.useCallback(()=>{g!=null&&g._ref||k()},[k,g==null?void 0:g._ref]),A=h.useCallback(Y=>{Y.key==="Escape"&&v([])},[v]),D=LA(g==null?void 0:g._ref,C),I=h.useRef(null),{push:O}=qo(),$=nT(Y=>Y.pipe(pt($ln),rt(X=>Wr(ve({isLoading:!0}),d(X).pipe(le(ae=>({hits:ae,searchString:X,isLoading:!1})),Rn(ae=>(O({title:"Reference search failed",description:ae.message,status:"error",id:"reference-search-fail-".concat(m)}),console.error(ae),ve({hits:[]})))))),ra((X,ae)=>({...X,...ae}),$ae),Cn(S)),[m,d,O]),R=h.useCallback(()=>{$("")},[$]),z=h.useCallback(Y=>{Y.key==="Escape"&&v([])},[v]),B=h.useCallback(Y=>{var X,ae;const he=((X=Y.hit.draft)==null?void 0:X._id)||((ae=Y.hit.published)==null?void 0:ae._id)||Y.value;return l.jsx(Pln,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:l.jsx(M,{paddingX:3,paddingY:1,children:l.jsx(mln,{getReferenceInfo:C,id:he,renderPreview:b,type:f})})})},[f,C,b]),U=h.useCallback(()=>{var Y,X,ae,he;return((X=(Y=D.result)==null?void 0:Y.preview.draft)==null?void 0:X.title)||((he=(ae=D.result)==null?void 0:ae.preview.published)==null?void 0:he.title)||""},[(n=(t=D.result)==null?void 0:t.preview.draft)==null?void 0:n.title,(o=(r=D.result)==null?void 0:r.preview.published)==null?void 0:o.title]),W=h.useCallback(()=>v(["_ref"]),[v]),V=h.useCallback(Y=>{var X;(X=I.current)!=null&&X.contains(Y.relatedTarget)||e.elementProps.onBlur(Y)},[e.elementProps]),K=((s=(i=D==null?void 0:D.result)==null?void 0:i.availability)==null?void 0:s.reason)==="NOT_FOUND"&&!(g!=null&&g._strengthenOnPublish)&&(g==null?void 0:g._weak);Bi((w==null?void 0:w[0])==="_ref",(Y,X)=>{var ae;!Y&&X&&((ae=y.ref.current)==null||ae.focus())});const te=h.useMemo(()=>_.hits.map(Y=>({value:Y.id,hit:Y})),[_.hits]),N=w.length===1&&w[0]==="_ref",{menuRef:G,containerRef:q}=wnn(),Z=h.useRef(null),ie=h.useRef(null),ne=h.useRef(null);return dDe([q,Z,ie,ne,G],()=>{N&&T()}),l.jsx(ee,{space:1,"data-testid":"reference-input",ref:Z,children:l.jsxs(ee,{space:2,children:[K?l.jsx(zc,{"data-testid":"alert-nonexistent-document",title:"Nonexistent document reference",suffix:l.jsx(ee,{padding:2,children:l.jsx(oe,{text:"Clear",onClick:k})}),children:l.jsxs(L,{size:1,children:["This field is currently referencing a document that doesn't exist (ID:",l.jsx("code",{children:g._ref}),"). You can either remove the reference or replace it with another document."]})}):null,l.jsxs(Aln,{ref:I,children:[l.jsx(Sln,{...y,onFocus:W,onBlur:V,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:I.current,options:te,radius:1,placeholder:"Type to search",onKeyDown:A,readOnly:D.isLoading||p,onQueryChange:$,searchString:_.searchString,onChange:j,filterOption:Rln,renderOption:B,renderValue:U,openButton:{onClick:R},portalRef:ie,value:g==null?void 0:g._ref}),a.length>0&&l.jsx(bln,{id:"".concat(m,"-selectTypeMenuButton"),readOnly:p,createOptions:a,onCreate:E,onKeyDown:z,menuRef:ne})]})]})})}async function Fln(e,t,n,r){if(!e)return{};if(typeof e.filter=="function"){const o=n.slice(0,-1),i=cm(t,o);return await e.filter({document:t,parentPath:o,parent:i,getClient:r})}return{filter:e.filter,params:"filterParams"in e?e.filterParams:void 0}}function Lln(e){const t=h.useRef(e);return t.current=e,t}function Bln(e){var t,n,r,o;const i=Ln(),s=i.getClient(cn),a=jn(),c=Ni(),{path:u,schemaType:d}=e,{EditReferenceLinkComponent:f,onEditReference:p,activePath:m,initialValueTemplateItems:v}=JDe(),g=NA([]),b=Lln(g),x=(t=b.current)==null?void 0:t._type,y=a.get(x),w=h.useMemo(()=>y==null?void 0:y.liveEdit,[y]),C=((n=d.options)==null?void 0:n.disableNew)===!0,_=i.getClient,S=h.useCallback(I=>jr(Fln(d.options,b.current,u,_)).pipe(ft(O=>{let{filter:$,params:R}=O;return uDe(s,I,d,{...d.options,filter:$,params:R,tag:"search.reference"})}),Rn(O=>{var $;const R=O.details&&O.details.type==="queryParseError";return($=d.options)!=null&&$.filter&&R&&(O.message='Invalid reference filter, please check the custom "filter" option'),zu(O)})),[b,u,s,d,_]),E=(o=(r=e.value)==null?void 0:r._strengthenOnPublish)==null?void 0:o.template,j=h.useMemo(()=>h.forwardRef(function(O,$){return f?l.jsx(f,{...O,ref:$,parentRefPath:u,template:E}):null}),[f,u,E]),k=h.useCallback(I=>{p==null||p({parentRefPath:u,id:I.id,type:I.type,template:I.template})},[p,u]),T=Si(u,(m==null?void 0:m.path)||[])?m==null?void 0:m.state:"none",A=h.useMemo(()=>C?[]:(v||[]).filter(I=>d.to.some(O=>{var $;return O.name===(($=I.template)==null?void 0:$.schemaType)})).map(I=>{var O,$,R;return(O=I.template)!=null&&O.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(($=I.template)==null?void 0:$.id),type:I.template.schemaType,icon:I.icon,template:{id:(R=I.template)==null?void 0:R.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(bo),[C,v,d.to]),D=h.useCallback((I,O)=>cDe(c,I,O),[c]);return l.jsx(Mln,{...e,onSearch:S,liveEdit:w,getReferenceInfo:D,selectedState:T,editReferenceLinkComponent:j,createOptions:A,onEditReference:k})}function Nln(e){return wF(e.schemaType)}function zln(e){return BMe(e.schemaType)}function k5(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e!="object"&&!Array.isArray(e))return e===t;if(e._key&&e._key===t._key)return!0;if(Array.isArray(e))return!e.length!==t.length?!1:e.every((o,i)=>k5(e[i],t[i]));const n=Object.keys(e),r=Object.keys(e);return n.length!==r.length?!1:n.every(o=>k5(e[o],t[o]))}function Mae(e,t){return e?e.some(n=>k5(n,t)):!1}function Vln(e,t){return e.of.find(n=>n.name===js(t))}const Hln=[];function Uln(e){var t,n;const{renderPreview:r,schemaType:o,onChange:i,onPathFocus:s,value:a=[],readOnly:c,elementProps:u,path:d,changed:f}=e,p=h.useMemo(()=>{var b;return(((b=o.options)==null?void 0:b.list)||Hln).map((x,y)=>jl(x)?x:{...x,_key:"auto-generated-".concat(y)})},[(t=o.options)==null?void 0:t.list]),m=h.useCallback((b,x)=>{if(!b&&jl(x)){i(Je([{_key:x._key}]));return}const y=p.filter(w=>k5(x,w)?b:Mae(a,w));i(y.length>0?bt(y):Je())},[i,p,a]),v=h.useCallback(b=>{s([b])},[s]),g=((n=o.options)==null?void 0:n.layout)==="grid";return l.jsx(li,{path:d,isChanged:f,hasFocus:!1,children:l.jsx(nn,{gap:2,columns:g?Math.min(p.length,4):1,tabIndex:0,...u,children:p.map((b,x)=>{const y=Vln(o,b),w=Mae(a,b),C=!y;return l.jsxs(H,{align:"center",as:"label",muted:C,children:[l.jsx(Yj,{disabled:C,checked:w,onChange:_=>m(_.currentTarget.checked,b),onFocus:()=>v(x),readOnly:c}),l.jsx(M,{flex:1,marginLeft:2,children:y?r({layout:"default",schemaType:y,value:b}):l.jsx(Q,{tone:"caution",radius:2,children:l.jsx(MIe,{value:b,onFocus:()=>v(x)})})})]},x)})})})}var Fae=Object.freeze,Wln=Object.defineProperty,qln=(e,t)=>Fae(Wln(e,"raw",{value:Fae(t||e.slice())})),Lae;const Yln=P(Q)(Lae||(Lae=qln([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function I3e(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,c]=re.useState(null);dr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=js(t);return l.jsx(rn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(Yln,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(ee,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(cj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(ee,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(Q,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(Q,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(H,{align:"center",children:[l.jsx(M,{marginRight:3,children:l.jsx(L,{children:l.jsx(Sl,{})})}),l.jsx(M,{flex:1,children:l.jsxs(L,{size:1,textOverflow:"ellipsis",children:["Item of type ",l.jsx("code",{children:f})," not valid for this list"]})})]})})})}function Gln(e){return!!(e&&typeof e=="object"&&"title"in e&&"value"in e)}function Kln(e){return e.map(t=>Gln(t)?{title:t.title||fn(String(t.value)),value:t.value}:{title:fn(String(t)),value:t})}function Zln(e,t){return e.of.find(n=>n.name===js(t.value))}function Xln(e){var t,n;const{schemaType:r,onChange:o,value:i=[],readOnly:s,path:a,changed:c,onIndexFocus:u,elementProps:d}=e,f=h.useMemo(()=>{var v;return Kln(((v=r.options)==null?void 0:v.list)||[])},[(t=r.options)==null?void 0:t.list]),p=(v,g)=>{const b=f.map(x=>x.value).filter(x=>x===g?v:i.includes(x));o(b.length>0?bt(b):Je())},m=((n=r.options)==null?void 0:n.layout)==="grid";return l.jsx(li,{path:a,isChanged:c,hasFocus:!1,children:l.jsx(nn,{gap:2,columns:m?Math.min(f.length,4):1,...d,children:f.map((v,g)=>{const b=Zln(r,v),x=i.includes(v.value),y=!b;return l.jsxs(H,{align:"center",as:"label",muted:y,children:[l.jsx(Yj,{disabled:y,checked:x,onChange:w=>p(w.currentTarget.checked,v.value),onFocus:()=>u(g),readOnly:s}),l.jsx(M,{padding:2,children:l.jsx(L,{children:v.title})}),!b&&l.jsx(I3e,{value:v,onFocus:()=>u(g)})]},g)})})})}function O3e(e){return Nln(e)?l.jsx(Uln,{...e}):l.jsx(Xln,{...e})}var Bae=Object.freeze,Qln=Object.defineProperty,GA=(e,t)=>Bae(Qln(e,"raw",{value:Bae(t||e.slice())})),Nae,zae,Vae,Hae;const Jln=P.div(Nae||(Nae=GA([`
  position: relative;
`]))),P3e=P.div(zae||(zae=GA([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),R3e=P(Q)(Vae||(Vae=GA([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),ecn=P(H)(Hae||(Hae=GA([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  :hover,
  :focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),R3e,P3e),tcn=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function ncn(e){const{children:t,message:n,onActivate:r,isOverlayActive:o}=e,[i,s]=h.useState(!1),a=h.useCallback(()=>{r&&r()},[r]),c=h.useCallback(p=>{o&&p.code==="Space"&&r&&(p.preventDefault(),r())},[o,r]),u=h.useCallback(()=>{s(!0)},[]),d=h.useCallback(()=>{s(!1)},[]),f=h.useMemo(()=>{const p=tcn();let m=p?"Tap":"Click";i&&!p&&(m+=" or press space");const v=n||"".concat(m," to activate");return l.jsx(L,{weight:"semibold",children:v})},[i,n]);return l.jsxs(Jln,{onBlur:d,onClick:a,onFocus:u,onKeyDown:c,children:[o&&l.jsxs(ecn,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[l.jsx(R3e,{radius:1}),l.jsx(P3e,{children:f})]}),t]})}var Uae=Object.freeze,rcn=Object.defineProperty,ocn=(e,t)=>Uae(rcn(e,"raw",{value:Uae(t||e.slice())})),Wae;const icn=P.span(Wae||(Wae=ocn([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function scn(e){const{value:t,focused:n,selected:r,children:o,schemaType:i}=e,s=Jon[t],a=i.component,c=h.useCallback(u=>l.jsx(icn,{as:s,"data-mark":t,children:u.children}),[s,t]);return h.useMemo(()=>{const u={focused:n,renderDefault:c,schemaType:i,selected:r,title:i.title,value:t};return a?l.jsx(a,{...u,children:o}):l.jsx(c,{...u,children:o})},[a,c,o,n,i,r,t])}const acn={portal:!0,constrainSize:!0},$3e=h.forwardRef(function(t,n){const{disableRestoreFocusOnClose:r,menuButton:o,menuButtonProps:i,menuOptions:s,onMenuClose:a}=t;return l.jsx(on,{__unstable_disableRestoreFocusOnClose:r,id:"menu-button",ref:n,onClose:a,popover:acn,...i,button:o,menu:l.jsx(Nt,{children:s.map((c,u)=>{const{collapsedProps:d={},expandedProps:f={},tooltipProps:p={},tooltipText:m,dividerBefore:v,fontSize:g,padding:b,text:x,icon:y,selected:w,...C}=c.props;return l.jsxs(re.Fragment,{children:[v&&u!==0&&l.jsx($r,{}),l.jsx(ze,{text:x,icon:y,pressed:w,...C})]},c.key)})})})});function lcn(e){const{onIntersectionChange:t,children:n,options:r,...o}=e,[i,s]=h.useState(null);return h.useEffect(()=>{if(!i)return;const a=new IntersectionObserver(t,r);return a.observe(i),()=>{a.unobserve(i),a.disconnect()}},[i,t,r]),l.jsx(H,{ref:s,...o,children:n})}var qae=Object.freeze,ccn=Object.defineProperty,ucn=(e,t)=>qae(ccn(e,"raw",{value:qae(t||e.slice())})),Yae;const dcn=P.div(Yae||(Yae=ucn([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function M3e(e){const{hidden:t,...n}=e;return l.jsx(dcn,{"data-ui":"CollapseMenuDivider","data-hidden":t?"":void 0,...n})}var Gae=Object.freeze,fcn=Object.defineProperty,gC=(e,t)=>Gae(fcn(e,"raw",{value:Gae(t||e.slice())})),Kae,Zae,Xae,Qae,Jae;const ele=3,hcn=de(Kae||(Kae=gC([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),pcn=P(H)(Zae||(Zae=gC([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),ele,ele),mcn=P(H)(Xae||(Xae=gC([`
  border-radius: inherit;
  position: relative;
`]))),F3e=P(H)(Qae||(Qae=gC([`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`]))),gcn=P(lcn)(Jae||(Jae=gC([`
  `,`
`])),hcn);function vcn(e){return!!e}const CN=h.forwardRef(function(t,n){const{children:r,collapsed:o,disableRestoreFocusOnClose:i,onMenuClose:s,menuButtonProps:a,...c}=t,u=h.useMemo(()=>h.Children.toArray(r).filter(vcn),[r]),d=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(oe,{icon:Io,mode:"bleed"}),[a]);return o?l.jsx($3e,{ref:n,disableRestoreFocusOnClose:i,menuButton:d,menuButtonProps:a,menuOptions:u,onMenuClose:s}):l.jsx(ycn,{...c,ref:n,disableRestoreFocusOnClose:i,menuButtonProps:a,menuOptions:u,onMenuClose:s})}),ycn=h.forwardRef(function(t,n){const{collapseText:r=!0,disableRestoreFocusOnClose:o,gap:i,menuOptions:s,menuButtonProps:a,onMenuClose:c,...u}=t,[d,f]=h.useState(null),[p,m]=h.useState({}),[v,g]=h.useState({}),b=h.useMemo(()=>({root:d,threshold:.99,rootMargin:"2px"}),[d]),x=h.useMemo(()=>s.map(A=>A.key),[s]),y=h.useMemo(()=>[...qp(x,Object.keys(p)),...qp(x,Object.keys(v))],[x,p,v]),w=h.useMemo(()=>s.filter(A=>{const D=p[A.key];return D&&!D.intersects}),[p,s]),C=h.useCallback((A,D)=>{m(I=>{const O=D.key;if(O===null)throw new Error("Expected element to have a non-null key");const $={intersects:A.isIntersecting,element:D},R=I[O];return!R||R.intersects!==$.intersects?{...I,[O]:$}:I})},[]),_=h.useCallback((A,D)=>{g(I=>{const O=D.key;if(O===null)throw new Error("Expected child element to have a non-null key");const $=I[O],R={intersects:A.isIntersecting,element:D};return($==null?void 0:$.intersects)===R.intersects?I:{...I,[O]:R}})},[]),S=h.useMemo(()=>s.map(A=>{const{collapsedProps:D}=A.props,I=D,O=r?void 0:A.props.text;return h.cloneElement(A,{...I,text:O})}),[s,r]),E=h.useMemo(()=>s.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!1}),[s,v]),k=w.length>0?S.filter(A=>{const D=v[A.key];return(D==null?void 0:D.intersects)===!0}):s,T=h.useMemo(()=>(a==null?void 0:a.button)||l.jsx(oe,{icon:Io,mode:"bleed"}),[a]);return l.jsxs(pcn,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:n,...u,children:[l.jsxs(mcn,{direction:"column",flex:1,justify:"center",ref:f,children:[l.jsx(F3e,{gap:i,children:y.length===0&&k.map((A,D)=>{const{dividerBefore:I,tooltipText:O="",tooltipProps:$={}}=A.props,R=!A.key||!(A.key in p)||E.includes(A);return l.jsxs(h.Fragment,{children:[I&&D!==0&&l.jsx(M3e,{hidden:R}),l.jsx(it,{portal:!0,disabled:!O,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:O})}),...$,children:l.jsx(H,{children:h.cloneElement(A,{disabled:A.props.disabled||R,"aria-hidden":R})})})]},A.key)})}),l.jsx(tle,{gap:i,elements:s,intersectionOptions:b,onIntersectionChange:C}),l.jsx(tle,{gap:i,elements:S,intersectionOptions:b,onIntersectionChange:_})]}),E.length>0&&l.jsx(H,{marginLeft:i,children:l.jsx($3e,{disableRestoreFocusOnClose:o,menuButton:T,menuButtonProps:a,menuOptions:E,onMenuClose:c})})]})}),tle=h.memo(function(t){const{elements:n,gap:r,intersectionOptions:o,onIntersectionChange:i}=t;return l.jsx(F3e,{"data-hidden":!0,"aria-hidden":"true",gap:r,overflow:"hidden",children:n.map((s,a)=>{const{dividerBefore:c}=s.props;return l.jsxs(h.Fragment,{children:[c&&a!==0&&l.jsx(M3e,{hidden:!0}),l.jsx(gcn,{options:o,onIntersectionChange:u=>i(u[0],s),children:l.jsx(H,{children:h.cloneElement(s,{disabled:!0,"aria-hidden":!0})})})]},s.key)})})}),_N=h.forwardRef(function(t,n){const{collapsedProps:r={},expandedProps:o={},tooltipProps:i={},tooltipText:s,dividerBefore:a,...c}=t;return l.jsx(oe,{"data-ui":"CollapseMenuButton",...c,ref:n})});var nle=Object.freeze,bcn=Object.defineProperty,xcn=(e,t)=>nle(bcn(e,"raw",{value:nle(t||e.slice())})),rle;const wcn=P.div(rle||(rle=xcn([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function Ccn(e){const{icon:t,active:n}=e,r=h.useMemo(()=>({backgroundImage:"url(".concat(t,")"),filter:n?"invert(100%)":"invert(0%)"}),[n,t]);return l.jsx(wcn,{style:r})}function _cn(e,t,n){return e.schemaTypes.decorators.map(o=>{const i=Object.keys(n.marks||{}).find(a=>{var c;return((c=n.marks)==null?void 0:c[a])===o.value});let s=[];return i&&(s=[i]),{type:"format",disabled:t,icon:o==null?void 0:o.icon,key:o.value,handle:()=>{Ce.toggleMark(e,o.value),Ce.focus(e)},hotkeys:s,title:o.title}})}function Scn(e,t){return e.schemaTypes.lists.map(r=>({type:"listStyle",key:r.value,disabled:t,icon:r==null?void 0:r.icon,handle:()=>{Ce.toggleList(e,r.value)},title:r.title}))}function Ecn(e){return qn(e,"icon")||qn(e,"type.icon")||qn(e,"type.to.icon")||qn(e,"type.to[0].icon")}function kcn(e,t,n){const r=e.schemaTypes,o=Ce.focusChild(e),i=o&&o.text;return r.annotations.map(s=>({type:"annotation",disabled:!i||t,icon:Ecn(s),key:s.name,handle:a=>{a?(Ce.removeAnnotation(e,s),Ce.focus(e)):n(s)},title:s.title||Tm(s.name)}))}function jcn(e,t,n,r){return[{name:"format",actions:_cn(e,t,r)},{name:"list",actions:Scn(e,t)},{name:"annotation",actions:kcn(e,t,n)}]}function Tcn(e){return e.styles.map(t=>({key:"style-".concat(t.value),style:t.value,styleComponent:t&&t.component,title:t.title}))}function ole(e,t){const n=qn(e,"to[0].icon");return e.icon||e.type&&e.type.icon||n||t}function Acn(e,t,n,r){const o=e.blockObjects.map((a,c)=>({handle:()=>n(a),icon:ole(a,S0e),inline:!1,key:"block-".concat(c),type:a})),i=e.inlineObjects.map((a,c)=>({handle:()=>r(a),icon:ole(a,F0e),inline:!0,key:"inline-".concat(c),type:a}));return o.concat(i).filter(a=>{var c;return!((c=a.type)!=null&&c.hidden)})}const Dcn={link:jf},Icn={strong:E0e,em:N0e,"strike-through":Z0e,underline:X0e,code:T0e},Ocn={number:H0e,bullet:qy};function Pcn(e,t){return e.icon?typeof e.icon=="string"?l.jsx(Ccn,{active:t,icon:e.icon}):e.icon:e.type==="annotation"?Dcn[e.key]||Sl:e.type==="listStyle"?Ocn[e.key]||Sl:Icn[e.key]||Sl}function KA(){const e=wo(),t=q0();return h.useMemo(()=>Ce.focusBlock(e),[e,t])}function Rcn(e){let{hotkeys:t,onMemberOpen:n,resolveInitialValue:r,disabled:o}=e;const i=wo(),s=h.useCallback(async a=>{const c=await r(a),u=Ce.addAnnotation(i,a,c);u&&u.markDefPath&&n(u.markDefPath)},[i,n,r]);return h.useMemo(()=>i?jcn(i,o,s,t):[],[o,i,s,t])}function $cn(e){let{actions:t}=e;const n=wo(),r=q0();return No(h.useMemo(()=>{const o=Ce.activeAnnotations(n).map(i=>i._type);return t.filter(i=>i.type==="annotation"?o.includes(i.key):i.type==="listStyle"?Ce.hasListStyle(n,i.key):Ce.isMarkActive(n,i.key)).map(i=>i.key)},[n,r]))}function Mcn(e){let{items:t}=e;const n=wo(),r=KA(),o=q0();return No(h.useMemo(()=>t.filter(i=>Ce.hasBlockStyle(n,i.style)).map(i=>i.style),[r,o]))}const Fcn=h.memo(CN),Lcn={constrainSize:!0,portal:!0},Bcn={padding:2,mode:"bleed"},Ncn=h.memo(function(t){const{disabled:n,groups:r,isFullscreen:o,collapsed:i}=t,s=KA(),a=wo(),c=(s==null?void 0:s._type)!==a.schemaTypes.block.name,u=!c&&Array.isArray(s.children)&&s.children.length===1&&(s==null?void 0:s.children[0].text)==="",d=n||c,f=h.useMemo(()=>r.reduce((b,x)=>b.concat(x.actions.map((y,w)=>w===0?{...y,firstInGroup:!0}:y)),[]),[r]),p=$cn({actions:f}),m=h.useCallback(()=>{Ce.focus(a)},[a]),v=h.useMemo(()=>f.map(b=>{const x=b.type==="annotation"&&u,y=p.includes(b.key);return h.createElement(_N,{"data-testid":"action-button-".concat(b.key),disabled:d||x,...Bcn,dividerBefore:b.firstInGroup,icon:Pcn(b,y),key:b.key,onClick:()=>b.handle(y),selected:y,text:b.title||b.key,tooltipText:b.title||b.key,tooltipProps:{disabled:d||x,placement:o?"bottom":"top",portal:"default"}})}),[f,p,d,u,o]),g=h.useMemo(()=>({button:l.jsx(oe,{icon:Io,mode:"bleed",padding:2,disabled:d}),popover:Lcn}),[d]);return l.jsx(Fcn,{collapsed:i,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:m,children:v})});var ile=Object.freeze,zcn=Object.defineProperty,L3e=(e,t)=>ile(zcn(e,"raw",{value:ile(t||e.slice())})),sle,ale;const Vcn=h.memo(on),Hcn=P(ze)(sle||(sle=L3e([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),Ucn=P(oe)(ale||(ale=L3e([`
  width: 100%;
`]))),Wcn={constrainSize:!0,placement:"bottom-start",portal:"default"},B3e={h1:e=>l.jsx(KIe,{children:e}),h2:e=>l.jsx(ZIe,{children:e}),h3:e=>l.jsx(XIe,{children:e}),h4:e=>l.jsx(QIe,{children:e}),h5:e=>l.jsx(JIe,{children:e}),h6:e=>l.jsx(e3e,{children:e}),normal:e=>l.jsx(gN,{children:e}),blockquote:e=>l.jsx(t3e,{"data-option":"blockquote",children:e})},qcn=Object.keys(B3e),Ycn=e=>e.preventDefault(),HO={key:"style-none",style:"",title:"No style"},Gcn=h.memo(function(t){const{disabled:n,items:r}=t,o=wo(),i=KA(),s=n||(i?o.schemaTypes.block.name!==i._type:!1),a=Mcn({items:r}),{activeItems:c,items:u}=h.useMemo(()=>{const g=r.filter(x=>a.includes(x.style));let b=r;return g.length===0&&b.length>1&&(b=b.concat([HO]),g.push(HO)),{activeItems:g,items:b}},[a,r]),d=h.useMemo(()=>c.length>1?"Multiple":c.length===1?c[0].title:HO.title,[c]),f=h.useCallback(g=>{i&&g.style!==i.style&&(Ce.toggleBlockStyle(o,g.style),Ce.focus(o))},[o,i]),p=h.useCallback((g,b)=>{const x=qcn.includes(g),y=B3e[g];return x?y(b):l.jsx(L,{children:b})},[]),m=h.useMemo(()=>l.jsx(Ucn,{disabled:s,iconRight:Bl,mode:"bleed",onClick:Ycn,padding:2,text:d}),[s,d]),v=h.useMemo(()=>l.jsx(Nt,{disabled:s,children:u.map(g=>l.jsx(Hcn,{pressed:c.includes(g),onClick:s?void 0:()=>f(g),children:p(g.style,(g==null?void 0:g.title)||g.style)},g.key))}),[s,c,f,u,p]);return l.jsx(Vcn,{popover:Wcn,id:"block-style-select",button:m,menu:v})}),Kcn=h.memo(CN),Zcn={constrainSize:!0,portal:!0},Xcn=h.memo(function(t){const{disabled:n,items:r,isFullscreen:o,collapsed:i}=t,s=KA(),a=wo(),c=s&&s._type!==a.schemaTypes.block.name,u=h.useCallback(()=>{Ce.focus(a)},[a]),d=h.useMemo(()=>r.map(p=>{const m=p.type.title||zSe(p.type.name);return l.jsx(_N,{"aria-label":"Insert ".concat(m).concat(p.inline?" (inline)":" (block)"),padding:2,mode:"bleed",disabled:n||c&&p.inline===!0,icon:p.icon,onClick:p.handle,text:m,tooltipText:"Insert ".concat(m),tooltipProps:{disabled:n,placement:o?"bottom":"top",portal:"default"}},p.key)}),[r,n,c,o]),f=h.useMemo(()=>({button:l.jsx(oe,{icon:Zs,mode:"bleed",padding:2,disabled:n}),popover:Zcn}),[n]);return l.jsx(Kcn,{collapsed:i,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:f,onMenuClose:u,children:d})});var lle=Object.freeze,Qcn=Object.defineProperty,u0=(e,t)=>lle(Qcn(e,"raw",{value:lle(t||e.slice())})),cle,ule,dle,fle,hle,ple;const Jcn=P(H)(cle||(cle=u0([`
  width: 100%;
`]))),eun=P(M)(ule||(ule=u0([`
  width: 8em;
`]))),tun=P(H)(dle||(dle=u0([`
  border-right: 1px solid var(--card-border-color);
`]))),nun=P(M)(hle||(hle=u0([`
  `,`
`])),e=>{let{$withInsertMenu:t}=e;return t&&de(fle||(fle=u0([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),run=P(M)(ple||(ple=u0([`
  border-left: 1px solid var(--card-border-color);
`]))),oun=300,iun=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),sun=h.memo(function(t){let{actionGroups:n,blockStyles:r,disabled:o,insertMenuItems:i,isFullscreen:s,onToggleFullscreen:a}=t;const u=n.reduce((x,y)=>x+y.actions.length,0)>0,d=i.length>0,[f,p]=h.useState(null),m=Qf(f),v=m?(m==null?void 0:m.width)<400:!1,g=r.length>1;zAe({rootElement:f});const b=h.useCallback(x=>{x.preventDefault(),x.stopPropagation()},[]);return l.jsxs(Jcn,{align:"center",ref:p,onMouseDown:b,children:[g&&l.jsx(tun,{flex:v?1:void 0,children:l.jsx(eun,{padding:s?2:1,children:l.jsx(Gcn,{disabled:o,items:r})})}),l.jsxs(H,{flex:1,children:[u&&l.jsx(nun,{flex:v?void 0:1,padding:s?2:1,$withInsertMenu:d,children:l.jsx(Ncn,{disabled:o,collapsed:v,groups:n,isFullscreen:s})}),d&&l.jsx(M,{flex:v?void 0:1,padding:s?2:1,children:l.jsx(Xcn,{disabled:o,collapsed:v,items:i,isFullscreen:s})})]}),l.jsx(run,{padding:s?2:1,children:l.jsx(it,{content:l.jsxs(H,{align:"center",padding:1,children:[l.jsx(M,{flex:1,paddingX:1,children:l.jsx(L,{size:1,children:"".concat(s?"Collapse":"Expand"," editor")})}),l.jsx(M,{marginLeft:1,children:l.jsx(NL,{keys:["".concat(iun?"Cmd":"Ctrl"),"Enter"]})})]}),placement:s?"bottom":"top",portal:"default",children:l.jsx(oe,{padding:2,icon:s?A0e:$0e,mode:"bleed",onClick:a})})})]})});function aun(e){const{hotkeys:t,isFullscreen:n,readOnly:r,onMemberOpen:o,onToggleFullscreen:i}=e,s=wo(),a=q0(),c=KN(),u=r||!a,{push:d}=qo(),f=h.useCallback(x=>{let y=!1;const w=setTimeout(()=>{y=!0,d({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},oun);return c(x,{}).then(C=>(y&&d({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),C)).catch(C=>{d({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(x.name,": ").concat(C.message,"."),status:"error"})}).finally(()=>clearTimeout(w))},[d,c]),p=h.useCallback(async x=>{const y=await f(x),w=Ce.insertBlock(s,x,y);w&&o(w)},[s,o,f]),m=h.useCallback(async x=>{const y=await f(x),w=Ce.insertChild(s,x,y);w&&o(w)},[s,o,f]),v=Rcn({hotkeys:t,onMemberOpen:o,resolveInitialValue:f,disabled:!0}),g=h.useMemo(()=>Tcn(s.schemaTypes),[s]),b=h.useMemo(()=>Acn(s.schemaTypes,u,p,m),[u,s,p,m]);return l.jsx(sun,{actionGroups:v,blockStyles:g,disabled:u,insertMenuItems:b,isFullscreen:n,onToggleFullscreen:i})}var mle=Object.freeze,lun=Object.defineProperty,xf=(e,t)=>mle(lun(e,"raw",{value:mle(t||e.slice())})),gle,vle,yle,ble,xle,wle,Cle,_le;const cun=P(Q)(gle||(gle=xf([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),e=>{let{$fullscreen:t}=e;return t?"100%":"15em"}),uun=P(Q)(vle||(vle=xf([`
  z-index: 10;
  line-height: 0;
`]))),dun=P(Q)(yle||(yle=xf([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),fun=P(_A)(ble||(ble=xf([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),hun=P(eo)(xle||(xle=xf([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),pun=P(Q)(_le||(_le=xf([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: 1px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),sy.map(e=>Qh(e)).join(" "),sy.map(e=>de(wle||(wle=xf([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),e,Qh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},sy.map(e=>Qh(e)).join(" "),e=>{let{theme:t}=e;return t.sanity.space[2]},sy.map(e=>Qh(e)).join(" "),sy.slice(1).map(e=>de(Cle||(Cle=xf([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),e,e-1,Qh(e))),e=>{let{theme:t}=e;return t.sanity.space[3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?5:3]},e=>{let{$isFullscreen:t,theme:n}=e;return n.sanity.space[t?9:5]},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]:n.sanity.space[3])},e=>{let{$isFullscreen:t,theme:n}=e;return ge(t?n.sanity.space[5]*2:n.sanity.space[3]*2)});function mun(){const e=wo();return h.useMemo(()=>{var t;const n=(t=e.schemaTypes.block.options)==null?void 0:t.spellCheck,r=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return n===void 0&&r===!0?!1:n},[e])}function gun(e){return h.useMemo(()=>(t,n)=>{if(Ce.getSelection(t)){const o=n.startContainer.parentElement;if(!o)return;Qv(o,{scrollMode:"if-needed",boundary:e,block:"start",inline:"nearest"})}},[e])}const vun=e=>{const{block:t,focused:n,children:r,selected:o,schemaType:i}=e,s=h.useMemo(()=>(t.style&&LO[t.style]?LO[t.style]:LO[0])||gN,[t.style]),a=h.useCallback(c=>l.jsx(s,{children:l.jsx(yd,{"data-testid":"text-style--".concat(t.style),children:c.children})}),[s,t.style]);return h.useMemo(()=>{const c=i.component,{title:u,value:d}=i,f={block:t,focused:n,renderDefault:a,schemaType:i,selected:o,title:u,value:d};return c?l.jsx(c,{...f,children:r}):l.jsx(a,{...f,children:r})},[a,t,r,n,i,o])},Sle=e=>l.jsx(l.Fragment,{children:e.children}),yun=e=>{const{block:t,children:n,schemaType:r,selected:o,focused:i,level:s,value:a}=e,{title:c,component:u}=r;return h.useMemo(()=>{const d={block:t,focused:i,level:s,renderDefault:Sle,schemaType:r,selected:o,title:c,value:a};return u?l.jsx(u,{...d,children:n}):l.jsx(Sle,{...d,children:n})},[u,t,n,i,s,r,o,c,a])},bun={outline:"none"},xun=e=>l.jsx(scn,{...e}),wun=e=>l.jsx(vun,{...e}),Cun=e=>l.jsx(yun,{...e});function _un(e){const{hotkeys:t,initialSelection:n,isActive:r,isFullscreen:o,onCopy:i,onItemOpen:s,onPaste:a,onToggleFullscreen:c,path:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderChild:m,scrollElement:v,setPortalElement:g,setScrollElement:b,ariaDescribedBy:x}=e,{isTopLayer:y}=tl(),w=h.useRef(null),{element:C}=Jf();rs(h.useCallback(T=>{!y||!o||T.key==="Escape"&&c()},[c,o,y]));const _=h.useCallback(()=>l.jsx("span",{"data-testid":"pt-input-placeholder",children:"Empty"}),[]),S=mun(),E=gun(v),j=h.useMemo(()=>l.jsx(vje,{"aria-describedby":x,hotkeys:t,onCopy:i,onPaste:a,ref:w,renderAnnotation:f,renderBlock:p,renderChild:m,renderDecorator:xun,renderListItem:Cun,renderPlaceholder:_,renderStyle:wun,scrollSelectionIntoView:E,selection:n,spellCheck:S,style:bun}),[x,t,n,i,a,f,p,m,_,E,S]),k=h.useCallback(T=>{s(u.concat(T))},[s,u]);return l.jsxs(cun,{$fullscreen:o,"data-testid":"pt-editor",children:[r&&l.jsx(uun,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:l.jsx(aun,{hotkeys:t,isFullscreen:o,onMemberOpen:k,onToggleFullscreen:c,readOnly:d})}),l.jsxs(dun,{flex:1,tone:d?"transparent":"default",children:[l.jsx(fun,{ref:b,children:l.jsx(hun,{padding:o?2:0,sizing:"border",width:1,children:l.jsx(pun,{$isFullscreen:o,tone:d?"transparent":"default",children:l.jsx(Bu,{element:o?v:C,children:j})})})}),l.jsx("div",{"data-portal":"",ref:g})]})]})}var Ele=Object.freeze,Sun=Object.defineProperty,N3e=(e,t)=>Ele(Sun(e,"raw",{value:Ele(t||e.slice())})),kle,jle;const Eun=P.div(e=>{let{theme:t}=e;const{focusRing:n,input:r}=t.sanity,o=t.sanity.color.base,s={color:t.sanity.color.input.default.enabled.border,width:r.border.width};return de(kle||(kle=N3e([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: 1px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),yN(s),r.border.width,bN({base:o,border:s,focusRing:n}))}),kun=P(os)(jle||(jle=N3e([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`])));function jun(e){const t=wo(),[n]=h.useState(()=>e);return n!==e&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),h.useMemo(()=>{const r={marks:{}};return t.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":r.marks["mod+b"]=o.value;break;case"em":r.marks["mod+i"]=o.value;break;case"underline":r.marks["mod+u"]=o.value;break;case"code":r.marks["mod+'"]=o.value;break}}),{marks:{...r.marks,...(n||{}).marks},custom:n.custom}},[t,n])}function Tun(e){const{focusPath:t,boundaryElement:n,onItemClose:r}=e,o=Ion(),i=wo(),s=q0();h.useLayoutEffect(()=>{var a,c,u,d,f;if(t.length===0)return;const p=o.find(m=>m.member.open);if(p&&((a=p.elementRef)!=null&&a.current)){if(n&&(Qv(n,{scrollMode:"if-needed",block:"start",inline:"start"}),Qv(p.elementRef.current,{scrollMode:"if-needed",boundary:n,block:"start",inline:"start"})),s!=null&&s.focus.path&&wn(s.focus.path,t))return;const m=p.kind==="textBlock",v=t.length===1;if(m||v){const g=m&&jl(t[2])?t[2]._key:void 0,b=g&&Array.isArray((c=p.node.value)==null?void 0:c.children)?(u=p.node.value)==null?void 0:u.children.find(C=>C._key===g):void 0,x=b&&b._type==="span"&&t.length===4&&t[1]==="children"&&t[3]==="text"||!1,y=m&&(t.length===3&&t[1]==="children"||x);let w=[];y?w=t.slice(0,3):m&&v&&Array.isArray((d=p.node.value)==null?void 0:d.children)?w=[t[0],"children",{_key:(f=p.node.value)==null?void 0:f.children[0]._key}]:v&&(w=[{_key:p.key}]),w.length&&(Ce.select(i,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),m&&Ce.focus(i))}}},[n,i,t,r,o,s==null?void 0:s.focus.path])}function Aun(e){const{changed:t,focused:n,focusPath:r=gn,hasFocusWithin:o,hotkeys:i,isActive:s,isFullscreen:a,onActivate:c,onCopy:u,onItemClose:d,onItemOpen:f,onItemRemove:p,onPaste:m,onPathFocus:v,onToggleFullscreen:g,path:b,readOnly:x,renderAnnotation:y,renderBlock:w,renderBlockActions:C,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,value:A}=e,D=wo(),I=Jf().element,[O,$]=h.useState(null),[R,z]=h.useState(null),B=h.useCallback(()=>{g()},[g]),U=h.useMemo(()=>({...i,custom:{"mod+enter":g,...(i==null?void 0:i.custom)||{}}}),[i,g]),W=jun(U),V=A&&C?C:void 0,K=A&&_?_:void 0,[te,N]=h.useState(null),G=h.useCallback(Se=>{const{children:pe,focused:be,path:Be,selected:$e,schemaType:ct,value:ot}=Se;return l.jsx(pin,{floatingBoundary:I,focused:be,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:b.concat(Be),readOnly:x,referenceBoundary:R,renderAnnotation:y,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderBlockActions:V,renderCustomMarkers:K,renderPreview:T,renderBlock:w,schemaType:ct,selected:$e,value:ot,children:pe})},[V,K,R,a,d,f,p,v,I,b,x,y,w,S,E,j,k,T]),q=h.useCallback(Se=>{const{focused:pe,path:be,selected:Be,schemaType:$e,value:ct}=Se;return l.jsx(Qon,{floatingBoundary:I,focused:pe,isFullscreen:a,onItemClose:d,onItemOpen:f,onItemRemove:p,onPathFocus:v,path:b.concat(be),readOnly:x,referenceBoundary:R,relativePath:be,renderAnnotation:y,renderBlock:w,renderBlockActions:V,renderCustomMarkers:K,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:$e,selected:Be,value:ct})},[I,R,a,d,f,p,v,b,x,y,w,V,K,S,E,j,k,T]),Z=h.useCallback(Se=>{const{value:pe}=Se;return pe._type===D.schemaTypes.block.name?G(Se):q(Se)},[D.schemaTypes.block.name,q,G]),ie=h.useCallback(Se=>{const{children:pe,focused:be,path:Be,selected:$e,schemaType:ct,value:ot}=Se;return ot._type===D.schemaTypes.span.name?pe:l.jsx(Ein,{floatingBoundary:I,focused:be,onItemClose:d,onItemOpen:f,onPathFocus:v,path:b.concat(Be),readOnly:x,referenceBoundary:R,relativePath:Be,renderAnnotation:y,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:ct,selected:$e,value:ot})},[I,R,D.schemaTypes.span.name,d,f,v,b,x,y,w,_,S,E,j,k,T]),ne=h.useCallback(Se=>{const{children:pe,focused:be,path:Be,selected:$e,schemaType:ct,value:ot}=Se;return l.jsx(Rin,{editorNodeFocused:be,floatingBoundary:I,focused:!!n,onItemClose:d,onItemOpen:f,onPathFocus:v,path:b.concat(Be),readOnly:x,referenceBoundary:R,renderAnnotation:y,renderBlock:w,renderCustomMarkers:_,renderField:S,renderInlineBlock:E,renderInput:j,renderItem:k,renderPreview:T,schemaType:ct,selected:$e,value:ot,children:pe})},[I,R,n,d,f,v,b,x,y,w,_,S,E,j,k,T]),Y=e.elementProps["aria-describedby"],X=h.useMemo(()=>{if(o)return{anchor:{path:r,offset:0},focus:{path:r,offset:0}}},[]),ae=h.useMemo(()=>l.jsx(_un,{ariaDescribedBy:Y,initialSelection:X,hotkeys:W,isActive:s,isFullscreen:a,onItemOpen:f,onCopy:u,onPaste:m,onToggleFullscreen:B,path:b,readOnly:x,renderAnnotation:ne,renderBlock:Z,renderChild:ie,setPortalElement:N,scrollElement:R,setScrollElement:z}),[Y,W,ne,Z,ie,B,X,s,a,u,f,m,b,x,R]),he=xm(),ce=h.useMemo(()=>({collapsed:O,default:he.element,editor:te,expanded:he.element}),[he.element,te,O]);Tun({focusPath:r,boundaryElement:R,onItemClose:d});const xe=n||o;return l.jsx(ad,{__unstable_elements:ce,element:he.element,children:l.jsx(ncn,{onActivate:c,isOverlayActive:!s,children:l.jsx(li,{disabled:a,hasFocus:!!n,isChanged:t,path:b,children:l.jsxs(Eun,{"data-focused":xe?"":void 0,"data-read-only":x?"":void 0,children:[l.jsx(M,{"data-wrapper":"",ref:$,children:l.jsx(wm,{__unstable_name:a?"expanded":"collapsed",children:a?l.jsx(kun,{children:ae}):ae})}),l.jsx("div",{"data-border":""})]})})})})}function Dun(e){const{onChange:t,onIgnore:n,resolution:r,readOnly:o}=e,i=h.useCallback(()=>{r&&t({type:"mutation",patches:r.patches})},[t,r]);return r?l.jsx(zc,{suffix:l.jsxs(ee,{padding:2,children:[r.action&&l.jsxs(nn,{columns:[1,2],gap:1,children:[l.jsx(oe,{mode:"ghost",onClick:n,text:"Ignore"}),!o&&l.jsx(oe,{onClick:i,text:r.action,tone:"caution"})]}),l.jsx(M,{padding:3,children:r.action&&l.jsx(L,{as:"p",muted:!0,size:1,children:"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio."})})]}),title:l.jsx(l.Fragment,{children:"Invalid Portable Text Editor value"}),children:l.jsxs(ee,{space:3,children:[l.jsx(L,{as:"p",muted:!0,size:1,children:r.description}),l.jsx(Q,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(lr,{language:"json",children:JSON.stringify(r.item,null,2)})})]})}):null}function Iun(e){const{path:t}=e,{patchChannel:n}=ci().__internal;return{subscribe:h.useCallback(o=>n.subscribe(i=>{let{snapshot:s,patches:a}=i;const c=a.filter(u=>T4(u.path,t)).map(u=>({...u,path:u.path.slice(t.length)}));c.length&&o({shouldReset:Run(t,a),snapshot:xt(s)?$un(s,t):{},patches:c})}),[t,n])}}function Oun(e,t){const n=typeof e;return n!==typeof t?!1:n==="object"?Vu(e,t):e===t}function T4(e,t){if(e===t)return!0;if(!Array.isArray(e)||!Array.isArray(t)||e.length<t.length)return!1;for(let n=0,r=t.length;n<r;n++)if(!Oun(t[n],e[n]))return!1;return!0}function Pun(e,t){return e.length===0||T4(t,e)&&!T4(e,t)}function Run(e,t){return t.some(n=>Pun(n.path,e)&&(n.type==="set"||n.type==="unset"))}function $un(e,t){return t.reduce((n,r)=>typeof r=="object"?nTe(n,r):qn(n,r),e)}function Mun(e){const{elementProps:t,hotkeys:n,markers:r=gn,members:o,onChange:i,onCopy:s,onItemRemove:a,onInsert:c,onPaste:u,onPathFocus:d,path:f,readOnly:p,renderBlockActions:m,renderCustomMarkers:v,schemaType:g,value:b}=e,{onBlur:x}=t;h.useImperativeHandle(t.ref,()=>({focus(){w.current&&Ce.focus(w.current)}}));const{subscribe:y}=Iun({path:f}),w=h.useRef(null),[C,_]=h.useState(!1),[S,E]=h.useState(null),[j,k]=h.useState(!1),[T,A]=h.useState(!1),[D,I]=h.useState(!1),[O,$]=h.useState(!1),R=qo(),z=h.useRef([]),B=h.useMemo(()=>new Er,[]),U=h.useMemo(()=>B.asObservable(),[B]),W=h.useRef(null),V=h.useCallback(()=>{w.current&&k(Z=>!Z)},[]);h.useEffect(()=>{S&&b!==S.value&&E(null)},[S,b]),h.useEffect(()=>y(Z=>{let{patches:ie,snapshot:ne}=Z;B.next({patches:ie,snapshot:ne})}),[B,y]);const K=h.useMemo(()=>{var Z;const ie=[];for(const Y of o)if(Y.kind==="item")if(!VA(Y.item.schemaType))ie.push({kind:"objectBlock",member:Y,node:Y.item});else{(Y.item.validation.length>0||Y.item.changed||(Z=Y.item.presence)!=null&&Z.length)&&ie.push({kind:"textBlock",member:Y,node:Y.item});const ae=Y.item.members.find(ce=>ce.kind==="field"&&ce.name==="children");if(ae&&ae.kind==="field"&&lN(ae))for(const ce of ae.field.members)ce.kind==="item"&&ce.item.schemaType.name!=="span"&&ie.push({kind:"inlineObject",member:ce,node:ce.item});const he=Y.item.members.filter(jon).find(ce=>ce.name==="markDefs");if(he)for(const ce of he.field.members)ce.kind==="item"&&ce.item.schemaType.jsonType==="object"&&ie.push({kind:"annotation",member:ce,node:ce.item})}const ne=ie.map(Y=>{const X=_n(Y.node.path),ae=z.current.find(xe=>xe.key===X),he=Y.kind!=="textBlock";let ce;if(he&&(Y.member.open||!ae)){const xe={...e,absolutePath:Y.node.path};ce=l.jsx(FIe,{...xe})}return ae?(ae.input=ce,ae.member=Y.member,ae.node=Y.node,ae):{kind:Y.kind,key:X,member:Y.member,node:Y.node,elementRef:h.createRef(),input:ce}});return z.current=ne,ne},[o,e]);h.useEffect(()=>{O&&A(!0)},[O]);const te=h.useCallback(Z=>{switch(Z.type){case"mutation":i(Tle(Z.patches));break;case"connection":Z.value==="offline"?I(!0):Z.value==="online"&&I(!1);break;case"selection":h.startTransition(()=>{Z.selection&&d(Z.selection.focus.path)});break;case"focus":A(!0),$(!0);break;case"blur":x(Z.event),$(!1);break;case"undo":case"redo":i(Tle(Z.patches));break;case"invalidValue":E(Z);break;case"error":R.push({status:Z.level,description:Z.description});break}},[x,i,d,R]);h.useEffect(()=>{_(!1)},[b]);const N=h.useCallback(()=>{_(!0)},[]),G=h.useMemo(()=>S&&S.resolution?l.jsx(M,{marginBottom:2,children:l.jsx(Dun,{onChange:te,onIgnore:N,resolution:S.resolution,readOnly:D||p})}):null,[te,N,S,D,p]),q=h.useCallback(()=>{T||(A(!0),w.current&&Ce.focus(w.current))},[T]);return l.jsxs(M,{ref:W,children:[!C&&G,(!S||C)&&l.jsx(Aon,{markers:r,children:l.jsx(Don,{memberItems:K,children:l.jsx(Ce,{ref:w,patches$:U,onChange:te,maxBlocks:void 0,readOnly:D||p,schemaType:g,value:b,children:l.jsx(Aun,{...e,hasFocusWithin:O,hotkeys:n,isActive:T,isFullscreen:j,onActivate:q,onItemRemove:a,onCopy:s,onInsert:c,onPaste:u,onToggleFullscreen:V,renderBlockActions:m,renderCustomMarkers:v})})})})]})}function Tle(e){return e.map(t=>({...t,patchType:nm}))}function A4(e){return"inset 0 0 0 ".concat(e.width,"px ").concat(e.color)}function Fun(e){const{base:t,border:n,focusRing:r}=e,o=r.offset+r.width,i=0-r.offset,s=t?t.bg:"var(--card-bg-color)";return[i>0&&"inset 0 0 0 ".concat(i,"px var(--card-focus-ring-color)"),n&&A4(n),i<0&&"0 0 0 ".concat(0-i,"px ").concat(s),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Ale=Object.freeze,Lun=Object.defineProperty,z3e=(e,t)=>Ale(Lun(e,"raw",{value:Ale(t||e.slice())})),Dle,Ile;const Bun=P(Q)(e=>{const{theme:t}=e,{focusRing:n,input:r,radius:o}=t.sanity,i=t.sanity.color.input,s=ge(t.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:i.default.enabled.fg,boxShadow:A4({color:i.default.enabled.border,width:r.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(s," 0 0 -").concat(s)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(s," 0 0 ").concat(s)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:i.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:Fun({border:{color:i.default.enabled.border,width:r.border.width},focusRing:n})},"*:disabled + &":{color:i.default.disabled.fg,backgroundColor:i.default.disabled.bg,boxShadow:A4({color:i.default.disabled.border,width:r.border.width})}}}),Nun=P.input(e=>{const{theme:t}=e,n=t.sanity.fonts.text,r=t.sanity.color.input,o=t.sanity.space[2],i=t.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:ge(i.fontSize),lineHeight:i.lineHeight/i.fontSize,fontFamily:n.family,fontWeight:n.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:ge(o-i.ascenderHeight),paddingRight:ge(o),paddingBottom:ge(o-i.descenderHeight),paddingLeft:ge(o),"&:not(:invalid):not(:disabled)":{color:r.default.enabled.fg},"&:not(:invalid):disabled":{color:r.default.disabled.fg}}}),zun=P(M)(e=>{const{theme:t}=e,n=t.sanity.color.input;return de(Dle||(Dle=z3e([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),n.default.enabled.placeholder)}),Vun=P(M)(Ile||(Ile=z3e([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),V3e=h.forwardRef((e,t)=>{const{disabled:n,onChange:r,onFocus:o,placeholder:i,readOnly:s,value:a=[],...c}=e,u=h.useMemo(()=>i||(typeof window<"u"&&"ontouchstart"in window?"Enter tag…":"Enter tag and press ENTER…"),[i]),[d,f]=h.useState(""),p=!n&&!s,[m,v]=h.useState(!1),g=fr(t),b=h.useRef(null),x=h.useCallback(E=>{if(Rc(E.target)&&E.target.closest('[data-ui="Tag"]'))return;const k=g.current;k&&setTimeout(()=>k.focus(),0)},[g]),y=h.useCallback(()=>{v(!1)},[]),w=h.useCallback(E=>{f(E.currentTarget.value)},[]),C=h.useCallback(E=>{v(!0),o&&o(E)},[o]),_=h.useCallback(E=>{if(E.key==="Enter"&&(E.preventDefault(),E.stopPropagation(),r&&d)){const j=a.concat([{value:d}]);f(""),r&&r(j)}},[d,r,a]),S=h.useCallback(E=>{if(!r)return;const j=a.slice(0);j.splice(E,1),r(j)},[r,a]);return h.useEffect(()=>{const E=g.current;E&&(E.style.width="0",E.style.width="".concat(E.scrollWidth,"px"))},[g,d]),l.jsxs(Bun,{"data-disabled":n?"":void 0,"data-focused":m?"":void 0,"data-read-only":s?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:b,children:[p&&l.jsx(zun,{hidden:!!(d||a.length),padding:3,children:l.jsx(L,{textOverflow:"ellipsis",children:u})}),l.jsxs("div",{className:"content",children:[a.map((E,j)=>l.jsx(Vun,{children:l.jsx(Hun,{enabled:p,index:j,muted:!p,onRemove:S,tag:E})},"tag-".concat(j))),l.jsx("div",{children:l.jsx(Nun,{...c,disabled:!p,onBlur:y,onChange:w,onFocus:C,onKeyDown:_,ref:g,type:"text",value:d})},"tag-input")]})]})});V3e.displayName="TagInput";function Hun(e){const{enabled:t,index:n,muted:r,onRemove:o,tag:i}=e,s=h.useCallback(()=>{o(n)},[n,o]);return l.jsx(Q,{"data-ui":"Tag",padding:1,radius:2,tone:"transparent",children:l.jsxs(H,{align:"center",children:[l.jsx(M,{flex:1,padding:1,children:l.jsx(L,{muted:r,textOverflow:"ellipsis",children:i.value})}),t&&l.jsx(M,{marginLeft:1,children:l.jsx(oe,{icon:Di,mode:"bleed",onClick:s,padding:1})})]})})}function Uun(e){const{onChange:t,readOnly:n,value:r=[],elementProps:o,path:i,changed:s}=e,a=h.useMemo(()=>r==null?void 0:r.map(u=>({value:u})),[r]),c=h.useCallback(u=>{t(u.length===0?Je():bt(u.map(d=>d.value)))},[t]);return l.jsx(li,{path:i,isChanged:s,hasFocus:!1,children:l.jsx(V3e,{onChange:c,readOnly:n,value:a,...o})})}const Wun={portal:!0,tone:"default"};function H3e(e){const{member:t,sortable:n,onRemove:r}=e,o=h.useId();return l.jsx(M,{paddingX:1,children:l.jsx($A,{dragHandle:n,tone:"caution",menu:l.jsx(on,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Io}),id:"".concat(o,"-menuButton"),menu:l.jsx(Nt,{children:l.jsx(ze,{text:"Remove",tone:"critical",icon:yo,onClick:r})}),popover:Wun}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(I3e,{value:t.error.value}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})})}function qun(e){const{hoveringFiles:t,types:n,resolveUploader:r}=e,o=t.filter(a=>n.some(c=>r(c,a))),i=t.length-o.length,s=n.length>1;return l.jsx(l.Fragment,{children:o.length>0?l.jsxs(l.Fragment,{children:[l.jsxs(Zt,{space:2,children:[l.jsx(L,{children:l.jsx(mj,{})}),l.jsxs(L,{children:["Drop to upload"," ",s&&l.jsxs(l.Fragment,{children:[o.length," file",o.length>1?"s":""]})]})]}),i>0&&l.jsx(M,{marginTop:4,children:l.jsxs(Zt,{space:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(Ef,{})}),l.jsxs(L,{muted:!0,size:1,children:[i," file",i>1?"s":""," can't be uploaded here"]})]})})]}):l.jsxs(Zt,{space:2,children:[l.jsx(L,{children:l.jsx(Ef,{})}),l.jsxs(L,{children:["Can't upload ",t.length>1?"any of these files":"this file"," here"]})]})})}var Ole=Object.freeze,Yun=Object.defineProperty,Gun=(e,t)=>Ole(Yun(e,"raw",{value:Ole(t||e.slice())})),Ple;const Kun=P(os)(Ple||(Ple=Gun([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var Rle=Object.freeze,Zun=Object.defineProperty,Xun=(e,t)=>Rle(Zun(e,"raw",{value:Rle(t||e.slice())})),$le;const Qun=P.div($le||($le=Xun([`
  position: relative;
`])));function Jun(e,t,n){return e.map(r=>({type:r,uploader:t(r,n)})).filter(r=>r.uploader)}function edn(e){const t=a3e(e);return re.forwardRef(function(r,o){const{children:i,resolveUploader:s,onUpload:a,types:c,...u}=r,{push:d}=qo(),f=re.useCallback((b,x)=>{const{type:y,uploader:w}=x;a==null||a({file:b,schemaType:y,uploader:w})},[a]),p=re.useCallback(b=>{if(!s)return;const x=b.map(C=>({file:C,uploaderCandidates:Jun(c,s,C)})),y=x.filter(C=>C.uploaderCandidates.length>0),w=x.filter(C=>C.uploaderCandidates.length===0);if(w.length>0){const C=w.length>1;d({closable:!0,status:"warning",title:"The following item".concat(C?"s":""," can't be uploaded because there's no known conversion from content type").concat(C?"s":""," to array item:"),description:w.map((_,S)=>l.jsxs(H,{padding:2,children:[l.jsx(M,{marginLeft:1,children:l.jsx(L,{weight:"semibold",children:_.file.name})}),l.jsx(M,{paddingLeft:2,children:l.jsxs(L,{size:1,children:["(",_.file.type,")"]})})]},S))})}y.forEach(C=>{f(C.file,Em(C.uploaderCandidates,_=>_.uploader.priority)[0])})},[d,s,c,f]),[m,v]=re.useState([]),g=re.useCallback(()=>v([]),[]);return l.jsx(Qun,{children:l.jsxs(t,{...u,ref:o,onFiles:p,onFilesOver:v,onFilesOut:g,children:[s&&m.length>0&&l.jsx(Kun,{zOffset:10,children:l.jsx(qun,{hoveringFiles:m,types:c,resolveUploader:s})}),i]})})})}const SN=l3e(edn(Q));function tdn(e,t,n){return ndn(e,t,r=>r===n)}function ndn(e,t,n){let r=t-1,o=t;const i=e.length;for(;r>-1||o<i;){const s=e[o];if(o<i&&n(s,o))return o;const a=e[r];if(r>-1&&n(a,r))return r;r--,o++}return-1}const rdn={portal:!0,tone:"default"},odn=re.forwardRef(function(t,n){const{sortable:r,value:o,insertableTypes:i,onInsert:s,onRemove:a,readOnly:c,inputId:u,validation:d,children:f,presence:p,schemaType:m}=t,v=d.filter(C=>C.level==="error").length>0,g=d.filter(C=>C.level==="warning").length>0,b=h.useCallback((C,_)=>{s({position:C,items:[dN(_)]})},[s]),x=h.useCallback(()=>{o&&s({position:"after",items:[o]})},[s,o]),y=h.useMemo(()=>{if(v)return"critical";if(g)return"caution"},[v,g]),w=l.jsx(on,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Io}),id:"".concat(u,"-menuButton"),popover:rdn,menu:l.jsxs(Nt,{children:[l.jsx(ze,{text:"Remove",tone:"critical",icon:yo,onClick:a}),l.jsx(ze,{text:"Duplicate",icon:Iu,onClick:x}),l.jsx(FA,{types:i,onInsert:b})]})});return l.jsx($A,{tone:y,menu:!c&&w,dragHandle:!c&&r,presence:p.length===0?null:l.jsx(hC,{presence:p,maxAvatars:1}),validation:d.length>0?l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(o1,{validation:d})}):null,children:l.jsx(H,{align:m?"flex-end":"center",ref:n,children:l.jsx(H,{align:"flex-end",flex:1,children:l.jsx(M,{flex:1,marginRight:2,children:f})})})})});function idn(e){const{schemaType:t,readOnly:n,children:r,onValueCreate:o,onItemAppend:i}=e,s=h.useId(),a=re.useCallback(d=>{i(o(d))},[o,i]),c=re.useCallback(()=>{a(t.of[0])},[t,a]),u=h.useMemo(()=>({constrainSize:!0,portal:!0}),[]);return n?l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,sizing:"border",children:l.jsx(L,{size:1,children:"This field is read-only"})}),children:l.jsx(nn,{children:l.jsx(oe,{icon:Zs,mode:"ghost",disabled:!0,text:t.of.length===1?"Add item":"Add item..."})})}):l.jsxs(nn,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[t.of.length===1?l.jsx(oe,{icon:Zs,mode:"ghost",onClick:c,text:"Add item"}):l.jsx(on,{button:l.jsx(oe,{icon:Zs,mode:"ghost",text:"Add item…"}),id:s||"",menu:l.jsx(Nt,{children:t.of.map((d,f)=>{var p,m;const v=Du(d)&&(d.to||[]).length===1&&d.to[0].icon,g=d.icon||((p=d.type)==null?void 0:p.icon)||v;return l.jsx(ze,{text:d.title||((m=d.type)==null?void 0:m.name),onClick:()=>a(d),icon:g},f)})}),popover:u}),r]})}class U3e extends re.PureComponent{constructor(t){super(t),this._element=null,this.handleAppend=n=>{const{value:r=[],onIndexFocus:o,onItemAppend:i}=this.props;i(n),o(r.length)},this.handlePrepend=n=>{const{onIndexFocus:r,value:o=[],onItemPrepend:i}=this.props;i(n),r(o.length)},this.handleSortEnd=n=>{const{onIndexFocus:r,onMoveItem:o,value:i}=this.props;i&&o(n),r(n.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=n=>{var r;const{schemaType:o}=this.props,i=((r=o.options)==null?void 0:r.sortable)!==!1;return l.jsx(odn,{...n,sortable:i,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(t){var n;const{focusPath:r=[],value:o=[]}=t,{focusPath:i=[],value:s=[]}=this.props;if(r[0]===i[0]&&o.length!==s.length){const a=i[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(n=c.focusNode)==null?void 0:n.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:a,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(t,n,r){var o;const{onIndexFocus:i}=this.props;if(r!=null&&r.restoreSelection&&t.value){const s=t.value[r.prevFocusedIndex],a=tdn(this.props.value||[],r.prevFocusedIndex,s);if(a===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(a,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(r.restoreSelection.start,r.restoreSelection.end)}catch{}}i(a)}}render(){const{schemaType:t,members:n,readOnly:r,renderInput:o,onUpload:i,onItemRemove:s,resolveUploader:a,elementProps:c,arrayFunctions:u=idn,path:d,changed:f}=this.props,p=!r&&qn(t,"options.sortable")!==!1,m=n.map(v=>({id:"".concat(v.key,"-").concat(v.kind==="item"?v.item.value:"error"),member:v}));return l.jsxs(ee,{space:3,"data-testid":"array-primitives-input",children:[l.jsx(SN,{types:t.of,resolveUploader:a,onUpload:i,...c,tabIndex:0,children:l.jsx(ee,{space:1,children:m.length===0?l.jsx(Q,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:t.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(Q,{padding:1,border:!0,children:l.jsx(nN,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(v=>v.id),sortable:p,gap:1,children:m.map((v,g)=>{let{member:b,id:x}=v;return l.jsxs(rN,{id:x,sortable:p,disableTransition:this.state.disableTransition,children:[b.kind==="item"&&l.jsx(li,{path:b.item.path,isChanged:f,hasFocus:!1,children:l.jsx(Nrn,{member:b,renderItem:this.renderArrayItem,renderInput:o})}),b.kind==="error"&&l.jsx(H3e,{sortable:p,member:b,onRemove:()=>s(g)})]},b.key)})})})})}),l.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:dN,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}var Mle=Object.freeze,sdn=Object.defineProperty,ZA=(e,t)=>Mle(sdn(e,"raw",{value:Mle(t||e.slice())})),Fle,Lle,Ble,Nle;const adn=P(H)(Fle||(Fle=ZA([`
  min-height: 35px;
`]))),ldn=P(H)(Lle||(Lle=ZA([`
  position: absolute;
  top: 0;
  right: 0;
  height: 35px;
`]))),D4=P(Q)(Ble||(Ble=ZA([`
  position: absolute;
  top: 0;
  left: 0;
`]))),cdn=P(Q)(Nle||(Nle=ZA([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),D4,D4,tN);function W3e(e){const{validation:t,selected:n,tone:r,presence:o,children:i,dragHandle:s,menu:a,footer:c,...u}=e;return l.jsxs(cdn,{forwardedAs:H,direction:"column",border:!0,selected:n,"aria-selected":n,radius:2,tone:r,...u,children:[i,s&&l.jsx(D4,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:l.jsx(fIe,{grid:!0,padding:2,mode:"ghost"})}),o&&l.jsx(ldn,{align:"center",marginX:1,children:o}),l.jsxs(adn,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[l.jsx(H,{children:t}),l.jsx(M,{children:c}),a]})]})}var zle=Object.freeze,udn=Object.defineProperty,ddn=(e,t)=>zle(udn(e,"raw",{value:zle(t||e.slice())})),Vle;const fdn=P(Q)(Vle||(Vle=ddn([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function hdn(e){let{readOnly:t,hasErrors:n,hasWarnings:r}=e;return t?"transparent":n?"critical":r?"caution":"default"}const pdn={portal:!0,tone:"default"},mdn={position:"absolute",top:0,left:0,bottom:0,right:0};function gdn(e){var t,n,r,o,i,s;const{schemaType:a,parentSchemaType:c,path:u,readOnly:d,onRemove:f,value:p,open:m,onInsert:v,onFocus:g,onOpen:b,onClose:x,changed:y,focused:w,children:C,inputProps:{renderPreview:_}}=e,S=!d&&((t=c.options)==null?void 0:t.sortable)!==!1,E=c.of,j=h.useRef(null);PA(j,m),Bi(w,(K,te)=>{var N;!K&&te&&j.current&&((N=j.current)==null||N.focus())});const k=p._resolvingInitialValue,T=h.useCallback(()=>{v({items:[{...p,_key:Nx()}],position:"after"})},[v,p]),A=h.useCallback((K,te)=>{v({items:[s1(te)],position:K})},[v]),D=J0(u,!0),I=h.useMemo(()=>D.length===0?null:l.jsx(hC,{presence:D,maxAvatars:1}),[D]),O=$B(u,!0),$=h.useMemo(()=>O.length===0?null:l.jsx(M,{marginLeft:1,paddingX:1,paddingY:3,children:l.jsx(o1,{validation:O,__unstable_showSummary:!0})}),[O]),R=O.some(K=>K.level==="error"),z=O.some(K=>K.level==="warning"),B=h.useMemo(()=>d?null:l.jsx(on,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Io}),id:"".concat(e.inputId,"-menuButton"),menu:l.jsxs(Nt,{children:[l.jsx(ze,{text:"Remove",tone:"critical",icon:yo,onClick:f}),l.jsx(ze,{text:"Duplicate",icon:Iu,onClick:T}),l.jsx(FA,{types:E,onInsert:A})]}),popover:pdn}),[T,A,f,E,e.inputId,d]),U=hdn({readOnly:d,hasErrors:R,hasWarnings:z}),W=l.jsx(W3e,{menu:B,presence:I,validation:$,tone:U,radius:2,border:!0,focused:w,dragHandle:S,selected:m,children:l.jsxs(fdn,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:k,onClick:b,ref:j,onFocus:g,__unstable_focusRing:!0,children:[_({schemaType:a,value:p,layout:"media",withBorder:!1,withShadow:!1}),k&&l.jsx(Q,{as:H,style:mdn,children:l.jsxs(H,{align:"center",justify:"center",gap:1,padding:1,children:[l.jsx(M,{padding:3,children:l.jsx(hr,{muted:!0})}),l.jsx(L,{muted:!0,size:1,children:"Resolving initial value…"})]})})]})}),V=Dp(a);return l.jsxs(l.Fragment,{children:[l.jsx(li,{path:u,isChanged:y,hasFocus:!!w,children:W}),m&&l.jsx(BIe,{header:d?"View ".concat(V):"Edit ".concat(V),type:((r=(n=c==null?void 0:c.options)==null?void 0:n.modal)==null?void 0:r.type)||"dialog",width:(s=(i=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:i.width)!=null?s:1,id:p._key,onClose:x,autofocus:w,legacy_referenceElement:j.current,children:C})]})}var Hle=Object.freeze,vdn=Object.defineProperty,ydn=(e,t)=>Hle(vdn(e,"raw",{value:Hle(t||e.slice())})),Ule;const bdn=P(Q)(Ule||(Ule=ydn([`
  max-width: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.container[1]});function xdn(e){const{value:t,onFocus:n,vertical:r,...o}=e,[i,s]=re.useState(!1),[a,c]=re.useState(null);dr(()=>s(!1),[a]);const u=re.useCallback(p=>{(p.key==="Escape"||p.key==="Tab")&&s(!1)},[]),d=h.useCallback(()=>{s(p=>!p)},[]),f=js(t);return l.jsx(rn,{open:i,ref:c,onKeyDown:u,portal:!0,constrainSize:!0,tone:"default",content:l.jsx(bdn,{margin:1,padding:3,onKeyDown:u,tabIndex:0,overflow:"auto",children:l.jsxs(ee,{space:4,children:[l.jsx(M,{children:l.jsx(L,{weight:"semibold",children:"Why is this happening?"})}),l.jsxs(L,{size:1,children:["The current schema does not declare items of type ",l.jsx("code",{children:f})," as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed."]}),l.jsx(M,{children:l.jsxs(L,{size:1,children:[l.jsx(cj,{})," You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found."]})}),l.jsxs(ee,{space:2,children:[l.jsx(L,{size:1,weight:"semibold",children:"JSON representation of this item:"}),l.jsx(Q,{padding:2,overflow:"auto",border:!0,children:l.jsx(lr,{size:1,as:"pre",language:"json",children:JSON.stringify(t,null,2)})})]})]})}),children:l.jsx(Q,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:n,onClick:d,onKeyDown:u,__unstable_focusRing:!0,...o,children:l.jsxs(ee,{space:4,marginTop:2,children:[l.jsx(M,{margin:1,children:l.jsx(L,{align:"center",size:4,children:l.jsx(Sl,{})})}),l.jsxs(L,{align:"center",size:1,children:["Items of type ",l.jsx("code",{children:f})," is not valid for this list"]})]})})})}const wdn={portal:!0,tone:"default"};function Cdn(e){const{member:t,sortable:n}=e,r=h.useId(),{onChange:o}=fa(),i=h.useCallback(()=>{o(dt.from([Je([{_key:t.key}])]))},[o,t.key]);return l.jsx(W3e,{dragHandle:n,tone:"caution",style:{height:"100%"},menu:l.jsx(on,{button:l.jsx(oe,{padding:2,mode:"bleed",icon:Io}),id:"".concat(r,"-menuButton"),menu:l.jsx(Nt,{children:l.jsx(ze,{text:"Remove",tone:"critical",icon:yo,onClick:i})}),popover:wdn}),children:t.error.type==="INVALID_ITEM_TYPE"?l.jsx(xdn,{value:t.error.value,vertical:!0}):l.jsxs("div",{children:["Unexpected Error: ",t.error.type]})})}const _dn=[];function Sdn(e){var t;const{arrayFunctions:n=OB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,readOnly:u,renderAnnotation:d,renderBlock:f,renderField:p,renderInlineBlock:m,renderInput:v,renderPreview:g,resolveUploader:b,schemaType:x,value:y=_dn}=e,w=h.useCallback(j=>{s({items:[j],position:"before",referenceItem:0})},[s]),C=h.useCallback(j=>{s({items:[j],position:"after",referenceItem:-1})},[s]),_=((t=x.options)==null?void 0:t.sortable)!==!1,S=h.useCallback(j=>l.jsx(gdn,{...j}),[]),E=h.useMemo(()=>o.map(j=>j.key),[o]);return l.jsxs(ee,{space:3,children:[l.jsx(SN,{types:x.of,resolveUploader:b,onUpload:c,...r,tabIndex:0,children:l.jsxs(ee,{"data-ui":"ArrayInput__content",space:3,children:[(o==null?void 0:o.length)===0&&l.jsx(Q,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:x.placeholder||l.jsx(l.Fragment,{children:"No items"})})}),(o==null?void 0:o.length)>0&&l.jsx(Q,{border:!0,radius:1,children:l.jsx(nN,{columns:[2,3,4],gap:3,padding:1,margin:1,items:E,onItemMove:a,sortable:_,children:o.map(j=>l.jsxs(rN,{sortable:_,id:j.key,flex:1,children:[j.kind==="item"&&l.jsx(uN,{member:j,renderAnnotation:d,renderBlock:f,renderInlineBlock:m,renderItem:S,renderField:p,renderInput:v,renderPreview:g}),j.kind==="error"&&l.jsx(Cdn,{sortable:_,member:j})]},j.key))})})]})}),l.jsx(n,{onChange:i,onItemAppend:C,onItemPrepend:w,onValueCreate:s1,readOnly:u,schemaType:x,value:y})]})}function Edn(e,t){const n=h.useRef(e),r=n.current,o=t(r,e);return h.useEffect(()=>{o||(n.current=e)}),o?r:e}const kdn=[];function jdn(e){var t;const{arrayFunctions:n=OB,elementProps:r,members:o,onChange:i,onInsert:s,onItemMove:a,onUpload:c,focusPath:u,readOnly:d,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:b,renderPreview:x,resolveUploader:y,schemaType:w,value:C=kdn}=e,[_,S]=h.useState(null),{space:E}=As().sanity,j=h.useCallback(G=>{s({items:[G],position:"before",referenceItem:0})},[s]),k=h.useCallback(G=>{s({items:[G],position:"after",referenceItem:-1})},[s]),T=Edn(h.useMemo(()=>o.map(G=>G.key),[o]),Vu),{scrollElement:A,containerElement:D}=Zrn(),I=h.useRef(null),O=h.useMemo(()=>Mr(u[0])?u[0]._key:u[0],[u]),$=h.useCallback(G=>{const q={...G};if(_!==null&&(q.startIndex=Math.min(G.startIndex,_),q.endIndex=Math.max(G.endIndex,_)),O){const Z=T.findIndex(ie=>ie===O);Z!==-1&&(q.startIndex=Math.min(q.startIndex,Z),q.endIndex=Math.max(q.endIndex,Z))}return R_e(q)},[_,O,T]),R=h.useCallback((G,q)=>{if(!G.scrollElement)return;const Z=G.scrollElement,ie=()=>{var ne,Y,X,ae;const he=(Y=(ne=D.current)==null?void 0:ne.getBoundingClientRect().top)!=null?Y:0,ce=(ae=(X=I.current)==null?void 0:X.getBoundingClientRect().top)!=null?ae:0,xe=Math.floor(ce-he);q(Z.scrollTop-xe)};return ie(),G.scrollElement.addEventListener("scroll",ie,{capture:!1,passive:!0}),()=>{Z.removeEventListener("scroll",ie)}},[D]),z=h.useCallback(()=>53,[]),B=F_e({count:o.length,estimateSize:z,getScrollElement:h.useCallback(()=>A,[A]),observeElementOffset:R,rangeExtractor:$,getItemKey:h.useCallback(G=>T[G],[T]),scrollToFn:(G,q,Z)=>{G!==Z.scrollOffset&&$_e(G,q,Z)}}),U=B.getVirtualItems(),W=h.useCallback(G=>{var q,Z;const{active:ie}=G;S((Z=(q=ie.data.current)==null?void 0:q.sortable)==null?void 0:Z.index)},[]),V=h.useCallback(()=>{S(null)},[]),K=((t=w.options)==null?void 0:t.sortable)!==!1,te=1,N=1;return l.jsxs(ee,{space:3,ref:I,children:[l.jsx(SN,{types:w.of,resolveUploader:y,onUpload:c,...r,tabIndex:0,children:l.jsx(ee,{"data-ui":"ArrayInput__content",space:3,children:o.length===0?l.jsx(Q,{padding:3,border:!0,style:{borderStyle:"dashed"},radius:2,children:l.jsx(L,{align:"center",muted:!0,size:1,children:w.placeholder||l.jsx(l.Fragment,{children:"No items"})})}):l.jsx(Q,{border:!0,radius:1,style:{height:"".concat(B.getTotalSize()+U.length*E[te]+E[N],"px"),width:"100%",position:"relative"},children:l.jsx(nN,{axis:"y",gap:te,paddingY:N,items:T,onItemMove:a,onItemMoveStart:W,onItemMoveEnd:V,sortable:K,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(U[0].start,"px)")},children:U.map(G=>{const q=o[G.index];return l.jsxs(rN,{ref:B.measureElement,sortable:K,"data-index":G.index,id:q.key,children:[q.kind==="item"&&l.jsx(uN,{member:q,renderAnnotation:f,renderBlock:p,renderField:m,renderInlineBlock:v,renderInput:g,renderItem:b,renderPreview:x}),q.kind==="error"&&l.jsx(H3e,{sortable:K,member:q,onRemove:()=>e.onItemRemove(q.key)})]},G.key)})})})})}),l.jsx(n,{onChange:i,onItemAppend:k,onItemPrepend:j,onValueCreate:s1,readOnly:d,schemaType:w,value:C})]})}function q3e(e){var t;return((t=e.schemaType.options)==null?void 0:t.layout)==="grid"?l.jsx(Sdn,{...e}):l.jsx(jdn,{...e})}const Tdn=["string","number","boolean"];function Adn(e){return e.of.every(t=>Tdn.includes(t.jsonType))}function Ddn(e){return e.of.length===1&&gc("string",e.of[0])}function Idn(e){var t;return((t=e.options)==null?void 0:t.layout)==="tags"}function Odn(e){return e.of.some(t=>gc("block",t))}function Pdn(e){var t;return!!((t=e.options)!=null&&t.list)}function Rdn(e){return Ddn(e)&&Idn(e)?Uun:Pdn(e)?O3e:Adn(e)?U3e:Odn(e)?Mun:q3e}function $dn(e){return _F(e)?e:{title:Tm("".concat(e)),value:e}}const Wle={title:"",value:void 0};function Y3e(e){var t,n;const{value:r,readOnly:o,validationError:i,schemaType:s,onChange:a,path:c,changed:u,focused:d,elementProps:f}=e,p=h.useMemo(()=>{var _;return(((_=s.options)==null?void 0:_.list)||[]).map($dn)},[(t=s.options)==null?void 0:t.list]),m=p.find(_=>_.value===r),v=s.options&&s.options.layout==="radio",g=h.useCallback(_=>{const S=Number(_);return p[S]},[p]),b=h.useCallback(_=>String(p.indexOf(_)),[p]),x=h.useId(),y=re.useCallback(_=>{a(dt.from(typeof(_==null?void 0:_.value)>"u"?Je():bt(_.value)))},[a]),w=h.useCallback(_=>{const S=g(_.currentTarget.value);if(!S){y(Wle);return}y(S)},[y,g]),C=v?l.jsx(Mdn,{...f,value:m,inputId:x,items:p,direction:((n=s.options)==null?void 0:n.direction)||"vertical",customValidity:i,onChange:y,readOnly:o}):l.jsx(Mf,{...f,customValidity:i,value:b(m),readOnly:o,onChange:w,children:[Wle,...p].map((_,S)=>l.jsx("option",{value:S-1,children:_.title},"".concat(S-1)))});return l.jsx(li,{path:c,isChanged:u,hasFocus:!!d,children:C})}const Mdn=h.forwardRef(function(t,n){const{items:r,value:o,onChange:i,onFocus:s,readOnly:a,customValidity:c,direction:u,inputId:d}=t,f=u==="horizontal"?Zt:ee;return l.jsx(Q,{border:!0,padding:3,radius:1,children:l.jsx(f,{space:3,role:"group",children:r.map((p,m)=>l.jsx(Fdn,{customValidity:c,inputId:d,item:p,onChange:i,onFocus:s,readOnly:a,ref:m===0?n:null,value:o},m))})})}),Fdn=h.forwardRef(function(t,n){const{customValidity:r,inputId:o,item:i,onChange:s,onFocus:a,readOnly:c,value:u}=t,d=h.useCallback(()=>{s(i)},[i,s]);return l.jsxs(H,{as:"label",align:"center",children:[l.jsx(HQe,{ref:n,checked:u===i,onChange:d,onFocus:a,readOnly:c,customValidity:r,name:o}),l.jsx(M,{marginLeft:2,children:l.jsx(L,{size:1,weight:"semibold",children:i.title})})]})});function G3e(e){const{validationError:t,elementProps:n}=e;return l.jsx(Lr,{...n,customValidity:t,"data-testid":"string-input"})}function Ldn(e){return NIe(e,"list")?Y3e:G3e}const Bdn=(e,t)=>{if(typeof e=="function")throw new Error('Schema type "'.concat((t==null?void 0:t.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return e?Array.isArray(e)?e:[e]:[]};function HS(e,t){for(const n of Bdn(e==null?void 0:e.validation,e))for(const r of n._rules)if(r.flag===t)return r;return null}function K3e(e){const{schemaType:t,validationError:n,elementProps:r}=e,o=HS(t,"min"),i=HS(t,"integer"),s=HS(t,"precision"),a=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=i||(s==null?void 0:s.constraint)===0,u=a?c?"numeric":"decimal":"text";return l.jsx(Lr,{...r,type:"number",step:"any",inputMode:u,customValidity:n,placeholder:t.placeholder,pattern:a?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}function Ndn(e){return NIe(e,"list")?Y3e:K3e}var qle=Object.freeze,zdn=Object.defineProperty,Z3e=(e,t)=>qle(zdn(e,"raw",{value:qle(t||e.slice())})),Yle,Gle;const Vdn=P(M)(Yle||(Yle=Z3e([`
  align-self: center;
`]))),Hdn=P(M)(Gle||(Gle=Z3e([`
  line-height: 0;
`])));function Udn(e){var t;const{id:n,value:r,schemaType:o,readOnly:i,elementProps:s,validation:a}=e,c=((t=o.options)==null?void 0:t.layout)||"switch",u=typeof r!="boolean",d=r||!1,f=c==="checkbox"?Yj:Vwe,p=i?"transparent":void 0;return l.jsx(Q,{border:!0,"data-testid":"boolean-input",radius:1,tone:p,children:l.jsxs(H,{children:[l.jsx(Hdn,{padding:3,children:l.jsx(f,{label:o.title,...s,checked:d,disabled:i,indeterminate:u,style:{margin:-4}})}),l.jsx(M,{flex:1,paddingY:3,children:l.jsx(cIe,{description:o.description,inputId:n,validation:a,title:o.title})}),l.jsx(Vdn,{paddingX:3,paddingY:1,children:l.jsx(Wtn,{maxAvatars:1,position:"top"})})]})})}function Wdn(e){const{validationError:t,elementProps:n}=e;return l.jsx(Lr,{...n,type:"email",inputMode:"email",customValidity:t})}function qdn(e){const{fieldNames:t,onChange:n,readOnly:r,value:o}=e,i=t.length,s=h.useCallback(a=>{n(Je([a]))},[n]);return l.jsxs(zc,{status:"warning",title:l.jsxs(l.Fragment,{children:[i===1&&l.jsx(l.Fragment,{children:"Unknown field found"}),i>1&&l.jsx(l.Fragment,{children:"Unknown fields found"})]}),children:[l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"Encountered a field that is not defined in the schema."}):l.jsxs(l.Fragment,{children:["Encountered ",i," fields that are not defined in the schema."]})}),l.jsxs(Fm,{marginTop:4,open:Vc,title:l.jsx(l.Fragment,{children:"Developer info"}),children:[l.jsx(M,{marginBottom:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:i===1?l.jsx(l.Fragment,{children:"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet."}):l.jsx(l.Fragment,{children:"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet."})})}),l.jsx(ee,{as:"ul",space:3,children:t.map(a=>l.jsx(Ydn,{fieldName:a,onUnsetClick:s,readOnly:r,value:o==null?void 0:o[a]},a))})]})]})}function Ydn(e){let{fieldName:t,onUnsetClick:n,readOnly:r,value:o}=e;const i=h.useCallback(()=>{n(t)},[t,n]);return l.jsx(Q,{as:"li",padding:3,radius:2,shadow:1,tone:"caution",children:l.jsxs(ee,{space:2,children:[l.jsxs(Q,{border:!0,radius:1,children:[l.jsx(Q,{borderBottom:!0,padding:3,children:l.jsx(lr,{weight:"medium",children:t})}),l.jsx(M,{overflow:"auto",padding:3,children:l.jsx(lr,{language:"json",children:JSON.stringify(o,null,2)})})]}),r&&l.jsxs(L,{as:"p",muted:!0,size:1,children:["This field is ",l.jsx("strong",{children:"read only"})," according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the"," ",l.jsx("code",{children:"readOnly"})," field from the enclosing type in the schema."]}),!r&&l.jsx(oe,{icon:yo,onClick:i,tone:"critical",text:l.jsx(l.Fragment,{children:"Remove field"})})]})})}var Kle=Object.freeze,Gdn=Object.defineProperty,Kdn=(e,t)=>Kle(Gdn(e,"raw",{value:Kle(t||e.slice())})),Zle;const Zdn=P(Q)(Zle||(Zle=Kdn([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),e=>{let{$level:t,theme:n}=e;return t===0?0:n.sanity.space[5]*-1},e=>{let{$level:t,theme:n}=e;return n.sanity.space[4]}),Xdn=h.forwardRef(function(t,n){const{onClick:r}=t,o=re.useCallback(()=>{r==null||r(t.name)},[t.name,r]);return l.jsx(sx,{"data-testid":"group-tab-".concat(name),size:1,id:"".concat(t.name,"-tab"),label:t.title,ref:n,...t,onClick:o})}),Qdn=e=>{const{name:t,title:n,...r}=e,{selected:o}=e;return l.jsx("option",{title:n,value:t,id:"".concat(t,"-tab"),"aria-controls":r["aria-controls"],"data-testid":"group-select-".concat(t),"aria-selected":o?"true":"false",children:n||t})};var Xle=Object.freeze,Jdn=Object.defineProperty,efn=(e,t)=>Xle(Jdn(e,"raw",{value:Xle(t||e.slice())})),Qle;const tfn=P(rQe)(Qle||(Qle=efn([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),nfn=e=>{let{inputId:t,groups:n,onClick:r,shouldAutoFocus:o=!0,disabled:i}=e;return l.jsx(Xj,{space:2,"data-testid":"field-group-tabs",children:n.map(s=>l.jsx(Xdn,{"aria-controls":"".concat(t,"-field-group-fields"),autoFocus:o&&s.selected,disabled:i||s.disabled,icon:s==null?void 0:s.icon,name:s.name,onClick:r,selected:!!s.selected,title:s.title||s.name},"".concat(t,"-").concat(s.name,"-tab")))})},rfn=e=>{let{disabled:t,groups:n,inputId:r,onSelect:o,shouldAutoFocus:i=!0}=e;var s;const a=h.useCallback(c=>{o(c.currentTarget.value)},[o]);return l.jsx(Mf,{"aria-label":"Field groups",autoFocus:i,"data-testid":"field-group-select",disabled:t,fontSize:2,muted:!0,onChange:a,value:(s=n.find(c=>c.selected))==null?void 0:s.name,children:n.map(c=>l.jsx(Qdn,{"aria-controls":"".concat(r,"-field-group-fields"),disabled:c.disabled,name:c.name,selected:!!c.selected,title:c.title||c.name},"".concat(r,"-").concat(c.name,"-tab")))})},ofn=re.memo(function(t){let{disabled:n=!1,onClick:r,...o}=t;const i=h.useCallback(s=>{r==null||r(s)},[r]);return l.jsxs(tfn,{"data-testid":"field-group-root",children:[l.jsx(nfn,{...o,disabled:n,onClick:i}),l.jsx(rfn,{...o,disabled:n,onSelect:i})]})}),Jle=h.memo(function(t){const{schemaType:n,groups:r,members:o,onChange:i,renderAnnotation:s,renderBlock:a,renderInlineBlock:c,renderInput:u,renderField:d,renderItem:f,renderPreview:p,level:m,value:v,id:g,onFieldGroupSelect:b}=t,{columns:x}=n.options||{},y=h.useMemo(()=>{if(!n.fields)return null;const C=n.fields.map(S=>S.name),_=Object.keys(v||{}).filter(S=>!S.startsWith("_")&&!C.includes(S));return _.length===0?null:l.jsx(qdn,{fieldNames:_,value:v,onChange:i})},[i,n.fields,v]),w=h.useCallback(()=>l.jsx(Yrn,{members:o,renderAnnotation:s,renderBlock:a,renderField:d,renderInlineBlock:c,renderInput:u,renderItem:f,renderPreview:p}),[o,s,a,d,c,u,f,p]);return o.length===0?null:l.jsxs(ee,{space:5,children:[r.length>0?l.jsx(Zdn,{$level:m,"data-testid":"field-groups",children:l.jsx(ofn,{groups:r,inputId:g,onClick:b,shouldAutoFocus:!1})}):null,x?l.jsx(nn,{columns:x,gap:4,marginTop:1,children:w()}):w(),y]})});function ifn(e){const{date:t,focused:n,isCurrentMonth:r,isToday:o,onSelect:i,selected:s}=e,a=h.useCallback(()=>{i(t)},[t,i]);return l.jsx("div",{"aria-selected":s,"data-ui":"CalendarDay",children:l.jsx(Q,{"aria-label":t.toDateString(),"aria-pressed":s,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":n?"true":"",role:"button",tabIndex:-1,onClick:a,padding:3,radius:2,selected:s,tone:o||s?"primary":"default",children:l.jsx(L,{muted:!s&&!r,style:{textAlign:"center"},weight:r?"medium":"regular",children:t.getDate()})})})}const sfn=["January","February","March","April","May","June","July","August","September","October","November","December"],afn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],lfn=E7(0,24),cfn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ufn=[1,2,3,4,5,6],dfn=e=>{const t=DEe(e);return AEe({start:t,end:OEe(t)})},ffn=e=>e.map(t=>[t,...ufn.map(n=>Yi(t,n))]),hfn=e=>ffn(dfn(e)).map(t=>({number:IEe(t[0]),days:t}));function pfn(e){return l.jsx(M,{"aria-hidden":e.hidden||!1,"data-ui":"CalendarMonth",children:l.jsxs(nn,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[afn.map(t=>l.jsx(M,{paddingY:2,children:l.jsx(L,{size:1,weight:"medium",style:{textAlign:"center"},children:t})},t)),hfn(e.date).map((t,n)=>t.days.map((r,o)=>{const i=e.focused&&Bd(r,e.focused),s=e.selected&&Bd(r,e.selected),a=Bd(r,new Date),c=e.focused&&LEe(r,e.focused);return l.jsx(ifn,{date:r,focused:i,isCurrentMonth:c,isToday:a,onSelect:e.onSelect,selected:s},"".concat(n,"-").concat(o))}))]})})}const ece={dayPresets:!1,timePresets:!1},X3e=re.forwardRef(function(t,n){let{onChange:r,onBlur:o,onKeyPress:i,value:s,...a}=t;const[c,u]=re.useState(),d=re.useCallback(v=>{u(v.currentTarget.value)},[]),f=re.useCallback(v=>{v.currentTarget.value!=="".concat(s)&&r&&r(v),u(void 0)},[r,s]),p=re.useCallback(v=>{f(v),o&&o(v)},[f,o]),m=re.useCallback(v=>{v.key==="Enter"&&f(v),i&&i(v)},[f,i]);return l.jsx(Lr,{...a,"data-testid":"date-input",ref:n,value:c===void 0?s:c,onChange:d,onBlur:p,onKeyPress:m})}),mfn=e=>{let{onChange:t,...n}=e;const r=re.useCallback(o=>{const i=parseInt(o.currentTarget.value,10);isNaN(i)||t(i)},[t]);return l.jsx(X3e,{...n,onChange:r,inputMode:"numeric"})},gfn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),vfn=h.forwardRef(function(t,n){const{selectTime:r,onFocusedDateChange:o,selectedDate:i=new Date,focusedDate:s=i,timeStep:a=1,onSelect:c,...u}=t,d=h.useCallback(S=>o(S),[o]),f=h.useCallback(S=>d(N5t(NEe(s,S),1)),[s,d]),p=h.useCallback(S=>f(Number(S.currentTarget.value)),[f]),m=h.useCallback(S=>d(s9(s,S)),[s,d]),v=h.useCallback(S=>d(z5t(s,S)),[s,d]),g=h.useCallback(S=>{c(pS(T3(S,i.getHours()),i.getMinutes()))},[c,i]),b=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(pS(i,E))},[c,i]),x=h.useCallback(S=>{const E=Number(S.currentTarget.value);c(T3(i,E))},[c,i]);h.useCallback((S,E)=>{c(T3(pS(i,E),S))},[c,i]);const y=fr(n),w=h.useCallback(()=>{var S,E;(E=(S=y.current)==null?void 0:S.querySelector('[data-focused="true"]'))==null||E.focus()},[y]),C=h.useCallback(S=>{var E,j;if(cfn.includes(S.key)){if(S.preventDefault(),S.target.hasAttribute("data-calendar-grid")){w();return}S.key==="ArrowUp"&&o(Yi(s,-7)),S.key==="ArrowDown"&&o(Yi(s,7)),S.key==="ArrowLeft"&&o(Yi(s,-1)),S.key==="ArrowRight"&&o(Yi(s,1)),(j=(E=y.current)==null?void 0:E.querySelector("[data-preserve-focus]"))==null||j.focus()}},[y,w,o,s]);h.useEffect(()=>{w()},[w]),h.useEffect(()=>{var S;((S=document.activeElement)==null?void 0:S.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&w()},[y,w,s]),h.useCallback(()=>g(Yi(new Date,-1)),[g]),h.useCallback(()=>g(new Date),[g]),h.useCallback(()=>g(Yi(new Date,1)),[g]);const _=h.useCallback(()=>c(new Date),[c]);return l.jsxs(M,{"data-ui":"Calendar",...u,ref:y,children:[l.jsxs(M,{padding:2,children:[ece.dayPresets,l.jsxs(H,{children:[l.jsx(M,{flex:1,children:l.jsx(yfn,{moveFocusedDate:m,onChange:p,value:s==null?void 0:s.getMonth()})}),l.jsx(M,{marginLeft:2,children:l.jsx(bfn,{moveFocusedDate:m,onChange:v,value:s.getFullYear()})})]}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:C,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(pfn,{date:s,focused:s,onSelect:g,selected:i}),gfn]})]}),r&&l.jsxs(M,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[l.jsxs(H,{align:"center",children:[l.jsxs(H,{align:"center",flex:1,children:[l.jsx(M,{children:l.jsx(Mf,{"aria-label":"Select hour",value:i==null?void 0:i.getHours(),onChange:x,children:lfn.map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})}),l.jsx(M,{paddingX:1,children:l.jsx(L,{children:":"})}),l.jsx(M,{children:l.jsx(Mf,{"aria-label":"Select minutes",value:i==null?void 0:i.getMinutes(),onChange:b,children:E7(0,60,a).map(S=>l.jsx("option",{value:S,children:"".concat(S).padStart(2,"0")},S))})})]}),l.jsx(M,{marginLeft:2,children:l.jsx(oe,{text:"Set to current time",mode:"bleed",onClick:_})})]}),ece.timePresets]})]})});function yfn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-1),[t]),i=h.useCallback(()=>t(1),[t]);return l.jsxs(H,{flex:1,children:[l.jsx(oe,{"aria-label":"Go to previous month",onClick:o,mode:"bleed",icon:dj,paddingX:2,radius:0}),l.jsx(M,{flex:1,children:l.jsx(Mf,{radius:0,value:r,onChange:n,children:sfn.map((s,a)=>l.jsx("option",{value:a,children:s},a))})}),l.jsx(oe,{"aria-label":"Go to next month",mode:"bleed",icon:Ic,onClick:i,paddingX:2,radius:0})]})}function bfn(e){const{moveFocusedDate:t,onChange:n,value:r}=e,o=h.useCallback(()=>t(-12),[t]),i=h.useCallback(()=>t(12),[t]);return l.jsxs(H,{children:[l.jsx(oe,{"aria-label":"Previous year",onClick:o,mode:"bleed",icon:dj,paddingX:2,radius:0}),l.jsx(mfn,{value:r,onChange:n,radius:0,style:{width:65}}),l.jsx(oe,{"aria-label":"Next year",onClick:i,mode:"bleed",icon:Ic,paddingX:2,radius:0})]})}const xfn=re.forwardRef(function(t,n){const{value:r=new Date,onChange:o,...i}=t,[s,a]=re.useState(),c=re.useCallback(u=>{o(u),a(void 0)},[o]);return l.jsx(vfn,{...i,ref:n,selectedDate:r,onSelect:c,focusedDate:s||r,onFocusedDateChange:a})}),wfn=h.forwardRef(function(t,n){const{value:r,inputValue:o,onInputChange:i,onChange:s,selectTime:a,timeStep:c,...u}=t,[d,f]=h.useState(null),p=fr(n),m=h.useRef(null),[v,g]=h.useState(!1);dr(()=>g(!1),[d]);const b=h.useCallback(()=>{var C,_;(C=p.current)==null||C.focus(),(_=p.current)==null||_.select()},[p]),x=h.useCallback(C=>{C.key==="Escape"&&g(!1)},[]),y=h.useCallback(()=>g(!0),[]),w=l.jsx(M,{padding:1,children:l.jsx(oe,{ref:m,icon:Sg,mode:"bleed",padding:2,onClick:y,style:{display:"block"},"data-testid":"select-date-button"})});return l.jsx(X3e,{ref:p,...u,value:o,onChange:i,suffix:v?l.jsx(Nu,{zOffset:1e3,children:l.jsx(rn,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:l.jsx(M,{overflow:"auto",children:l.jsx(rh,{onDeactivation:b,children:l.jsx(xfn,{selectTime:a,timeStep:c,onKeyUp:x,value:r,onChange:s})})}),open:!0,placement:"bottom",ref:f,radius:2,children:w})}):w})}),Cfn=new Date,Q3e=re.forwardRef(function(t,n){const{id:r,deserialize:o,formatInputValue:i,onChange:s,parseInputValue:a,placeholder:c,readOnly:u,selectTime:d,serialize:f,timeStep:p,value:m,...v}=t,[g,b]=re.useState(null);h.useEffect(()=>{b(null)},[m]);const x=re.useCallback(S=>{const E=S.currentTarget.value,j=E===""?null:a(E);j===null?(s(null),typeof m>"u"&&g&&b(null)):j.isValid?s(f(j.date)):b(E)},[a,s,m,g,f]),y=re.useCallback(S=>{s(S?f(S):null)},[f,s]),w=fr(n),C=g?a(g):m?o(m):null,_=g||(C!=null&&C.isValid?i(C.date):m);return u?l.jsx(Lr,{value:_,readOnly:!0}):l.jsx(wfn,{...v,id:r,selectTime:d,timeStep:p,placeholder:c||"e.g. ".concat(i(Cfn)),ref:w,value:C==null?void 0:C.date,inputValue:_||"",readOnly:!!u,onInputChange:x,onChange:y,customValidity:C==null?void 0:C.error})});function _fn(e){return e instanceof Date&&!isNaN(e.valueOf())}const Sfn="YYYY-MM-DD",Efn="HH:mm";function kfn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Sfn,timeFormat:e.timeFormat||Efn,timeStep:"timeStep"in e&&Number(e.timeStep)||1,calendarTodayLabel:e.calendarTodayLabel||"Today"}}function I4(e){return e.toISOString()}function jfn(e){const t=new Date(e);return _fn(t)?{isValid:!0,date:t}:{isValid:!1,error:'Invalid date value: "'.concat(e,'"')}}function Tfn(e,t){if(!t||t===1)return e;const n=_5t(e),r=wkt(n),o=r%t;return I4(o!==0?pS(n,r-o):n)}function Afn(e){const{onChange:t,schemaType:n,value:r,elementProps:o}=e,{dateFormat:i,timeFormat:s,timeStep:a}=kfn(n.options),c=h.useCallback(f=>{let p=f;p!==null&&a>1&&(p=Tfn(p,a)),t(p===null?Je():bt(p))},[t,a]),u=re.useCallback(f=>GT(f,"".concat(i," ").concat(s)),[i,s]),d=re.useCallback(f=>V9(f,"".concat(i," ").concat(s)),[i,s]);return l.jsx(Q3e,{...o,onChange:c,deserialize:jfn,formatInputValue:u,parseInputValue:d,placeholder:n.placeholder,selectTime:!0,serialize:I4,timeStep:a,value:r})}const EN="YYYY-MM-DD",Dfn=EN;function Ifn(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:e.dateFormat||Dfn,calendarTodayLabel:e.calendarTodayLabel||"Today"}}const Ofn=e=>V9(e,EN),Pfn=e=>GT(e,EN);function Rfn(e){const{readOnly:t,onChange:n,schemaType:r,elementProps:o,value:i}=e,{dateFormat:s}=Ifn(r.options),a=h.useCallback(d=>{n(d===null?Je():bt(d))},[n]),c=h.useCallback(d=>GT(d,s),[s]),u=h.useCallback(d=>V9(d,s),[s]);return l.jsx(Q3e,{...o,deserialize:Ofn,formatInputValue:c,onChange:a,parseInputValue:u,placeholder:r.placeholder,readOnly:t,selectTime:!1,serialize:Pfn,value:i})}var tce=Object.freeze,$fn=Object.defineProperty,Mfn=(e,t)=>tce($fn(e,"raw",{value:tce(t||e.slice())})),nce;const Ffn=P(Hwe)(nce||(nce=Mfn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function Lfn(e){const{schemaType:t,validationError:n,value:r,elementProps:o}=e;return l.jsx(Ffn,{customValidity:n,value:r||"",placeholder:t.placeholder,rows:typeof t.rows=="number"?t.rows:10,...o})}function Bfn(e){var t,n;const{schemaType:r,validationError:o,elementProps:i}=e,s=HS(r,"uri"),a=(n=(t=s==null?void 0:s.constraint)==null?void 0:t.options)!=null&&n.allowRelative?"text":"url";return l.jsx(Lr,{type:a,inputMode:"url",customValidity:o,...i})}const Nfn=(e,t)=>{var n;const r=(n=t.options)==null?void 0:n.maxLength;return e?oTe(e,{truncate:typeof r=="number"?r:200,symbols:!0}):""};async function zfn(e,t,n){var r;return e&&(((r=t.options)==null?void 0:r.slugify)||Nfn)(e,t,n)}function Vfn(e,t){const[n,r]=re.useState(null),o=re.useRef(0),i=re.useCallback(s=>{const a=++o.current;r({status:"pending"}),Promise.resolve().then(()=>e(s)).then(c=>{a===o.current&&r({status:"complete",result:c})},c=>{a===o.current&&r({status:"error",error:c})})},[e,...t]);return[n,i]}function Hfn(){const{getClient:e}=Ln(),t=jn(),n=Yo(),r=dPe(),o=cPe();return h.useMemo(()=>({projectId:r,dataset:o,getClient:e,schema:t,currentUser:n}),[e,t,n,r,o])}function Ufn(e,t,n){const r=e.slice(0,-1),o=cm(t,r);return{parentPath:r,parent:o,...n}}async function Wfn(e,t,n){return typeof e=="function"?e(t,n):cm(t,e)}function qfn(e){var t;const{getDocument:n}=ci().__internal,{path:r,value:o,schemaType:i,validation:s,onChange:a,readOnly:c,elementProps:u}=e,d=(t=i.options)==null?void 0:t.source,f=h.useMemo(()=>s.filter(y=>y.level==="error"),[s]),p=Hfn(),m=h.useCallback(y=>{if(!y){a(dt.from(Je([])));return}a(dt.from([Qi({_type:i.name}),bt(y,["current"])]))},[a,i.name]),[v,g]=Vfn(()=>{if(!d)return Promise.reject(new Error('Source is missing. Check source on type "'.concat(i.name,'" in schema')));const y=n()||{_type:i.name},w=Ufn(r,y,p);return Wfn(d,y,w).then(C=>zfn(C||"",i,w)).then(C=>m(C))},[d,n,i,r,p,m]),b=(v==null?void 0:v.status)==="pending",x=re.useCallback(y=>m(y.currentTarget.value),[m]);return l.jsx(ee,{space:3,children:l.jsxs(H,{children:[l.jsxs(M,{flex:1,children:[l.jsx(Lr,{customValidity:f.length>0?f[0].message:"",disabled:b,onChange:x,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(v==null?void 0:v.status)==="error"&&l.jsx(Q,{padding:2,tone:"critical",children:v.error.message})]}),d&&l.jsx(M,{marginLeft:1,children:l.jsx(oe,{mode:"ghost",type:"button",disabled:c||b,onClick:g,text:(v==null?void 0:v.status)==="pending"?"Generating…":"Generate"})})]})})}function Yfn(e){return h.useMemo(()=>{var n;return Array.isArray((n=e.schemaType.options)==null?void 0:n.list)},[e.schemaType])?l.jsx(O3e,{...e}):zln(e)?l.jsx(U3e,{...e}):l.jsx(q3e,{...e})}const rce={document:Jle,object:Jle,array:Yfn,boolean:Udn,number:K3e,text:Lfn,email:Wdn,datetime:Afn,date:Rfn,url:Bfn,image:zan,file:Osn,string:G3e,slug:qfn,crossDatasetReference:fln};function Gfn(e){if(gc("array",e))return Rdn(e);if(gc("reference",e))return Bln;if(gc("string",e))return Ldn(e);if(gc("number",e))return Ndn(e)}function Kfn(e){var t;if((t=e.components)!=null&&t.input)return e.components.input;const n=Gfn(e);if(n)return n;const o=fN(e,new Set).reduce((s,a)=>(s[a.name]=a,s),{}),i=Object.values(o).find(s=>rce[s.name]);if(i)return rce[i.name];throw new Error("Could not find input component for schema type `".concat(e.name,"`"))}function Zfn(e){var t;return(t=e.components)!=null&&t.preview?e.components.preview:fh}function Lm(e){const{componentResolver:t,componentProps:n}=e;if(!n.schemaType)throw new Error("the `schemaType` property must be defined");const r=t(n.schemaType),o=h.useCallback(i=>{var s;if(!((s=i.schemaType)!=null&&s.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:a,...c}=i.schemaType,u=t(c);return h.createElement(u,i)},[t]);return h.createElement(r,{...n,renderDefault:o})}function Xfn(e){return Lm({componentProps:e,componentResolver:Kfn})}function Qfn(e){return Lm({componentProps:e,componentResolver:gon})}function Jfn(e){return Lm({componentProps:e,componentResolver:ron})}function ehn(e){return Lm({componentProps:e,componentResolver:Zfn})}function thn(e){return Lm({componentProps:e,componentResolver:$in})}function nhn(e){return Lm({componentProps:e,componentResolver:Min})}function rhn(e){return Lm({componentProps:e,componentResolver:Fin})}function ohn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.input}function ihn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.field}function shn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.preview}function ahn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.item}function lhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.block}function chn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.inlineBlock}function uhn(e){var t,n;return(n=(t=e.form)==null?void 0:t.components)==null?void 0:n.annotation}function dhn(){return Hl({defaultComponent:Xfn,pick:ohn})}function fhn(){return Hl({defaultComponent:Qfn,pick:ihn})}function J3e(){return Hl({defaultComponent:ehn,pick:shn})}function hhn(){return Hl({defaultComponent:Jfn,pick:ahn})}function phn(){return Hl({defaultComponent:thn,pick:lhn})}function mhn(){return Hl({defaultComponent:nhn,pick:chn})}function ghn(){return Hl({defaultComponent:rhn,pick:uhn})}function vC(e){const t=J3e();return l.jsx(rDe,{...e,component:t})}const vhn=e=>{let{asset:t,assetType:n,referringDocuments:r}=e;const o=r.length,i=o>0,s=t.originalFilename?l.jsx("strong",{children:t.originalFilename}):"this ".concat(n);return i?l.jsxs(l.Fragment,{children:[l.jsx(Q,{borderBottom:!0,marginTop:2,paddingBottom:2,marginBottom:1,children:l.jsxs(L,{as:"h2",size:[1,1,2,2],weight:"regular",textOverflow:"ellipsis",children:[o," ",o===1?"document is":"documents are"," using ",s]})}),r.map(a=>l.jsx(yhn,{document:a},a._id))]}):l.jsxs(L,{size:[1,1,2,2],as:"h2",weight:"regular",children:["No documents are using ",s]})},yhn=e=>{let{document:t}=e;const n=jn(),r=h.useCallback(o=>l.jsx(km,{...o,params:{id:t._id,type:t._type},intent:"edit"}),[t]);return l.jsx(Q,{as:r,paddingY:2,paddingX:1,radius:2,"data-as":"a",tabIndex:0,children:l.jsx(H,{align:"center",gap:2,children:l.jsx(vC,{layout:"default",value:{_type:"reference",_ref:t._id},schemaType:n.get(t._type)})})},t._id)},oce={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},ice={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},sce={height:"100%"},bhn=e=>{let{asset:t,assetType:n,hasResults:r=!1}=e;const o=n==="image",i=t.originalFilename?l.jsxs(l.Fragment,{children:["The ",n," ",l.jsx("strong",{children:t.originalFilename})]}):"this ".concat(n);return r?l.jsx(Q,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:l.jsxs(nn,{columns:3,gap:[2,3,4],children:[l.jsxs(H,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[l.jsx(L,{children:l.jsx(Br,{})}),l.jsxs(L,{size:1,children:[i," cannot be deleted because it's being used. In order to delete the ",n," you need the remove all uses of it."]})]}),o&&l.jsx(Q,{__unstable_checkered:!0,border:!0,radius:1,style:ice,children:l.jsx(H,{align:"center",justify:"center",style:sce,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:oce,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):l.jsx(Q,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:l.jsxs(nn,{columns:3,gap:3,children:[l.jsx(H,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:l.jsxs(L,{children:["You are about to delete the ",n,t.originalFilename&&l.jsxs(l.Fragment,{children:[" ",l.jsx("strong",{children:t.originalFilename})]})," ","and its metadata.",l.jsx("br",{}),l.jsx("br",{}),"Are you sure?"]})}),o&&l.jsx(Q,{__unstable_checkered:!0,border:!0,radius:1,style:ice,children:l.jsx(H,{align:"center",justify:"center",style:sce,children:l.jsx("img",{src:"".concat(t.url,"?w=200"),style:oce,alt:"Preview of image",referrerPolicy:"strict-origin-when-cross-origin"})})})]})})},UO="confirmDelete",WO="listUsage";function O4(e){let{asset:t,assetType:n="image",mode:r=WO,isDeleting:o=!1,onClose:i,onDelete:s}=e;const{isLoading:a,referringDocuments:c}=QGt(t._id),d=r===WO?"Documents using ".concat(n):"Delete ".concat(n),[f,p]=h.useState(!1),[m,v]=h.useState(!0),[g,b]=h.useState([]),x=r===UO,y=g.length>0,w=r===WO||y,C=r===UO&&!y,_=x?l.jsxs(nn,{padding:2,gap:2,columns:2,children:[l.jsx(oe,{mode:"bleed",text:"Cancel",onClick:i}),l.jsx(oe,{text:"Delete",tone:"critical",icon:yo,onClick:s,loading:o,disabled:!f})]}):void 0;return h.useEffect(()=>{const S=c.reduce((j,k)=>k._id.startsWith("drafts.")?j.concat(k._id.slice(7)):j,[]),E=c.filter(j=>!S.includes(j._id));b(E),p(E.length===0&&!a),v(a)},[a,c]),l.jsxs(Mi,{__unstable_autoFocus:!m,footer:_,header:d,id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:[m&&l.jsx(M,{padding:4,children:l.jsx(XGt,{text:"Loading..."})}),!m&&l.jsxs(ee,{paddingX:C?0:[2,3,4],paddingY:C?0:[3,3,3,4],space:1,children:[r===UO&&l.jsx(bhn,{asset:t,assetType:n,hasResults:y}),w&&l.jsx(vhn,{asset:t,referringDocuments:g,assetType:n})]})]})}function eOe(e){let{isSelected:t,border:n=!0,onAction:r}=e;const o=t?"default":"bleed",i=t?"primary":"default";return l.jsx(on,{button:l.jsx(oe,{padding:2,mode:n?"ghost":o,icon:Io,tone:n?"default":i}),id:"asset-menu",portal:!0,menu:l.jsxs(Nt,{children:[l.jsx(ze,{text:"Show uses",icon:jf,onClick:()=>{r({type:"showUsage"})}}),l.jsx(ze,{text:"Delete",icon:yo,tone:"critical",onClick:()=>{r({type:"delete"})}})]}),placement:"right"})}var ace=Object.freeze,xhn=Object.defineProperty,XA=(e,t)=>ace(xhn(e,"raw",{value:ace(t||e.slice())})),lce,cce,uce,dce;const whn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),Chn=P.img(lce||(lce=XA([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),_hn=P(Q)(cce||(cce=XA([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),P4=P.div(uce||(uce=XA([`
  position: relative;
  display: inherit;
`]))),Shn=P.div(dce||(dce=XA([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),P4,P4),Ehn=re.memo(function(t){const n=mr(cn),r=qo(),o=h.useRef(),{asset:i,onClick:s,onKeyPress:a,onDeleteFinished:c,isSelected:u}=t,[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!1);h.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const b=h.useCallback(()=>{m(!0)},[m]),x=h.useCallback(()=>{f(!1),m(!1)},[f,m]),y=h.useCallback(()=>{f(!0)},[f]),w=h.useCallback(D=>{r.push({closable:!0,status:"error",title:"Image could not be deleted",description:D.message})},[r]),C=h.useCallback(()=>{r.push({status:"success",title:"Image was deleted"})},[r]),_=h.useCallback(()=>{g(!0),o.current=n.observable.delete(i._id).subscribe({next:()=>{g(!1),c(i._id),m(!1),C()},error:D=>{g(!1),w(D),console.error("Could not delete asset",D)}})},[i._id,w,C,c,n.observable]),S=h.useCallback(D=>{D.type==="delete"&&b(),D.type==="showUsage"&&y()},[b,y]),{originalFilename:E,_id:j,url:k}=i,T=200*Math.max(1,whn),A=k.includes(".gif")?"".concat(k,"?h=").concat(T,"&fit=max&fm=jpg"):"".concat(k,"?h=").concat(T,"&fit=max");return l.jsxs(P4,{children:[l.jsx(oe,{tone:"primary",selected:u,tabIndex:0,"data-id":j,mode:"ghost",onKeyPress:a,padding:0,style:{padding:2},children:l.jsxs(_hn,{__unstable_checkered:!0,children:[l.jsx(Chn,{alt:E,src:A,onClick:s,"data-id":j}),v&&l.jsx(ZGt,{})]})}),l.jsx(Shn,{children:l.jsx(eOe,{isSelected:u,onAction:S})}),(d||p)&&l.jsx(O4,{asset:i,mode:p?"confirmDelete":"listUsage",onClose:x,onDelete:_,isDeleting:v})]})}),khn=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],jhn=["B","kiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],Thn=["b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit"],Ahn=["b","kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],fce=(e,t,n)=>{let r=e;return typeof t=="string"||Array.isArray(t)?r=e.toLocaleString(t,n):(t===!0||n!==void 0)&&(r=e.toLocaleString(void 0,n)),r};function Dhn(e){let{bits:t=!1,binary:n=!1,signed:r=!1,minimumFractionDigits:o,maximumFractionDigits:i,locale:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e;if(!Number.isFinite(a))throw new TypeError("Expected a finite number, got ".concat(typeof a,": ").concat(a));const c=t?n?Ahn:Thn:n?jhn:khn;if(r&&a===0)return" 0 ".concat(c[0]);const u=a<0,d=u?"-":r?"+":"";u&&(a=-a);let f;if(o!==void 0&&(f={minimumFractionDigits:o}),i!==void 0&&(f={maximumFractionDigits:i,...f}),a<1){const g=fce(a,s,f);return"".concat(d+g," ").concat(c[0])}const p=Math.min(Math.floor(n?Math.log(a)/Math.log(1024):Math.log10(a)/3),c.length-1);a/=(n?1024:1e3)**p,f||(a=a.toPrecision(3));const m=fce(Number(a),s,f),v=c[p];return"".concat(d+m," ").concat(v)}const qO={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function Ihn(e){const t=e.replace("x-","").split("/")[1];return t.charAt(0).toUpperCase()+t.slice(1)}function Ohn(e){return qO!=null&&qO[e]?qO[e].title:Ihn(e)}var hce=Object.freeze,Phn=Object.defineProperty,Au=(e,t)=>hce(Phn(e,"raw",{value:hce(t||e.slice())})),pce,mce,gce,vce,yce,bce,xce,wce,Cce;const R4=P.span(pce||(pce=Au([`
  background-color: transparent;
  flex-shrink: 0;
`]))),xg=P(H)(mce||(mce=Au([""]))),Rhn=P(L)(gce||(gce=Au([""]))),$hn=P(Q)(yce||(yce=Au([`
  &:hover-within `,` {
    --card-muted-fg-color: var(--card-muted-fg-color);
    --card-fg-color: var(--card-fg-color);
  }

  `,`
`])),Rhn,e=>e.isSelected&&de(vce||(vce=Au([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),_ce=P(oe)(wce||(wce=Au([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: 0.1875rem;
  }

  `,`

  `,`
`])),e=>e.isSelected&&de(bce||(bce=Au([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),R4,xg),e=>!e.isSelected&&de(xce||(xce=Au([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),Mhn=P(L)(Cce||(Cce=Au([`
  overflow-wrap: anywhere;
`]))),Sce={position:"relative"},Ece={flexShrink:0},YO={minWidth:0},kce={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},Fhn="Cannot delete current file",Lhn=e=>{const t=mr(cn),n=qo(),r=h.useRef(),[o,i]=h.useState(!1),[s,a]=h.useState(!1),[c,u]=h.useState(!1),[d,f]=h.useState(!1),{asset:p,onClick:m,onKeyPress:v,onDeleteFinished:g,isSelected:b,isMobile:x}=e,{originalFilename:y,_id:w,mimeType:C,size:_,_createdAt:S}=p,E=Qo(S,{agoSuffix:!0}),j=Ohn(C),k=Dhn(_),T=(y||"").length>37,A=()=>{a(!0)},D=U=>{n.push({closable:!0,status:"error",title:"File could not be deleted",description:U.message})},I=()=>{n.push({status:"success",title:"File was deleted"})},O=()=>{u(!0),r.current=t.observable.delete(p._id).subscribe({next:()=>{u(!1),g==null||g(p._id),a(!1),I()},error:U=>{u(!1),D(U),console.error("Could not delete asset",U)}})},$=()=>{i(!1),a(!1)},R=()=>{i(!0)},z=()=>{f(!d)},B=U=>{U.type==="delete"&&A(),U.type==="showUsage"&&R()};return x?l.jsxs(Q,{paddingBottom:2,style:Sce,children:[l.jsxs(nn,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[l.jsx(_ce,{asset:p,mode:"bleed",padding:0,"data-id":w,onClick:m,paddingY:1,children:l.jsxs(H,{gap:2,flex:2,align:"center",children:[l.jsx(Q,{as:R4,padding:2,tone:"transparent",radius:2,children:l.jsx(L,{muted:!0,size:2,style:Ece,children:l.jsx(kf,{})})}),l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:YO,children:y})]})}),l.jsx(H,{justify:"flex-end",align:"center",paddingRight:1,style:kce,children:l.jsx(oe,{mode:"bleed",fontSize:1,padding:2,onClick:z,icon:d?k0e:Ja})})]}),d&&l.jsxs(l.Fragment,{children:[l.jsxs(nn,{marginTop:3,columns:3,gap:1,children:[l.jsxs(ee,{space:2,children:[l.jsx(Ht,{size:1,muted:!0,children:"Size"}),l.jsx(L,{size:1,muted:!0,children:k})]}),l.jsxs(ee,{space:2,children:[l.jsx(Ht,{size:1,muted:!0,children:"Type"}),l.jsx(L,{size:1,muted:!0,children:j})]}),l.jsxs(ee,{space:2,children:[l.jsx(Ht,{size:1,muted:!0,children:"Date added"}),l.jsx(L,{size:1,muted:!0,children:E})]})]}),l.jsxs(ee,{space:2,marginTop:3,children:[l.jsx(oe,{fontSize:1,tone:"default",mode:"ghost",text:"Show uses",onClick:R,icon:jf}),l.jsx(oe,{fontSize:1,tone:"critical",mode:"ghost",text:"Delete",icon:yo,disabled:b,title:b?Fhn:"Delete file",onClick:A})]})]}),(o||s)&&l.jsx(O4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:O,isDeleting:c})]}):l.jsxs($hn,{asset:p,paddingBottom:1,style:Sce,radius:0,overflow:"hidden",isSelected:b,"aria-selected":"true",children:[l.jsxs(nn,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[l.jsx(_ce,{asset:p,mode:"bleed","data-id":w,onClick:m,padding:0,onKeyPress:v,title:"Select the file ".concat(y),isSelected:b,children:l.jsxs(xg,{gap:2,flex:2,paddingRight:1,align:"center",onClick:m,onKeyPress:v,"data-id":w,title:"Select the file ".concat(y),children:[l.jsx(Q,{as:R4,padding:2,tone:"transparent",radius:2,style:Ece,children:l.jsx(L,{muted:!0,size:2,children:l.jsx(kf,{})})}),T&&l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:y})}),fallbackPlacements:["right","left"],placement:"top",portal:!0,children:l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:YO,children:y})}),!T&&l.jsx(L,{size:1,align:"left",textOverflow:"ellipsis",style:YO,children:y})]})}),l.jsx(xg,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:k})}),l.jsx(xg,{align:"center",children:l.jsx(M,{children:l.jsx(Mhn,{size:1,muted:!0,textOverflow:"ellipsis",children:j})})}),l.jsx(xg,{align:"center",children:l.jsx(L,{as:"time",size:1,muted:!0,dateTime:S,children:E})}),l.jsx(xg,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:kce,children:l.jsx(eOe,{border:!1,isSelected:!1,onAction:B})})]}),(o||s)&&l.jsx(O4,{assetType:"file",asset:p,mode:s?"confirmDelete":"listUsage",onClose:$,onDelete:O,isDeleting:c})]})},Bhn={paddingLeft:"2.2rem"},jce={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function Nhn(e){const n=bm()<2,{assets:r,onClick:o,onKeyPress:i,onDeleteFinished:s,selectedAssets:a,isLoading:c}=e;return l.jsxs(M,{padding:4,children:[l.jsx(Q,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:n?l.jsx(nn,{style:jce,children:l.jsx(M,{flex:2,paddingLeft:5,children:l.jsx(Ht,{muted:!0,size:1,children:"Filename"})})}):l.jsxs(nn,{gap:1,style:jce,children:[l.jsx(M,{flex:2,style:Bhn,children:l.jsx(Ht,{muted:!0,size:1,children:"Filename"})}),l.jsx(M,{flex:1,children:l.jsx(Ht,{muted:!0,size:1,children:"Size"})}),l.jsx(M,{flex:1,children:l.jsx(Ht,{muted:!0,size:1,children:"Type"})}),l.jsx(M,{flex:1,children:l.jsx(Ht,{muted:!0,size:1,children:"Date added"})})]})}),l.jsxs(ee,{children:[c&&r.length===0&&l.jsx(M,{paddingTop:4,paddingBottom:2,children:l.jsx(H,{justify:"center",children:l.jsx(hr,{muted:!0})})}),r.map(u=>l.jsx(Lhn,{asset:u,isMobile:n,isSelected:a.some(d=>d._id===u._id),onClick:o,onKeyPress:i,onDeleteFinished:s},u._id))]})]})}var Tce=Object.freeze,zhn=Object.defineProperty,tOe=(e,t)=>Tce(zhn(e,"raw",{value:Tce(t||e.slice())})),Ace,Dce;const US=200,nOe="sanity.imageAsset",Vhn="sanity.fileAsset",Hhn=e=>{const t=["image/*","audio/*","video/*"],r=e.split(",").map(o=>o.trim()).reduce((o,i)=>t.includes(i)?{...o,wildcards:"mimeType match '".concat(i,"' || ").concat(o.wildcards)}:i.indexOf(".")===0?{...o,extensions:"'".concat(i.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(i,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(r.wildcards,` 
    extension in [`).concat(r.extensions,`] ||
    mimeType in [`).concat(r.mimes,`]
  )`)},Uhn=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:US,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nOe,r=arguments.length>3?arguments[3]:void 0;const i=r.length>0?Hhn(r):"";return`
  *[_type == "`.concat(n,'" ').concat(i,"] | order(_updatedAt desc) [").concat(e,"...").concat(t,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},Whn=P(nn)(Ace||(Ace=tOe([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`]))),qhn=P(Q)(Dce||(Dce=tOe([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),Yhn=function(t,n){const r=mr(cn),o=h.useMemo(()=>r.withConfig({apiVersion:"2023-02-14"}),[r]),i=h.useRef("default-asset-source-".concat(jEe())),s=h.useRef(0),a=h.useRef(),[c,u]=h.useState([]),[d,f]=h.useState(!1),[p,m]=h.useState(!1),[v,g]=h.useState(!0),{selectedAssets:b,assetType:x="image",dialogHeaderTitle:y="Select image",onClose:w,onSelect:C,accept:_}=t,S=_?_.split(",").map(B=>B.trim()).join(", "):"",E=!v&&_&&_.length>0,j=_&&_==="image/*"&&x==="image",k=h.useCallback(B=>{const U=B*US,W=U+US,V=x==="image",K=V?"asset.image-list":"asset.file-list",te=V?nOe:Vhn;g(!0),typeof _<"u"&&(a.current=o.observable.fetch(Uhn(U,W,te,_),{},{tag:K}).subscribe(N=>{f(N.length<US),u(G=>G.concat(N)),g(!1)}))},[x,_,o]),T=h.useCallback(B=>{u(U=>U.filter(W=>W._id!==B))},[u]),A=h.useCallback(B=>{c.find(W=>W._id===B)&&C([{kind:"assetDocumentId",value:B}])},[c,C]),D=h.useCallback(B=>{B.preventDefault(),A(B.currentTarget.getAttribute("data-id"))},[A]),I=h.useCallback(B=>{B.key==="Enter"&&(B.preventDefault(),A(B.currentTarget.getAttribute("data-id")))},[A]),O=h.useCallback(()=>{w&&w()},[w]),$=h.useCallback(B=>{B.preventDefault(),k(++s.current)},[k]);h.useEffect(()=>(k(s.current),()=>{a.current&&a.current.unsubscribe()}),[k]),h.useEffect(()=>{!v&&(!s.current||s.current===0)&&m(!0)},[v]);const R=h.useMemo(()=>l.jsxs(M,{padding:4,children:[l.jsx(Whn,{gap:2,children:c.map(B=>l.jsx(Ehn,{asset:B,isSelected:b.some(U=>U._id===B._id),onClick:D,onKeyPress:I,onDeleteFinished:T},B._id))}),v&&c.length===0&&l.jsx(H,{justify:"center",children:l.jsx(hr,{muted:!0})}),!v&&c.length===0&&l.jsx(L,{align:"center",muted:!0,children:"No images"})]}),[c,T,D,I,v,b]),z=h.useMemo(()=>l.jsx(Nhn,{isLoading:v,assets:c,selectedAssets:b,onClick:D,onKeyPress:I,onDeleteFinished:T}),[v,c,b,D,I,T]);return l.jsxs(Mi,{__unstable_autoFocus:p,header:y,id:i.current,onClickOutside:O,onClose:O,ref:n,width:2,children:[E&&!j&&l.jsx(Q,{tone:"primary",marginTop:4,marginX:4,padding:[3,3,4],border:!0,radius:2,children:l.jsxs(H,{gap:[3,4],align:"center",children:[l.jsx(L,{children:l.jsx(hm,{})}),l.jsxs(L,{size:1,children:["Only showing assets of accepted types: ",l.jsx("b",{children:S})]})]})}),x==="image"&&R,x==="file"&&z,c.length>0&&!d&&l.jsx(qhn,{tone:"default",padding:4,children:l.jsx(H,{direction:"column",children:l.jsx(oe,{type:"button",icon:zF,loading:v,onClick:$,text:"Load more",tone:"primary"})})})]})},rOe=re.memo(re.forwardRef(Yhn)),oOe={name:"sanity-default",title:"Uploaded files",component:rOe,icon:BF},iOe={name:"sanity-default",title:"Uploaded images",component:rOe,icon:Al};function Ghn(e){return e.reduce((t,n)=>(t[n.name]=n,t),{})}function ph(e,t){return e[t]}function Khn(e){return e.reduce((t,n)=>(n.type==="field"&&t.push(n.fieldType),t),[])}const Zhn=[{fieldPath:"_updatedAt",icon:Sg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Updated at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:Sg,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:jf,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:qy,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:qy,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:qy,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:uj,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:Sg,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:Sg,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:cg,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:kf,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:Al,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:V0e,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:_0e,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:jf,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:cg,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:cg,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:Bl,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:cg,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:cg,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}];function Xhn(e){let{documentId:t,schemaType:n}=e;const r=Ni(),{draft:o,published:i,isLoading:s}=xo(()=>jA(r,n,t,""),[t,r,n]),a=h.useMemo(()=>({_id:t,_type:n.name}),[t,n.name]),c=jB({draft:o,published:i,value:a});return s?l.jsx(D0,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):l.jsx(l.Fragment,{children:c.title||t.slice(0,8)})}const j5="yyyy-MM-dd";function Qhn(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t?"True":"False"})}function Ice(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Uu(n)?null:l.jsx(l.Fragment,{children:Jo(n,j5)})}function Oce(e){let{value:t}=e;const n=t!=null&&t.date?new Date(t.date):null;return!n||!Uu(n)?null:l.jsx(l.Fragment,{children:Jo(n,j5)})}function Jhn(e){let{value:t}=e;var n;return l.jsxs(l.Fragment,{children:[Math.floor((n=t==null?void 0:t.unitValue)!=null?n:0)," ",t.unit]})}function Pce(e){let{value:t}=e;const n=t!=null&&t.dateMin?new Date(t.dateMin):null,r=t!=null&&t.dateMax?new Date(t.dateMax):null;return!r||!n||!Uu(r)||!Uu(n)?null:l.jsxs(l.Fragment,{children:[Jo(n,j5)," → ",Jo(r,j5)]})}function ig(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}function sg(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t," ",Hr("item",t)]})}function epn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max]})}function tpn(e){let{value:t}=e;return l.jsxs(l.Fragment,{children:[t.min," → ",t.max," items"]})}function vl(e){let{value:t}=e;const n=jn(),r=t._ref,o=n.get(t._type);return o?l.jsx(Xhn,{documentId:r,schemaType:o}):null}function ki(e){let{value:t}=e;return l.jsx(l.Fragment,{children:t})}const sOe=h.createContext(void 0);function Pt(){const e=h.useContext(sOe);if(e===void 0)throw new Error("useSearchState must be used within an SearchProvider");return e}function Da(e){let{value:t,onChange:n}=e;const[r,o]=h.useState(t??""),{state:{fullscreen:i}}=Pt(),s=h.useCallback(a=>{o(a.currentTarget.value);const c=parseFloat(a.currentTarget.value);n(Number.isFinite(c)?c:null)},[n]);return l.jsx(Lr,{fontSize:i?2:1,onChange:s,placeholder:"Value",radius:2,step:"any",type:"number",value:r})}function aOe(e){let{onChange:t,value:n}=e;var r,o;const[i,s]=h.useState((r=n==null?void 0:n.max)!=null?r:""),[a,c]=h.useState((o=n==null?void 0:n.min)!=null?o:""),{state:{fullscreen:u}}=Pt(),d=h.useCallback(p=>{var m;s(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:Number.isFinite(v)?v:null,min:(m=n==null?void 0:n.min)!=null?m:null})},[n==null?void 0:n.min,t]),f=h.useCallback(p=>{var m;c(p.currentTarget.value);const v=parseFloat(p.currentTarget.value);t({max:(m=n==null?void 0:n.max)!=null?m:null,min:Number.isFinite(v)?v:null})},[n==null?void 0:n.max,t]);return l.jsxs(H,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Lr,{fontSize:u?2:1,onChange:f,placeholder:"Min value",radius:2,step:"any",type:"number",value:a})}),l.jsx(M,{flex:1,children:l.jsx(Lr,{fontSize:u?2:1,onChange:d,placeholder:"Max value",radius:2,step:"any",type:"number",value:i})})]})}function QA(e,t){const n=t.split("."),r=n[0];if(r&&Ka(e)){const o=e.fields.find(i=>i.name===r);if(o){const i=n.slice(1).join(".");return i?QA(o.type,i):o}}}var Rce=Object.freeze,npn=Object.defineProperty,lOe=(e,t)=>Rce(npn(e,"raw",{value:Rce(t||e.slice())})),$ce,Mce;const rpn=P(M)($ce||($ce=lOe([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`]))),opn=P(Ht)(Mce||(Mce=lOe([`
  max-width: 150px;
`])));function ipn(e){let{documentId:t,presence:n,schemaType:r}=e;const o=Ni(),{draft:i,published:s,isLoading:a}=xo(()=>jA(o,r,t,""),[t,o,r]),c=h.useMemo(()=>({_id:t,_type:r.name}),[t,r.name]),u=h.useMemo(()=>a?null:l.jsxs(Zt,{space:3,children:[n&&n.length>0&&l.jsx(XB,{presence:n}),l.jsx(opn,{size:0,muted:!0,textOverflow:"ellipsis",children:r.title})]}),[a,n,r.title]);return l.jsx(rpn,{children:l.jsx(fh,{...jB({draft:i,published:s,value:c}),isPlaceholder:a??!0,layout:"default",icon:r.icon,status:u})})}function kN(e){let{compact:t,disableIntentLink:n,documentId:r,documentType:o,onClick:i,...s}=e;const c=jn().get(o),u=CC(r),d=h.useMemo(()=>({id:r,type:c==null?void 0:c.name}),[r,c==null?void 0:c.name]),{onClick:f,href:p}=Pw({intent:"edit",params:d}),m=h.useCallback(v=>{n||f(v),i==null||i()},[n,i,f]);return c?l.jsx(M,{...s,children:l.jsx(Ap,{as:"a","data-as":"a",flex:1,href:n?void 0:p,onClick:m,padding:t?1:2,radius:2,tabIndex:-1,children:l.jsx(ipn,{documentId:r,presence:u,schemaType:c})})}):null}const spn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),apn="_debug_search_score",cOe=!1,Fce=1e3,uOe="k",lpn=spn?"Cmd":"Ctrl",Ux=$f.space[1],cpn=735,dOe=800,yC=5,a1=2;function JA(e){let{allowEmptyQueries:t,terms:n}=e;const r=t?!0:n.query.length>0,o=!!n.filter,i=n.types.length>0;return r||o||i}function upn(e,t){return eD(e).filter(n=>dpn(n,t)).sort($4)}function eD(e){return sZt(e).filter(t=>t.__experimental_omnisearch_visibility!==!1)}function $4(e,t){var n,r;return((n=e.title)!=null?n:e.name).localeCompare((r=t.title)!=null?r:t.name)}function dpn(e,t){var n;return!t||((n=e.title)!=null?n:e.name).toLowerCase().includes(t==null?void 0:t.toLowerCase())}const fpn=300,GO={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function hpn(e){return e!==null}function ppn(e){var t;return{...e,terms:{...e.terms,filter:(t=e.terms.filter)==null?void 0:t.trim(),query:e.terms.query.trim()}}}function fOe(e){let{allowEmptyQueries:t,initialState:n,onComplete:r,onError:o,onStart:i,schema:s}=e;const[a,c]=h.useState(n),u=mr(cn),d=h.useMemo(()=>DB(eD(s),u,{tag:"search.global",unique:!0}),[u,s]),f=nT(m=>m.pipe(pt(hpn),le(ppn),Jn(Ut),e8(v=>Uo((v==null?void 0:v.debounceTime)||fpn)),Cn(i),rt(v=>Wr(ve({...GO,loading:!0,options:v.options,terms:v.terms}),cnt(()=>JA({allowEmptyQueries:t,terms:v.terms}),d(v.terms,v.options).pipe(le(g=>({hits:g})),Cn(g=>{let{hits:b}=g;return r==null?void 0:r(b)}),Rn(g=>(o==null||o(g),ve({...GO,error:g,loading:!1,options:v.options,terms:v.terms})))),ve(Qn).pipe(Cn(()=>r==null?void 0:r([])))),ve({loading:!1}))),ra((v,g)=>({...v,...g}),GO),Cn(c)),[t,d]);return{handleSearch:h.useCallback(m=>f(m),[f]),searchState:a}}const mpn=40;function jN(e){let{availableCharacters:t=mpn,types:n}=e;const r=n.reduce(function(){let i=t;return function(s,a,c){const u=Lce(a);return i-=u.length,(c===0||t>u.length&&i>u.length)&&s.push(a),s}}(),[]),o=n.length-r.length;return n.length?["".concat(r.map(Lce).join(", ")),...o?["+".concat(o," more")]:[]].join(" "):"All types"}function Lce(e){var t;return(t=e.title)!=null?t:e.name}var Bce=Object.freeze,gpn=Object.defineProperty,vpn=(e,t)=>Bce(gpn(e,"raw",{value:Bce(t||e.slice())})),Nce;const ypn=()=>!0,bpn=P(L)(Nce||(Nce=vpn([`
  word-break: break-word;
`]))),xpn=h.forwardRef(function(t,n){let{onSelect:r,types:o=[],value:i}=t;const s=h.useRef(null),a=jn(),{state:{fullscreen:c}}=Pt(),u=h.useId(),[d,f]=h.useState([]),{handleSearch:p,searchState:m}=fOe({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:C=>{f(C.map(_=>({hit:_,value:_.hit._id})))},schema:a}),v=h.useCallback(()=>{p({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[p,o]),g=h.useCallback(C=>{p(C?{options:{limit:100},terms:{query:C||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[p,o]),b=h.useCallback(C=>{var _;const S=(_=d.find(E=>E.value===C))==null?void 0:_.hit.hit;S&&(r==null||r({_ref:$n(S._id),_type:S._type}))},[d,r]),x=h.useMemo(()=>{const C=jN({types:o});return o.length>0?"Search for ".concat(C):"Search all documents"},[o]),y=h.useCallback(C=>{const _=C.hit.hit._type;return l.jsx(kN,{compact:!0,disableIntentLink:!0,documentId:C.value,documentType:_})},[]),w=h.useCallback((C,_)=>{const{content:S,hidden:E,onMouseEnter:j,onMouseLeave:k}=C,T=d&&d.length>0;return l.jsx(rn,{arrow:!1,constrainSize:!0,content:l.jsx("div",{ref:_,children:T?S:m.terms.query&&l.jsx(M,{padding:4,children:l.jsx(H,{align:"center",height:"fill",justify:"center",children:l.jsxs(bpn,{align:"center",muted:!0,children:["No results for ",l.jsxs("strong",{children:["“",m.terms.query,"”"]})]})})})}),matchReferenceWidth:!0,onMouseEnter:j,onMouseLeave:k,open:!m.loading&&!E,overflow:"auto",placement:"bottom-start",radius:a1,referenceElement:s.current})},[d,m.loading,m.terms.query]);return l.jsx("div",{ref:s,children:l.jsx(LL,{"aria-label":x,filterOption:ypn,fontSize:c?2:1,id:u,loading:m.loading,openButton:{onClick:v},options:d,onQueryChange:g,onSelect:b,placeholder:x,radius:2,ref:n,renderOption:y,renderPopover:w,value:i==null?void 0:i._ref})})});function jb(e){let{fieldDefinition:t,onChange:n,value:r}=e;const{onClose:o,state:{documentTypesNarrowed:i,fullscreen:s}}=Pt(),a=jn(),c=h.useCallback(p=>n(p),[n]),u=h.useMemo(()=>t?t.documentTypes.filter(p=>i.includes(p)).flatMap(p=>{const m=a.get(p);if(m){const v=QA(m,t.fieldPath);if(Fl(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(Du).flatMap(g=>g.to);if(Du(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((p,m)=>(p.findIndex(v=>v.name===(m==null?void 0:m.name))<0&&p.push(m),p),[]):[],[i,t,a]),d=h.useCallback(()=>c(null),[c]),f=h.useCallback(()=>{o==null||o()},[o]);return l.jsx(M,{style:{width:"min(calc(100vw - 40px), 420px)"},children:r!=null&&r._ref&&(r!=null&&r._type)?l.jsxs(ee,{space:3,children:[l.jsx(Q,{padding:1,radius:1,shadow:1,children:l.jsx(kN,{compact:!0,documentId:r._ref,documentType:r._type,onClick:f})}),l.jsx(oe,{fontSize:s?2:1,mode:"ghost",onClick:d,text:"Clear",tone:"critical"})]}):l.jsx(xpn,{onSelect:c,types:u,value:r})})}function wpn(e){let{onClick:t,selected:n,title:r,value:o}=e;const i=h.useCallback(()=>t(o),[t,o]);return l.jsx(ze,{onClick:i,padding:3,pressed:n,tone:"default",children:l.jsx(H,{align:"center",justify:"space-between",gap:3,children:l.jsxs(ee,{paddingRight:2,space:2,children:[l.jsx(L,{size:1,weight:"regular",children:r}),o&&l.jsx(lr,{muted:!0,size:0,children:o})]})})})}function T5(e){let{fieldDefinition:t,onChange:n,value:r}=e;const o=h.useId(),{state:{documentTypesNarrowed:i}}=Pt(),s=jn(),a=h.useMemo(()=>t?t.documentTypes.filter(f=>i.includes(f)).map(f=>{const p=s.get(f);if(p){const m=QA(p,t.fieldPath);return m==null?void 0:m.type.options}return null}).filter(bo).map(f=>f.list).flatMap(f=>f==null?void 0:f.map(p=>Cpn(p))).filter(bo).reduce((f,p)=>{const m=f.findIndex(v=>v.value===(p==null?void 0:p.value));if(m>-1){const v=f[m];f[m]={...f[m],title:vo([...v.title,p.title]).sort()}}else f.push({...p,title:[p.title]});return f},[]):[],[i,t,s]),c=h.useCallback(u=>{n(u)},[n]);return l.jsx(on,{button:l.jsx(oe,{mode:"ghost",padding:3,children:l.jsxs(H,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:1,weight:"regular",children:r||"Select..."}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Bl,{})})})]})}),id:o||"",menu:l.jsx(Nt,{children:a.map((u,d)=>l.jsx(wpn,{onClick:c,selected:u.value===r,title:u.title.join(", "),value:u.value||""},d))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function Cpn(e){return _F(e)?e:{title:Tm("".concat(e)),value:e}}const hOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),pOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),mOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),gOe=()=>l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function Xe(e){return JSON.stringify(e)}const _pn={arrayCountEqual:{buttonLabel:"has",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") == ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"quantity is",type:"arrayCountEqual"},arrayCountGt:{buttonLabel:"has >",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") > ").concat(Xe(n)):null},icon:pOe,initialValue:null,inputComponent:Da,label:"quantity greater than",type:"arrayCountGt"},arrayCountGte:{buttonLabel:"has ≥",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") >= ").concat(Xe(n)):null},icon:hOe,initialValue:null,inputComponent:Da,label:"quantity greater than or equal to",type:"arrayCountGte"},arrayCountLt:{buttonLabel:"has <",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") < ").concat(Xe(n)):null},icon:gOe,initialValue:null,inputComponent:Da,label:"quantity less than",type:"arrayCountLt"},arrayCountLte:{buttonLabel:"has ≤",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") <= ").concat(Xe(n)):null},icon:mOe,initialValue:null,inputComponent:Da,label:"quantity less than or equal to",type:"arrayCountLte"},arrayCountNotEqual:{buttonLabel:"does not have",buttonValueComponent:sg,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"count(".concat(t,") != ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"quantity is not",type:"arrayCountNotEqual"},arrayCountRange:{buttonLabel:"has between",buttonValueComponent:tpn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"count(".concat(t,") > ").concat(Xe(n==null?void 0:n.min)," && count(").concat(t,") < ").concat(Xe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:aOe,label:"quantity is between",type:"arrayCountRange"},arrayListIncludes:{buttonLabel:"includes",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(Xe(n)," in ").concat(t):null},initialValue:null,inputComponent:T5,label:"includes",type:"arrayListIncludes"},arrayListNotIncludes:{buttonLabel:"does not include",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(Xe(n)," in ").concat(t,")"):null},initialValue:null,inputComponent:T5,label:"does not include",type:"arrayListNotIncludes"},arrayReferenceIncludes:{buttonLabel:"includes",buttonValueComponent:vl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(Xe(n._ref)," in ").concat(t,"[]._ref"):null},initialValue:null,inputComponent:jb,label:"includes",type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{buttonLabel:"does not include",buttonValueComponent:vl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"!(".concat(Xe(n._ref)," in ").concat(t,"[]._ref)"):null},initialValue:null,inputComponent:jb,label:"does not include",type:"arrayReferenceNotIncludes"}},vOe=h.createContext(null);function Spn(e){let{children:t,workspace:n}=e;return l.jsx(vOe.Provider,{value:n,children:t})}function Ul(){const e=h.useContext(vOe);if(!e)throw new Error("Workspace: missing context value");return e}const WS=h.createContext(null);function TN(e){let{children:t,...n}=e;const r=h.useContext(WS),{unstable_sources:o}=Ul();if("source"in n){const{source:i}=n;return l.jsx(WS.Provider,{value:i,children:t})}if("name"in n){const{name:i}=n,s=o.find(a=>a.name===i);if(!s)throw new Error("Could not find source with name `".concat(i,"` in current workspace"));return r===s?l.jsx(l.Fragment,{children:t}):l.jsx(WS.Provider,{value:s,children:t})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function Ln(){const e=h.useContext(WS);if(!e)throw new Error("Could not find `source` context");return e}function Epn(e){return l.jsx(M,{...e,children:l.jsxs(H,{align:"flex-start",gap:3,children:[l.jsx(cr,{tone:"caution",children:l.jsx(Br,{})}),l.jsxs(ee,{space:4,children:[l.jsx(cr,{size:1,tone:"caution",weight:"semibold",children:"No valid asset sources found."}),l.jsx(cr,{size:1,tone:"caution",children:"Currently, only the default asset source is supported."}),l.jsx(cr,{size:1,tone:"caution",children:"Please ensure it's enabled in your studio configuration file."})]})]})})}function kpn(e){let{reference:t}=e;const n=Ni(),r=h.useCallback(o=>_Ie(n,o),[n]);return l.jsx(c0,{observeAsset:r,reference:t,waitPlaceholder:l.jsx(Tpn,{}),children:o=>l.jsx(jpn,{asset:o})})}function jpn(e){let{asset:t}=e;return l.jsx(Q,{padding:2,shadow:1,children:l.jsxs(H,{align:"center",justify:"space-between",wrap:"nowrap",children:[l.jsx(Q,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(y0,{})})}),l.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[l.jsx(L,{size:2,textOverflow:"ellipsis",muted:!0,children:(t==null?void 0:t.originalFilename)||t._id}),l.jsx(L,{size:1,muted:!0,children:y3e(t.size)})]})]})})}function Tpn(){return l.jsx(Q,{padding:2,shadow:1,children:l.jsxs(H,{align:"center",justify:"flex-start",children:[l.jsx(Q,{padding:3,radius:1,shadow:1,tone:"transparent",children:l.jsx(L,{children:l.jsx(y0,{})})}),l.jsxs(ee,{flex:1,space:2,marginLeft:3,children:[l.jsx(UE,{animated:!0,style:{width:"100%"},radius:1}),l.jsx(UE,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var zce=Object.freeze,Apn=Object.defineProperty,AN=(e,t)=>zce(Apn(e,"raw",{value:zce(t||e.slice())})),Vce,Hce,Uce;const Dpn=P(Q)(Vce||(Vce=AN([`
  position: relative;
  padding-bottom: 100%;
`]))),Ipn=P.img(Hce||(Hce=AN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),Opn=P(H)(Uce||(Uce=AN([`
  height: 100%;
  position: absolute;
  width: 100%;
`])));function Ppn(e){let{reference:t}=e;const n=Ni(),r=h.useCallback(o=>CIe(n,o),[n]);return l.jsx(c0,{observeAsset:r,reference:t,children:o=>l.jsx(Rpn,{asset:o})})}function Rpn(e){let{asset:t}=e;const[n,r]=h.useState(!1),o="".concat(t.url,"?h=800&fit=max"),i=h.useCallback(()=>r(!0),[]);return l.jsxs(Dpn,{__unstable_checkered:!0,border:!0,children:[!n&&l.jsx(Opn,{align:"center",justify:"center",children:l.jsx(hr,{})}),l.jsx(Ipn,{onLoad:i,src:o})]})}function $pn(e){let{reference:t}=e;return t?t._type.startsWith("sanity.fileAsset")?l.jsx(kpn,{reference:t}):t._type.startsWith("sanity.imageAsset")?l.jsx(Ppn,{reference:t}):null:null}var Wce=Object.freeze,Mpn=Object.defineProperty,Fpn=(e,t)=>Wce(Mpn(e,"raw",{value:Wce(t||e.slice())})),qce;const Lpn={file:"sanity.fileAsset",image:"sanity.imageAsset"},Bpn=P(M)(qce||(qce=Fpn([`
  width: min(calc(100vw - 40px), 320px);
`])));function Gg(e){return function(n){let{onChange:r,value:o}=n;const[i,s]=h.useState(null),[a,c]=h.useState(null),{state:{fullscreen:u}}=Pt(),{file:d,image:f}=Ln().form,p=h.useMemo(()=>{switch(e){case"file":return d.assetSources.filter(E=>E.name===oOe.name);case"image":return f.assetSources.filter(E=>E.name===iOe.name);default:throw Error("Unknown asset source found")}},[d.assetSources,f.assetSources]),m=h.useId(),v=mr(cn),g=h.useCallback(()=>{c(null),r(null)},[r]),b=h.useCallback(()=>{s(null)},[]),x=h.useCallback(E=>{const j=E[0];c(j),b()},[b]),y=h.useCallback(E=>s(E),[]);h.useEffect(()=>{(a==null?void 0:a.kind)==="assetDocumentId"&&typeof(a==null?void 0:a.value)=="string"&&e&&r({_ref:a.value,_type:Lpn[e]})},[v,r,a]);const w=i==null?void 0:i.component,C=u?2:1,_=o?"Change ".concat(e):"Select ".concat(e),S=qn(e,"options.accept",e==="image"?"image/*":"");return l.jsx(Bpn,{children:l.jsxs(ee,{space:3,children:[i&&w&&l.jsx(wm,{children:l.jsx(w,{assetType:e,dialogHeaderTitle:"Select ".concat(e),onClose:b,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&l.jsx($pn,{reference:o}),l.jsxs(H,{gap:2,children:[p.length===0&&l.jsx(Epn,{padding:2}),p.length>0&&l.jsx(l.Fragment,{children:p.length>1?l.jsx(on,{button:l.jsx(oe,{fontSize:C,icon:o?rE:ei,iconRight:Ja,mode:"ghost",style:{flex:o?1:0},text:_}),id:m,menu:l.jsx(Nt,{children:p.map(E=>l.jsx(ze,{fontSize:C,icon:E.icon||Al,onClick:()=>y(E),text:E.title},E.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):l.jsx(oe,{fontSize:C,icon:o?rE:ei,mode:"ghost",onClick:()=>y(p[0]),style:{flex:o?1:0},text:_})}),o&&l.jsx(oe,{fontSize:u?2:1,mode:"ghost",onClick:g,style:{flex:1},text:"Clear",tone:"critical"})]})]})})}}const Npn={assetFileEqual:{buttonLabel:"is",buttonValueComponent:vl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Gg("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{buttonLabel:"is not",buttonValueComponent:vl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Gg("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{buttonLabel:"is",buttonValueComponent:vl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Gg("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{buttonLabel:"is not",buttonValueComponent:vl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,".asset._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:Gg("image"),label:"is not",type:"assetImageNotEqual"}};function zpn(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Pt(),o=h.useCallback(i=>{t(i.currentTarget.value==="true")},[t]);return l.jsxs(Mf,{fontSize:r?2:1,onChange:o,radius:2,value:String(n??!0),children:[l.jsx("option",{value:"true",children:"True"}),l.jsx("option",{value:"false",children:"False"})]})}const Vpn={booleanEqual:{buttonLabel:"is",buttonValueComponent:Qhn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return typeof n<"u"&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:!0,inputComponent:zpn,label:"is",type:"booleanEqual"}},Hpn={defined:{buttonLabel:"not empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"defined(".concat(t,")"):null},label:"not empty",type:"defined"},notDefined:{buttonLabel:"empty",groqFilter:e=>{let{fieldPath:t}=e;return t?"!defined(".concat(t,")"):null},label:"empty",type:"notDefined"}};var Yce=Object.freeze,Upn=Object.defineProperty,Wpn=(e,t)=>Yce(Upn(e,"raw",{value:Yce(t||e.slice())})),Gce;const Kce="Include time",qpn=P(L)(Gce||(Gce=Wpn([`
  cursor: default;
`])));function DN(e){let{onChange:t,value:n}=e;return l.jsxs(H,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[l.jsx(ee,{children:l.jsx(qpn,{muted:!0,onClick:t,size:1,weight:"medium",children:Kce})}),l.jsx(Vwe,{checked:n,label:Kce,onChange:t})]})}const yOe=h.createContext(void 0);function IN(){const e=h.useContext(yOe);if(e===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return e}const Ypn=["January","February","March","April","May","June","July","August","September","October","November","December"],Gpn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];E7(0,24);const Kpn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Zpn=[1,2,3,4,5,6];function Xpn(e){const{focusedDate:t}=IN(),{fontSize:n,moveFocusedDate:r,onNowClick:o}=e,i=h.useCallback(()=>r(-1),[r]),s=h.useCallback(()=>r(1),[r]);return l.jsxs(H,{align:"center",flex:1,justify:"space-between",children:[l.jsxs(Zt,{paddingLeft:2,space:1,children:[l.jsx(L,{weight:"medium",children:Ypn[t.getMonth()]}),l.jsx(L,{weight:"medium",children:t.getFullYear()})]}),l.jsxs(M,{children:[l.jsx(oe,{fontSize:n,text:"Today",mode:"bleed",onClick:o}),l.jsx(oe,{"aria-label":"Go to previous month",onClick:i,mode:"bleed",icon:dj}),l.jsx(oe,{"aria-label":"Go to next month",mode:"bleed",icon:Ic,onClick:s})]})]})}var Zce=Object.freeze,Qpn=Object.defineProperty,bOe=(e,t)=>Zce(Qpn(e,"raw",{value:Zce(t||e.slice())})),Xce,Qce;const Jpn=P.svg(e=>{let{theme:t}=e;return de(Xce||(Xce=bOe([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),t.sanity.color.card.enabled.border)}),emn=P(Q)(Qce||(Qce=bOe([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function tmn(e){let{date:t,onSelect:n}=e;const r=h.useCallback(()=>{n(t)},[t,n]),{date:o,endDate:i,focusedDate:s,fontSize:a,selectRange:c}=IN(),u=o&&Bd(t,o),d=c&&o&&Bd(t,o),f=c&&i&&Bd(t,i),p=LEe(t,s),m=s&&Bd(t,s),v=Bd(t,new Date),g=o&&i&&!d&&!f&&W$(t,o)&&PEe(t,i);return l.jsxs(emn,{__unstable_focusRing:!0,"aria-label":t.toDateString(),"aria-pressed":u,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":u,"data-start-date":d?!0:void 0,"data-within-range":g?!0:void 0,forwardedAs:"button",onClick:r,padding:3,radius:2,role:"button",selected:u||d||f,tabIndex:-1,tone:g?"primary":"default",children:[v&&l.jsx(Jpn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:l.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),l.jsx(L,{align:"center",muted:!u&&!p,size:a,weight:v?"medium":"regular",children:t.getDate()})]})}const nmn=e=>{const t=DEe(e);return AEe({start:t,end:OEe(t)})},rmn=e=>e.map(t=>[t,...Zpn.map(n=>Yi(t,n))]),omn=e=>rmn(nmn(e)).map(t=>({number:IEe(t[0]),days:t}));var Jce=Object.freeze,imn=Object.defineProperty,smn=(e,t)=>Jce(imn(e,"raw",{value:Jce(t||e.slice())})),eue;const amn=P(nn)(eue||(eue=smn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function lmn(e){let{hidden:t,onSelect:n}=e;const{focusedDate:r,fontSize:o}=IN();return l.jsx(M,{"aria-hidden":t||!1,"data-ui":"CalendarMonth",children:l.jsxs(amn,{children:[Gpn.map(i=>l.jsx(M,{paddingBottom:3,paddingTop:2,children:l.jsx(L,{align:"center",size:o,weight:"medium",children:i})},i)),omn(r).map((i,s)=>i.days.map((a,c)=>l.jsx(tmn,{date:a,onSelect:n},"".concat(s,"-").concat(c))))]})})}const cmn=l.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function umn(e){const{date:t,endDate:n,fontSize:r,onSelect:o,selectRange:i,selectTime:s}=e,[a,c]=h.useState(null),[u,d]=h.useState(!1),[f,p]=h.useState(t||new Date),m=h.useRef(t||null),v=h.useRef(n||null),g=h.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),b=h.useCallback(C=>{const _=B5t(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),S=t&&PEe(_,t),E=n&&W$(_,n);if(i){if(S||E){o({date:_,endDate:null});return}o(u?{date:t||null,endDate:_}:{date:_,endDate:t?null:n||null})}else o({date:_})},[t,n,o,u,i]),x=h.useCallback(()=>{const C=new Date;i?p(C):o({date:C})},[o,i,p]),y=h.useCallback(C=>{var _;if(Kpn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){g();return}C.key==="ArrowUp"&&p(Yi(f,-7)),C.key==="ArrowDown"&&p(Yi(f,7)),C.key==="ArrowLeft"&&p(Yi(f,-1)),C.key==="ArrowRight"&&p(Yi(f,1)),(_=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||_.focus()}},[a,g,f,p]),w=h.useCallback(C=>p(s9(f,C)),[f,p]);return h.useEffect(()=>{g()},[g]),h.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&g()},[g,f]),h.useEffect(()=>{var C,_;const S=(t==null?void 0:t.getTime())!==((C=m.current)==null?void 0:C.getTime()),E=(n==null?void 0:n.getTime())!==((_=v.current)==null?void 0:_.getTime()),j=S&&!E,k=!S&&E,T=t&&n&&W$(t,n);j&&(T&&(d(!0),o({date:t,endDate:null})),d(!!t),t&&p(t)),k&&(T&&(d(!0),o({date:n,endDate:null})),d(!!t&&!n),n&&p(n)),S&&E&&(d(!0),t&&p(t)),m.current=t||null,v.current=n||null},[t,n,o]),l.jsx(yOe.Provider,{value:{date:t,endDate:n,focusedDate:f,fontSize:r,selectRange:i,selectTime:s},children:l.jsxs(M,{"data-ui":"Calendar",ref:c,children:[l.jsx(H,{children:l.jsx(M,{flex:1,children:l.jsx(Xpn,{fontSize:r,moveFocusedDate:w,onNowClick:x})})}),l.jsxs(M,{"data-calendar-grid":!0,onKeyDown:y,marginTop:2,overflow:"hidden",tabIndex:0,children:[l.jsx(lmn,{onSelect:b}),cmn]})]})})}function ON(e){let{date:t,endDate:n,onChange:r,selectRange:o,selectTime:i}=e;const{state:{fullscreen:s}}=Pt(),a=h.useCallback(c=>{r(c)},[r]);return l.jsx(umn,{date:t,endDate:n,fontSize:s?2:1,onSelect:a,selectRange:o,selectTime:i})}var tue=Object.freeze,dmn=Object.defineProperty,fmn=(e,t)=>tue(dmn(e,"raw",{value:tue(t||e.slice())})),nue;const hmn=P(M)(e=>{let{background:t,smallClearButton:n}=e;return de(nue||(nue=fmn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),r=>{let{theme:o}=r;return t?o.sanity.color.card.disabled.bg2:"transparent"},n?"scale(0.8)":"scale(1)")}),PN=h.forwardRef(function(t,n){const{background:r,smallClearButton:o,...i}=t;return l.jsx(hmn,{background:r,smallClearButton:o,children:l.jsx(Lr,{...i,ref:n})})});function Cu(e){let{date:t,dateOnly:n,roundDay:r}=e,o;switch(r){case"end":o=Ek(t);break;case"start":o=Bf(t);break;default:o=t;break}return n?o.toISOString().split("T")[0]:o.toISOString()}var rue=Object.freeze,pmn=Object.defineProperty,xOe=(e,t)=>rue(pmn(e,"raw",{value:rue(t||e.slice())})),oue,iue;const h2={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}},mmn=P.span(e=>{let{theme:t}=e;return de(oue||(oue=xOe([`
    font-weight: `,`;
  `])),t.sanity.fonts.text.weights.medium)}),gmn=P(L)(iue||(iue=xOe([`
  color: `,`;
`])),fe.red[500].hex);function A5(e){let{isDateTime:t,onChange:n,placeholderDate:r,isDateTimeFormat:o,value:i,...s}=e;const a=h.useMemo(()=>o?h2.datetime.pattern:h2.date.pattern,[o]),[c,u]=h.useState(void 0),[d,f]=h.useState(()=>{if(!i)return"";const y=new Date(i);return Jo(y,a)}),p=h.useMemo(()=>Jo(r||new Date,a),[a,r]),m=h.useCallback(y=>{let{dateString:w,triggerOnChange:C}=y;if(!w)return;const _=x5t(w,a,new Date),S=Uu(_);S&&(C&&n(Cu({date:_,dateOnly:!t})),f(Jo(_,a))),u(S?void 0:"Invalid ".concat(t?"datetime":"date"))},[a,t,n]),v=h.useCallback(()=>{m({dateString:d,triggerOnChange:!0})},[d,m]),g=h.useCallback(y=>{f(y.currentTarget.value)},[]),b=h.useCallback(()=>{n(null),u(void 0),f("")},[n]),x=h.useCallback(y=>{y.key==="Enter"&&m({dateString:d,triggerOnChange:!0})},[d,m]);return h.useEffect(()=>{const y=i&&new Date(i);y&&m({dateString:Jo(y,a),triggerOnChange:!1})},[a,m,o,i]),l.jsx(it,{content:l.jsxs(H,{gap:2,children:[l.jsx(gmn,{size:1,children:l.jsx(la,{})}),l.jsxs(L,{muted:!0,size:1,children:["Must be in the format"," ",l.jsx(mmn,{children:o?h2.datetime.exampleDate:h2.date.exampleDate})]})]}),disabled:!c,padding:3,placement:"top",portal:!0,children:l.jsx("div",{children:l.jsx(PN,{...s,clearButton:!!d,customValidity:c,onBlur:v,onChange:g,onClear:b,onKeyDown:x,placeholder:p,value:d})})})}function wOe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Pt(),i=h.useCallback(c=>{let{date:u}=c;if(u){const d=Cu({date:u,dateOnly:!t});n({includeTime:r==null?void 0:r.includeTime,date:d})}else n(null)},[t,n,r==null?void 0:r.includeTime]),s=h.useCallback(()=>{const c=!(r!=null&&r.includeTime),u=r!=null&&r.date?new Date(r.date):null;let d=null;u&&(d=Cu({date:u,dateOnly:!t})),n({includeTime:c,date:d})},[t,n,r]),a=h.useCallback(c=>{n({includeTime:r==null?void 0:r.includeTime,date:c||null})},[n,r==null?void 0:r.includeTime]);return l.jsxs(ee,{space:3,children:[l.jsx(A5,{"aria-label":"Date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:a,radius:2,value:r==null?void 0:r.date}),l.jsx(ON,{date:r!=null&&r.date?new Date(r.date):void 0,onChange:i,selectTime:t}),t&&l.jsx(DN,{onChange:s,value:!!(r!=null&&r.includeTime)})]})}function sue(e){return l.jsx(wOe,{...e,isDateTime:!1})}function tD(e){let{direction:t,isDateTime:n,onChange:r,value:o}=e;const{state:{fullscreen:i}}=Pt(),s=h.useMemo(()=>{switch(t){case"after":return"end";case"before":return"start";default:return}},[t]),a=h.useCallback(d=>{let{date:f}=d,p=null;f&&(p=Cu({date:f,dateOnly:!n,roundDay:o!=null&&o.includeTime?void 0:s})),r({includeTime:o==null?void 0:o.includeTime,date:p})},[n,r,s,o==null?void 0:o.includeTime]),c=h.useCallback(()=>{const d=!(o!=null&&o.includeTime),f=o!=null&&o.date?new Date(o.date):null;let p=null;f&&(p=Cu({date:f,dateOnly:!n,roundDay:d?"start":s})),r({includeTime:d,date:p})},[n,r,s,o]),u=h.useCallback(d=>{r({includeTime:o==null?void 0:o.includeTime,date:d||null})},[r,o==null?void 0:o.includeTime]);return l.jsxs(ee,{space:3,children:[l.jsx(A5,{"aria-label":"Date",fontSize:i?2:1,isDateTime:n,isDateTimeFormat:n&&(o==null?void 0:o.includeTime),onChange:u,radius:2,value:o==null?void 0:o.date}),l.jsx(ON,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:a,selectTime:n}),n&&l.jsx(DN,{onChange:c,value:!!(o!=null&&o.includeTime)})]})}function vmn(e){return l.jsx(tD,{...e,direction:"after",isDateTime:!1})}function ymn(e){return l.jsx(tD,{...e,direction:"before",isDateTime:!1})}function aue(e){let{onChange:t,value:n}=e;const[r,o]=h.useState((n==null?void 0:n.unitValue)||""),i=h.useRef("days"),s=h.useRef((n==null?void 0:n.unitValue)||null),{state:{fullscreen:a}}=Pt(),c=h.useCallback(()=>{t({unit:i==null?void 0:i.current,unitValue:s==null?void 0:s.current})},[t]),u=h.useCallback(f=>{i.current=f.currentTarget.value,c()},[c]),d=h.useCallback(f=>{o(f.currentTarget.value);const p=parseFloat(f.currentTarget.value);s.current=Number.isFinite(p)?p:null,c()},[c]);return l.jsxs(H,{gap:2,children:[l.jsx(M,{flex:1,children:l.jsx(Lr,{"aria-label":"Unit value",fontSize:a?2:1,onChange:d,pattern:"\\d*",radius:2,step:"1",type:"number",value:r})}),l.jsx(M,{flex:1,children:l.jsxs(Mf,{"aria-label":"Select unit",fontSize:a?2:1,onChange:u,radius:2,value:n==null?void 0:n.unit,children:[l.jsx("option",{value:"days",children:"Days"}),l.jsx("option",{value:"months",children:"Months"}),l.jsx("option",{value:"years",children:"Years"})]})})]})}const bmn=-7;function COe(e){let{isDateTime:t,onChange:n,value:r}=e;const{state:{fullscreen:o}}=Pt(),i=h.useMemo(()=>Yi(new Date,bmn),[]),s=h.useMemo(()=>new Date,[]),a=h.useCallback(f=>{let{date:p,endDate:m}=f;n(lue({date:p,endDate:m,includeTime:r==null?void 0:r.includeTime,isDateTime:t}))},[t,n,r==null?void 0:r.includeTime]),c=h.useCallback(()=>{const f=!(r!=null&&r.includeTime);n(lue({date:r!=null&&r.dateMin?new Date(r.dateMin):null,endDate:r!=null&&r.dateMax?new Date(r.dateMax):null,includeTime:f,isDateTime:t}))},[t,n,r]),u=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:f||null,dateMin:(r==null?void 0:r.dateMin)||null})},[n,r]),d=h.useCallback(f=>{n({includeTime:r==null?void 0:r.includeTime,dateMax:(r==null?void 0:r.dateMax)||null,dateMin:f||null})},[n,r]);return l.jsx("div",{children:l.jsxs(ee,{space:3,children:[l.jsxs(H,{direction:"column",gap:3,children:[l.jsx(A5,{"aria-label":"Start date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:d,placeholderDate:i,radius:2,value:r==null?void 0:r.dateMin}),l.jsx(A5,{"aria-label":"End date",fontSize:o?2:1,isDateTime:t,isDateTimeFormat:t&&(r==null?void 0:r.includeTime),onChange:u,placeholderDate:s,radius:2,value:r==null?void 0:r.dateMax})]}),l.jsx(ON,{date:r!=null&&r.dateMin?new Date(r.dateMin):void 0,endDate:r!=null&&r.dateMax?new Date(r.dateMax):void 0,onChange:a,selectRange:!0,selectTime:t}),t&&l.jsx(DN,{onChange:c,value:!!(r!=null&&r.includeTime)})]})})}function lue(e){let{date:t,endDate:n,includeTime:r,isDateTime:o}=e;return r?{includeTime:r,dateMax:n?Cu({date:n,dateOnly:!o,roundDay:"start"}):null,dateMin:t?Cu({date:t,dateOnly:!o,roundDay:"start"}):null}:{includeTime:r,dateMax:n?Cu({date:n,dateOnly:!o,roundDay:"end"}):null,dateMin:t?Cu({date:t,dateOnly:!o,roundDay:"start"}):null}}function xmn(e){return l.jsx(COe,{...e,isDateTime:!1})}function cue(e){return l.jsx(wOe,{...e,isDateTime:!0})}function wmn(e){return l.jsx(tD,{...e,direction:"after",isDateTime:!0})}function Cmn(e){return l.jsx(tD,{...e,direction:"before",isDateTime:!0})}function _mn(e){return l.jsx(COe,{...e,isDateTime:!0})}const ya={dateAfter:{buttonLabel:"after",buttonValueComponent:Oce,initialValue:null,label:"is after"},dateBefore:{buttonLabel:"before",buttonValueComponent:Oce,initialValue:null,label:"is before"},dateEqual:{buttonLabel:"is",buttonValueComponent:Ice,initialValue:{date:null,includeTime:!1},label:"is"},dateLast:{buttonLabel:"last",buttonValueComponent:Jhn,label:"is in the last"},dateNotEqual:{buttonLabel:"is not",buttonValueComponent:Ice,initialValue:{date:null,includeTime:!1},label:"is not"},dateRange:{buttonLabel:"is between",initialValue:null,label:"is between"}},Smn={dateAfter:{...ya.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," > ").concat(Xe(n==null?void 0:n.date)):null},inputComponent:vmn,type:"dateAfter"},dateBefore:{...ya.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," < ").concat(Xe(n==null?void 0:n.date)):null},inputComponent:ymn,type:"dateBefore"},dateEqual:{...ya.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," == ").concat(Xe(n.date)):null},inputComponent:sue,type:"dateEqual"},dateLast:{...ya.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?wZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString().split("T")[0]:null;return o&&t?"".concat(t," > ").concat(Xe(o)):null},inputComponent:aue,initialValue:{unit:"days",unitValue:7},type:"dateLast"},dateNotEqual:{...ya.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"".concat(t," != ").concat(Xe(n.date)):null},inputComponent:sue,type:"dateNotEqual"},dateRange:{...ya.dateRange,buttonValueComponent:Pce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"".concat(t," >= ").concat(Xe(n.dateMin)," && ").concat(t," <= ").concat(Xe(n.dateMax)):null},initialValue:{includeTime:!1,dateMax:xZ().toISOString(),dateMin:null},inputComponent:xmn,type:"dateRange"},dateTimeAfter:{...ya.dateAfter,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") > dateTime(").concat(Xe(n.date),")"):null},inputComponent:wmn,type:"dateTimeAfter"},dateTimeBefore:{...ya.dateBefore,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.date&&t?"dateTime(".concat(t,") < dateTime(").concat(Xe(n.date),")"):null},inputComponent:Cmn,type:"dateTimeBefore"},dateTimeEqual:{...ya.dateEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Uu(r)||!t)return null;const o=(n!=null&&n.includeTime?mZ(r):Bf(r)).toISOString(),i=(n!=null&&n.includeTime?gZ(r):Ek(r)).toISOString();return"dateTime(".concat(t,") > dateTime(").concat(Xe(o),") && dateTime(").concat(t,") < dateTime(").concat(Xe(i),")")},inputComponent:cue,type:"dateTimeEqual"},dateTimeLast:{...ya.dateLast,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=typeof(n==null?void 0:n.unitValue)=="number"?Math.floor(n.unitValue):void 0,o=Number.isFinite(r)?wZ(new Date,{days:(n==null?void 0:n.unit)==="days"?r:0,months:(n==null?void 0:n.unit)==="months"?r:0,years:(n==null?void 0:n.unit)==="years"?r:0}).toISOString():null;return o&&t?"dateTime(".concat(t,") > dateTime(").concat(Xe(o),")"):null},initialValue:{unit:"days",unitValue:7},inputComponent:aue,type:"dateTimeLast"},dateTimeNotEqual:{...ya.dateNotEqual,groqFilter:e=>{let{fieldPath:t,value:n}=e;const r=(n==null?void 0:n.date)&&new Date(n.date);if(!r||!Uu(r)||!t)return null;const o=(n!=null&&n.includeTime?mZ(r):Bf(r)).toISOString(),i=(n!=null&&n.includeTime?gZ(r):Ek(r)).toISOString();return"dateTime(".concat(t,") < dateTime(").concat(Xe(o),") || dateTime(").concat(t,") > dateTime(").concat(Xe(i),")")},inputComponent:cue,type:"dateTimeNotEqual"},dateTimeRange:{...ya.dateRange,buttonValueComponent:Pce,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n.dateMax&&(n!=null&&n.dateMin)&&t?"dateTime(".concat(t,") >= dateTime(").concat(Xe(n.dateMin),") && dateTime(").concat(t,") <= dateTime(").concat(Xe(n.dateMax),")"):null},initialValue:{includeTime:!1,dateMax:xZ().toISOString(),dateMin:null},inputComponent:_mn,type:"dateTimeRange"}},Emn={numberEqual:{buttonLabel:"is",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"is",type:"numberEqual"},numberGt:{buttonLabel:">",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," > ").concat(Xe(n)):null},icon:pOe,initialValue:null,inputComponent:Da,label:"greater than",type:"numberGt"},numberGte:{buttonLabel:"≥",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," >= ").concat(Xe(n)):null},icon:hOe,initialValue:null,inputComponent:Da,label:"greater than or equal to",type:"numberGte"},numberLt:{buttonLabel:"<",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," < ").concat(Xe(n)):null},icon:gOe,initialValue:null,inputComponent:Da,label:"less than",type:"numberLt"},numberLte:{buttonLabel:"≤",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," <= ").concat(Xe(n)):null},icon:mOe,initialValue:null,inputComponent:Da,label:"less than or equal to",type:"numberLte"},numberNotEqual:{buttonLabel:"is not",buttonValueComponent:ig,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n)&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:Da,label:"is not",type:"numberNotEqual"},numberRange:{buttonLabel:"is between",buttonValueComponent:epn,groqFilter:e=>{let{fieldPath:t,value:n}=e;return Number.isFinite(n==null?void 0:n.max)&&Number.isFinite(n==null?void 0:n.min)&&t?"".concat(t," > ").concat(Xe(n==null?void 0:n.min)," && ").concat(t," < ").concat(Xe(n==null?void 0:n.max)):""},initialValue:null,inputComponent:aOe,label:"is between",type:"numberRange"}};function $a(e){let{onChange:t,value:n}=e;const{state:{fullscreen:r}}=Pt(),o=h.useCallback(i=>t(i.currentTarget.value||null),[t]);return l.jsx(Lr,{fontSize:r?2:1,onChange:o,placeholder:"Value",radius:2,value:n||""})}const kmn={portableTextEqual:{buttonLabel:"is",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") == ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"is",type:"portableTextEqual"},portableTextMatches:{buttonLabel:"contains",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") match ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"contains",type:"portableTextMatches"},portableTextNotEqual:{buttonLabel:"is not",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"pt::text(".concat(t,") != ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"is not",type:"portableTextNotEqual"},portableTextNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(pt::text(".concat(t,") match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:$a,label:"does not contain",type:"portableTextNotMatches"}},jmn={referenceEqual:{buttonLabel:"is",buttonValueComponent:vl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref == ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:jb,label:"is",type:"referenceEqual"},referenceNotEqual:{buttonLabel:"is not",buttonValueComponent:vl,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n!=null&&n._ref&&t?"".concat(t,"._ref != ").concat(Xe(n._ref)):null},initialValue:null,inputComponent:jb,label:"is not",type:"referenceNotEqual"},referencesAssetFile:{buttonLabel:"→",buttonValueComponent:vl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:Gg("file"),label:"file",type:"referencesAssetFile"},referencesAssetImage:{buttonLabel:"→",buttonValueComponent:vl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:Gg("image"),label:"image",type:"referencesAssetImage"},referencesDocument:{buttonLabel:"→",buttonValueComponent:vl,groqFilter:e=>{let{value:t}=e;return t!=null&&t._ref?"references(".concat(Xe(t._ref),")"):null},initialValue:null,inputComponent:jb,label:"document",type:"referencesDocument"}},Tmn={slugEqual:{buttonLabel:"is",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current == ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"is",type:"slugEqual"},slugMatches:{buttonLabel:"contains",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current match ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"contains",type:"slugMatches"},slugNotEqual:{buttonLabel:"is not",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t,".current != ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"is not",type:"slugNotEqual"},slugNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t,".current match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:$a,label:"does not contain",type:"slugNotMatches"}},Amn={stringEqual:{buttonLabel:"is",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"is",type:"stringEqual"},stringListEqual:{buttonLabel:"is",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," == ").concat(Xe(n)):null},initialValue:null,inputComponent:T5,label:"is",type:"stringListEqual"},stringListNotEqual:{buttonLabel:"is not",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:T5,label:"is not",type:"stringListNotEqual"},stringMatches:{buttonLabel:"contains",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," match ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"contains",type:"stringMatches"},stringNotEqual:{buttonLabel:"is not",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"".concat(t," != ").concat(Xe(n)):null},initialValue:null,inputComponent:$a,label:"is not",type:"stringNotEqual"},stringNotMatches:{buttonLabel:"does not contain",buttonValueComponent:ki,groqFilter:e=>{let{fieldPath:t,value:n}=e;return n&&t?"!(".concat(t," match ").concat(Xe(n),")"):null},initialValue:null,inputComponent:$a,label:"does not contain",type:"stringNotMatches"}},Dmn={..._pn,...Npn,...Vpn,...Smn,...Hpn,...Emn,...kmn,...jmn,...Tmn,...Amn},Imn=Object.values(Dmn);function Wl(e){const t=typeof e;if(t==="object"){if(e===null)return"null";if(Array.isArray(e))return"array";if(e instanceof Object&&e.constructor.name!=="Object")return e.constructor.name}return t}const nD=(e,t)=>{let{plugins:n=[],...r}=e;const o={config:r,path:[...t,r.name]};return[...n.flatMap(a=>nD(a,[...t,r.name])),o]},Omn=[],Pmn=[],Rmn=[],$mn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.types;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Wl(o)))},Mmn=async(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.productionUrl;return o?await o(e,n):e},Fmn=(e,t,n)=>{let{tools:r}=t;if(!r)return e;if(typeof r=="function")return r(e,n);if(Array.isArray(r))return[...e,...r];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Wl(r)))},Lmn=(e,t,n)=>{let{schema:r}=t;const o=r==null?void 0:r.templates;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Wl(o)))},Bmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.badges;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Wl(o)))},Nmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.actions;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Wl(o)))},zmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.newDocumentOptions;if(!o)return e;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Wl(o)));return o(e,n)},Vmn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.file)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Wl(i)))},Hmn=(e,t,n)=>{let{form:r}=t;var o;const i=(o=r==null?void 0:r.image)==null?void 0:o.assetSources;if(!i)return e;if(typeof i=="function")return i(e,n);if(Array.isArray(i))return[...e,...i];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Wl(i)))},Umn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.unstable_languageFilter;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Wl(o)))},Wmn=(e,t,n)=>{let{document:r}=t;const o=r==null?void 0:r.inspectors;if(!o)return e;if(typeof o=="function")return o(e,n);if(Array.isArray(o))return[...e,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Wl(o)))},qmn=e=>{const{config:t,context:n,initialValue:r}=e;return nD(t,[]).reduce((s,a)=>{let{config:c}=a;var u,d;const f=(d=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:d.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="function")return f(n);if(typeof f=="boolean")return f;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(Wl(f)))},r)};class uue extends Error{constructor(t){let{propertyName:n,path:r,cause:o}=t;const i=xt(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(n,"` from ").concat(r.join(" > ")).concat(i)),this.propertyName=n,this.cause=o,this.path=r}}function Ca(e){let{config:t,context:n,initialValue:r,propertyName:o,...i}=e;const s=nD(t,[]);if("reducer"in i)return s.reduce((c,u)=>{let{config:d,path:f}=u;try{return i.reducer(c,d,n)}catch(p){throw new uue({propertyName:o,path:f,cause:p})}},r);const a=i.asyncReducer;return(async()=>{let c=r;for(const{config:u,path:d}of s)try{c=await a(c,u,n)}catch(f){throw new uue({propertyName:o,path:d,cause:f})}return c})()}class Ma extends Error{constructor(t){let{causes:n,name:r,type:o}=t;const i=n.filter(Boolean).map(s=>xt(s)&&typeof(s==null?void 0:s.message)=="string"?s.message:String(s));super("Could not resolve ".concat(o).concat(r?" `".concat(r,"`"):"",`:
`).concat(i.map(s=>"	- ".concat(s)).join(`
`),`

`)),this.name=r,this.causes=n,this.type=o}}class RN extends Error{constructor(t){super("SchemaError"),this.schema=t}}var due=Object.freeze,Ymn=Object.defineProperty,Gmn=(e,t)=>due(Ymn(e,"raw",{value:due(t||e.slice())})),fue;function hue(e){const t=e.split("").reduce((n,r)=>(n<<5)-n+r.charCodeAt(0)|0,0);return Math.abs(t*16807%2147483647)/2147483647}const Kmn=P.text(fue||(fue=Gmn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: 16px;
  transform: translateY(1px);
`])),e=>{let{theme:t}=e;return t.sanity.fonts.heading.family},e=>{let{theme:t}=e;return t.sanity.fonts.heading.weights.bold});function Zmn(e,t){const n=hue("".concat(e," ").concat(t)),r=x0e.filter(m=>m!=="gray"),o=r[Math.floor(n*r.length)],i=["300","400","500","600","700"],s=hue(n.toString()),a=i[Math.floor(s*i.length)],c=fe[o][a].hex,u=e.split(/\s/g).map(m=>m.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(m=>m.charAt(0).toUpperCase()),d=kTe(c,.4),f=Nzt(c,.4),p=CJ(c,"readable",d)?CJ(c,"readable",f)?Vzt(c):f:d;return l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[l.jsx("rect",{width:32,height:32,rx:2,fill:c}),l.jsx(Kmn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:p,children:u})]})}const Xmn=e=>e.severity==="error";function Qmn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return kr.isValidElementType(e)?h.createElement(e):h.isValidElement(e)?e:Zmn(t,n)}const KO=new WeakMap;function Jmn(e,t){if(!Array.isArray(e)&&"missingConfigFile"in e)throw new Ma({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const n=rgn(t==null?void 0:t.basePath),r=Array.isArray(e)?e:[e];try{fgn({workspaces:r})}catch(i){throw new Ma({name:"",type:"workspace",causes:[i.message]})}return{type:"prepared-config",workspaces:r.map(i=>{if(KO.has(i))return KO.get(i);const{unstable_sources:s=[],...a}=i,u=[a,...s].map(p=>{const{projectId:m,dataset:v}=p;let g;try{g=Ca({propertyName:"schema.types",config:p,context:{projectId:m,dataset:v},initialValue:[],reducer:$mn})}catch(_){throw new Ma({name:p.name,type:"source",causes:[_]})}const b=qGt({name:p.name,types:g}),x=b._validation,y=x==null?void 0:x.filter(_=>_.problems.some(Xmn));if(x&&(y!=null&&y.length))throw new RN(b);const w=egn(p),C=w.state.pipe(le(_=>{let{client:S,authenticated:E,currentUser:j}=_;return ngn({config:p,client:S,currentUser:j,schema:b,authenticated:E,auth:w})}),Do(1));return{name:p.name,projectId:p.projectId,dataset:p.dataset,title:p.title||fn(p.name),auth:w,schema:b,source:C}}),d=a.title||fn(a.name),f={type:"workspace-summary",auth:u[0].auth,basePath:ogn(n,a.basePath),dataset:a.dataset,schema:u[0].schema,icon:Qmn(a.icon,d,"".concat(a.projectId," ").concat(a.dataset)),name:a.name||"default",projectId:a.projectId,theme:a.theme||$f,title:d,subtitle:a.subtitle,__internal:{sources:u}};return KO.set(i,f),f})}}function egn(e){if(LYt(e.auth))return e.auth;const t=e.unstable_clientFactory||pSe,{projectId:n,dataset:r,apiHost:o}=e;return FYt({apiHost:o,...e.auth,clientFactory:t,dataset:r,projectId:n})}function tgn(e,t){const n=e.withConfig({apiVersion:"2022-06-30"}),{dataset:r,url:o,requestTagPrefix:i="sanity.studio"}=n.config(),s="".concat(o.replace(/\/+$/,""),"/socket/").concat(r).replace(/^http/,"ws"),a="".concat(s,"?tag=").concat(i),c=t.token?{token$:t.token}:{};return j1t(a,c)}function ngn(e){let{config:t,client:n,currentUser:r,schema:o,authenticated:i,auth:s}=e;var a,c,u,d;const{dataset:f,projectId:p}=t,m=tgn(n,s),v=[],g={},b=T=>{if(!T||!T.apiVersion)throw new Error("Missing required `apiVersion` option");return g[T.apiVersion]||(g[T.apiVersion]=n.withConfig(T)),g[T.apiVersion]},x={client:n,getClient:b,currentUser:r,dataset:f,projectId:p,schema:o},y=n;x.client=[...Object.keys(n),...Object.keys(y.__proto__)].reduce((T,A)=>{const D=Object.hasOwnProperty.call(n,A)?y[A]:y.__proto__[A];return Object.defineProperty(T,A,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),D}})},{});let w;try{w=Ca({config:t,context:x,propertyName:"schema.templates",reducer:Lmn,initialValue:o.getTypeNames().filter(T=>!/^sanity\./.test(T)).map(T=>o.get(T)).filter(bo).filter(T=>{var A;return((A=T.type)==null?void 0:A.name)==="document"}).map(T=>({id:T.name,schemaType:T.name,title:T.title||T.name,icon:T.icon,value:T.initialValue||{_type:T.name}}))})}catch(T){throw new Ma({name:t.name,type:"source",causes:[T]})}let C;try{C=Ca({config:t,context:x,initialValue:[],propertyName:"tools",reducer:Fmn})}catch(T){throw new Ma({name:t.name,type:"source",causes:[T]})}if(C.some(T=>{let{name:A}=T;return A==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const _=w.filter(T=>{var A;return!((A=T.parameters)!=null&&A.length)}).map(T=>({templateId:T.id,description:T.description,icon:T.icon,title:T.title})),S=w.reduce((T,A)=>(T.set(A.id,A),T),new Map),E=T=>{const{schemaType:A}=T,D=Ca({config:t,context:{...x,creationContext:T},initialValue:_,propertyName:"document.resolveNewDocumentOptions",reducer:zmn}),I=[];if(I.length)throw new Ma({name:t.name,type:"source",causes:I});return D.map((O,$)=>{const R=S.get(O.templateId);if(!R)throw new Error("Could not find template with ID `".concat(O.templateId,"`"));const z=o.get(R.schemaType);if(!z)throw new Error("Could not find matching schema type `".concat(R.schemaType,"` for template `").concat(R.id,"`"));const B=O.title||R.title,U=(z==null?void 0:z.title)===B||z==null?void 0:z.title;return{id:"".concat(O.templateId,"-").concat($),templateId:O.templateId,type:"initialValueTemplateItem",title:B,subtitle:O.subtitle||U,description:O.description||R.description,icon:O.icon||R.icon||(z==null?void 0:z.icon),initialDocumentId:O.initialDocumentId,parameters:O.parameters,schemaType:R.schemaType}}).filter(O=>{var $;return!A||T.type==="document"?!0:A===(($=S.get(O.templateId))==null?void 0:$.schemaType)})};let j;try{j=E({type:"global"})}catch(T){v.push(T)}if(v.length)throw new Ma({name:t.name,type:"source",causes:v});return{type:"source",name:t.name,title:t.title||fn(t.name),schema:o,getClient:b,dataset:f,projectId:p,tools:C,currentUser:r,authenticated:i,templates:w,auth:s,document:{actions:T=>Ca({config:t,context:{...x,...T},initialValue:Pmn,propertyName:"document.actions",reducer:Nmn}),badges:T=>Ca({config:t,context:{...x,...T},initialValue:Omn,propertyName:"document.badges",reducer:Bmn}),unstable_fieldActions:T=>Ca({config:t,context:{...x,...T},initialValue:GYt,propertyName:"document.unstable_fieldActions",reducer:YYt}),inspectors:T=>Ca({config:t,context:{...x,...T},initialValue:gn,propertyName:"document.inspectors",reducer:Wmn}),resolveProductionUrl:T=>Ca({config:t,context:{...x,...T},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:Mmn}),resolveNewDocumentOptions:E,unstable_languageFilter:T=>Ca({config:t,context:{...x,...T},initialValue:Rmn,propertyName:"document.unstable_languageFilter",reducer:Umn}),unstable_comments:{enabled:T=>qmn({context:T,config:t,initialValue:!1})}},form:{file:{assetSources:Ca({config:t,context:x,initialValue:[oOe],propertyName:"formBuilder.file.assetSources",reducer:Vmn}),directUploads:((c=(a=t.form)==null?void 0:a.file)==null?void 0:c.directUploads)===void 0?!0:t.form.file.directUploads},image:{assetSources:Ca({config:t,context:x,initialValue:[iOe],propertyName:"formBuilder.image.assetSources",reducer:Hmn}),directUploads:((d=(u=t.form)==null?void 0:u.image)==null?void 0:d.directUploads)===void 0?!0:t.form.image.directUploads}},search:{filters:Zhn,operators:Imn},__internal:{bifur:m,staticInitialValueTemplateItems:j,options:t}}}function rgn(e){const t=e||"";if(typeof t!="string"||t.length>0&&!t.startsWith("/"))throw new Ma({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return t==="/"?"":t}function ogn(e,t){const n=[e,t||""].map(r=>r.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(n)}function ign(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return h.useMemo(()=>({projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}),[t,n,r,o,i])}function sgn(e){const{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}=e;return{projectId:t,dataset:n,schema:r,currentUser:o,getClient:i}}function agn(e){const{title:t}=e;return l.jsx(M,{padding:3,children:l.jsx(L,{weight:"bold",children:t})})}const rD=h.createContext(null),oD=h.createContext(null);function _Oe(){return kKe()?"dark":"light"}function SOe(e){let{children:t,scheme:n}=e;const r=_Oe(),o=n==="system"?r:n;return l.jsx(VE,{scheme:o,theme:$f,children:t})}const pue="sanityStudio:ui:colorScheme";function lgn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return r?l.jsx(ugn,{scheme:r,onSchemeChange:n,children:t}):l.jsx(cgn,{onSchemeChange:n,children:t})}function cgn(e){let{children:t,onSchemeChange:n}=e;const r=h.useMemo(()=>{let i;const s=new Set;return{subscribe:a=>(i||(i=mue(localStorage.getItem(pue))||"system"),s.add(a),()=>{s.delete(a)}),getSnapshot:()=>i,setSnapshot:a=>{i=mue(a);for(const c of s)c()},getServerSnapshot:()=>"system"}},[]),o=h.useSyncExternalStore(r.subscribe,r.getSnapshot,r.getServerSnapshot);return h.useEffect(()=>{typeof n=="function"&&n(o),localStorage.setItem(pue,o)},[n,o]),l.jsx(oD.Provider,{value:r.setSnapshot,children:l.jsx(rD.Provider,{value:o,children:l.jsx(SOe,{scheme:o,children:t})})})}function mue(e){switch(e){case"dark":case"light":return e;default:return"system"}}function ugn(e){let{children:t,onSchemeChange:n,scheme:r}=e;return l.jsx(oD.Provider,{value:typeof n=="function"?n:!1,children:l.jsx(rD.Provider,{value:r,children:l.jsx(SOe,{scheme:r,children:t})})})}function $N(){const e=h.useContext(oD);if(e===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return e}function EOe(){const e=h.useContext(rD);if(e===null)throw new Error("Could not find `ColorSchemeValueContext` context");return e}function kOe(){const e=EOe(),t=_Oe();return e==="system"?t:e}function Hc(){const e=kOe(),t=$N();return h.useMemo(()=>({scheme:e,setScheme:t}),[e,t])}function jOe(e){const t=EOe();return h.useMemo(()=>[{title:"System",name:"system",label:"Use system appearance",selected:t==="system",onSelect:()=>e("system"),icon:O0e},{title:"Dark",name:"dark",label:"Use dark appearance",selected:t==="dark",onSelect:()=>e("dark"),icon:WF},{title:"Light",name:"light",label:"Use light appearance",selected:t==="light",onSelect:()=>e("light"),icon:KF}],[t,e])}const TOe=h.createContext(null);function dgn(e){let{config:t,children:n,basePath:r}=e;const{workspaces:o}=h.useMemo(()=>Jmn(t,{basePath:r}),[t,r]);return l.jsx(TOe.Provider,{value:o,children:n})}function Ny(e,t){let{name:n,title:r}=e;return typeof n=="string"&&n.trim().length>0?n:M4(r,t)}function M4(e,t){const n=typeof e=="string"&&e.trim().length>0?' (titled "'.concat(e,'")'):"";return"at index ".concat(t).concat(n)}function bC(){const e=h.useContext(TOe);if(!e)throw new Error("Could not find `workspaces` context");return e}class vc extends Error{constructor(t,n){super(t),this.index=n==null?void 0:n.index,this.identifier=(n==null?void 0:n.workspace)&&Ny(n.workspace,n.index)}}function fgn(e){let{workspaces:t}=e;if(t.length===0)throw new vc("At least one workspace is required.");hgn(t),pgn(t)}function hgn(e){const t=e.length===1,n=new Map;e.forEach((r,o)=>{const{name:i,title:s}=r,a=M4(s,o);if(!i&&!t)throw new vc("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(a," did not define a `name`."),{workspace:r,index:o});const c=t&&typeof i>"u"?"default":i;if(typeof c!="string")throw new vc("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:r,index:o});const u=c.toLowerCase(),d=n.get(u);if(d){const f=M4(d.workspace.title,d.index);throw new vc("`name`s must be unique. Workspace ".concat(f," and ")+"workspace ".concat(a," both have the `name` `").concat(c,"`"),{workspace:r,index:o})}if(n.set(u,{index:o,workspace:r}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new vc("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(a," has the invalid name `").concat(c,"`"),{workspace:r,index:o})})}function pgn(e){e.length>1&&e.every(mgn),e.every(ggn);const[t,...n]=e,r=(t.basePath||"/").substring(1).split("/").filter(Boolean).length;n.forEach((i,s)=>{const a=(i.basePath||"/").substring(1).split("/").length;if(r!==a)throw new vc("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(Ny(t,s),"` had ").concat(r," segment").concat(r===1?"":"s"," `").concat(t.basePath,"` but workspace `").concat(Ny(i,s),"` had ").concat(a," segment").concat(a===1?"":"s"," `").concat(i.basePath,"`"),{workspace:i,index:s})});const o=new Map;e.forEach((i,s)=>{const a=(i.basePath||"").toLowerCase(),c=o.get(a);if(c)throw new vc("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat(Ny(i,s),"` both have the `basePath` `").concat(a,"`"),{workspace:i,index:s});o.set(a,Ny(i,s))})}function mgn(e,t){const{name:n,basePath:r}=e;if(r&&typeof r=="string")return!0;throw typeof r>"u"?new vc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` is missing a `basePath`"),{workspace:e,index:t}):new vc("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(n,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:e,index:t})}function ggn(e,t){const{name:n,basePath:r}=e;if(!(!r||r==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(r))throw new vc("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(n,"`'s basePath is `").concat(r,"`"),{workspace:e,index:t})}function vgn(){return l.jsx(Q,{height:"fill",children:l.jsx(H,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(eo,{width:0,children:l.jsx(Q,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(H,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Br,{})})}),l.jsxs(ee,{flex:1,marginLeft:3,space:3,children:[l.jsx(L,{as:"h1",size:1,weight:"bold",children:"No configured tools"}),l.jsx(L,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),l.jsx(L,{as:"p",muted:!0,size:1,children:l.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function ygn(e){const{reason:t="Redirecting…"}=e;return l.jsx(Q,{height:"fill",children:l.jsx(H,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(eo,{width:0,children:l.jsx(Q,{padding:4,radius:2,shadow:1,tone:"primary",children:l.jsxs(H,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(NF,{})})}),l.jsx(ee,{flex:1,marginLeft:3,space:3,children:l.jsx(L,{as:"h1",size:1,weight:"bold",children:t})})]})})})})})}function bgn(e){const{toolName:t}=e;return l.jsx(Q,{height:"fill",children:l.jsx(H,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(eo,{width:0,children:l.jsx(Q,{padding:4,radius:2,shadow:1,tone:"caution",children:l.jsxs(H,{children:[l.jsx(M,{children:l.jsx(L,{size:1,children:l.jsx(Br,{})})}),l.jsx(ee,{flex:1,marginLeft:3,space:3,children:l.jsxs(L,{as:"h1",size:1,weight:"bold",children:["Tool not found: ",l.jsx("code",{children:t})]})})]})})})})})}function Tb(){return l.jsxs(H,{as:Q,justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(hr,{muted:!0})]})}var gue=Object.freeze,xgn=Object.defineProperty,AOe=(e,t)=>gue(xgn(e,"raw",{value:gue(t||e.slice())})),vue,yue;const wgn={error:"critical",warning:"caution"},bue=P.code(vue||(vue=AOe([`
  && {
    background: none;
    color: inherit;
  }
`]))),Cgn=P(L)(yue||(yue=AOe([`
  white-space: pre-line;
`])));function DOe(e){const{problemGroups:t}=e,n=h.useMemo(()=>{const r=[];for(const o of t)for(const i of o.problems)r.push({group:o,problem:i});return r},[t]);return l.jsx(ee,{as:"ul",space:4,children:n.map((r,o)=>{let{group:i,problem:s}=r;const a=s.severity==="error",c=s.severity==="warning",u=_gn(i);return l.jsxs(Q,{border:!0,padding:4,radius:2,tone:wgn[s.severity],children:[l.jsxs(H,{children:[l.jsx(M,{marginRight:3,children:l.jsxs(L,{muted:!0,size:1,children:[a&&l.jsx(la,{}),c&&l.jsx(Br,{})]})}),l.jsx(M,{flex:1,children:l.jsx(L,{size:1,weight:"semibold",children:u?l.jsxs(l.Fragment,{children:[Tm(u.type),' type "',u.name,'"']}):null})})]}),l.jsx(M,{marginTop:4,children:l.jsx(Q,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:l.jsx(BL,{separator:l.jsx(L,{muted:!0,size:1,children:"→"}),children:i.path.map((d,f)=>{if(d.kind==="type"){const p="".concat(Sgn(d.name),":").concat(d.type);return l.jsx(L,{title:p,size:1,textOverflow:"ellipsis",children:l.jsx(bue,{children:p})},f)}return d.kind==="property"?l.jsx(L,{title:d.name,size:1,textOverflow:"ellipsis",children:l.jsx(bue,{children:d.name})},f):null})})})}),l.jsx(M,{as:"ul",marginTop:4,children:l.jsx(M,{as:"li",children:l.jsxs(ee,{space:3,children:[l.jsx(Cgn,{muted:!0,size:1,children:s.message}),s.helpId&&l.jsx(L,{muted:!0,size:1,children:l.jsx("a",{href:n9(s.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function _gn(e){const t=e.path[0];return t.kind==="type"?{name:t.name,type:t.type}:null}function Sgn(e){if(e!=null&&e.startsWith("<unnamed_type_@_index")){const t=e.slice(1,-1).split("_");return"[".concat(t[4],"]")}return e}function Egn(e){return e.map(t=>t.kind==="type"?"".concat(t.name||"<unnamed>","(").concat(t.type,")"):t.kind==="property"?t.name:null).filter(Boolean).join(" > ")}function kgn(e){const t=e._validation,n=t==null?void 0:t.filter(r=>r.problems.some(o=>o.severity==="warning"));(n==null?void 0:n.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(n==null?void 0:n.length," warnings")),n==null||n.forEach(r=>{const o=Egn(r.path);console.group("%cAt ".concat(o),"color: #FF7636"),r.problems.forEach(i=>{console.log(i.message)}),console.groupEnd()}),console.groupEnd())}function jgn(e){let{schema:t}=e;var n;const r=((n=t._validation)==null?void 0:n.filter(o=>o.problems.some(i=>i.severity==="error")))||[];return h.useEffect(()=>kgn(t),[t]),l.jsx(Q,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:l.jsx(eo,{width:1,children:l.jsxs(ee,{space:5,children:[l.jsx(Wo,{as:"h1",children:"Schema errors"}),l.jsx(DOe,{problemGroups:r})]})})})}function Tgn(e){return l.jsx(Q,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:l.jsx(H,{direction:"row",justify:"center",flex:1,align:"center",children:l.jsxs(ee,{space:4,children:[l.jsx(Wo,{as:"h1",children:"Workspace not found"}),l.jsx(Zt,{children:l.jsx(oe,{text:"Go to default workspace",onClick:e.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}const IOe=h.createContext(null);function Agn(e){let{pathname:t,workspaces:n,basePathRegex:r}=e;const[o]=n;for(const{workspace:i,basePath:s,basePathRegex:a}of n)if(a.test(t)||s==="/")return{type:"match",workspace:i};return t==="/"?{type:"redirect",pathname:o.basePath}:r.test(t)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function Dgn(e){const n=e.map(o=>o.basePath.substring(1).split("/")).reduce((o,i)=>{for(let s=0;s<o.length;s++){const a=o[s],c=i[s].toLowerCase();if(a!==c)return o.slice(0,s)}return o});function r(o){let[i,...s]=o;return i?"(\\/".concat(V7(i)).concat(r(s),"(\\/|$))?"):""}return new RegExp("^".concat(r(n),"$"),"i")}function Ign(e){return h.useMemo(()=>Ogn(e),[e])}function Ogn(e){return e.map(t=>{const n=t.basePath||"/";return{workspace:t,name:t.name,basePath:n,basePathRegex:new RegExp("^".concat(V7(n),"(\\/|$)"),"i")}})}function Pgn(e,t){const n=Ign(t),r=h.useMemo(()=>Dgn(n),[n]),[o]=h.useState(()=>e.location.pathname),i=h.useMemo(()=>({subscribe:s=>e.listen(s),getSnapshot:()=>e.location.pathname,getServerSnapshot:()=>o,selector:s=>Agn({basePathRegex:r,pathname:s,workspaces:n}),isEqual:(s,a)=>{if(s.type!==a.type)return!1;switch(s.type){case"match":return s.workspace===a.workspace;case"redirect":return s.pathname===a.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(s.type))}}}),[r,e,o,n]);return F7.useSyncExternalStoreWithSelector(i.subscribe,i.getSnapshot,i.getServerSnapshot,i.selector,i.isEqual)}const OOe=h.createContext(null);function Rgn(e){let{children:t,history:n}=e;return l.jsx(OOe.Provider,{value:n,children:t})}function $gn(){const e=h.useContext(OOe);if(!e)throw new Error("Could not find `RouterHistoryProvider` context");return e}const Mgn=h.memo(function(t){let{children:n,history:r,activeWorkspace:o,setActiveWorkspace:i}=t;const s=h.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:i}),[o,i]);return l.jsx(IOe.Provider,{value:s,children:l.jsx(Rgn,{history:r,children:n})})}),Fgn=()=>typeof document>"u"?bVt():yVt();function Lgn(e){let{children:t,LoadingComponent:n,NotFoundComponent:r,unstable_history:o}=e;const i=bC(),s=h.useMemo(()=>o||Fgn(),[o]),a=h.useCallback(d=>{const f=i.find(p=>p.name===d);f&&s.push(f.basePath)},[s,i]),c=h.useCallback(()=>{a(i[0].name)},[a,i]),u=Pgn(s,i);switch(h.useEffect(()=>{u.type==="redirect"&&s.replace(u.pathname)},[s,u]),u.type){case"match":return l.jsx(Mgn,{activeWorkspace:u.workspace,history:s,setActiveWorkspace:a,children:t});case"redirect":return l.jsx(n,{});case"not-found":return l.jsx(r,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function l1(){const e=h.useContext(IOe);if(!e)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return e}var xue=Object.freeze,Bgn=Object.defineProperty,Ngn=(e,t)=>xue(Bgn(e,"raw",{value:xue(t||e.slice())})),wue;const Cue={"logged-in":"","logged-out":"Signed out","no-access":""},zgn=P(Q)(wue||(wue=Ngn([`
  width: 35px;
  height: 35px;

  svg {
    width: 100%;
    height: 100%;
  }
`]))),_ue=e=>{if(kr.isValidElementType(e))return h.createElement(e);if(h.isValidElement(e))return e};function F4(e){const{state:t,subtitle:n,selected:r,title:o,icon:i,iconRight:s}=e,a=h.useMemo(()=>_ue(i),[i]),c=h.useMemo(()=>_ue(s),[s]);return l.jsxs(H,{align:"center",flex:"none",gap:3,children:[l.jsx(zgn,{radius:2,tone:"transparent",children:a}),l.jsxs(ee,{flex:1,space:2,children:[l.jsx(L,{textOverflow:"ellipsis",weight:"medium",children:o}),n&&l.jsx(L,{muted:!0,size:1,textOverflow:"ellipsis",children:n})]}),t&&Cue[t]&&l.jsx(M,{paddingLeft:1,children:l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:Cue[t]})}),(r||c)&&l.jsxs(H,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[r&&l.jsx(L,{children:l.jsx(ea,{})}),c&&l.jsx(L,{muted:!0,children:c})]})]})}const POe=ch(e=>Ho(e.map(t=>t.auth.state.pipe(le(n=>[t.name,n])))).pipe(le(t=>Object.fromEntries(t)))),Vgn="https://beta.sanity.io/docs/platform/studio/config/workspaces";var Sue=Object.freeze,Hgn=Object.defineProperty,Ugn=(e,t)=>Sue(Hgn(e,"raw",{value:Sue(t||e.slice())})),Eue;const kue=[{url:"https://slack.sanity.io/",title:"Community"},{url:"https://www.sanity.io/docs",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",title:"Privacy"},{url:"https://www.sanity.io",title:"sanity.io"}],Wgn=P(L)(Eue||(Eue=Ugn([`
  a {
    color: inherit;
  }
`])));function jue(e){const{children:t,footer:n,header:r}=e;return l.jsxs(ee,{space:6,children:[l.jsx(Q,{border:!0,radius:3,overflow:"auto",children:l.jsxs(ee,{children:[typeof r=="object"&&l.jsx(M,{children:r}),typeof r=="string"&&l.jsx(M,{paddingY:4,children:l.jsx(Wo,{align:"center",size:1,children:r})}),l.jsx(M,{paddingX:1,children:l.jsx(Q,{borderTop:!!r,borderBottom:!!n,children:t})}),n&&l.jsx(M,{children:n})]})}),l.jsxs(H,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[l.jsx(L,{size:3,children:l.jsx(EVt,{})}),l.jsx(H,{align:"center",gap:2,children:kue.map((o,i)=>l.jsxs(re.Fragment,{children:[l.jsx(Wgn,{muted:!0,size:1,children:l.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),i<kue.length-1&&l.jsx(L,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function qgn(){var e;const t=bC(),{activeWorkspace:n,setActiveWorkspace:r}=l1(),[o]=POe(t),[i,s]=h.useState((n==null?void 0:n.name)||null),a=t.length===1?t[0]:t.find(d=>d.name===i),c=(e=a==null?void 0:a.auth)==null?void 0:e.LoginComponent,u=h.useCallback(()=>s(null),[]);return o?c&&a?l.jsxs(ee,{space:2,children:[t.length>1&&l.jsx(H,{children:l.jsx(oe,{fontSize:1,icon:lw,mode:"bleed",onClick:u,padding:2,text:"Choose another workspace"})}),l.jsx(jue,{header:l.jsx(M,{padding:3,children:l.jsx(F4,{icon:a.icon,title:a.title,subtitle:a==null?void 0:a.subtitle})}),children:l.jsx(ee,{padding:2,paddingBottom:3,paddingTop:4,children:h.createElement(c,{...Ri(a,["type","__internal"]),key:i})})})]}):l.jsx(jue,{header:"Choose your workspace",footer:l.jsx(ee,{padding:1,children:l.jsx(oe,{as:"a",href:Vgn,icon:Zs,justify:"flex-start",mode:"bleed",rel:"noopener noreferrer",target:"__blank",text:"Add workspace"})}),children:l.jsx(ee,{space:1,paddingX:1,paddingY:2,children:t.map(d=>{const p=o[d.name].authenticated?"logged-in":d.auth.LoginComponent?"logged-out":"no-access",m=()=>{p==="logged-in"&&d.name!==n.name&&r(d.name),p==="logged-out"&&s(d.name)};return l.jsx(Q,{as:"button",radius:2,padding:2,onClick:m,children:l.jsx(F4,{icon:d==null?void 0:d.icon,iconRight:Ic,state:p,subtitle:d==null?void 0:d.subtitle,title:(d==null?void 0:d.title)||d.name})},d.name)})})}):l.jsx(Tb,{})}var Tue=Object.freeze,Ygn=Object.defineProperty,Ggn=(e,t)=>Tue(Ygn(e,"raw",{value:Tue(t||e.slice())})),Aue;const Kgn=P(Nt)(Aue||(Aue=Ggn([`
  max-width: 350px;
  min-width: 250px;
`]))),Due="Select workspace";function ROe(e){const{collapsed:t=!1}=e,[n,r]=h.useState(!1),{scheme:o}=Hc(),i=bC(),{activeWorkspace:s,setActiveWorkspace:a}=l1(),[c]=POe(i),{navigateUrl:u}=Nl(),d=h.useCallback(()=>r(!0),[]),f=h.useCallback(()=>r(!1),[]),p=h.useMemo(()=>({constrainSize:!0,scheme:o,portal:!0}),[o]),m=n||!t,v=t?Due:void 0,g=t?void 0:Due;return l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Select workspace"})}),disabled:m,placement:"bottom",portal:!0,scheme:o,children:l.jsx(ee,{children:l.jsx(on,{button:l.jsx(oe,{icon:Bl,mode:"bleed",text:g,disabled:!c,"aria-label":v,justify:t?void 0:"flex-start"}),id:"workspace-menu",menu:l.jsxs(Kgn,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(Ht,{size:1,muted:!0,children:"Workspaces"})}),c&&i.map(b=>{const y=c[b.name].authenticated?"logged-in":b.auth.LoginComponent?"logged-out":"no-access",w=()=>{y==="logged-in"&&b.name!==s.name&&a(b.name),y==="logged-out"&&u({path:b.basePath})};return l.jsx(ze,{onClick:w,padding:2,pressed:b.name===s.name,children:l.jsx(F4,{icon:b==null?void 0:b.icon,selected:b.name===s.name,state:y,subtitle:b==null?void 0:b.subtitle,title:(b==null?void 0:b.title)||b.name})},b.name)})]}),onClose:f,onOpen:d,popover:p})})})}function $Oe(){return l.jsx(Q,{height:"fill",overflow:"auto",children:l.jsx(H,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:l.jsx(eo,{width:0,children:l.jsx(qgn,{})})})})}function Zgn(){return l.jsx(l.Fragment,{children:"TODO: implement config errors screen"})}function MOe(){const[e,t]=h.useState(null),[n,r]=h.useState(null);if(n)throw n;const{activeWorkspace:o}=l1(),i=h.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);h.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:d}=u;t(d)},error:r});return()=>{c.unsubscribe()}},[o]);const s=KAe(e==null?void 0:e.provider),a=s?" through ".concat(s):"";return l.jsx(Q,{height:"fill",children:l.jsx(Mi,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:l.jsx(ee,{paddingX:3,paddingY:2,children:l.jsx(oe,{text:"Sign out",onClick:i})}),children:l.jsxs(ee,{paddingX:4,paddingY:5,space:4,children:[l.jsx(L,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),l.jsxs(L,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",l.jsxs("strong",{children:[e==null?void 0:e.name," (",e==null?void 0:e.email,")"]}),a,"."]})]})})})}var Iue=Object.freeze,Xgn=Object.defineProperty,Qgn=(e,t)=>Iue(Xgn(e,"raw",{value:Iue(t||e.slice())})),Oue;const Jgn=P.label(Oue||(Oue=Qgn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function evn(e){const{projectId:t}=e,n=window.location.origin,r=h.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(t,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",n),o.searchParams.set("credentials",""),o.toString()},[n,t]);return h.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),l.jsx(Q,{height:"fill",children:l.jsx(Mi,{id:"cors-error-dialog",header:"Before you continue...",width:1,children:l.jsxs(ee,{paddingX:4,paddingY:5,space:4,children:[l.jsxs(L,{children:["To access your content, you need to ",l.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),l.jsx(Jgn,{"aria-hidden":"true",children:"CORS URL to be added"}),l.jsx(Lr,{value:n,readOnly:!0}),l.jsx(oe,{as:"a",href:r,target:"_blank",rel:"noopener noreferrer",tone:"primary",children:l.jsxs(H,{align:"center",justify:"center",gap:3,children:[l.jsx(L,{weight:"medium",children:"Continue"}),l.jsx(L,{weight:"medium",children:l.jsx(qf,{})})]})})]})})})}function FOe(e){let{children:t,heading:n="An error occured"}=e;const[{error:r},o]=h.useState({error:null}),i=xt(r)&&typeof r.message=="string"&&r.message,s=xt(r)&&typeof r.stack=="string"&&r.stack,a=h.useCallback(()=>o({error:null}),[o]);return sVt(a),r instanceof bB?l.jsx(evn,{projectId:r==null?void 0:r.projectId}):r instanceof RN?l.jsx(jgn,{schema:r.schema}):r?l.jsx(Q,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:l.jsx(eo,{width:3,children:l.jsxs(ee,{space:4,children:[l.jsx(Wo,{children:n}),l.jsx("div",{children:l.jsx(oe,{onClick:a,text:"Retry",tone:"default"})}),l.jsx(Q,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:l.jsxs(ee,{space:4,children:[i&&l.jsx(lr,{size:1,children:l.jsxs("strong",{children:["Error: ",i]})}),s&&l.jsx(lr,{size:1,children:s})]})})]})})}):l.jsx(j0,{onCatch:o,children:t})}var Pue=Object.freeze,tvn=Object.defineProperty,nvn=(e,t)=>Pue(tvn(e,"raw",{value:Pue(t||e.slice())})),Rue;const rvn=P(Q)(Rue||(Rue=nvn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),LOe=h.createContext({onSearchFullscreenOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null});function ovn(){var e;const{name:t,title:n,tools:r}=Ul(),o=Nl(),i=xT(h.useCallback(x=>typeof x.tool=="string"?x.tool:void 0,[])),s=h.useMemo(()=>r.find(x=>x.name===i),[i,r]),[a,c]=h.useState(!1),[u,d]=h.useState(null),f=h.useMemo(()=>{const x=n||fn(t);return i?"".concat(fn(i)," | ").concat(x):x},[i,t,n]),p=!!(s!=null&&s.controlsDocumentTitle);h.useEffect(()=>{p||(document.title=f)},[f,p]);const m=h.useCallback(x=>{c(x)},[]),v=h.useMemo(()=>({searchFullscreenOpen:a,searchFullscreenPortalEl:u,onSearchFullscreenOpenChange:m}),[a,u,m]),g=Gyn(),b=!s&&(i==="desk"||!i)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&r.some(x=>x.name==="structure");return h.useEffect(()=>{b&&o.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[b,o]),l.jsxs(H,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[l.jsx(LOe.Provider,{value:v,children:l.jsx(g,{})}),b&&l.jsx(ygn,{}),r.length===0&&l.jsx(vgn,{}),r.length>0&&!s&&i&&!b&&l.jsx(bgn,{toolName:i}),a&&l.jsx(rvn,{ref:d,overflow:"auto"}),l.jsx(FOe,{heading:"The ".concat(s==null?void 0:s.name," tool crashed"),children:l.jsx(Q,{flex:1,hidden:a,children:s&&i&&l.jsx(tpt,{scope:i,__unsafe_disableScopedSearchParams:(e=s.router)==null?void 0:e.__unsafe_disableScopedSearchParams,children:l.jsx(h.Suspense,{fallback:l.jsx(ivn,{}),children:h.createElement(s.component,{tool:s})})})})},s==null?void 0:s.name)]})}function ivn(){return l.jsxs(H,{justify:"center",align:"center",height:"fill",direction:"column",gap:4,children:[l.jsx(L,{muted:!0,children:"Loading…"}),l.jsx(hr,{muted:!0})]})}var $ue=Object.freeze,svn=Object.defineProperty,avn=(e,t)=>$ue(svn(e,"raw",{value:$ue(t||e.slice())})),Mue;const lvn=P.div(Mue||(Mue=avn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),cvn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsxs("g",{clipPath:"url(#clip0)",children:[l.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),l.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),l.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),l.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),uvn=l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("g",{clipPath:"url(#clip0)",children:l.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),l.jsx("defs",{children:l.jsx("clipPath",{id:"clip0",children:l.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),dvn=l.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),l.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),l.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),fvn=e=>{let{provider:t}=e;const n=t==null?void 0:t.startsWith("saml-"),r=n?"saml":t;return l.jsxs(lvn,{"data-logo":r,children:[t==="google"&&cvn,t==="github"&&uvn,t==="sanity"&&l.jsx(jVt,{}),n&&dvn]})};var Fue=Object.freeze,hvn=Object.defineProperty,BOe=(e,t)=>Fue(hvn(e,"raw",{value:Fue(t||e.slice())})),Lue,Bue;const D5=1,pvn=P(Nt)(Lue||(Lue=BOe([`
  min-width: 200px;
  max-width: 300px;
`]))),mvn=P(M)(Bue||(Bue=BOe([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),e=>{let{theme:t}=e;return t.sanity.avatar.sizes[D5].size},e=>{let{theme:t}=e;return t.sanity.avatar.sizes[D5].size});function gvn(e){let{setScheme:t}=e;const n=jOe(t);return l.jsxs(l.Fragment,{children:[l.jsx($r,{}),l.jsx(M,{padding:2,children:l.jsx(Ht,{size:1,muted:!0,children:"Appearance"})}),n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(ze,{"aria-label":i,icon:o,onClick:a,pressed:c,text:u,iconRight:c&&l.jsx(ea,{})},s)})]})}function vvn(){const{currentUser:e,projectId:t,auth:n}=Ul(),r=kOe(),o=$N(),i=!!(e&&IAe(e,"administrator")),s=KAe(e==null?void 0:e.provider),a=h.useMemo(()=>({placement:"bottom-end",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return l.jsx(on,{button:l.jsx(oe,{mode:"bleed",padding:0,paddingX:1,children:l.jsxs(H,{align:"center",gap:1,children:[l.jsx(Ya,{user:"me",size:1}),l.jsx(L,{size:D5,muted:!0,children:l.jsx(Ja,{})})]})}),id:"user-menu",menu:l.jsxs(pvn,{children:[l.jsx(Q,{padding:2,children:l.jsxs(H,{align:"center",children:[l.jsx(it,{disabled:!s,portal:!0,content:s&&l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,children:["Signed in with ",s]})}),children:l.jsxs(mvn,{marginRight:3,children:[l.jsx(Ya,{size:D5,user:"me"}),(e==null?void 0:e.provider)&&l.jsx(fvn,{provider:e.provider})]})}),l.jsxs(ee,{space:2,flex:1,children:[l.jsx(L,{size:2,weight:"medium",textOverflow:"ellipsis",children:e==null?void 0:e.name}),l.jsx(L,{size:1,muted:!0,textOverflow:"ellipsis",children:e==null?void 0:e.email})]})]})}),o&&l.jsx(gvn,{setScheme:o}),l.jsx($r,{}),l.jsx(ze,{as:"a","aria-label":"Manage project",href:"https://sanity.io/manage/project/".concat(t),target:"_blank",text:"Manage project",icon:fj}),i&&l.jsx(ze,{as:"a","aria-label":"Invite members",href:"https://sanity.io/manage/project/".concat(t,"/members"),target:"_blank",text:"Invite members",icon:gj}),n.logout&&l.jsxs(l.Fragment,{children:[l.jsx($r,{}),l.jsx(ze,{iconRight:HF,text:"Sign out",disabled:!n.logout,...n.logout&&{onClick:n.logout}})]})]}),popover:a})}var Nue=Object.freeze,yvn=Object.defineProperty,bvn=(e,t)=>Nue(yvn(e,"raw",{value:Nue(t||e.slice())})),zue;const xvn=P(M)(zue||(zue=bvn([`
  max-width: 300px;
`]))),NOe=33;function wvn(e){const{option:t,currentUser:n,onClick:r,preview:o}=e,i=h.useMemo(()=>({template:t.templateId,type:t.schemaType}),[t.schemaType,t.templateId]),{onClick:s,href:a}=Pw({intent:"create",params:i}),c=h.useCallback(u=>{s(u),r(t)},[s,r,t]);return l.jsx(it,{disabled:t.hasPermission,portal:!0,content:l.jsx(xvn,{padding:2,children:l.jsx(Ac,{currentUser:n,operationLabel:"create this document"})}),children:l.jsx("div",{children:l.jsx(Q,{as:t.hasPermission?"a":"button",disabled:!t.hasPermission,href:a,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:l.jsx(L,{size:o==="inline"?1:void 0,children:t.title})})})},t.id)}var Vue=Object.freeze,Cvn=Object.defineProperty,zOe=(e,t)=>Vue(Cvn(e,"raw",{value:Vue(t||e.slice())})),Hue,Uue;const ZO=P(H)(Hue||(Hue=zOe([`
  min-height: 100px;
`]))),_vn=P.strong(Uue||(Uue=zOe([`
  word-break: break-all;
`])));function Wue(e){const{currentUser:t,loading:n,onDocumentClick:r,options:o,preview:i,searchQuery:s,textInputElement:a}=e,c=o.length>0&&!n,u=h.useCallback(()=>{r()},[r]),d=h.useCallback(p=>{var m;return((m=o[p])==null?void 0:m.hasPermission)===!1},[o]),f=h.useCallback(p=>l.jsx(wvn,{currentUser:t,onClick:u,option:p,preview:i},p.id),[t,u,i]);return n?l.jsx(ZO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(Zt,{space:2,children:[l.jsx(hr,{muted:!0,size:1}),l.jsx(L,{muted:!0,size:1,children:"Loading…"})]})}):!c&&s?l.jsx(ZO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["No results found for ",l.jsxs(_vn,{children:["“",s,"”"]})]})}):c?l.jsx(uh,{activeItemDataAttr:"data-hovered",ariaLabel:"New document",autoFocus:tm?void 0:"input",getItemDisabled:d,inputElement:a,itemHeight:NOe,items:o,overscan:5,padding:i==="inline"?1:2,paddingBottom:0,renderItem:f}):l.jsx(ZO,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:l.jsx(L,{align:"center",muted:!0,size:1,children:"No documents found"})})}function Svn(e,t){const n=t.title.toLowerCase();return e.trim().toLowerCase().split(/[\s\-_]+/).every(i=>n.includes(i))}function Evn(e,t,n){const r=t.title.toLowerCase(),o=n.title.toLowerCase(),i=e.trim().toLowerCase();return r.startsWith(i)&&!o.startsWith(i)?-1:o.startsWith(i)&&!r.startsWith(i)?1:r.includes(i)&&!o.includes(i)?-1:o.includes(i)&&!r.includes(i)?1:0}function kvn(e,t){return e.map(o=>({...o,title:(o==null?void 0:o.title)||o.id})).sort((o,i)=>o.title.localeCompare(i.title)).filter(o=>Svn(t,o)).sort((o,i)=>Evn(t,o,i))}var que=Object.freeze,jvn=Object.defineProperty,Bm=(e,t)=>que(jvn(e,"raw",{value:que(t||e.slice())})),Yue,Gue,Kue,Zue,Xue,Que,Jue;const Tvn=P(rn)(()=>de(Yue||(Yue=Bm([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),e=>{let{theme:t}=e;return t.sanity.radius[3]})),Avn=P(Mi)(()=>de(Gue||(Gue=Bm([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),Dvn=P(M)(Kue||(Kue=Bm([`
  max-width: 300px;
`]))),ede=P(H)(Zue||(Zue=Bm([""]))),Ivn=P(Q)(Xue||(Xue=Bm([`
  min-height: max-content;
`]))),Ovn=P(Q)(Que||(Que=Bm([`
  min-height: max-content;
`]))),Pvn=P(H)(e=>{const{$maxDisplayedItems:t,$itemHeight:n}=e;return de(Jue||(Jue=Bm([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),n,t)}),Rvn=10;function $vn(e){const{canCreateDocument:t,modal:n="popover",loading:r,options:o}=e,[i,s]=h.useState(!1),[a,c]=h.useState(""),[u,d]=h.useState(null),[f,p]=h.useState(null),[m,v]=h.useState(null),[g,b]=h.useState(null),{scheme:x}=Hc(),y=Yo(),w=o.length>0,C=!t||!w,_="Search",S="Create new document",E=h.useMemo(()=>kvn(o,a),[o,a]),j=h.useCallback(B=>{c(B.currentTarget.value)},[]),k=h.useCallback(()=>s(B=>!B),[]),T=h.useCallback(()=>{s(!1),c(""),m==null||m.focus()},[m]),A=h.useCallback(B=>{B.key==="ArrowDown"&&!i&&s(!0)},[i]),D=h.useCallback(B=>{(B.key==="Escape"||B.key==="Tab")&&i&&T()},[T,i]);dr(()=>{i&&T()},[m,f,u]);const I=h.useMemo(()=>({currentUser:y,loading:r,onDocumentClick:k,options:E,searchQuery:a,preview:n==="popover"?"inline":"default",textInputElement:g}),[y,E,k,r,n,g,a]),O=h.useMemo(()=>({border:!1,defaultValue:a,disabled:r,icon:ei,onChange:j,placeholder:_,ref:b}),[j,r,_,a]),$=h.useMemo(()=>({"aria-label":S,disabled:C||r,icon:vp,mode:"bleed",onClick:k,ref:v,selected:i}),[C,k,r,i,S]),R=h.useMemo(()=>w?t?l.jsx(L,{size:1,children:"New document..."}):l.jsx(Ac,{currentUser:y,operationLabel:"create any document"}):l.jsx(L,{size:1,children:"No document types"}),[t,y,w]),z=h.useMemo(()=>({content:l.jsx(Dvn,{padding:2,children:R}),disabled:r||i,placement:"bottom",portal:!0,scheme:x}),[r,i,x,R]);return n==="dialog"?l.jsxs(l.Fragment,{children:[l.jsx(it,{...z,children:l.jsx("div",{children:l.jsx(oe,{...$})})}),i&&l.jsx(Avn,{header:S,id:"create-new-document-dialog",onClickOutside:T,onClose:T,ref:p,scheme:x,width:1,children:l.jsxs(ede,{direction:"column",flex:1,height:"fill",children:[l.jsx(Ovn,{padding:2,borderBottom:!0,children:l.jsx(Lr,{...O})}),l.jsx(H,{direction:"column",overflow:"hidden",children:l.jsx(Wue,{...I})})]})})]}):l.jsx(Tvn,{constrainSize:!0,onKeyDown:D,open:i,portal:!0,radius:3,ref:d,scheme:x,content:l.jsxs(ede,{direction:"column",flex:1,forwardedAs:rh,height:"fill",returnFocus:!0,children:[l.jsx(Ivn,{sizing:"border",children:l.jsxs(ee,{children:[l.jsx(M,{paddingX:3,paddingY:3,children:l.jsx(M,{paddingY:1,children:l.jsx(Ht,{size:1,muted:!0,children:S})})}),l.jsx(Q,{borderTop:!0,borderBottom:!0,padding:1,children:l.jsx(Lr,{...O,fontSize:1,radius:1})})]})}),l.jsx(Pvn,{$itemHeight:NOe,$maxDisplayedItems:Rvn,direction:"column",overflow:"hidden",children:l.jsx(Wue,{...I})})]}),children:l.jsx("div",{children:l.jsx(it,{...z,children:l.jsx("div",{children:l.jsx(oe,{...$,"aria-expanded":i,"aria-haspopup":"true",onKeyDown:A})})})})})}function Mvn(){const{__internal:{staticInitialValueTemplateItems:e}}=Ln(),[t,n]=ZN({templateItems:e}),r=(t==null?void 0:t.some(i=>e.some(s=>s.id===i.id)))||!1,o=h.useMemo(()=>e.map(i=>{var s;return{...i,title:(i==null?void 0:i.title)||i.id,hasPermission:((s=t==null?void 0:t.find(a=>a.id===i.id))==null?void 0:s.granted)||!1}}),[t,e]);return{canCreateDocument:r,loading:n,options:o}}var tde=Object.freeze,Fvn=Object.defineProperty,Lvn=(e,t)=>tde(Fvn(e,"raw",{value:tde(t||e.slice())})),nde;const Bvn=P(Q)(nde||(nde=Lvn([`
  background: transparent;
  margin: calc((-35px + 11px) / 2);
`]))),Nvn=h.memo(function(t){const{presence:n,focused:r,onFocus:o}=t,[i,s]=h.useState(null),a=V0(n.locations||[],["lastActiveAt"],["desc"]).find(f=>f.documentId),c=!!(a!=null&&a.documentId);h.useEffect(()=>{r&&i&&(i.focus(),i.setAttribute("data-selected","")),r||i==null||i.removeAttribute("data-selected")},[i,r]);const u=h.useCallback(()=>{o(n.user.id)},[o,n.user.id]),d=h.useMemo(()=>h.forwardRef(function(p,m){return a!=null&&a.path?l.jsx(km,{...p,intent:"edit",params:{id:a==null?void 0:a.documentId,path:Nr(a==null?void 0:a.path)},ref:m}):null}),[a]);return l.jsx(ze,{as:a?d:"div","data-as":a?"a":"div",onFocus:u,paddingY:c?4:3,paddingLeft:4,paddingRight:3,ref:s,children:l.jsxs(H,{align:"center",children:[l.jsx(Bvn,{children:l.jsx(Ya,{size:1,user:n.user,status:c?"editing":"inactive"},n.user.id)}),l.jsxs(ee,{space:2,marginLeft:4,children:[l.jsx(L,{textOverflow:"ellipsis",children:n.user.displayName}),!c&&l.jsx(L,{size:0,muted:!0,textOverflow:"ellipsis",children:"Not in a document"})]})]})})});var rde=Object.freeze,zvn=Object.defineProperty,MN=(e,t)=>rde(zvn(e,"raw",{value:rde(t||e.slice())})),ode,ide,sde;const Vvn=4,Hvn=P(Q)(ode||(ode=MN([`
  background: transparent;
`]))),Uvn=P(Nt)(ide||(ide=MN([`
  max-width: 350px;
  min-width: 250px;
`]))),Wvn=P(ee)(sde||(sde=MN([`
  position: sticky;
  bottom: 0;
`])));function qvn(e){const{collapse:t}=e,n=bwn(),{projectId:r}=Ul(),{scheme:o}=Hc(),i=n.length>0,[s,a]=h.useState(),c=h.useCallback(p=>{a(p)},[]),u=h.useCallback(()=>{a("")},[]),d=h.useMemo(()=>t?l.jsx(dh,{icon:gj,mode:"bleed",tone:i?"positive":void 0}):l.jsx(oe,{mode:"bleed",padding:1,children:l.jsx(Hvn,{children:l.jsx(qj,{maxLength:Vvn,"aria-label":"Who is here",children:n.map(p=>l.jsx(Ya,{user:p.user},p.user.id))})})}),[t,i,n]),f=h.useMemo(()=>({constrainSize:!0,portal:!0,scheme:o}),[o]);return l.jsx(on,{button:d,id:"global-presence-menu",onClose:u,menu:l.jsxs(Uvn,{padding:1,children:[i&&l.jsx(ee,{children:n.map(p=>l.jsx(Nvn,{focused:s===p.user.id,onFocus:c,presence:p},p.user.id))}),!i&&l.jsx(M,{paddingX:3,paddingY:4,children:l.jsxs(ee,{space:3,children:[l.jsx(L,{weight:"semibold",size:2,children:"No one else is here"}),l.jsx(L,{size:1,muted:!0,children:"Invite people to the project to see their online status."})]})}),l.jsxs(Wvn,{space:1,children:[l.jsx($r,{}),l.jsx(ze,{as:"a",href:"https://sanity.io/manage/project/".concat(r),iconRight:fj,onFocus:u,paddingY:4,rel:"noopener noreferrer",target:"_blank",text:"Manage members"})]})]}),popover:f})}var ade=Object.freeze,Yvn=Object.defineProperty,FN=(e,t)=>ade(Yvn(e,"raw",{value:ade(t||e.slice())})),lde,cde,ude;const dde={duration:.2},Gvn={open:{opacity:1},closed:{opacity:0}},Kvn={open:{x:"0%"},closed:{x:"-100%"}},Zvn=P(os)(lde||(lde=FN([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),Xvn=P(id(Q))(cde||(cde=FN([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),Qvn=P(id(Q))(ude||(ude=FN([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`])));function Jvn(e){let{setScheme:t}=e;const n=jOe(t);return l.jsx(l.Fragment,{children:l.jsxs(Q,{borderTop:!0,flex:"none",padding:3,overflow:"auto",children:[l.jsx(M,{padding:2,children:l.jsx(Ht,{size:1,muted:!0,children:"Appearance"})}),l.jsx(ee,{as:"ul",marginTop:1,space:1,children:n.map(r=>{let{icon:o,label:i,name:s,onSelect:a,selected:c,title:u}=r;return l.jsx(ee,{as:"li",children:l.jsx(oe,{"aria-label":i,icon:o,iconRight:c&&l.jsx(ea,{}),justify:"flex-start",mode:"bleed",onClick:a,selected:c,text:u})},s)})})]})})}const e0n=h.memo(function(t){const{activeToolName:n,isOpen:r,onClose:o,tools:i}=t,s=$N(),{auth:a,currentUser:c,projectId:u}=Ul(),d=bC(),f=aPe(),p=!!(c&&IAe(c,"administrator")),m=h.useCallback(v=>{v.key==="Escape"&&o()},[o]);return l.jsx(kL,{children:r&&l.jsx(rh,{autoFocus:!0,returnFocus:!0,children:l.jsxs(Zvn,{onKeyDown:m,children:[l.jsx(Xvn,{animate:"open","data-open":r,exit:"closed",initial:"closed",onClick:o,transition:dde,variants:Gvn}),l.jsxs(Qvn,{animate:"open","data-open":r,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:dde,variants:Kvn,children:[l.jsx(Q,{borderBottom:!0,children:l.jsxs(ee,{space:3,padding:3,children:[l.jsxs(H,{align:"center",children:[l.jsx(H,{flex:1,align:"center",paddingRight:2,children:l.jsxs(H,{flex:1,align:"center",children:[l.jsx(M,{children:l.jsx(Ya,{size:1,user:"me"})}),l.jsx(M,{flex:1,marginLeft:2,title:(c==null?void 0:c.name)||(c==null?void 0:c.email),children:l.jsx(L,{textOverflow:"ellipsis",children:(c==null?void 0:c.name)||(c==null?void 0:c.email)})})]})}),l.jsx(M,{children:l.jsx(oe,{icon:Di,mode:"bleed",onClick:o,title:"Close menu"})})]}),d.length>1&&l.jsx(ROe,{})]})}),l.jsxs(H,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[l.jsx(Q,{flex:"none",padding:3,children:l.jsx(f,{activeToolName:n,closeSidebar:o,context:"sidebar",isSidebarOpen:r,tools:i})}),l.jsxs(H,{direction:"column",children:[s&&l.jsx(Jvn,{setScheme:s}),l.jsx(Q,{borderTop:!0,flex:"none",padding:3,children:l.jsxs(ee,{as:"ul",space:1,children:[l.jsx(ee,{as:"li",children:l.jsx(oe,{"aria-label":"Manage project",as:"a",href:"https://sanity.io/manage/project/".concat(u),icon:fj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Manage project"})}),p&&l.jsx(ee,{as:"li",children:l.jsx(oe,{"aria-label":"Invite members",as:"a",href:"https://sanity.io/manage/project/".concat(u,"/members"),icon:gj,justify:"flex-start",mode:"bleed",target:"_blank",text:"Invite members"})})]})})]})]}),a.logout&&l.jsx(Q,{flex:"none",padding:3,borderTop:!0,children:l.jsx(ee,{children:l.jsx(oe,{iconRight:HF,justify:"flex-start",mode:"bleed",onClick:a.logout,text:"Sign out"})})})]})]})})})});function t0n(){var e;const n=((e=jn()._validation)==null?void 0:e.filter(f=>f.problems.some(p=>p.severity==="warning")))||[],{scheme:r}=Hc(),o=h.useId(),[i,s]=h.useState(!1),[a,c]=h.useState(null),u=h.useCallback(()=>s(!0),[]),d=h.useCallback(()=>{s(!1),a&&a.focus()},[a]);return n.length===0?null:l.jsxs(l.Fragment,{children:[l.jsx(dh,{icon:Br,label:"Found configuration issues",mode:"bleed",onClick:u,ref:c,selected:i,tone:"caution",tooltip:{scheme:r}}),i&&l.jsx(Mi,{header:l.jsxs(ee,{space:3,children:[l.jsx(L,{weight:"semibold",children:"Configuration issues"}),l.jsx(L,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),width:2,onClickOutside:d,onClose:d,scheme:r,id:o,children:l.jsxs(ee,{space:4,padding:4,children:[l.jsxs(Wo,{as:"h2",size:1,children:["Found ",n.length," schema warnings"]}),l.jsx(DOe,{problemGroups:n})]})})]})}function fde(e){const{title:t,children:n,href:r,onClick:o}=e;return l.jsx(oe,{"aria-label":t,as:"a","data-testid":"logo",href:r,mode:"bleed",onClick:o,padding:0,children:n})}const n0n=bi("mod+".concat(uOe)),r0n=bi("escape");function o0n(e){let{open:t,onClose:n,onOpen:r}=e;const{isTopLayer:o}=tl(),i=h.useCallback(()=>{n==null||n()},[n]),s=h.useCallback(a=>{n0n(a)&&(a.preventDefault(),t?i():r==null||r()),r0n(a)&&t&&o&&i()},[i,o,t,r]);rs(s)}function VOe(e){let{children:t,hasValidTerms:n,onClose:r,onOpen:o,open:i}=e;const s=h.useRef(!1),{dispatch:a,searchCommandList:c,setOnClose:u,state:{result:d}}=Pt(),f=h.useCallback(()=>{var p;a({index:(p=c==null?void 0:c.getTopIndex())!=null?p:-1,type:"LAST_ACTIVE_INDEX_SET"}),r()},[a,r,c]);return o0n({onClose:f,onOpen:o,open:i}),h.useEffect(()=>{u(f)},[f,u]),h.useEffect(()=>{(!n||d.loaded)&&s.current&&a({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[a,n,d.loaded]),h.useEffect(()=>{!n&&s.current&&!i&&a({type:"ORDERING_RESET"})},[a,n,i]),h.useEffect(()=>{s!=null&&s.current||(s.current=!0)},[]),i?l.jsx("div",{children:t}):null}function i0n(e){return e.reduce((t,n)=>(t[n.type]=n,t),{})}function zf(e,t){return t?e[t]:void 0}function s0n(e,t){var n;return(n=zf(e,t))==null?void 0:n.initialValue}function L4(e,t){var n;return{fieldId:t,filterName:e.name,operatorType:((n=e==null?void 0:e.operators.find(r=>r.type==="item"))==null?void 0:n.name)||""}}function kh(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,operatorDefinitions:o}=e;return r.filter(i=>xC({filter:i,filterDefinitions:n,fieldDefinitions:t,operatorDefinitions:o})).map(i=>{var s;return(s=zf(o,i.operatorType))==null?void 0:s.groqFilter({fieldPath:a0n({filter:i,fieldDefinitions:t,filterDefinitions:n}),value:i==null?void 0:i.value})}).filter(i=>!rVt(i)).filter(bo).join(" && ")}function td(e,t){return t!=null&&t.fieldId?e[t.fieldId]:void 0}function Ki(e){return[e.filterName,...e.fieldId?[e.fieldId]:[]].join("-")}function jh(e){let{fieldDefinitions:t,filters:n,types:r}=e;const o=r.map(c=>c.name),i=Object.values(t).filter(c=>n.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),s=ek(...i),a=[];return o.length>0&&a.push(o),s.length>0&&a.push(s),ek(...a).sort()}function a0n(e){let{filter:t,fieldDefinitions:n,filterDefinitions:r}=e;const o=td(n,t),i=ph(r,t.filterName);if(i)switch(i.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return i==null?void 0:i.fieldPath;default:return}}function xC(e){let{filter:t,filterDefinitions:n,fieldDefinitions:r,operatorDefinitions:o}=e;const i=ph(n,t.filterName),s=zf(o,t.operatorType),a=td(r,t);return!(!i||!s||t.fieldId&&!a||i.type==="field"&&(!(a!=null&&a.fieldPath)||!t.fieldId||!s.groqFilter({fieldPath:a.fieldPath,value:t.value}))||i.type==="pinned"&&!s.groqFilter({fieldPath:i.fieldPath,value:t.value}))}var hde=Object.freeze,l0n=Object.defineProperty,c0n=(e,t)=>hde(l0n(e,"raw",{value:hde(t||e.slice())})),pde;const u0n=bi("escape"),d0n=500,f0n=P.div(pde||(pde=c0n([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function LN(e){let{anchorElement:t,children:n,onClose:r}=e;const{isTopLayer:o}=tl(),i=h.useCallback(a=>{u0n(a)&&o&&r()},[o,r]);rs(i);const s=h0n(t||null);return l.jsxs(l.Fragment,{children:[l.jsx(f0n,{onClick:r}),l.jsx(rh,{autoFocus:!1,returnFocus:!0,children:l.jsx(Q,{display:"flex",overflow:"hidden",radius:a1,style:{maxHeight:"min(calc(100vh - ".concat(s,"px - ").concat(yC,"px - ").concat(Ux,"px), ").concat(d0n,"px"),zIndex:1},children:l.jsx(H,{children:n})})})]})}function XO(e){const t=e.getBoundingClientRect();return t.y+t.height+yC}function h0n(e){const[t,n]=h.useState(e&&XO(e)),r=h.useCallback(()=>{e&&n(XO(e))},[e]);return h.useEffect(()=>{e&&n(XO(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}var mde=Object.freeze,p0n=Object.defineProperty,HOe=(e,t)=>mde(p0n(e,"raw",{value:mde(t||e.slice())})),gde,vde;const m0n=P(M)(gde||(gde=HOe([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border}),g0n=P(H)(vde||(vde=HOe([`
  box-sizing: border-box;
`]))),UOe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onChange:o,onClear:i,typeFilter:s}=t;const{state:{fullscreen:a}}=Pt();return l.jsx(m0n,{children:l.jsx(g0n,{align:"center",flex:1,padding:1,children:l.jsx(PN,{"aria-label":r,autoComplete:"off",border:!1,clearButton:!!s,fontSize:a?2:1,icon:ei,muted:!0,onChange:o,onClear:i,placeholder:"Filter",ref:n,smallClearButton:!0,spellCheck:!1,radius:2,value:s})})})});function v0n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,schema:o,titleFilter:i,types:s}=e;const a=Object.values(n).filter(u=>w0n(u,i)).map(u=>{const d=ph(r,u.filterName);return d?L4(d,u.id):null}).filter(bo),c=b0n({fieldDefinitions:n,filterDefinitions:r,titleFilter:i});return t.length===0?[...c,...Wx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"All fields",id:"field"})]:[...c,...y0n({documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:a,schema:o,types:s})]}function Wx(e){let{fieldDefinitions:t,filterDefinitions:n,filters:r,id:o,headerTitle:i,tone:s}=e;const a={title:i||"",tone:s||"default",type:"header"},c=r.map(u=>({fieldDefinition:td(t,u),filterDefinition:ph(n,u.filterName),filter:u,group:o,tone:s||"default",type:"filter"}));return c.length>0?[...i?[a]:[],...c]:[]}function y0n(e){let{documentTypesNarrowed:t,fieldDefinitions:n,filterDefinitions:r,filters:o,schema:i,types:s}=e;const a=o.filter(d=>{const f=td(n,d);return S0n(t,f)}),c=t.length>1&&s.length>1?Wx({fieldDefinitions:n,filterDefinitions:r,filters:a,headerTitle:"Shared fields",id:"shared",tone:"primary"}):[],u=t.map(d=>{const f=i.get(d);return{title:(f==null?void 0:f.title)||fn(f==null?void 0:f.name)||"(Unknown type)",documentType:d}}).sort((d,f)=>d.title.localeCompare(f.title)).map(d=>{let{documentType:f,title:p}=d;const m=o.filter(v=>{const g=td(n,v);return x0n([f],g)});return Wx({fieldDefinitions:n,filterDefinitions:r,filters:m,id:p,headerTitle:p})}).flat();return[...c,...u]}function b0n(e){let{fieldDefinitions:t,filterDefinitions:n,titleFilter:r}=e;const o=Object.values(n).filter(_0n).filter(s=>yde(s,r)).map(s=>L4(s)),i=Object.values(n).filter(C0n).filter(s=>yde(s,r)).reduce((s,a)=>(s[a.group]=s[a.group]||[],s[a.group].push(L4(a)),s),{});return[...Wx({fieldDefinitions:t,filterDefinitions:n,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(i).flatMap(s=>{let[a,c]=s;return Wx({fieldDefinitions:t,filterDefinitions:n,filters:c,headerTitle:a,id:a,tone:"primary"})})]}function x0n(e,t){return t==null?void 0:t.documentTypes.some(n=>e.includes(n))}function w0n(e,t){return e.titlePath.join("/").toLowerCase().includes(t.toLowerCase())}function yde(e,t){return e.title.toLowerCase().includes(t.toLowerCase())}function C0n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)<"u"}function _0n(e){return e.type==="pinned"&&typeof(e==null?void 0:e.group)>"u"}function S0n(e,t){return qp(e,(t==null?void 0:t.documentTypes)||[]).length===0}function WOe(e){let{filter:t,maxLength:n}=e;const{state:{definitions:r}}=Pt(),o=h.useMemo(()=>{const i=ph(r.filters,t.filterName);switch(i==null?void 0:i.type){case"field":{const s=td(r.fields,t);return s!=null&&s.titlePath?s.titlePath[s.titlePath.length-1]:null}case"pinned":return i.title;default:return null}},[r,t]);return o?n&&o.length>n?l.jsxs("span",{children:[o.slice(0,n),"…"]}):l.jsx("span",{children:o}):null}function E0n(e){let{filter:t}=e;var n;const{state:{definitions:r}}=Pt(),o=(n=ph(r.filters,t.filterName))==null?void 0:n.icon;return o?h.createElement(o):l.jsx(Sl,{})}function qOe(e){let{filter:t,small:n=!0}=e;var r;const{state:{definitions:o}}=Pt(),i=td(o.fields,t);return l.jsxs(ee,{space:n?2:3,children:[(i==null?void 0:i.titlePath)&&((r=i.titlePath)==null?void 0:r.length)>1&&l.jsx(M,{marginLeft:4,children:l.jsx(L,{muted:!0,size:n?0:1,children:i.titlePath.slice(0,-1).map((s,a)=>l.jsxs(re.Fragment,{children:[l.jsx("span",{children:s}),a!==i.titlePath.length-2&&l.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:l.jsx(Ic,{})})]},a))})}),l.jsxs(H,{align:"flex-start",gap:3,children:[l.jsx(M,{style:{flexShrink:0},children:l.jsx(L,{size:n?1:2,children:l.jsx(E0n,{filter:t})})}),l.jsx(L,{size:n?1:2,weight:"medium",children:l.jsx(WOe,{filter:t})})]})]})}function YOe(e){return h.isValidElement(e)?k0n(jUt(e)):typeof e=="string"?e:""}function k0n(e){var t;return((t=new DOMParser().parseFromString(e,"text/html"))==null?void 0:t.body.textContent)||""}const QO=10;function j0n(e){let{children:t,fieldDefinition:n,filterDefinition:r,visible:o}=e;const{state:{documentTypesNarrowed:i}}=Pt(),s=jn(),a=h.useMemo(()=>n!=null&&n.documentTypes?n.documentTypes.map(u=>{const d=s.get(u);return(d==null?void 0:d.title)||fn(d==null?void 0:d.name)}).filter(bo).sort():[],[n==null?void 0:n.documentTypes,s]),c=h.useMemo(()=>{if(n!=null&&n.documentTypes){const u=n.documentTypes.map(f=>{const p=s.get(f);if(p){const m=QA(p,n.fieldPath);return(m==null?void 0:m.type.description)&&YOe(m==null?void 0:m.type.description)}return null}).filter(bo).sort(),d=vo(u);if(d.length===1)return d[0]}},[n==null?void 0:n.documentTypes,n==null?void 0:n.fieldPath,s]);return l.jsx(it,{content:l.jsx(Q,{tone:"default",radius:2,style:{maxWidth:"250px"},children:l.jsxs(ee,{padding:3,space:4,children:[n&&l.jsxs(ee,{space:2,children:[l.jsx(Ht,{muted:!0,size:0,children:"Field name"}),l.jsx(Zt,{children:l.jsx(Q,{tone:"caution",padding:1,radius:2,children:l.jsx(lr,{size:0,children:n==null?void 0:n.name})})})]}),c&&l.jsxs(ee,{space:3,children:[l.jsx(Ht,{muted:!0,size:0,children:"Field description"}),l.jsx(L,{muted:!0,size:0,children:bde(c)})]}),(r==null?void 0:r.description)&&l.jsx(L,{muted:!0,size:0,children:bde(r.description)}),!i.length&&a.length>0&&l.jsxs(ee,{space:2,children:[l.jsxs(H,{align:"center",gap:1,children:[l.jsx(Ht,{muted:!0,size:0,children:"Used in document types"}),l.jsx(Q,{padding:1,radius:2,tone:"transparent",children:l.jsx(L,{size:0,muted:!0,children:a.length})})]}),l.jsxs(L,{size:0,weight:"regular",muted:!0,children:[a.slice(0,QO).join(", "),(a==null?void 0:a.length)>QO?" +".concat(a.length-QO," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:t})}function bde(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:256;return e.length>t?"".concat(e.slice(0,t-1),"…"):e}const T0n=re.memo(function(t){let{item:n,onClose:r,...o}=t;const[i,s]=h.useState(!1),{dispatch:a,state:{filters:c}}=Pt(),u=h.useCallback(()=>{a({filter:n.filter,type:"TERMS_FILTERS_ADD"}),r==null||r()},[a,n.filter,r]),d=!!c.find(g=>Ki(g)===Ki(n.filter)),f=h.useRef(),p=h.useCallback(()=>{f.current=setTimeout(()=>s(!0),500)},[]),m=h.useCallback(()=>{s(!1),clearTimeout(f.current)},[]);h.useEffect(()=>()=>clearTimeout(f.current),[]);const v=!!(n.fieldDefinition||n.filterDefinition.description);return l.jsx(M,{...o,children:l.jsx(oe,{disabled:d,fontSize:1,justify:"flex-start",mode:"bleed",onClick:d?void 0:u,onMouseEnter:p,onMouseLeave:m,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:n==null?void 0:n.tone,children:l.jsx(j0n,{fieldDefinition:n.fieldDefinition,filterDefinition:n.filterDefinition,visible:v&&i,children:l.jsx(M,{padding:3,children:l.jsx(qOe,{filter:n.filter})})})})})}),A0n=re.memo(function(t){let{item:n}=t;return l.jsx(M,{paddingTop:1,children:l.jsx(Q,{borderBottom:!0,padding:3,tone:n==null?void 0:n.tone,children:l.jsx(Ht,{muted:!0,size:0,textOverflow:"ellipsis",children:n.title})})})});function D0n(e){let{onClose:t}=e;const[n,r]=h.useState(null),[o,i]=h.useState(""),s=h.useCallback(x=>i(x.currentTarget.value),[i]),a=h.useCallback(()=>i(""),[]),c=jn(),{state:{documentTypesNarrowed:u,definitions:d,filters:f,terms:{types:p}}}=Pt(),m=h.useMemo(()=>v0n({documentTypesNarrowed:u,fieldDefinitions:d.fields,filterDefinitions:d.filters,schema:c,titleFilter:o,types:p}),[u,d.fields,d.filters,c,o,p]),v=h.useCallback(x=>x.type==="filter"?l.jsx(T0n,{item:x,onClose:t,paddingBottom:1}):x.type==="header"?l.jsx(A0n,{item:x}):null,[t]),g=h.useCallback(x=>{const y=m[x];return y.type!=="filter"||!!f.find(w=>Ki(w)===Ki(y.filter))},[m,f]),b=h.useCallback(x=>{const y=m[x];switch(y.type){case"filter":return[...y.group?[y.group]:[],Ki(y.filter)].join("-");case"header":return"".concat(y.type,"-").concat(y.title);default:return x}},[m]);return l.jsxs(H,{direction:"column",style:{width:"300px"},children:[l.jsx(UOe,{ariaInputLabel:"Filter by title",onChange:s,onClear:a,ref:r,typeFilter:o}),l.jsxs(H,{children:[m.length>0&&l.jsx(uh,{activeItemDataAttr:"data-hovered",ariaLabel:"Filters",autoFocus:"input",getItemDisabled:g,getItemKey:b,inputElement:n,itemHeight:45,items:m,overscan:20,padding:1,paddingBottom:0,renderItem:v}),m.length==0&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",o,"'"]})})]})]})}function xde(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),{state:{fullscreen:o}}=Pt(),i=h.useCallback(()=>t(!1),[]),s=h.useCallback(()=>t(!0),[]);return l.jsx(rn,{__unstable_margins:[yC,0,0,0],content:l.jsx(LN,{anchorElement:n,onClose:i,children:l.jsx(D0n,{onClose:i})}),open:e,placement:"bottom-start",radius:a1,portal:!0,children:l.jsx(oe,{fontSize:1,icon:Zs,mode:"bleed",onClick:s,padding:o?3:2,ref:r,selected:e,space:2,text:"Add filter"})})}const I0n=re.memo(function(t){let{selected:n,type:r,...o}=t;var i,s;const{dispatch:a}=Pt(),c=h.useCallback(()=>{a({type:"TERMS_TYPE_ADD",schemaType:r})},[a,r]),u=h.useCallback(()=>{a({type:"TERMS_TYPE_REMOVE",schemaType:r})},[a,r]),d=h.useCallback(()=>{n?u():c()},[c,u,n]);return l.jsx(M,{...o,children:l.jsx(oe,{fontSize:1,iconRight:n&&ea,justify:"flex-start",mode:"bleed",onClick:d,style:{width:"100%"},tabIndex:-1,text:(s=r.title)!=null?s:r.name,tone:n?"primary":"default"},(i=r.title)!=null?i:r.name)})});var wde=Object.freeze,O0n=Object.defineProperty,P0n=(e,t)=>wde(O0n(e,"raw",{value:wde(t||e.slice())})),Cde;const R0n=P(M)(Cde||(Cde=P0n([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.border});function $0n(){const[e,t]=h.useState(null),[n,r]=h.useState(""),o=h.useRef(null),i=jn(),{dispatch:s,state:{terms:{types:a}}}=Pt(),[c,u]=h.useState(a),d=F0n(i,a,c,n),f=h.useCallback(y=>r(y.currentTarget.value),[r]),p=h.useCallback(()=>r(""),[]),m=h.useCallback(()=>{var y,w;u([]),s({type:"TERMS_TYPES_CLEAR"}),(y=o==null?void 0:o.current)==null||y.focusInputElement(),(w=o==null?void 0:o.current)==null||w.scrollToIndex(0)},[s]),v=h.useCallback(y=>{const w=d[y];switch(w.type){case"divider":return"".concat(w.type,"-").concat(y);case"header":return"".concat(w.type,"-").concat(w.title);case"item":return"".concat(w.type,"-").concat(w.item.name);default:return y}},[d]),g=h.useCallback(y=>y.type==="divider"?l.jsx(M,{paddingY:1,children:l.jsx($r,{})}):y.type==="header"?l.jsx(M,{margin:1,paddingBottom:2,paddingTop:3,children:l.jsx(Ht,{muted:!0,size:0,children:y.title})}):y.type==="item"?l.jsx(I0n,{paddingBottom:1,selected:y.selected,type:y.item}):null,[]),b=h.useCallback(y=>d[y].type!=="item",[d]),x=h.useCallback(y=>{const w=d[y];return w.type==="item"&&w.selected},[d]);return l.jsxs(H,{direction:"column",style:{width:"250px"},children:[l.jsx(UOe,{ariaInputLabel:"Filter by document type",onChange:f,onClear:p,ref:t,typeFilter:n}),l.jsxs(H,{children:[d.length>0&&l.jsx(uh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document types",ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:b,getItemSelected:x,getItemKey:v,inputElement:e,itemHeight:37,items:d,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:g}),!d.length&&l.jsx(M,{padding:3,children:l.jsxs(L,{muted:!0,size:1,textOverflow:"ellipsis",children:["No matches for '",n,"'"]})})]}),!n&&a.length>0&&l.jsx(M0n,{onClick:m,selectedTypes:a})]})}function M0n(e){let{onClick:t,selectedTypes:n}=e;return l.jsx(R0n,{padding:1,children:l.jsx(ee,{children:l.jsx(oe,{"aria-label":"Clear checked filters","data-name":"type-filter-button",disabled:n.length===0,fontSize:1,mode:"bleed",onClick:t,padding:3,text:"Clear",tone:"primary"})})})}function F0n(e,t,n,r){return h.useMemo(()=>{const[o,i]=e9(upn(e,r),u=>n.includes(u)),s=o.length>0,a=o.length>0,c=[];return s&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),s&&a&&c.push({type:"divider"}),i.forEach(u=>c.push({item:u,selected:t.includes(u),type:"item"})),c},[e,t,n,r])}var _de=Object.freeze,L0n=Object.defineProperty,B0n=(e,t)=>_de(L0n(e,"raw",{value:_de(t||e.slice())})),Sde;const N0n=P(oe)(e=>{let{theme:t}=e;const{regular:n}=t.sanity.fonts.text.weights;return de(Sde||(Sde=B0n([`
    [data-ui='Text'] {
      font-weight: `,`;
    }
  `])),n)}),z0n=["top-start","bottom-start"];function V0n(){const[e,t]=h.useState(!1),[n,r]=h.useState(null),[o,i]=h.useState(null),{state:{fullscreen:s,terms:{types:a}}}=Pt(),c=h.useCallback(()=>t(!1),[]),u=h.useCallback(()=>t(!0),[]);dr(c,[n,o]);const d=h.useMemo(()=>jN({types:a}),[a]);return l.jsx(rn,{__unstable_margins:[yC,0,0,0],content:l.jsx(LN,{anchorElement:n,onClose:c,children:l.jsx($0n,{})}),open:e,placement:"bottom-start",fallbackPlacements:z0n,portal:!0,radius:a1,ref:i,children:l.jsx(N0n,{fontSize:1,iconRight:Bl,mode:"ghost",onClick:u,padding:s?3:2,ref:r,selected:e,style:{maxWidth:"100%"},text:d,tone:"default"})})}var Ede=Object.freeze,H0n=Object.defineProperty,U0n=(e,t)=>Ede(H0n(e,"raw",{value:Ede(t||e.slice())})),kde;const JO=P(M)(kde||(kde=U0n([`
  flex-shrink: `,`;
`])),e=>{let{$flexShrink:t=0}=e;return t});function GOe(e){let{filter:t,fontSize:n=1,showContent:r=!0}=e;const{state:{definitions:o,fullscreen:i}}=Pt(),s=zf(o.operators,t.operatorType),a=s==null?void 0:s.buttonValueComponent;return l.jsxs(H,{align:"center",gap:1,children:[l.jsx(JO,{$flexShrink:i?1:0,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(WOe,{filter:t,maxLength:i?25:40})})}),r&&(s==null?void 0:s.buttonLabel)&&l.jsx(JO,{$flexShrink:0,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"regular",children:s.buttonLabel})}),r&&a&&l.jsx(JO,{$flexShrink:1,children:l.jsx(cr,{tone:"default",size:n,textOverflow:"ellipsis",weight:"semibold",children:l.jsx(a,{value:t==null?void 0:t.value})})})]})}function W0n(e){return l.jsx(M,{...e,children:l.jsxs(H,{align:"flex-start",gap:3,children:[l.jsx(cr,{tone:"critical",children:l.jsx(la,{})}),l.jsxs(ee,{space:4,children:[l.jsx(cr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst displaying this filter."}),l.jsx(cr,{size:1,tone:"critical",children:"This may indicate invalid options defined in your schema."})]})]})})}function q0n(e){let{onClick:t,operator:n,selected:r}=e;const o=h.useCallback(()=>t(n.type),[t,n.type]);return l.jsx(ze,{onClick:o,padding:3,pressed:r,tone:"default",children:l.jsxs(H,{align:"center",justify:"space-between",gap:3,children:[l.jsx(M,{paddingRight:2,children:l.jsx(L,{size:1,weight:"regular",children:n.label})}),(n==null?void 0:n.icon)&&l.jsx(L,{muted:!0,size:1,children:h.createElement(n.icon)})]})})}function Y0n(e){let{filter:t,operator:n}=e;var r;const o=h.useId(),{dispatch:i,state:s}=Pt(),a=(r=ph(s.definitions.filters,t.filterName))==null?void 0:r.operators,c=h.useCallback(u=>{i({filterKey:Ki(t),operatorType:u,type:"TERMS_FILTERS_SET_OPERATOR"})},[i,t]);return!n||!a||a.length<=1?null:l.jsx(Zt,{children:l.jsx(on,{button:l.jsx(oe,{mode:"ghost",padding:3,children:l.jsxs(H,{align:"center",gap:2,justify:"space-between",children:[l.jsx(L,{size:s.fullscreen?2:1,weight:"regular",children:n.label}),l.jsx(M,{marginLeft:1,children:l.jsx(L,{size:1,children:l.jsx(Bl,{})})})]})}),id:o||"",menu:l.jsx(Nt,{children:a.map((u,d)=>{if(u.type==="item"){const f=zf(s.definitions.operators,u.name);return f?l.jsx(q0n,{onClick:c,operator:f,selected:n.type===u.name},d):null}return u.type==="divider"?l.jsx($r,{},d):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function G0n(e){let{filter:t}=e;const[n,r]=h.useState(null),{dispatch:o,state:{definitions:i,fullscreen:s}}=Pt(),a=ph(i.filters,t.filterName),c=zf(i.operators,t.operatorType),u=td(i.fields,t),d=Ki(t),f=h.useCallback(()=>{o({filterKey:Ki(t),type:"TERMS_FILTERS_REMOVE"})},[o,t]),p=h.useCallback(g=>{o({filterKey:d,type:"TERMS_FILTERS_SET_VALUE",value:g})},[o,d]),m=h.useCallback(g=>{r(g)},[]),v=c==null?void 0:c.inputComponent;return n?l.jsx(W0n,{padding:4}):l.jsx(j0,{onCatch:m,children:l.jsx(rh,{autoFocus:!tm,returnFocus:!0,children:l.jsxs(H,{direction:"column-reverse",children:[v&&l.jsx(Q,{borderTop:!0,padding:3,children:l.jsx(v,{fieldDefinition:u,onChange:p,value:t.value},t.operatorType)}),l.jsx(Q,{padding:3,children:l.jsxs(ee,{space:3,children:[l.jsxs(H,{align:"flex-start",gap:3,justify:"space-between",children:[l.jsx(M,{paddingBottom:1,paddingLeft:1,paddingRight:2,paddingTop:s?2:1,children:l.jsx(qOe,{filter:t,small:!s})}),s&&l.jsx(oe,{fontSize:2,icon:yo,mode:"bleed",onClick:f,padding:2,tone:"critical"})]}),(a==null?void 0:a.description)&&l.jsx(Q,{border:!0,padding:3,radius:2,tone:"transparent",children:l.jsx(L,{muted:!0,size:1,children:a.description})}),l.jsx(Y0n,{filter:t,operator:c})]})})]})})})}var jde=Object.freeze,K0n=Object.defineProperty,Z0n=(e,t)=>jde(K0n(e,"raw",{value:jde(t||e.slice())})),Tde;const X0n=P(H)(Tde||(Tde=Z0n([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function Q0n(e){let{filter:t}=e;return l.jsxs(X0n,{direction:"column",children:[l.jsx(G0n,{filter:t}),cOe]})}var Ade=Object.freeze,J0n=Object.defineProperty,iD=(e,t)=>Ade(J0n(e,"raw",{value:Ade(t||e.slice())})),Dde,Ide,Ode,Pde;const e1n=P(oe)(Dde||(Dde=iD([`
  border-radius: `,`;
`])),e=>{let{theme:t}=e;return"0 ".concat(ge(t.sanity.radius[2])," ").concat(ge(t.sanity.radius[2])," 0")}),t1n=P(Q)(Ide||(Ide=iD([`
  position: absolute;
  right: 0;
`]))),n1n=P.div(Ode||(Ode=iD([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),r1n=P(oe)(Pde||(Pde=iD([`
  border: none;
  width: 100%;
`])));function o1n(e){let{filter:t,initialOpen:n}=e;const[r,o]=h.useState(n),{dispatch:i,state:{definitions:s,fullscreen:a}}=Pt(),c=h.useCallback(()=>o(!1),[]),u=h.useCallback(()=>o(!0),[]),d=h.useCallback(()=>i({filterKey:Ki(t),type:"TERMS_FILTERS_REMOVE"}),[i,t]),f=h.useCallback(m=>{["Backspace","Delete"].includes(m.key)&&d()},[d]),p=xC({fieldDefinitions:s.fields,filter:t,filterDefinitions:s.filters,operatorDefinitions:s.operators});return l.jsx(rn,{__unstable_margins:[yC,0,0,0],content:l.jsx(LN,{onClose:c,children:l.jsx(Q0n,{filter:t})}),constrainSize:!0,open:r,overflow:"auto",placement:"bottom-start",portal:!0,radius:a1,children:l.jsxs(n1n,{children:[l.jsx(Q,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(r1n,{mode:"bleed",onClick:u,onKeyDown:f,paddingLeft:a?3:2,paddingRight:a?3:5,paddingY:a?3:2,children:l.jsx(GOe,{filter:t,showContent:p})})}),!a&&l.jsx(t1n,{__unstable_focusRing:!0,display:"flex",radius:2,tone:p?"primary":"transparent",children:l.jsx(e1n,{"aria-label":"Delete filter",fontSize:1,icon:Di,mode:"bleed",onClick:d,onKeyDown:f,padding:2,radius:2})})]})})}function KOe(){const{dispatch:e,state:{filters:t,fullscreen:n,lastAddedFilter:r,terms:{types:o}}}=Pt(),i=h.useRef(!1),s=h.useCallback(()=>{e({type:"TERMS_FILTERS_CLEAR"}),e({type:"TERMS_TYPES_CLEAR"})},[e]),a=t.length>0||o.length>0;h.useEffect(()=>{i.current=!0},[]);const c=r&&Ki(r),u=()=>l.jsx(oe,{fontSize:1,mode:"bleed",onClick:s,padding:n?3:2,text:"Clear filters",tone:"critical"});return l.jsxs(l.Fragment,{children:[l.jsxs(H,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[l.jsxs(H,{flex:1,gap:2,wrap:"wrap",children:[l.jsx(V0n,{}),t==null?void 0:t.map(d=>{const f=Ki(d);return l.jsx(o1n,{filter:d,initialOpen:i.current&&c===f},f)}),!n&&l.jsx(xde,{})]}),a&&!n&&l.jsx(u,{})]}),n&&l.jsxs(H,{justify:"space-between",paddingBottom:2,paddingX:2,children:[l.jsx(xde,{}),a&&l.jsx(u,{})]}),cOe]})}function i1n(){return l.jsx(H,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:l.jsxs(Zt,{space:3,children:[l.jsx(L,{muted:!0,children:"Use"}),l.jsx(L,{muted:!0,children:l.jsx(hj,{})}),l.jsx(L,{muted:!0,children:"to refine your search"})]})})}function s1n(e){let{availableCharacters:t,types:n}=e;const r=h.useMemo(()=>jN({availableCharacters:t,types:n}),[t,n]);return l.jsx(Q,{border:!0,padding:2,radius:2,children:l.jsx(L,{muted:!0,size:1,children:r})})}var Rde=Object.freeze,a1n=Object.defineProperty,l1n=(e,t)=>Rde(a1n(e,"raw",{value:Rde(t||e.slice())})),$de;const c1n=P(Q)($de||($de=l1n([`
  cursor: default;
`])));function u1n(e){let{filter:t}=e;return l.jsx(c1n,{border:!0,padding:2,radius:2,tone:"primary",children:l.jsx(GOe,{filter:t})})}var Mde=Object.freeze,d1n=Object.defineProperty,sD=(e,t)=>Mde(d1n(e,"raw",{value:Mde(t||e.slice())})),Fde,Lde,Bde,Nde;const f1n=40,ZOe=P(oe)(Fde||(Fde=sD([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),e=>{let{theme:t}=e;return ge(t.sanity.radius[2])}),h1n=P(M)(Lde||(Lde=sD([`
  flex-shrink: 3;
`]))),p1n=P(M)(Bde||(Bde=sD([`
  flex-shrink: 2;
`]))),m1n=P.div(Nde||(Nde=sD([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),ZOe);function g1n(e){let{index:t,maxVisibleTypePillChars:n=f1n,value:r,...o}=e;var i;const{dispatch:s,recentSearchesStore:a}=Pt(),c=n-r.query.length,u=h.useCallback(()=>{if(s({type:"TERMS_SET",filters:r==null?void 0:r.filters,terms:r}),a){const f=a==null?void 0:a.addSearch(r,r==null?void 0:r.filters);s({recentSearches:f,type:"RECENT_SEARCHES_SET"})}},[s,a,r]),d=h.useCallback(f=>{if(f.stopPropagation(),a){const p=a==null?void 0:a.removeSearchAtIndex(t);s({recentSearches:p,type:"RECENT_SEARCHES_SET"})}},[s,t,a]);return l.jsx(M,{...o,children:l.jsx(ZOe,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:l.jsxs(H,{align:"stretch",children:[l.jsxs(Zt,{paddingY:2,children:[l.jsx(L,{muted:!0,size:1,children:l.jsx(j0e,{})}),l.jsx(L,{children:"​"})]}),l.jsxs(H,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[r.query&&l.jsx(p1n,{paddingY:2,children:l.jsx(L,{muted:!0,textOverflow:"ellipsis",children:r.query})}),r.types.length>0&&l.jsx(h1n,{children:l.jsx(s1n,{availableCharacters:c,types:r.types})}),(i=r==null?void 0:r.filters)==null?void 0:i.map((f,p)=>l.jsx(u1n,{filter:f},p))]}),l.jsx(H,{align:"center",children:l.jsx(m1n,{onClick:d,children:l.jsx(H,{padding:2,children:l.jsx(L,{size:1,children:l.jsx(Di,{})})})})})]})})})}var zde=Object.freeze,v1n=Object.defineProperty,y1n=(e,t)=>zde(v1n(e,"raw",{value:zde(t||e.slice())})),Vde;const b1n=36,x1n=20,w1n=40,C1n=P(Q)(Vde||(Vde=y1n([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function XOe(e){let{inputElement:t}=e;const{dispatch:n,recentSearchesStore:r,state:{filtersVisible:o,fullscreen:i,recentSearches:s}}=Pt(),a=h.useRef(null),c=h.useCallback(()=>{var m;if(r){const v=r.removeSearch();n({recentSearches:v,type:"RECENT_SEARCHES_SET"})}(m=a==null?void 0:a.current)==null||m.focusInputElement()},[n,r]),u=bm(),d=h.useMemo(()=>u<2?x1n:w1n,[u]),f=h.useCallback((m,v)=>{let{virtualIndex:g}=v;return l.jsx(g1n,{index:g,maxVisibleTypePillChars:d,paddingBottom:1,value:m})},[d]),p=!!s.length;return l.jsx(C1n,{borderTop:p||!p&&!o&&i,flex:1,children:s.length?l.jsxs(l.Fragment,{children:[l.jsx(M,{paddingBottom:2,paddingTop:4,paddingX:3,children:l.jsx(Ht,{muted:!0,size:1,children:"Recent searches"})}),l.jsx(M,{children:l.jsx(uh,{activeItemDataAttr:"data-hovered",ariaLabel:"Recent searches",inputElement:t,initialIndex:0,itemHeight:b1n,items:s,paddingX:2,paddingY:1,renderItem:f})}),l.jsx(M,{paddingBottom:2,paddingTop:1,paddingX:2,children:l.jsx(oe,{fontSize:1,justify:"flex-start",mode:"bleed",onClick:c,padding:2,tone:"default",children:l.jsx(L,{muted:!0,size:1,children:"Clear recent searches"})})})]}):!o&&i&&l.jsx(i1n,{})})}var Hde=Object.freeze,_1n=Object.defineProperty,aD=(e,t)=>Hde(_1n(e,"raw",{value:Hde(t||e.slice())})),Ude,Wde,qde,Yde;const S1n=fm(Ude||(Ude=aD([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),E1n=P(uw)(Wde||(Wde=aD([`
  animation: `,` 500ms linear infinite;
`])),S1n),k1n=P(M)(qde||(qde=aD([`
  position: relative;
`]))),j1n=P.div(Yde||(Yde=aD([`
  background: `,`;
  border-radius: 100%;
  height: 6px;
  position: absolute;
  right: 2px;
  top: 2px;
  width: 6px;
`])),e=>{let{theme:t}=e;var n;return(n=t.sanity.color.selectable)==null?void 0:n.primary.enabled.fg}),QOe=h.forwardRef(function(t,n){let{ariaInputLabel:r,onClose:o}=t;const i=h.useRef(!1),{dispatch:s,state:{filters:a,filtersVisible:c,fullscreen:u,result:{loading:d},terms:{types:f,query:p}}}=Pt(),m=h.useCallback(()=>s({type:"FILTERS_VISIBLE_SET",visible:!c}),[s,c]),v=h.useCallback(x=>s({type:"TERMS_QUERY_SET",query:x.currentTarget.value}),[s]),g=h.useCallback(()=>{s({type:"TERMS_QUERY_SET",query:""})},[s]);h.useEffect(()=>{u||s({type:"FILTERS_VISIBLE_SET",visible:!0})},[s,u]),h.useEffect(()=>{i.current=!0},[]);const b=a.length>0||f.length>0;return l.jsx(Q,{flex:"none",children:l.jsxs(H,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&l.jsx(Q,{children:l.jsx(oe,{"aria-label":"Close search",icon:lw,mode:"bleed",onClick:o})}),l.jsx(M,{flex:1,children:l.jsx(PN,{"aria-label":r,autoComplete:"off",background:u,border:!1,clearButton:!!p,fontSize:2,icon:d?E1n:ei,onChange:v,onClear:g,placeholder:"Search",radius:u?2:1,ref:n,smallClearButton:u,spellCheck:!1,value:p})}),u&&l.jsxs(k1n,{children:[l.jsx(oe,{"aria-expanded":c,"aria-label":"Toggle filters",height:"fill",icon:hj,mode:"bleed",onClick:m,padding:3,selected:c,tone:"default"}),b&&l.jsx(j1n,{})]})]})})});function T1n(){return l.jsx(eo,{width:0,children:l.jsxs(ee,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[l.jsx(L,{align:"center",muted:!0,weight:"semibold",children:"No results found"}),l.jsx(L,{align:"center",muted:!0,size:1,children:"Try another keyword or adjust your filters"})]})})}function A1n(){return l.jsxs(H,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[l.jsx(M,{marginBottom:1,children:l.jsx(cr,{tone:"critical",children:l.jsx(Br,{})})}),l.jsx(cr,{size:2,tone:"critical",weight:"semibold",children:"Something went wrong while searching"}),l.jsx(cr,{size:1,tone:"critical",children:"Please try again or check your connection"})]})}const Jh={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},title:"Created: Oldest first"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},title:"Created: Newest first"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},title:"Best match"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},title:"Updated: Oldest first"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},title:"Updated: Newest first"}};var Gde=Object.freeze,D1n=Object.defineProperty,I1n=(e,t)=>Gde(D1n(e,"raw",{value:Gde(t||e.slice())})),Kde;const Zde=[Jh.relevance,{type:"divider"},Jh.createdAsc,Jh.createdDesc,{type:"divider"},Jh.updatedAsc,Jh.updatedDesc],O1n=P(H)(Kde||(Kde=I1n([`
  box-sizing: border-box;
`])));function Xde(e){return e.type==="divider"}function P1n(e){let{ordering:t}=e;const{dispatch:n,state:{ordering:r}}=Pt(),o=h.useCallback(()=>{n({ordering:t,type:"ORDERING_SET"})},[n,t]),i=h.useMemo(()=>Ut(r,t),[r,t]);return l.jsx(ze,{onClick:o,padding:3,pressed:i,tone:"default",children:l.jsx(H,{align:"center",justify:"space-between",paddingRight:2,children:l.jsx(L,{size:1,weight:"medium",children:t.title})})})}function R1n(){const{state:{ordering:e}}=Pt(),t=h.useId(),n=Zde.find(r=>Ut(e,r)&&!Xde(r));return n?l.jsx(Q,{borderBottom:!0,children:l.jsx(O1n,{align:"center",flex:1,padding:2,children:l.jsx(on,{button:l.jsx(oe,{mode:"bleed",padding:2,children:l.jsxs(H,{align:"center",gap:1,justify:"space-between",children:[l.jsx(M,{marginRight:1,children:l.jsx(L,{size:1,children:l.jsx(GF,{})})}),l.jsx(Zt,{space:2,children:l.jsx(L,{size:1,weight:"medium",children:n.title})})]})}),id:t||"",menu:l.jsx(Nt,{children:Zde.map((r,o)=>Xde(r)?l.jsx($r,{},o):l.jsx(P1n,{ordering:r},o))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var Qde=Object.freeze,$1n=Object.defineProperty,M1n=(e,t)=>Qde($1n(e,"raw",{value:Qde(t||e.slice())})),Jde;const F1n=P(Q)(Jde||(Jde=M1n([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function L1n(e){let{data:t}=e;const{score:n}=t;let r="default";n<=.1?r="critical":n>=.5&&(r="primary");const o=t.stories.filter(i=>i.score>0);return l.jsx(l.Fragment,{children:l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(ee,{space:2,children:o.length?l.jsx(l.Fragment,{children:o.map(i=>l.jsxs(Zt,{space:3,children:[l.jsx(lr,{size:0,weight:"semibold",children:i.path}),l.jsx(lr,{size:0,children:i.why})]},i.path))}):l.jsx(lr,{size:0,children:"No matches"})})}),placement:"bottom-start",portal:!0,children:l.jsx(F1n,{padding:1,shadow:1,tone:r,children:l.jsxs(lr,{size:0,children:["score: ",n]})})})})}var efe=Object.freeze,B1n=Object.defineProperty,N1n=(e,t)=>efe(B1n(e,"raw",{value:efe(t||e.slice())})),tfe;const z1n=59,V1n=4,H1n=P(H)(tfe||(tfe=N1n([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),e=>{let{$loading:t}=e;return t?.5:1});function JOe(e){let{inputElement:t}=e;const{dispatch:n,onClose:r,recentSearchesStore:o,setSearchCommandList:i,state:{debug:s,filters:a,fullscreen:c,lastActiveIndex:u,result:d,terms:f}}=Pt(),p=!!d.hits.length,m=!d.hits.length&&d.loaded,v=d.error,g=h.useCallback(()=>{if(o){const x=o.addSearch(f,a);n({recentSearches:x,type:"RECENT_SEARCHES_SET"})}r==null||r()},[n,a,r,o,f]),b=h.useCallback(x=>l.jsxs(l.Fragment,{children:[l.jsx(kN,{documentId:$n(x.hit._id)||"",documentType:x.hit._type,onClick:g,paddingBottom:2}),s&&l.jsx(L1n,{data:x})]}),[s,g]);return l.jsx(H,{children:l.jsx(Q,{borderTop:c||!!(v||p||m),flex:1,children:l.jsxs(H,{direction:"column",height:"fill",children:[p&&l.jsx(R1n,{}),l.jsx(H1n,{$loading:d.loading,"aria-busy":d.loading,flex:1,children:v?l.jsx(A1n,{}):l.jsxs(l.Fragment,{children:[p&&l.jsx(uh,{activeItemDataAttr:"data-hovered",ariaLabel:"Search results",fixedHeight:!0,initialIndex:u,inputElement:t,itemHeight:z1n,items:d.hits,overscan:V1n,padding:2,paddingBottom:0,ref:i,renderItem:b}),m&&l.jsx(T1n,{})]})})]})})})}var nfe=Object.freeze,U1n=Object.defineProperty,ePe=(e,t)=>nfe(U1n(e,"raw",{value:nfe(t||e.slice())})),rfe,ofe;const W1n=P(Q)(rfe||(rfe=ePe([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),q1n=P(M)(ofe||(ofe=ePe([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function Y1n(e){let{onClose:t,onOpen:n,open:r}=e;const[o,i]=h.useState(null),{scheme:s}=Hc(),{state:{filtersVisible:a,terms:c}}=Pt(),u=JA({terms:c});return l.jsx(VOe,{hasValidTerms:u,onClose:t,onOpen:n,open:r,children:l.jsx(wm,{children:l.jsx(rh,{autoFocus:!tm,returnFocus:!0,children:l.jsx(q1n,{children:l.jsxs(W1n,{display:"flex",height:"fill",scheme:s,tone:"default",children:[l.jsx(QOe,{ariaInputLabel:u?"Search results":"Recent searches",onClose:t,ref:i}),a&&l.jsx(Q,{borderTop:!0,flex:"none",children:l.jsx(KOe,{})}),u?l.jsx(JOe,{inputElement:o}):l.jsx(XOe,{inputElement:o})]})})})})})}var ife=Object.freeze,G1n=Object.defineProperty,BN=(e,t)=>ife(G1n(e,"raw",{value:ife(t||e.slice())})),sfe,afe,lfe;const K1n=P(H)(sfe||(sfe=BN([`
  position: absolute;
  right: 0;
  top: 0;

  & > :first-child {
    margin-right: 1px;
  }
`]))),Z1n=P(H)(afe||(afe=BN([`
  min-width: 253px;
  max-width: 350px;
  position: relative;
`]))),X1n=P(Lr)(lfe||(lfe=BN([`
  padding-right: 60px;
`]))),Q1n=h.forwardRef(function(t,n){let{onOpen:r}=t;const{dispatch:o,state:{terms:i}}=Pt(),s=h.useCallback(c=>{o({type:"TERMS_QUERY_SET",query:c.currentTarget.value}),r()},[o,r]),a=h.useCallback(c=>{c.key==="Enter"&&r()},[r]);return l.jsxs(Z1n,{align:"center",children:[l.jsx(X1n,{"aria-autocomplete":"list","aria-expanded":"false",autoComplete:"off",icon:ei,"data-testid":"studio-search",onChange:s,onClick:r,onKeyDown:a,placeholder:"Search",radius:2,ref:n,role:"combobox",value:i.query}),l.jsxs(K1n,{align:"center",height:"fill",marginRight:2,children:[l.jsx(n$,{children:lpn}),l.jsx(n$,{children:uOe.toUpperCase()})]})]})});var cfe=Object.freeze,J1n=Object.defineProperty,qS=(e,t)=>cfe(J1n(e,"raw",{value:cfe(t||e.slice())})),ufe,dfe,ffe,hfe;const eyn=P.div(ufe||(ufe=qS([`
  background-color: `,`;
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`])),e=>{let{theme:t}=e;return t.sanity.color.base.shadow.ambient}),tyn=P(Q)(hfe||(hfe=qS([`
  `,`
  display: flex !important;
  flex-direction: column;
  max-height: `,`;
  position: absolute;
  top: `,`px;
  width: min(calc(100vw - `,"px), ",`px);
`])),e=>{let{$position:t}=e;return t.x?de(dfe||(dfe=qS([`
          left: `,`px;
        `])),t.x):de(ffe||(ffe=qS([`
          left: 50%;
          transform: translateX(-50%);
        `])))},e=>{let{$position:t}=e;return"min(calc(100vh - ".concat(t.y,"px - ").concat(Ux,"px), ").concat(cpn,"px)")},e=>{let{$position:t}=e;return t.y},Ux*2,dOe);function nyn(e){let{disableFocusLock:t,onClose:n,onOpen:r,open:o,position:i}=e;const[s,a]=h.useState(null),[c,u]=h.useState(null),{isTopLayer:d,zIndex:f}=tl(),{scheme:p}=Hc(),{onClose:m,state:{filtersVisible:v,terms:g}}=Pt(),b=JA({terms:g}),x=h.useCallback(()=>{d&&m&&o&&m()},[d,m,o]);return dr(x,[s]),l.jsx(VOe,{hasValidTerms:b,onClose:n,onOpen:r,open:o,children:l.jsx(wm,{children:l.jsxs(rh,{autoFocus:!tm,disabled:t,returnFocus:!0,children:[l.jsx(eyn,{style:{zIndex:f}}),l.jsxs(tyn,{$position:i,overflow:"hidden",radius:a1,ref:a,scheme:p,shadow:2,style:{zIndex:f},children:[l.jsx(QOe,{ariaInputLabel:b?"Search results":"Recent searches",onClose:n,ref:u}),v&&l.jsx(Q,{borderTop:!0,flex:"none",children:l.jsx(KOe,{})}),b?l.jsx(JOe,{inputElement:c}):l.jsx(XOe,{inputElement:c})]})]})})})}function ryn(){const[e,t]=h.useState(null),[n,r]=h.useState(!1),o=h.useCallback(()=>r(!1),[]),i=h.useCallback(()=>r(!0),[]),s=oyn(e);return l.jsxs(l.Fragment,{children:[l.jsx(Q1n,{onOpen:i,ref:t}),s&&l.jsx(nyn,{onClose:o,onOpen:i,open:n,position:s})]})}function pfe(e){const t=e.getBoundingClientRect();return{x:window.innerWidth-t.x>dOe?t.x-Ux:null,y:t.y-Ux}}function oyn(e){const[t,n]=h.useState(null),r=h.useCallback(()=>{e&&n(pfe(e))},[e]);return h.useEffect(()=>{e&&n(pfe(e))},[e]),h.useEffect(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[r]),t}const iyn="search::recent",syn=5,qx=2;function ayn(e){let{dataset:t,fieldDefinitions:n,filterDefinitions:r,operatorDefinitions:o,projectId:i,schema:s,user:a,version:c=qx}=e;if(!t||!i||!tPe||!a)return;const u="".concat(iyn,"__").concat(i,":").concat(t,":").concat(a.id);return{addSearch:(d,f)=>{const m=(f||[]).map(x=>({fieldId:x.fieldId,filterName:x.filterName,operatorType:x.operatorType,value:x.value})).filter(x=>xC({fieldDefinitions:n,filter:x,filterDefinitions:r,operatorDefinitions:o})),v={created:new Date().toISOString(),filters:m,terms:{query:d.query.trim(),typeNames:d.types.map(x=>x.name)}},g=JSON.stringify(Ri(v,"created")),b={version:c,recentSearches:[v,...Ab(u,c).recentSearches.filter(x=>JSON.stringify(Ri(x,"created"))!==g)].slice(0,syn)};return window.localStorage.setItem(u,JSON.stringify(b)),ly({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},getRecentSearches:()=>ly({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c}),removeSearch:()=>{const f={...Ab(u,c),recentSearches:[]};return window.localStorage.setItem(u,JSON.stringify(f)),ly({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})},removeSearchAtIndex:d=>{const f=Ab(u,c);if(d<0||d>f.recentSearches.length)return ly({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c});const p={...f,recentSearches:[...f.recentSearches.slice(0,d),...f.recentSearches.slice(d+1)]};return window.localStorage.setItem(u,JSON.stringify(p)),ly({fieldDefinitions:n,filterDefinitions:r,lsKey:u,operatorDefinitions:o,schema:s,version:c})}}}function Ab(e,t){const n=tPe?window.localStorage.getItem(e):void 0;return n?JSON.parse(n):{version:t,recentSearches:[]}}function ly(e){let{lsKey:t,schema:n,fieldDefinitions:r,filterDefinitions:o,operatorDefinitions:i,version:s}=e;const a=lyn({lsKey:t,storedSearch:Ab(t,s)});return cyn({studioSchema:n,storedSearch:a,lsKey:t,filterDefinitions:o,fieldDefinitions:r,operatorDefinitions:i,version:s}).recentSearches.filter(c=>!!c.terms).map((c,u)=>({__recent:{index:u,timestamp:new Date(c.created).getTime()},filters:c.filters,query:c.terms.query,types:c.terms.typeNames.map(d=>n.get(d)).filter(d=>!!(d&&d.jsonType==="object"))}))}function lyn(e){let{lsKey:t,storedSearch:n}=e;if(n.version!==qx){const r={version:qx,recentSearches:[]};return window.localStorage.setItem(t,JSON.stringify(r)),r}return n}function cyn(e){let{fieldDefinitions:t,filterDefinitions:n,lsKey:r,operatorDefinitions:o,storedSearch:i,studioSchema:s,version:a}=e;const c=eD(s).map(f=>f.name),u=i.recentSearches.filter(f=>f.terms.typeNames.every(p=>c.includes(p))&&f.filters.every(p=>xC({fieldDefinitions:t,filter:p,filterDefinitions:n,operatorDefinitions:o}))),d={version:qx,recentSearches:u};return d.recentSearches.length<i.recentSearches.length&&window.localStorage.setItem(r,JSON.stringify(d)),Ab(r,a)}const tPe=(()=>{const e="__tmp__can_use";try{return typeof localStorage>"u"?!1:(localStorage.setItem(e,"---"),localStorage.removeItem(e),!0)}catch{return!1}})(),uyn=3;function dyn(e,t){var n;const r=eD(e).map(a=>a.name),{documentTypes:o,objectTypes:i}=(((n=e._original)==null?void 0:n.types)||[]).filter(a=>mfe(a)?r.includes(a.name):!0).filter(a=>a.name!=="slug").filter(a=>!a.name.startsWith("sanity.")).reduce((a,c)=>(mfe(c)&&(a.documentTypes[c.name]=c),rPe(c)&&(a.objectTypes[c.name]=c),a),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},s=Khn(t);return pyn(s,o,i)}function fyn(e){return e.reduce((t,n)=>(t[n.id]=n,t),{})}function hyn(e){return[e.type,e.fieldPath,e.filterName,e.documentTypes.join(",")].join("-")}function pyn(e,t,n){function r(i){let{acc:s,defType:a,depth:c=0,documentType:u,prevFieldPath:d,prevTitlePath:f}=i;var p;const m=c<=uyn,v=a.name.startsWith("_"),g=a!=null&&a.title?YOe(a.title):fn(a.name),b=d?"".concat(d,".").concat(a.name):a.name,x=f?[...f,g]:[g];if(!m)return;const y=n[a.type],w=t[a.type],C=rPe(a)?a:null,_=w||y||C;if(_){(p=_==null?void 0:_.fields)==null||p.forEach(S=>r({acc:s,defType:S,depth:c+1,documentType:u,prevFieldPath:b,prevTitlePath:x}));return}e.includes(a.type)&&s.push({documentTypes:u&&!v?[u]:[],fieldPath:b,filterName:byn(a),id:"",name:a.name,titlePath:x,title:g,type:a.type})}return Object.values(t).reduce((i,s)=>{const a=s.fields.reduce((c,u)=>(r({acc:c,defType:u,documentType:s.name}),c),[]);return i.push(...a),i},[]).reduce((i,s)=>{const a=i.findIndex(c=>c.fieldPath===s.fieldPath&&c.title===s.title&&c.type===s.type);return a>-1?i[a]={...i[a],documentTypes:[...i[a].documentTypes,...s.documentTypes]}:i.push(s),i},[]).map(myn).sort(xyn)}function myn(e){return{...e,id:hyn(e)}}function gyn(e){var t;return nPe(e)?e.of.every(n=>["boolean","number","string"].includes(n.type))&&((t=e.options)!=null&&t.list?e.options.list.length>0:!1):!1}function nPe(e){return e.type==="array"}function mfe(e){return e.type==="document"}function rPe(e){return e.type==="object"}function vyn(e){return e.type==="string"}function yyn(e){var t;return vyn(e)&&(t=e.options)!=null&&t.list?e.options.list.length>0:!1}function byn(e){if(yyn(e))return"stringList";if(nPe(e)){if(e.of.some(t=>t.type==="reference"))return"arrayReferences";if(e.of.find(t=>t.type==="block"))return"portableText";if(gyn(e))return"arrayList"}return e.type}function xyn(e,t){const n=e.titlePath.slice(0,-1).join("/"),r=t.titlePath.slice(0,-1).join("/");return e.title.localeCompare(t.title)||n.localeCompare(r)||e.fieldPath.localeCompare(t.fieldPath)}function oPe(e){return typeof e.__recent<"u"}const B4="core:studio:navbar:search:";Ud(B4);function wyn(e){const t="".concat(B4).concat(e);return Ud&&Ud.enabled(t)?Ud(t):Ud(B4)}function Cyn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(apn)}function _yn(e){let{currentUser:t,fullscreen:n,recentSearches:r=[],definitions:o}=e;return{currentUser:t,debug:Cyn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:n,lastActiveIndex:-1,ordering:Jh.relevance,pageIndex:0,recentSearches:r,result:{error:null,hasMore:null,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:o}}const Syn=wyn("reducer");function Eyn(e,t){let n="🔍";switch(t.type.startsWith("SEARCH_REQUEST")&&(n="🚨"),t.type.startsWith("RECENT_SEARCHES")&&(n="💾"),Syn(n,t),t.type){case"FILTERS_VISIBLE_SET":return{...e,filtersVisible:t.visible};case"LAST_ACTIVE_INDEX_SET":return{...e,lastActiveIndex:t.index};case"ORDERING_RESET":return{...e,ordering:Jh.relevance,terms:Th(e.terms)};case"ORDERING_SET":return{...e,ordering:t.ordering,terms:Th(e.terms)};case"PAGE_INCREMENT":return{...e,pageIndex:e.pageIndex+1,terms:Th(e.terms)};case"RECENT_SEARCHES_SET":return{...e,recentSearches:t.recentSearches};case"SEARCH_CLEAR":return{...e,pageIndex:0,result:{...e.result,hasMore:null,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...e,result:{...e.result,error:null,hasMore:t.hits.length>0,hits:e.pageIndex>0?[...e.result.hits,...t.hits]:t.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...e,result:{...e.result,error:t.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...e,result:{...e.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const r={...t.filter,value:s0n(e.definitions.operators,t.filter.operatorType)},o=[...e.filters,r];return{...e,documentTypesNarrowed:jh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,lastAddedFilter:r,terms:{...e.terms,filter:kh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const r=[];return{...e,documentTypesNarrowed:jh({fieldDefinitions:e.definitions.fields,filters:r,types:e.terms.types}),filters:r,terms:{...e.terms,filter:kh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const r=e.filters.findIndex(i=>Ki(i)===t.filterKey),o=[...e.filters.slice(0,r),...e.filters.slice(r+1)];return{...e,documentTypesNarrowed:jh({fieldDefinitions:e.definitions.fields,filters:o,types:e.terms.types}),filters:o,terms:{...e.terms,filter:kh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:o,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const r=e.filters.find(u=>Ki(u)===t.filterKey),o=zf(e.definitions.operators,r==null?void 0:r.operatorType),i=zf(e.definitions.operators,t.operatorType),s=i==null?void 0:i.initialValue,a=(o==null?void 0:o.inputComponent)!=(i==null?void 0:i.inputComponent),c=e.filters.map(u=>Ki(u)===t.filterKey?{...u,operatorType:t.operatorType,...a?{value:s}:{}}:u);return{...e,filters:c,terms:{...e.terms,filter:kh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:c,operatorDefinitions:e.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const r=e.filters.map(o=>Ki(o)===t.filterKey?{...o,value:t.value}:o);return{...e,filters:r,terms:{...e.terms,filter:kh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_QUERY_SET":return{...e,pageIndex:0,result:{...e.result,loaded:!1},terms:Th({...e.terms,query:t.query})};case"TERMS_SET":{const r=t.filters||[],o=[...e.terms.types||[],...t.terms.types].sort($4);return{...e,documentTypesNarrowed:jh({fieldDefinitions:e.definitions.fields,filters:r,types:o}),filters:r,lastAddedFilter:null,pageIndex:0,result:{...e.result,loaded:!1},terms:{...t.terms,filter:kh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,filters:r,operatorDefinitions:e.definitions.operators})}}}case"TERMS_TYPE_ADD":{const r=[...e.terms.types||[],t.schemaType].sort($4),o=jh({fieldDefinitions:e.definitions.fields,filters:[],types:r}),i=e.filters.filter(s=>{const a=td(e.definitions.fields,s);return a?a.documentTypes.length===0?!0:o.every(c=>a.documentTypes.findIndex(u=>u===c)>-1):!0});return{...e,documentTypesNarrowed:o,filters:i,pageIndex:0,result:{...e.result,loaded:!1},terms:Th({...e.terms,filter:kh({fieldDefinitions:e.definitions.fields,filterDefinitions:e.definitions.filters,operatorDefinitions:e.definitions.operators,filters:i}),types:r})}}case"TERMS_TYPE_REMOVE":{const r=(e.terms.types||[]).filter(o=>o!==t.schemaType);return{...e,documentTypesNarrowed:jh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Th({...e.terms,types:r})}}case"TERMS_TYPES_CLEAR":{const r=[];return{...e,documentTypesNarrowed:jh({fieldDefinitions:e.definitions.fields,filters:e.filters,types:r}),pageIndex:0,result:{...e.result,loaded:!1},terms:Th({...e.terms,types:[]})}}default:return e}}function Th(e){if(oPe(e)){const{__recent:t,...n}=e;return n}return e}function kyn(e){let{children:t,fullscreen:n}=e;const r=h.useRef(null),[o,i]=h.useState(null),s=mr(cn),a=jn(),c=Yo(),{search:{operators:u,filters:d}}=Ln(),{dataset:f,projectId:p}=s.config(),{fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g}=h.useMemo(()=>({fieldDefinitions:fyn(dyn(a,d)),filterDefinitions:Ghn(d),operatorDefinitions:i0n(u)}),[d,u,a]),b=h.useMemo(()=>ayn({dataset:f,fieldDefinitions:m,filterDefinitions:v,operatorDefinitions:g,projectId:p,schema:a,user:c,version:qx}),[c,f,m,v,g,p,a]),x=h.useMemo(()=>b==null?void 0:b.getRecentSearches(),[b]),y=h.useMemo(()=>_yn({currentUser:c,fullscreen:n,recentSearches:x,definitions:{fields:m,operators:g,filters:v}}),[c,m,v,n,g,x]),[w,C]=h.useReducer(Eyn,y),{documentTypesNarrowed:_,filters:S,ordering:E,pageIndex:j,result:k,terms:T}=w,A=h.useRef(!1),D=h.useRef(y.ordering),I=h.useRef(y.pageIndex),O=h.useRef(y.terms),{handleSearch:$,searchState:R}=fOe({initialState:{...k,terms:T},onComplete:V=>C({hits:V,type:"SEARCH_REQUEST_COMPLETE"}),onError:V=>C({error:V,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>C({type:"SEARCH_REQUEST_START"}),schema:a}),z=JA({terms:T}),B=_.map(V=>a.get(V)),U=S.filter(V=>xC({fieldDefinitions:m,filter:V,filterDefinitions:v,operatorDefinitions:g})),W=h.useCallback(V=>{r.current=V},[]);return h.useEffect(()=>{const V=!Ut(E,D.current),K=j!==I.current,te=!Ut(T,O.current);if(V||K||te){const N=(E==null?void 0:E.customMeasurementLabel)||"".concat(E.sort.field," ").concat(E.sort.direction);$({options:{comments:[...oPe(T)?["findability-recent-search:".concat(T.__recent.index)]:[],"findability-selected-types:".concat(T.types.length),"findability-sort:".concat(N),"findability-source: global","findability-filter-count:".concat(U.length)],limit:Fce,offset:j*Fce,skipSortByScore:E.ignoreScore,sort:[E.sort]},terms:{...T,...B?{types:B}:{}}}),I.current=j}D.current=E,O.current=T},[U.length,S,B,$,z,E,j,R.terms,T]),h.useEffect(()=>{!z&&(A!=null&&A.current)&&k.hits.length>0&&C({type:"SEARCH_CLEAR"}),A.current=!0},[C,z,k.hits,T.query,T.types]),l.jsx(sOe.Provider,{value:{dispatch:C,onClose:r==null?void 0:r.current,recentSearchesStore:b,searchCommandList:o,setSearchCommandList:i,setOnClose:W,state:{...w,fullscreen:n}},children:t})}const iPe="3.20.0";function jyn(e){return e.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(iPe)]},tag:"module.version-check",json:!0}).pipe(le(n=>({...n})))}function Tyn(){const e=mr({apiVersion:"1"}),t=h.useMemo(()=>jyn(e),[e]);return DAe(t)}function Ayn(e){let{error:t,isLoading:n,value:r}=e;var o;const i=(o=r==null?void 0:r.resources)==null?void 0:o.sectionArray,s=r==null?void 0:r.latestVersion;return n?l.jsx(H,{align:"center",justify:"center",padding:3,children:l.jsx(hr,{})}):l.jsxs(l.Fragment,{children:[(r===void 0||t)&&l.jsx("div",{children:Dyn}),!t&&(i==null?void 0:i.map(a=>a?l.jsx(Iyn,{subSection:a},a._key):null)),l.jsxs(M,{padding:3,children:[l.jsxs(L,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:["Sanity Studio version ",iPe]}),!t&&s&&l.jsx(M,{paddingTop:2,children:l.jsxs(L,{size:1,muted:!0,textOverflow:"ellipsis",children:["Latest version is ",s]})})]})]})}const Dyn=l.jsxs(l.Fragment,{children:[l.jsx(ze,{as:"a",text:"Join our community",size:0,href:"https://www.sanity.io/exchange/community",target:"_blank",muted:!1}),l.jsx(ze,{as:"a",text:"Help and support",size:0,href:"https://www.sanity.io/contact/support",target:"_blank",muted:!1}),l.jsx(ze,{as:"a",text:"Contact sales",size:0,href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank",muted:!1}),l.jsx($r,{})]});function Iyn(e){let{subSection:t}=e;var n;return l.jsxs(l.Fragment,{children:[t.sectionTitle&&l.jsx(Q,{padding:2,paddingTop:3,marginLeft:1,children:l.jsx(Ht,{muted:!0,size:1,children:t.sectionTitle})}),(n=t==null?void 0:t.items)==null?void 0:n.map(r=>{if(!r||!r.title)return null;switch(r._type){case"externalLink":return r.url?l.jsx(ze,{as:"a",tone:"default",text:r.title,size:0,href:r.url,target:"_blank"},r._key):null;case"internalAction":return r.type?r.type==="show-welcome-modal"&&l.jsx(ze,{text:r.title,size:0},r._key):null;default:return null}}),l.jsx($r,{})]})}var gfe=Object.freeze,Oyn=Object.defineProperty,Pyn=(e,t)=>gfe(Oyn(e,"raw",{value:gfe(t||e.slice())})),vfe;const Ryn=P(Nt)(vfe||(vfe=Pyn([`
  max-width: 300px;
  min-width: 200px;
`])));function $yn(){const{scheme:e}=Hc(),[t,n]=h.useState(!1),{value:r,error:o,isLoading:i}=Tyn(),s=h.useCallback(()=>n(!0),[]),a=h.useCallback(()=>n(!1),[]);return l.jsx(H,{children:l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Help and resources "})}),scheme:e,placement:"bottom",portal:!0,disabled:t,children:l.jsx("div",{children:l.jsx(on,{button:l.jsx(oe,{"aria-label":"Help and resources",icon:Rv,mode:"bleed",fontSize:2}),id:"menu-button-resources",menu:l.jsx(Ryn,{children:l.jsx(Ayn,{error:o,isLoading:i,value:r})}),popover:{constrainSize:!0,placement:"bottom",portal:!0,scheme:e},onClose:a,onOpen:s})})})})}var yfe=Object.freeze,Myn=Object.defineProperty,NN=(e,t)=>yfe(Myn(e,"raw",{value:yfe(t||e.slice())})),bfe,xfe,wfe;const Fyn=P(os)(bfe||(bfe=NN([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),Lyn=P(Q)(xfe||(xfe=NN([`
  line-height: 0;
`]))),Byn=P(H)(wfe||(wfe=NN([`
  width: max-content;
`])));function Nyn(){const{name:e,tools:t,...n}=Ul(),r=k0().theme,o=bC(),i=xT(),{scheme:s}=Hc(),{href:a,onClick:c}=U_e({state:{}}),u=bm(),d=typeof i.tool=="string"?i.tool:void 0,f=Mvn(),{onSearchFullscreenOpenChange:p,searchFullscreenOpen:m,searchFullscreenPortalEl:v}=h.useContext(LOe),g=Kyn(),b=aPe(),[x,y]=h.useState(!1),w=h.useRef(i),C=h.useRef(e);h.useEffect(()=>{(w.current.tool!==i.tool||e!==C.current)&&y(!1),w.current=i,C.current=e},[e,i]);const[_,S]=h.useState(null),[E,j]=h.useState(null),k=h.useMemo(()=>({brandingCenter:u<=1,resources:u>1,collapsedPresenceMenu:u<=1,loginStatus:u>1,searchFullscreen:u<=1,configIssues:u>1&&Vc,workspaces:u>=3&&o.length>1,tools:u>=3}),[u,o.length]),T=typeof e=="string"&&e!=="root"?fn(e):null,A=n.title||T||"Studio";h.useEffect(()=>{p(m)},[m,p]),h.useEffect(()=>{p&&!k.searchFullscreen&&p(!1)},[p,k.searchFullscreen]);const D=h.useCallback(()=>{p(!0)},[p]),I=h.useCallback(()=>{p(!1),E==null||E.focus()},[p,E]),O=h.useCallback(()=>{y(!1),_==null||_.focus()},[_]),$=h.useCallback(()=>{y(!0)},[]);return l.jsxs(Fyn,{zOffset:100,"data-search-open":m,children:[l.jsx(Lyn,{"data-testid":"navbar","data-ui":"Navbar",padding:2,scheme:"dark",shadow:r.__legacy||s==="dark"?1:void 0,sizing:"border",children:l.jsxs(H,{align:"center",justify:"space-between",children:[l.jsxs(Byn,{align:"center",flex:k.brandingCenter?void 0:1,children:[!k.tools&&l.jsx(M,{marginRight:1,children:l.jsx(oe,{mode:"bleed",icon:UF,onClick:$,ref:S})}),!k.brandingCenter&&l.jsx(M,{marginRight:1,children:l.jsx(fde,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),k.workspaces&&l.jsx(M,{marginRight:2,children:l.jsx(ROe,{collapsed:!0})}),l.jsx(M,{marginRight:k.brandingCenter?void 0:2,children:l.jsx($vn,{...f,modal:k.brandingCenter?"dialog":"popover"})}),l.jsx(Nu,{children:l.jsx(kyn,{fullscreen:k.searchFullscreen,children:l.jsxs(Bu,{element:document.body,children:[l.jsx(ad,{element:v,children:k.searchFullscreen&&l.jsx(Y1n,{onClose:I,onOpen:D,open:m})}),!k.searchFullscreen&&l.jsx(ryn,{})]})})}),k.tools&&l.jsx(Q,{flex:1,marginX:2,overflow:"visible",paddingRight:1,children:l.jsx(b,{activeToolName:d,closeSidebar:O,context:"topbar",isSidebarOpen:!1,tools:t})})]}),k.brandingCenter&&l.jsx(M,{marginX:1,children:l.jsx(fde,{href:a,onClick:c,title:A,children:l.jsx(g,{title:A})})}),l.jsxs(H,{gap:2,children:[(k.configIssues||k.resources)&&l.jsx(Q,{borderRight:!0,children:l.jsxs(H,{gap:1,paddingX:2,children:[k.configIssues&&l.jsx(t0n,{}),k.resources&&l.jsx($yn,{})]})}),l.jsxs(H,{align:"center",gap:1,children:[l.jsx(qvn,{collapse:k.collapsedPresenceMenu}),k.tools&&l.jsx(vvn,{}),k.searchFullscreen&&l.jsx(oe,{"aria-label":"Open search",icon:ei,mode:"bleed",onClick:D,ref:j})]})]})]})}),!k.tools&&l.jsx(e0n,{activeToolName:d,isOpen:x,onClose:O,tools:t})]})}const sPe=h.forwardRef(function(t,n){const{name:r,...o}=t,i=xT(h.useCallback(()=>({tool:r,[r]:void 0}),[r]));return l.jsx(bT,{state:i,...o,ref:n})});function zyn(e){const{activeToolName:t,tools:n}=e,{scheme:r}=Hc(),[o,i]=h.useState(null);zAe({rootElement:o,navigation:["arrows"]});const s=h.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:r}}),[r]),a=h.useMemo(()=>n.map((c,u)=>{const d=(c==null?void 0:c.title)||fn(c.name)||void 0,f=h.forwardRef(function(m,v){return l.jsx(sPe,{...m,ref:v,name:c.name})});return l.jsx(_N,{as:f,"data-as":"a",collapsedProps:{tooltipText:c.title},icon:c.icon||Sl,mode:"bleed",selected:t===c.name,text:d,tooltipProps:{scheme:r}},"".concat(c.name,"-").concat(u))}),[t,r,n]);return l.jsx(CN,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:s,ref:i,children:a})}function Vyn(e){const{activeToolName:t,isVisible:n,tools:r}=e;return h.useMemo(()=>l.jsx(ee,{as:"ul",space:1,children:r.map(o=>{const i=(o==null?void 0:o.title)||fn(o.name)||void 0,s=h.forwardRef(function(c,u){return l.jsx(sPe,{...c,ref:u,name:o.name})});return l.jsx(ee,{as:"li",children:l.jsx(oe,{as:s,icon:o.icon||W0e,justify:"flex-start",mode:"bleed",selected:t===o.name,tabIndex:n?0:-1,text:i})},o.name)})}),[t,n,r])}function Hyn(e){const{context:t,isSidebarOpen:n,...r}=e;return t==="sidebar"?l.jsx(Vyn,{isVisible:n,...r}):l.jsx(zyn,{...r})}function Uyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.toolMenu}function Wyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.navbar}function qyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.layout}function Yyn(e){var t,n;return(n=(t=e.studio)==null?void 0:t.components)==null?void 0:n.logo}function aPe(){return Hl({defaultComponent:Hyn,pick:Uyn})}function Gyn(){return Hl({defaultComponent:Nyn,pick:Wyn})}function Kyn(){return Hl({defaultComponent:agn,pick:Yyn})}function Zyn(){return Hl({defaultComponent:ovn,pick:qyn})}const Cfe=YUt.__sanityErrorChannel;function Xyn(){const{push:e}=qo();return h.useEffect(()=>{if(Cfe)return Cfe.subscribe(t=>{t.error&&(Qyn(t.error)||(console.error(t.error),e({id:t.error.message,closable:!0,description:t.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[e]),null}function Qyn(e){return e instanceof RN||e instanceof bB||e instanceof Ma}function Jyn(e){let{children:t,AuthenticateComponent:n=$Oe,LoadingComponent:r=Tb,NotAuthenticatedComponent:o=MOe}=e;const[i,s]=h.useState(null);if(i)throw i;const[a,c]=h.useState("loading"),{activeWorkspace:u}=l1();return h.useEffect(()=>{var d,f;(f=(d=u.auth).handleCallbackUrl)==null||f.call(d).catch(s)},[u.auth]),h.useEffect(()=>{const d=u.auth.state.subscribe({next:f=>{let{authenticated:p,currentUser:m}=f;var v;if(((v=m==null?void 0:m.roles)==null?void 0:v.length)===0){c("unauthorized");return}c(p?"logged-in":"logged-out")},error:s});return()=>{d.unsubscribe()}},[u]),a==="loading"?l.jsx(r,{}):a==="unauthorized"?l.jsx(o,{}):a==="logged-out"?l.jsx(n,{}):l.jsx(l.Fragment,{children:t})}function ebn(e){let{children:t}=e;const n=l1().activeWorkspace.theme;if(n.__legacy){const r=n.__dark?"dark":"light";return l.jsx(oD.Provider,{value:!1,children:l.jsx(rD.Provider,{value:r,children:l.jsx(VE,{scheme:r,theme:n,tone:"transparent",children:l.jsx(Nu,{children:t})})})})}return l.jsx(VE,{theme:n,tone:"transparent",children:l.jsx(Nu,{children:t})})}const tbn={toast:[100,11e3]};var _fe=Object.freeze,nbn=Object.defineProperty,lPe=(e,t)=>_fe(nbn(e,"raw",{value:_fe(t||e.slice())})),Sfe,Efe;P(H)(Sfe||(Sfe=lPe([""])));P(M).attrs({padding:4})(Efe||(Efe=lPe([""])));function rbn(e){const{basePath:t="/",tools:n}=e,r=Ci.create("/:tool",o=>{let i=n.find(s=>s.name===o.tool);return!i&&o.tool==="desk"&&(i=n.find(s=>s.name==="structure")),i?Ci.scope(i.name,"/",i.router):Ci.create("/")});return Ci.create(t,[Ci.intents("/intent"),r])}function zN(e){const n={}.toolSwitcher||{},r=n.order||[],o=n.hidden||[];if(!r.length&&!o.length)return e;const i=e.reduce((c,u)=>{const d=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(d,'" does not have the required "name" property')),c;if(c[u.name]){const p=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(d,'" and "').concat(p,'")')),c}const f=r.indexOf(u.name);return c[u.name]={tool:u,index:f===-1?1/0:f},c},{}),s=c=>o.indexOf(c.name)===-1,a=e.filter(s);return a.sort((c,u)=>{const d=i[c.name],f=i[u.name],p=d?d.index:1/0,m=f?f.index:1/0;return p===m?0:p-m}),a}const obn=["template"],ibn=["mode"];function sbn(e,t){const r=zN(e)[0];return!t||t.tool||!r?t:Object.assign({},t,{tool:r.name})}function abn(e,t){return t&&(zN(e).find(n=>n.name===t.space)?{...t,tool:t.space,space:void 0}:t)}function lbn(e,t){return sbn(e,abn(e,t))}function cbn(e,t,n){var r;const{intent:o,params:i,payload:s}=n;if(typeof o!="string")throw new Error("intent must be a string");if(!xt(i))throw new Error("intent params must be a string");const a=zN(e),c=t!=null&&t.tool?a.find(m=>m.name===t.tool):null,u=c?a.filter(m=>m!==c):a;let d=[];o==="create"?d=obn:o==="edit"&&(d=ibn);const f={score:-1,tool:null},{tool:p}=(c?[c,...u]:a).reduce((m,v)=>{if(!v||typeof v.canHandleIntent!="function")return m;const g=v.canHandleIntent(o,i,t&&t[v.name]);if(typeof g=="boolean")return g&&m.score<0?{score:0,tool:v}:m;if(!xt(g))return m;const b=d.reduce((x,y)=>y in i&&g[y]===!0?x+1:x,0);return b>m.score?{score:b,tool:v}:m},f);if(p!=null&&p.getIntentState){const m=p.getIntentState(o,i,t&&t[p.name],s),{_searchParams:v,...g}=m,b={...t,tool:p.name,[p.name]:g};return(r=p.router)!=null&&r.__unsafe_disableScopedSearchParams?b._searchParams=v:g._searchParams=v,{type:"state",isNotFound:!1,state:b}}return{type:"intent",isNotFound:!0,intent:{name:o,params:i}}}function ubn(e,t){return{type:"state",state:e.decode(t)||{},isNotFound:e.isNotFound(t)}}function dbn(e){let{children:t,LoadingComponent:n,workspace:r}=e;const{basePath:o,tools:i}=r,s=$gn(),a=h.useMemo(()=>rbn({basePath:o,tools:i}),[o,i]),[c,u]=fbn(s,a,i);return c?l.jsx(npt,{onNavigate:u,router:a,state:c,children:t}):l.jsx(n,{})}function fbn(e,t,n){var r;const o=h.useMemo(()=>{const c=t.getBasePath(),u=new RegExp("^".concat(V7(c),"(\\/|$)"),"i"),d=f=>c==="/"?!0:u.test(f);return{subscribe:f=>e.listen(f),getSnapshot:()=>e.location.pathname+e.location.search,getServerSnapshot:()=>null,selector:f=>typeof f=="string"&&d(f)?ubn(t,f):null}},[e,t]),i=F7.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Ut),s=h.useRef(i);h.useEffect(()=>{var c;if((i==null?void 0:i.type)==="state"&&!((c=i.state)!=null&&c.intent)){const u=lbn(n,i.state);u&&u!==i.state&&e.replace(t.encode(u))}},[i==null?void 0:i.state,i==null?void 0:i.type,e,t,n]),h.useEffect(()=>{const c=kfe(i,t,n,s);c?e.replace(c):s.current=i},[i,e,t,n]);const a=h.useMemo(()=>c=>{let{path:u,replace:d}=c;const f=o.selector(u),p=kfe(f,t,n,s),m=typeof p=="string"?p:u;d?e.replace(m):e.push(m)},[e,t,o,n]);return[(r=i==null?void 0:i.state)!=null?r:null,a]}function kfe(e,t,n,r){var o,i;if((e==null?void 0:e.type)==="state"&&((o=e.state)!=null&&o.intent)){const s=cbn(n,((i=r.current)==null?void 0:i.type)==="state"?r.current.state:{},e.state);if((s==null?void 0:s.type)==="state")return t.encode(s.state)}return null}function hbn(e){let{children:t,LoadingComponent:n}=e;const[r,o]=h.useState(null);if(r)throw r;const{activeWorkspace:i}=l1(),[s,a]=h.useState(null);return h.useEffect(()=>{const c=Ho(i.__internal.sources.map(u=>{let{source:d}=u;return d.pipe(Rn(f=>{if(f instanceof Ma)return ve(f);throw f}))})).pipe(le(u=>{const d=u.filter(f=>f instanceof Ma);if(d.length)throw new Ma({name:i.name,causes:d,type:"workspace"});return u}),le(u=>{let[d,...f]=u;return{...i,...d,unstable_sources:[d,...f],type:"workspace"}})).subscribe({next:a,error:o});return()=>c.unsubscribe()},[i]),s?l.jsx(Spn,{workspace:s,children:l.jsx(TN,{source:s.unstable_sources[0],children:l.jsx(dbn,{LoadingComponent:n,workspace:s,children:t})})}):l.jsx(n,{})}function pbn(e){let{ConfigErrorsComponent:t,...n}=e;const[{error:r},o]=h.useState({error:null});if(r)throw r;return l.jsx(j0,{onCatch:o,children:l.jsx(hbn,{...n})})}Fp.registerLanguage(uVt);Fp.registerLanguage(MNe);Fp.registerLanguage(fVt);Fp.registerLanguage(pVt);Fp.registerLanguage(gVt);function mbn(e){let{children:t,config:n,basePath:r,onSchemeChange:o,scheme:i,unstable_history:s,unstable_noAuthBoundary:a}=e;const c=l.jsx(pbn,{LoadingComponent:Tb,ConfigErrorsComponent:Zgn,children:l.jsx(wYt,{children:t})});return l.jsx(lgn,{onSchemeChange:o,scheme:i,children:l.jsxs(VL,{paddingY:7,zOffset:tbn.toast,children:[l.jsx(Xyn,{}),l.jsx(FOe,{children:l.jsx(dgn,{config:n,basePath:r,children:l.jsx(Lgn,{unstable_history:s,NotFoundComponent:Tgn,LoadingComponent:Tb,children:l.jsx(ebn,{children:l.jsx(iXt,{children:a?c:l.jsx(Jyn,{LoadingComponent:Tb,AuthenticateComponent:$Oe,NotAuthenticatedComponent:MOe,children:c})})})})})})]})})}function gbn(){const e=Zyn();return l.jsx(e,{})}function jfe(e){const{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_globalStyles:i,unstable_history:s,unstable_noAuthBoundary:a}=e;return l.jsxs(mbn,{basePath:t,config:n,onSchemeChange:r,scheme:o,unstable_history:s,unstable_noAuthBoundary:a,children:[i&&l.jsx(qYt,{}),l.jsx(gbn,{})]})}function vbn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)throw new Error("Missing root element to mount application into");const r=typeof n=="boolean"?{reactStrictMode:n}:n,{reactStrictMode:o=!1,basePath:i}=r,s=ATe(e);return s.render(o?l.jsx(h.StrictMode,{children:l.jsx(jfe,{config:t,basePath:i,unstable_globalStyles:!0})}):l.jsx(jfe,{config:t,basePath:i,unstable_globalStyles:!0})),()=>s.unmount()}function mr(e){const t=Ln();return e?t.getClient(e):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),t.getClient({apiVersion:"2021-06-07"}))}const Tfe="connecting";function ybn(e,t){const n=ol();return xo(()=>n.pair.documentEvents(e,t).pipe(le(r=>r.type),le(r=>r!=="reconnect"),rt(r=>r?ve("connected"):Uo(200).pipe(tT("reconnecting"))),oi(Tfe),Jn()),[n.pair,e,t],Tfe)}function cPe(){return Ln().dataset}function ql(e,t){const n=ol();return xo(()=>n.pair.editOperations(e,t),[t,n.pair,e])}function uPe(e,t){const n=ol();return xo(()=>n.pair.operationEvents(e,t),[n.pair,e,t])}function VN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const r=ol();return xo(()=>{const o=r.pair.editState(e,t).pipe(oa());return n==="low"?an(o.pipe(ji(1)),o.pipe(HCe(1),e8(()=>Uo(1e3)))):r.pair.editState(e,t)},[r.pair,e,t,n])}function dPe(){return Ln().projectId}function jn(){return Ln().schema}const bbn={isSyncing:!0},Afe={isSyncing:!1};function fPe(e,t){const n=ol();return xo(()=>n.pair.consistencyStatus(e,t).pipe(le(r=>r?Afe:bbn)),[n.pair,t,e],Afe)}function c1(){return Ln().templates}const eP=1e3*5,Dfe=1e3*20,N4=1e3*60,p2=N4*60;function Qo(e){let{minimal:t,agoSuffix:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=xbn(e,{minimal:t,agoSuffix:n}),[,o]=h.useReducer(i=>i+1,0);return h.useEffect(()=>{let i;function s(a){i=window.setTimeout(()=>{o(),i=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{i!==null&&clearTimeout(i)}},[o,r.refreshInterval]),r.timestamp}function xbn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e instanceof Date?e:new Date(e);if(!n.getTime())return{timestamp:"",refreshInterval:null};const r=Date.now(),o=mkt(r,n),i=ykt(r,n);if(o||i)return t.minimal&&i===0?{timestamp:Jo(n,"MMM d"),refreshInterval:null}:t.minimal?{timestamp:Jo(n,"MMM d, yyyy"),refreshInterval:null}:{timestamp:Jo(n,"MMM d, yyyy, hh:mm a"),refreshInterval:null};const s=vkt(r,n),a=Hr("week",s);if(s)return t.minimal?{timestamp:t.agoSuffix?"".concat(s,"w ago"):"".concat(s,"w"),refreshInterval:p2}:{timestamp:t.agoSuffix?"".concat(s," ").concat(a," ago"):"".concat(s," ").concat(a),refreshInterval:p2};const c=TEe(r,n),u=Hr("days",c);if(c){if(t.minimal){const x=t.agoSuffix?"".concat(c,"d ago"):"".concat(c,"d");return{timestamp:c===1?"yesterday":x,refreshInterval:p2}}const b=t.agoSuffix?"".concat(c," ").concat(u," ago"):"".concat(c," ").concat(u);return{timestamp:c===1?"yesterday":b,refreshInterval:p2}}const d=dkt(r,n),f=Hr("hour",d);if(d)return t.minimal?{timestamp:t.agoSuffix?"".concat(d,"h ago"):"".concat(d,"h"),refreshInterval:N4}:{timestamp:t.agoSuffix?"".concat(d," ").concat(f," ago"):"".concat(d," ").concat(f),refreshInterval:N4};const p=fkt(r,n),m=Hr("minute",p);if(p)return t.minimal?{timestamp:t.agoSuffix?"".concat(p,"m ago"):"".concat(p,"m"),refreshInterval:Dfe}:{timestamp:t.agoSuffix?"".concat(p," ").concat(m," ago"):"".concat(p," ").concat(m),refreshInterval:Dfe};const v=gkt(r,n),g=Hr("second",v);return v>10?t.minimal?{timestamp:t.agoSuffix?"".concat(v,"s ago"):"".concat(v,"s"),refreshInterval:eP}:{timestamp:t.agoSuffix?"".concat(v," ").concat(g," ago"):"".concat(v," ").concat(g),refreshInterval:eP}:{timestamp:"just now",refreshInterval:eP}}const wbn={validation:[],isValidating:!1};function HN(e,t){const n=ol();return xo(()=>n.pair.validation(e,t),[n.pair,e,t],wbn)}const Ife={isLoading:!0,enabled:!0,features:[]};function Cbn(e){let{versionedClient:t}=e;return t.observable.request({uri:"/features",tag:"features"})}let tP;function hPe(e){const t=mr(cn);return tP||(tP=Cbn({versionedClient:t}).pipe(Do())),xo(()=>tP.pipe(le(function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(r!=null&&r.includes(e)),features:r}}),oi(Ife),Rn(r=>(console.error(r),ve({isLoading:!1,enabled:!0,features:[]})))),[e],Ife)}const _bn=ch(e=>{let[t,n]=e;return jr(t.getUser(n).catch(r=>(console.error(r),null)))});function u1(e){const t=XN();return _bn(h.useMemo(()=>[t,e],[e,t]))}function Yo(){const{currentUser:e}=Ln();return e}const Ofe=e=>{const t=e.LOCAL,n=e.document.HEAD;return t&&{...t,_type:(n||t)._type,_rev:(n||t)._rev,_updatedAt:new Date().toISOString()}},Pfe=e=>({type:"snapshot",document:e}),Rfe=e=>e.document,Sbn=e=>{const t=new Er,n=new Qj(!0),r=new Er,o=new Er,i=new Er,s=new Er,a=x=>{const y=new h7t(x);return y.onMutation=w=>{let{mutation:C,remote:_}=w;r.next({type:"mutation",document:Ofe(y),mutations:C.mutations,origin:_?"remote":"local"})},y.onRemoteMutation=w=>{i.next({type:"remoteMutation",head:y.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},y.onRebase=(w,C,_)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:_})},y.onConsistencyChanged=w=>{n.next(w)},y.commitHandler=w=>s.next(w),y},c=e.pipe(ra((x,y)=>y.type==="snapshot"?(x&&x.commit(),a(y.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',y.type),null):x,null),pt(x=>x!==null),Jn(),bl(1),yl()),u=e.pipe(pt(x=>x.type==="mutation"),sb(c),le(x=>{let[y,w]=x;return w.arrive(new Cc(y)),Ofe(w)})),d=t.pipe(sb(c),Cn(x=>{let[y,w]=x;y.type==="mutation"&&w.add(new Cc({mutations:y.mutations})),y.type==="commit"&&w.commit()}),Wp(Qn),oa()),f=x=>t.next(x),p=x=>f({type:"mutation",mutations:x}),m=x=>p([x]),v=()=>{c.pipe(ji(1),Cn(x=>x.commit())).subscribe()},g=an(c.pipe(le(x=>x.LOCAL)),r.pipe(le(Rfe)),o.pipe(le(Rfe)),u).pipe(le(Pfe),bl(1),yl()),b=an(c.pipe(le(x=>x.document.HEAD),le(Pfe)),i).pipe(bl(1),yl());return{updates$:an(g,d,r,o),consistency$:n.pipe(Jn(),bl(1),yl()),remoteSnapshot$:b,commitRequest$:s,addMutation:m,addMutations:p,commit:v}},Ebn=e=>t=>{const{_id:n,_rev:r,_updatedAt:o,...i}=t;return{_id:e,...i}},$fe=(e,t)=>{const n=Sbn(t),r=Ebn(e),o={delete:{id:e}};return{events:n.updates$,consistency$:n.consistency$,remoteSnapshot$:n.remoteSnapshot$,commitRequest$:n.commitRequest$,patch:i=>i.map(s=>({patch:{...s,id:e}})),create:i=>({create:r(i)}),createIfNotExists:i=>({createIfNotExists:r(i)}),createOrReplace:i=>({createOrReplace:r(i)}),delete:()=>o,mutate:i=>n.addMutations(i),commit:()=>n.commit()}},kbn={type:"pending",phase:"begin"},jbn={type:"pending",phase:"end"};function Tbn(e){return e.type==="mutation"}function Abn(e){return e.transactionTotalEvents>1}function Dbn(e){const t=g7(e.filter(n=>n.type==="mutation"),n=>n.transactionId);return Object.values(t).every(n=>n.length===n[0].transactionTotalEvents)}function Ibn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:r,draftId:o}=t;return go(()=>e.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:r,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:n.tag||"document.pair-listener"})).pipe(b$(s=>s.type==="welcome"?i().pipe(b$(a=>[Mfe(o,a.draft),Mfe(r,a.published)])):ve(s)),ra((s,a)=>{if(!Tbn(a))return{next:[a],buffer:[]};const c=s.buffer.length>0,u=Abn(a);if(!u&&!c)return{next:[a],buffer:[]};if(!u)return{next:[],buffer:s.buffer.concat(a)};const d=s.buffer.concat(a);return Dbn(d)?{next:d.concat(jbn),buffer:[]}:{next:d.length===1?[kbn]:[],buffer:d}},{next:[],buffer:[]}),ft(s=>s.next));function i(){return e.observable.getDocuments([o,r],{tag:"document.snapshots"}).pipe(le(s=>{let[a,c]=s;return{draft:a,published:c}}))}}function Mfe(e,t){return{type:"snapshot",documentId:e,document:t}}const Ffe=e=>t=>t.type!=="reconnect"&&t.type!=="pending"&&t.documentId===e;function m2(e){return t=>({...t,version:e})}function Obn(e,t){const{resultRev:n,...r}=t;return e.dataRequest("mutate",r,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function Pbn(e,t){return jr(Obn(e,t.mutation.params)).pipe(Cn({error:n=>{"statusCode"in n&&typeof n.statusCode=="number"&&n.statusCode>=400&&n.statusCode<=500?t.cancel(n):t.failure(n)},next:()=>t.success()}))}function pPe(e,t){const{publishedId:n,draftId:r}=t,o=Ibn(e,t).pipe(oa()),i=o.pipe(pt(d=>d.type==="reconnect")),s=$fe(r,o.pipe(pt(Ffe(r)))),a=$fe(n,o.pipe(pt(Ffe(n)))),c=o.pipe(pt(d=>d.type==="pending")),u=an(s.commitRequest$,a.commitRequest$).pipe(ft(d=>Pbn(e,d)),Wp(Qn),oa());return{transactionsPendingEvents$:c,draft:{...s,events:an(u,i,s.events).pipe(le(m2("draft"))),consistency$:s.consistency$,remoteSnapshot$:s.remoteSnapshot$.pipe(le(m2("draft")))},published:{...a,events:an(u,i,a.events).pipe(le(m2("published"))),consistency$:a.consistency$,remoteSnapshot$:a.remoteSnapshot$.pipe(le(m2("published")))}}}function Uc(e,t){const n=Object.create(null);return function(){const r=t(...arguments);return r in n||(n[r]=e(...arguments)),n[r]}}const Nm=(e,t)=>{var n;return((n=e.get(t))==null?void 0:n.liveEdit)===!0};function wC(e,t,n){var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}const lD=Uc((e,t,n)=>new mt(r=>{r.next(pPe(e,t))}).pipe(bl(1),yl()),wC);function Rbn(e){return e.type==="snapshot"}function Lfe(e){return{snapshots$:e.events.pipe(pt(Rbn),le(t=>t.document),bl(1),yl()),patch:e.patch,create:e.create,createIfNotExists:e.createIfNotExists,createOrReplace:e.createOrReplace,delete:e.delete,mutate:e.mutate,commit:e.commit}}const UN=Uc((e,t,n)=>lD(e,t,n).pipe(le(r=>{let{published:o,draft:i,transactionsPendingEvents$:s}=r;return{transactionsPendingEvents$:s,published:Lfe(o),draft:Lfe(i)}}),bl(1),yl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),$bn={enabled:!0},Bfe={enabled:!1},mPe=Uc((e,t,n)=>{const r=Nm(e.schema,n);return UN(e.client,t,n).pipe(rt(o=>Ho([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(le(i=>i.phase==="begin"?$bn:Bfe),oi(Bfe))])),le(o=>{let[i,s,a]=o;return{id:t.publishedId,type:n,draft:i,published:s,liveEdit:r,ready:!0,transactionSyncLock:a}}),oi({id:t.publishedId,type:n,draft:null,published:null,liveEdit:r,ready:!1,transactionSyncLock:null}),bl(1),yl())},(e,t,n)=>wC(e.client,t,n)),gPe=Uc((e,t,n)=>UN(e.client,t,n).pipe(rt(r=>Ho([r.draft.snapshots$,r.published.snapshots$]).pipe(le(o=>{let[i,s]=o;return{...e,idPair:t,typeName:n,snapshots:{draft:i,published:s},draft:r.draft,published:r.published}}))),bl(1),yl()),(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),I5={disabled:e=>{let{snapshots:t}=e;return t.draft||t.published?!1:"NOTHING_TO_DELETE"},execute:e=>{let{client:t,schema:n,idPair:r,typeName:o}=e;const i=t.observable.transaction().delete(r.publishedId);return Nm(n,o)?i.commit({tag:"document.delete"}):i.delete(r.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}};function z4(e){return nd(e)?e._strengthenOnPublish?Ri(e,["_strengthenOnPublish"].concat(e._strengthenOnPublish.weak?[]:["_weak"])):e:typeof e!="object"||!e?e:Array.isArray(e)?e.map(z4):Object.fromEntries(Object.entries(e).map(t=>{let[n,r]=t;return[n,z4(r)]}))}const vPe={disabled:e=>{let{schema:t,typeName:n,snapshots:r}=e;return Nm(t,n)?"LIVE_EDIT_ENABLED":r.draft?!1:r.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e;if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');const o=z4(Ri(r.draft,"_updatedAt")),i=t.observable.transaction();if(!r.draft)throw new Error('cannot execute "publish" when draft is missing');return r.published?(i.patch(n.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:r.published._rev}),i.createOrReplace({...o,_id:n.publishedId,_type:r.draft._type})):i.create({...o,_id:n.publishedId,_type:r.draft._type}),i.delete(n.draftId),i.commit({tag:"document.publish",visibility:"async"})}},yPe={disabled:()=>!1,execute:function(e){let{schema:t,snapshots:n,idPair:r,draft:o,published:i,typeName:s}=e,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;Nm(t,s)?i.mutate([i.createIfNotExists({_type:s,...c}),...i.patch(a)]):o.mutate([o.createIfNotExists({...c,...n.published,_id:r.draftId,_type:s}),...o.patch(a)])}},bPe={disabled:()=>!1,execute:e=>{let{draft:t,published:n}=e;return t.commit(),n.commit(),Qn}},xPe={disabled:e=>{let{snapshots:t}=e;return t.draft?t.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:e=>{let{client:t,idPair:n}=e;return t.observable.transaction().delete(n.draftId).commit({tag:"document.discard-changes"})}},wPe={disabled:e=>{let{schema:t,snapshots:n,typeName:r}=e;return Nm(t,r)?"LIVE_EDIT_ENABLED":n.published?!1:"NOT_PUBLISHED"},execute:e=>{let{client:t,idPair:n,snapshots:r}=e,o=t.observable.transaction().delete(n.publishedId);return r.published&&(o=o.createIfNotExists({...Ri(r.published,"_updatedAt"),_id:n.draftId,_type:r.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}},Mbn=["_createdAt","_updatedAt"],CPe={disabled:e=>{let{snapshots:t}=e;return t.published||t.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(e,t)=>{let{schema:n,client:r,snapshots:o,typeName:i}=e;const s=o.draft||o.published;if(!s)throw new Error("cannot execute on empty document");return r.observable.create({...Ri(s,Mbn),_id:Nm(n,i)?t:ai(t),_type:s._type},{tag:"document.duplicate"})}},_Pe={disabled:()=>!1,execute:(e,t)=>{let{historyStore:n,schema:r,idPair:o,typeName:i}=e;const s=Nm(r,i)?o.publishedId:o.draftId;return n.restore(o.publishedId,s,t)}},SPe=Uc((e,t,n)=>lD(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return Ho([o.consistency$,i.consistency$])}),le(r=>{let[o,i]=r;return o&&i}),Jn(),bl(1),yl()),(e,t,n)=>{var r,o;const i=e.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)});function Fbn(e){return typeof e>"u"?ve(null):e}const Lbn={del:I5,delete:I5,publish:vPe,patch:yPe,commit:bPe,discardChanges:xPe,unpublish:wPe,duplicate:CPe,restore:_Pe},Bbn=(e,t,n)=>{const r=Lbn[e];return go(()=>an(ve(null),Fbn(r.execute(t,...n)))).pipe(jnt())},EPe=new Er;function kPe(e,t,n,r){EPe.next({operationName:e,idPair:t,typeName:n,extraArgs:r})}const Nbn=["publish","unpublish","discardChanges","delete"],jPe=Uc(e=>{const t=EPe.pipe(VCe(o=>o.idPair.publishedId),ft(o=>o.pipe(rt(i=>gPe(e,i.idPair,i.typeName).pipe(ji(1),rt(s=>{const a=Nbn.includes(i.operationName);a&&(s.published.commit(),s.draft.commit());const c=SPe(e.client,i.idPair,i.typeName).pipe(pt(Boolean));return(a?c.pipe(ji(1)):ve(!0)).pipe(rt(()=>Bbn(i.operationName,s,i.extraArgs)))}),le(()=>({type:"success",args:i})),Rn(s=>ve({type:"error",args:i,error:s})))))),oa()),n=1e3,r=t.pipe(pt(o=>o.type==="success"&&o.args.operationName==="patch"),cx(n,Dl,{leading:!0,trailing:!0}),Cn(o=>{kPe("commit",o.args.idPair,o.args.typeName,[])}));return an(t,r.pipe(Wp(Qn)))},e=>{var t,n;const r=e.client.config();return"".concat((t=r.dataset)!=null?t:"","-").concat((n=r.projectId)!=null?n:"")}),zbn=Uc((e,t,n)=>lD(e,t,n).pipe(rt(r=>{let{published:o,draft:i}=r;return an(o.remoteSnapshot$,i.remoteSnapshot$)})),wC),Vbn={isValidating:!0,validation:[]};function Hbn(e){return sTe(e,(t,n)=>(nd(n)&&t.add(n._ref),t),new Set)}const Ubn=[],Wbn=(e,t)=>e(t).pipe(le(n=>{let{published:r}=n;return r.available})),qbn=200,Ybn=1e3;function nP(){return Do({bufferSize:1,refCount:!0})}const Gbn=Uc((e,t,n)=>{let{draftId:r,publishedId:o}=t;const i=mPe(e,{draftId:r,publishedId:o},n).pipe(le(d=>{let{draft:f,published:p}=d;return f||p}),cx(qbn,Dl,{trailing:!0}),Jn((d,f)=>(d==null?void 0:d._rev)===(f==null?void 0:f._rev)?!0:Vu(Ri(d,"_rev","_updatedAt"),Ri(f,"_rev","_updatedAt"))),nP()),a=i.pipe(le(d=>Hbn(d)),ft(d=>jr(d))).pipe(VCe(d=>d,{duration:()=>Uo(1e3*60*30)}),ft(d=>d.pipe(_nt(),ft(f=>Wbn(e.observeDocumentPairAvailability,f).pipe(le(p=>[f,p]))))),ra((d,f)=>{let[p,m]=f;return d[p]===m?d:{...d,[p]:m}},{}),Jn(Vu),nP()),c=d=>{let{id:f}=d;return So(a.pipe(zCe(p=>f in p),le(p=>p[f])))},u=a.pipe(HCe(1),cx(Ybn,Dl,{leading:!0,trailing:!0}));return Ho([i,Wr(ve(null),u)]).pipe(le(d=>{let[f]=d;return f}),D7(d=>go(()=>d!=null&&d._type?Wr(ve({isValidating:!0,revision:d._rev}),AGt(e.getClient,d,e.schema,{getDocumentExists:c}).pipe(le(f=>({validation:f,isValidating:!1})))):ve({validation:Ubn,isValidating:!1}))),ra((d,f)=>({...d,...f}),Vbn),nP())},(e,t,n)=>{var r,o;const i=e.client.config();return"".concat((r=i.dataset)!=null?r:"","-").concat((o=i.projectId)!=null?o:"","-").concat(t.publishedId,"-").concat(n)}),Kbn=Uc((e,t,n)=>lD(e,t,n).pipe(rt(r=>{let{draft:o,published:i}=r;return an(o.events,i.events)})),wC);function Qc(e){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(e," before it was ready."))}}}const Zbn={commit:Qc("commit"),delete:Qc("delete"),del:Qc("del"),publish:Qc("publish"),patch:Qc("patch"),discardChanges:Qc("discardChanges"),unpublish:Qc("unpublish"),duplicate:Qc("duplicate"),restore:Qc("restore")},Xbn=(e,t,n)=>function(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return kPe(e,t,n,o)};function Jc(e,t,n){return{disabled:t.disabled(n),execute:Xbn(e,n.idPair,n.typeName)}}function Qbn(e){return{commit:Jc("commit",bPe,e),delete:Jc("delete",I5,e),del:Jc("delete",I5,e),publish:Jc("publish",vPe,e),patch:Jc("patch",yPe,e),discardChanges:Jc("discardChanges",xPe,e),unpublish:Jc("unpublish",wPe,e),duplicate:Jc("duplicate",CPe,e),restore:Jc("restore",_Pe,e)}}const Jbn=Uc((e,t,n)=>{const r=jPe(e),i=gPe(e,t,n).pipe(le(Qbn));return Wr(ve(Zbn),an(r.pipe(ft(()=>Qn)),i)).pipe(Do({refCount:!0,bufferSize:1}))},(e,t,n)=>wC(e.client,t,n)),exn=(e,t,n,r)=>go(()=>e.observable.fetch(t,n,{tag:r.tag,filterResponse:!0,perspective:r.perspective})),txn=(e,t,n,r)=>go(()=>e.listen(t,n,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:r.tag}));function Nfe(e){return e.type==="welcome"}function nxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof t=="string"?t:t.fetch,i=typeof t=="string"?t:t.listen,s=txn(e,i,n,r).pipe(ft((f,p)=>p===0&&!Nfe(f)?zu(()=>new Error(f.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(f.type,'"'))):ve(f)),oa()),[a,c]=JL(s,Nfe),u=f=>!r.transitions||f.type!=="mutation"?!0:r.transitions.includes(f.transition),d=()=>exn(e,o,n,r);return an(a.pipe(ji(1)),c.pipe(pt(u),cx(r.throttleTime||1e3,Dl,{leading:!0,trailing:!0}))).pipe(D7(f=>f.type==="mutation"&&f.visibility!=="query"?Uo(1200).pipe(ft(d)):d()))}function rxn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(n&&n!=="*")return ve(n);const r="*[_id in [$documentId, $draftId]]._type",o=$n(t),i=ai(o);return e.observable.fetch(r,{documentId:o,draftId:i}).pipe(le(s=>s[0]))}function om(e){return Tr(e)}const oxn=["_key","_ref","_weak","_type"];function ixn(e){return e&&e.length>0?'"'.concat(e,'"'):e}function zfe(e,t){const n=r=>'Template "'.concat(t.id,'" initial value: ').concat(r);if(!om(e))throw new Error(n("resolved to a non-object"));if(e._type&&t.schemaType!==e._type)throw new Error(n('includes "_type"-property ('.concat(e._type,") that does not match template (").concat(t.schemaType,")")));try{return V4(e)}catch(r){throw r.message=n(r.message),r}}function V4(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(e))return e.map((o,i)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(Nr(t),'")'));return V4(o,t.concat(i),!0)});if(!om(e))return e;const r=n&&!e._key?{_key:Kw()}:{};return t.length>0&&!e._type&&e._ref&&(r._type="reference"),e._ref&&sxn(e,t),Object.keys(e).reduce((o,i)=>(o[i]=V4(e[i],t.concat([i])),o),r)}function sxn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e._type&&e.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(Nr(t),'"'));const n=Object.keys(e).filter(r=>!oxn.includes(r));if(n.length>0){const r=n.length>1?"properties":"property";throw new Error("Disallowed ".concat(r," found in reference: ").concat(n.map(ixn).join(", "),' at path "').concat(Nr(t),'"'))}}function WN(e,t){const n={...e,...t};return Object.keys(n).forEach(r=>{const o=t[r],i=e[r];om(o)&&om(i)&&(n[r]=WN(i,o))}),n}function axn(e){return om(e)&&typeof e.serialize=="function"}async function cD(e,t,n){return typeof e=="function"?e(t,n):e}async function qN(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(axn(t))return qN(e,t.serialize(),n,r);const{id:o,schemaType:i,value:s}=t;if(!s)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let a=await cD(s,n,r);if(!om(a))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));om(a)&&!Object.keys(a).length&&(a={_type:i}),a=zfe(a,t);const c=e.get(i);if(!c)throw new Error('Could not find schema type with name "'.concat(i,'".'));const u=WN(await uD(c,n,YN,r)||{},a);return zfe(u,t)}function lxn(e,t){const n=js(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}const YN=10;function uD(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:YN,r=arguments.length>3?arguments[3]:void 0;return n<=0?Promise.resolve(void 0):Ka(e)?uxn(e,t,n,r):Fl(e)?cxn(e,t,n,r):cD(e.initialValue,t,r)}async function cxn(e,t,n,r){const o=await cD(e.initialValue,void 0,r);if(Array.isArray(o))return Promise.all(o.map(async i=>{const s=lxn(e,i);return Ka(s)?{...i,...await uD(s,t,n-1,r),_key:Kw()}:i}))}async function uxn(e,t,n,r){const o={...await cD(e.initialValue,t,r)||{}},i={};await Promise.all(e.fields.map(async a=>{const c=await uD(a.type,t,n-1,r);c!=null&&(i[a.name]=c)}));const s=WN(i,o);if(!U9(s))return e.name!=="object"&&(s._type=e.name),s}const Vfe={type:"loading"};function dxn(e,t,n,r,o){const i=n.observePaths({_type:"reference",_ref:ai(r.documentId)},["_type"]),s=n.observePaths({_type:"reference",_ref:$n(r.documentId)},["_type"]);return an(i.pipe(le(c=>({draft:c}))),s.pipe(le(c=>({published:c})))).pipe(ra((c,u)=>({...c,...u}),{}),pt(c=>"draft"in c&&"published"in c),le(c=>c.draft||c.published),Jn((c,u)=>!!c!=!!u),t8(25)).pipe(rt(c=>{if(c)return ve({type:"success",value:null});if(!r.templateName)return ve({isResolving:!1,initialValue:void 0});const u=t.find(f=>f.id===r.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',r.templateName),ve({isResolving:!1,initialValue:void 0});const d=jr(qN(e,u,r.templateParams,o)).pipe(le(f=>({isResolving:!1,initialValue:f}))).pipe(Rn(f=>(console.group("Failed to resolve initial value"),console.error(f),console.error("Template ID: %s",r.templateName),console.error("Parameters: %o",r.templateParams),console.groupEnd(),ve({type:"error",error:f}))));return an(ve({isResolving:!0}),d).pipe(rt(f=>{let{isResolving:p,initialValue:m,resolveError:v}=f;return ve(v?{type:"error",message:"Failed to resolve initial value"}:p?Vfe:{type:"success",value:m})}))}),oi(Vfe),Jn())}function cy(e){if(cB(e))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:e,draftId:ai(e)}}function fxn(e){let{getClient:t,documentPreviewStore:n,historyStore:r,initialValueTemplates:o,schema:i}=e;const s=n.unstable_observeDocumentPairAvailability,a=t(cn),c={client:a,getClient:t,observeDocumentPairAvailability:s,historyStore:r,schema:i};return{checkoutPair(u){return pPe(a,u)},initialValue(u,d){return dxn(i,o,n,u,d)},listenQuery(u,d,f){return nxn(a,u,d,f)},resolveTypeForDocument(u,d){return rxn(a,u,d)},pair:{consistencyStatus(u,d){return SPe(c.client,cy(u),d)},documentEvents(u,d){return Kbn(c.client,cy(u),d)},editOperations(u,d){return Jbn(c,cy(u),d)},editState(u,d){return mPe(c,cy(u),d)},operationEvents(u,d){return jPe({client:a,historyStore:r,schema:i}).pipe(pt(f=>f.args.idPair.publishedId===u&&f.args.typeName===d),le(f=>{const{operationName:p,idPair:m}=f.args;return f.type==="success"?{type:"success",op:p,id:m.publishedId}:{type:"error",op:p,id:m.publishedId,error:f.error}}))},validation(u,d){return Gbn(c,cy(u),d)}}}}const Hfe={isLoaded:!1,documentType:void 0};function hxn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const n=ol(),r=$n(e),o=!!(t&&t!=="*"),i=h.useMemo(()=>({documentType:t,isLoaded:!0}),[t]),[s,a]=h.useState(o?i:Hfe);return h.useEffect(()=>a(Hfe),[r,t]),h.useEffect(()=>{if(o)return;const c=n.resolveTypeForDocument(r,t).subscribe(u=>a({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[n,r,t,o]),o?i:s}function pxn(e,t){const n=Ni(),r=h.useMemo(()=>e?n.observePaths({_type:"reference",_ref:e},t):ve(void 0),[e,n,t]);return DAe(r)}function mxn(e){const{documentId:t,documentType:n,templateName:r,templateParams:o}=e,i=No(o),s=ol(),a=GN(),c=h.useMemo(()=>({_id:t,_type:n}),[t,n]),[u,d]=h.useState({loading:!1,error:null,value:c});return h.useEffect(()=>{const f={documentId:t,documentType:n,templateName:r,templateParams:i};if(!r){d({loading:!0,error:null,value:c});return}const m=s.initialValue(f,a).subscribe(v=>{v.type==="loading"&&d({loading:!0,error:null,value:c}),v.type==="success"&&d({loading:!1,error:null,value:v.value?{...c,...v.value}:c}),v.type==="error"&&d({loading:!1,error:v.error,value:c})});return d({loading:!0,error:null,value:c}),()=>m.unsubscribe()},[c,t,s,n,r,i,a]),u}function GN(){const e=Ln(),t=jn(),n=Yo(),r=dPe(),o=cPe(),i=e.getClient;return h.useMemo(()=>({projectId:r,dataset:o,getClient:i,schema:t,currentUser:n}),[i,t,n,r,o])}function KN(){const e=GN();return h.useCallback((t,n)=>uD(t,n,YN,e),[e])}function gxn(e,t){const n=e.get(t);if(!n)throw new Error("No such schema type: ".concat(t));return n}function vxn(e){let{grantsStore:t,permission:n,draft:r,published:o,liveEdit:i}=e;const s=r||o,a=s===r?"draft":"published",{checkDocumentPermission:c}=t;switch(n){case"delete":return i?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",r)],["delete published document",c("update",o)]];case"discardDraft":return i?[]:[["delete draft document",c("update",r)]];case"publish":return i?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",r)],["create published document from draft",c("create",r&&{...r,_id:$n(r._id)})]];case"unpublish":return i?[]:[["update draft document at its current state",c("create",r)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:ai(o._id)})]];case"update":return i?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(a," document"),c("update",s)]];case"duplicate":return i?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(a," document"),c("create",{...s,_id:ai("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(n))}}function yxn(e){let{client:t,grantsStore:n,schema:r,id:o,permission:i,type:s}=e;if(s==="*")return ve({granted:!1,reason:"Type specified was `*`"});const a=!!gxn(r,s).liveEdit;return UN(t,{draftId:ai(o),publishedId:$n(o)},s).pipe(rt(c=>Ho([c.draft.snapshots$,c.published.snapshots$]).pipe(le(u=>{let[d,f]=u;return{draft:d,published:f}}))),rt(c=>{let{draft:u,published:d}=c;const f=vxn({grantsStore:n,permission:i,draft:u,published:d,liveEdit:a}).map(p=>{let[m,v]=p;return v.pipe(le(g=>{let{granted:b,reason:x}=g;return{granted:b,reason:b?"":"not allowed to ".concat(m,": ").concat(x),label:m,permission:i}}))});return f.length?Ho(f).pipe(le(p=>{const m=p.every(g=>g.granted),v=m?"":"Unable to ".concat(i,`:
	`).concat(p.filter(g=>!g.granted).map(g=>g.reason).join(`
	`));return{granted:m,reason:v}})):ve({granted:!0,reason:""})}))}const bxn=ch(yxn);function mh(e){let{id:t,type:n,permission:r,client:o,schema:i,grantsStore:s}=e;const a=mr(cn),c=jn(),u=QN(),d=h.useMemo(()=>o||a,[a,o]),f=h.useMemo(()=>i||c,[c,i]),p=h.useMemo(()=>s||u,[u,s]);return bxn(h.useMemo(()=>({client:d,schema:f,grantsStore:p,id:t,permission:r,type:n}),[d,p,t,r,f,n]))}function TPe(e){let{grantsStore:t,document:n,permission:r}=e;const{checkDocumentPermission:o}=t;return o(r,n)}const xxn=ch(TPe);function wxn(e){let{document:t,permission:n,...r}=e;const o=QN();return xxn({grantsStore:r.grantsStore||o,document:t,permission:n})}function APe(e){return typeof e=="object"&&e!==null&&"serialize"in e?APe(e.serialize()):e}function Cxn(e){let{grantsStore:t,templateItems:n,templates:r,schema:o,context:i}=e;return n!=null&&n.length?Ho(n.map(APe).map(async s=>{const a=r.find(u=>u.id===s.templateId);if(!a)throw new Error('template not found: "'.concat(s.templateId,'"'));const c=await qN(o,a,s.parameters,i);return{template:a,item:s,resolvedInitialValue:c}}).map(s=>jr(s).pipe(rt(a=>{let{item:c,resolvedInitialValue:u,template:d}=a;const f=o.get(d.schemaType);if(!f)throw new Error('schema type not found: "'.concat(d.schemaType,'"'));const p=f==null?void 0:f.liveEdit,{initialDocumentId:m="dummy-id"}=c;return TPe({grantsStore:t,permission:"create",document:{_id:p?$n(m):ai(m),...u}}).pipe(le(v=>{let{granted:g,reason:b}=v;const x=c.title||d.title;return{...c,granted:g,reason:b,resolvedInitialValue:u,template:d,title:x,subtitle:f.title===x?void 0:f.title,description:c.description||d.description,icon:c.icon||d.icon}}))})))):ve([])}const _xn=ch(Cxn);function ZN(e){let{templateItems:t,...n}=e;const r=jn(),o=c1(),i=QN(),s=GN();return _xn({templateItems:t,grantsStore:n.grantsStore||i,schema:n.schema||r,templates:n.templates||o,context:s})}const Ufe="_debug_",Sxn=typeof window>"u"?ve({}):Pi(window,"hashchange"),DPe=Wr(ve(0),Sxn).pipe(le(()=>typeof document>"u"?"#":document.location.hash),Jn(),le(e=>e.substring(1).split(";").filter(t=>t.toLowerCase().startsWith(Ufe)).map(t=>t.substring(Ufe.length)))),Exn=DPe.pipe(le(e=>e.find(t=>t.startsWith("roles="))),le(e=>(e==null?void 0:e.split("roles=")[1].split(",").map(t=>t.trim()))||[])),kxn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Wfe=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],jxn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],Txn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],qfe=[{filter:'_id in path("**")',permissions:["read","history"]}],Axn=[{filter:"!locked",permissions:["read","create","update"]}],Dxn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],Yfe={administrator:kxn,editor:Wfe,developer:jxn,contributor:Txn,viewer:qfe,restricted:Dxn,requiresApproval:Axn,read:qfe,write:Wfe},Ixn=Exn.pipe(le(e=>e.length?e.filter(t=>!!t&&t in Yfe).flatMap(t=>Yfe[t]||[]):null));async function Oxn(e,t,n){return await e.request({uri:"/projects/".concat(t,"/datasets/").concat(n,"/acl"),tag:"acl.get",withCredentials:!0})}function Pxn(e){const t={};return e!==null&&(t.identity=e.id),t}const rP=new Map;async function Rxn(e,t,n){rP.has(t)||rP.set(t,bTe("*[".concat(t,"]")));const r=rP.get(t),o=Pxn(e),{identity:i}=o,s={...o},a=await(await hTe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}function $xn(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=go(()=>ve(r.config())).pipe(rt(s=>{let{projectId:a,dataset:c}=s;if(!a||!c)throw new Error("Missing projectId or dataset");return Oxn(r,a,c)})),i=Ixn.pipe(rt(s=>s?ve(s):o),bl(1),iNt(1e3));return{checkDocumentPermission(s,a){return i.pipe(rt(c=>Mxn(n,c,s,a)),Jn(Vu))}}}async function Mxn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await Rxn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}async function Fxn(e,t){const n=t?{headers:{Authorization:"Bearer ".concat(t)}}:{credentials:"include"},r=await fetch(e,n);return Lxn(r)}function Lxn(e){const t=e.body;if(!t)throw new Error("Failed to read body from response");let n,r=!1;return new ReadableStream({start(o){n=t.getReader();const i=new TextDecoder;let s="";n.read().then(function a(c){if(c.done){if(r)return;if(s=s.trim(),s.length===0){o.close();return}o.enqueue(JSON.parse(s)),o.close();return}s+=i.decode(c.value,{stream:!0});const u=s.split(`
`);for(let d=0;d<u.length-1;++d){const f=u[d].trim();if(f.length!==0)try{o.enqueue(JSON.parse(f))}catch(p){o.error(p),r=!0,n.cancel();return}}return s=u[u.length-1],n.read().then(a).catch(d=>o.error(d))}).catch(a=>o.error(a))},cancel(){r=!0,n.cancel()}})}function Gfe(e){return{id:e,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function Bxn(e,t){const n=t.events.findIndex(r=>e.id===r.transactionId);return n>=0?n+1:t.rev?t.rev===e.id?0:-1:0}function Kfe(e,t){if(e.hasAttrs=!0,t){if(e.attrs={...t},typeof e.attrs._rev!="string")throw new Error("snapshot has no _rev");e.rev=e.attrs._rev,delete e.attrs._rev}else e.attrs=null,e.rev=null;e.events=[]}class Nxn{constructor(t){this.earliestTransactionId=null,this.timeline=t,this._states={draft:Gfe(t.draftId),published:Gfe(t.publishedId)}}appendRemoteSnapshotEvent(t){const n=this._states[t.version];if(t.type==="snapshot"){this._maybeInvalidateHistory(),Kfe(n,t.document);return}t.type==="remoteMutation"&&(n.aligned?(this._apply(n,t),this.timeline.addRemoteMutation(t)):n.hasAttrs?n.events.push(t):Kfe(n,t.head))}prependHistoryEvent(t){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const n of Object.values(this._states))if(!n.aligned){const r=Bxn(t,n);r>=0&&this._alignAtIndex(n,r)}this.timeline.addTranslogEntry(t),this.earliestTransactionId=t.id}didReachEarliestEntry(){for(const t of Object.values(this._states))if(!t.aligned){if(t.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(t,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(t=>t.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(t,n){for(const r of t.events.slice(0,n))this._apply(t,r);for(const r of t.events.slice(n))this._apply(t,r),this.timeline.addRemoteMutation(r);t.events=[],t.aligned=!0}get _isComplete(){return Object.values(this._states).every(t=>t.hasAttrs)}_apply(t,n){t.attrs=UM(t.attrs,n.effects.apply),t.rev=n.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const t of Object.values(this._states))t.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class zxn{constructor(t,n,r,o){this.timeline=t,this.start=r,this.end=o,this.doc=n}same(t,n){return this.start===t&&this.end===n}endAttributes(){return Zfe(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return Zfe(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function Zfe(e){return e.draft||e.published}const Vxn=50;class Hxn{constructor(t){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=t.timeline,this.client=t.client,this.handler=t.handler,this._aligner=new Nxn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(t,n){n!==this._rev&&this.setRevTime(n),t!==this._since&&this.setSinceTime(t);let r=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",r=0);this._fetchAtLeast=r,this.start()}setLoadMore(t){this._fetchMore=t,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(t){const n=this.timeline.isLatestChunk(t)?null:this.timeline.createTimeId(t);if(!this._since)return[null,n];const r=this.sinceTime;return r&&r.index<t.index?[this._since,n]:["@lastPublished",n]}findRangeForNewSince(t){const n=this.revTime;return n&&t.index<n.index?[this.timeline.createTimeId(t),this._rev]:[this.timeline.createTimeId(t),null]}setRevTime(t){this._rev=t,this._revTime=t?this.timeline.parseTimeId(t):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(t){t==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=t?this.timeline.parseTimeId(t):null,this._since=t}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(t,n){this._reconstruction&&this._reconstruction.same(t,n)||(this._reconstruction=new zxn(this.timeline,this._aligner.currentDocument,t,n))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const t=this.currentDiff();if(t){if(t.type==="null")return null;if(t.type!=="object")throw new Error("ObjectDiff expected, got ".concat(t.type))}return t}handleRemoteMutation(t){this._aligner.appendRemoteSnapshotEvent(t),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var t;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(r){this._didErr=!0,(t=this.handler)==null||t.call(this,r,this);return}await this.tick()}}async fetchMoreTransactions(){const t=this.timeline.publishedId,n=this.timeline.draftId,r=this.client.config(),o=Vxn;let i="tag=sanity.studio.desk.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),s=this._aligner.earliestTransactionId;s&&(i+="&toTransaction=".concat(s));const a=this.client.getUrl("/data/history/".concat(r.dataset,"/transactions/").concat(t,",").concat(n,"?").concat(i)),u=(await Fxn(a,r.token)).getReader();let d=0;for(;;){const f=await u.read();if(f.done)break;if("error"in f.value)throw new Error(f.value.error.description||f.value.error.type);if(d++,f.value.id!==s){if(this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(f.value),s=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==s||!this._aligner.acceptsHistory||(d<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var t;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(t=this.handler)==null||t.call(this,null,this)}}function Uxn(e,t){return e&&t?e.author===t.author&&e.chunk===t.chunk:!e&&!t}function Xfe(e){return e.draft||e.published}class Wxn{constructor(t,n,r,o){this.type="array",this.elements=[],this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.length=t.elements.length}at(t){if(t>=this.length)throw new Error("out of bounds");const n=this.elements[t];return n||(this.elements[t]=O5(this.content.elements[t],this.value[t],this.extractor))}annotationAt(t){const n=this.content.metas[t];return this.extractor.fromMeta(n)}}class qxn{constructor(t,n,r,o){this.type="object",this.fields={},this.content=t,this.value=n,this.annotation=r,this.extractor=o,this.keys=Object.keys(t.fields)}get(t){const n=this.fields[t];if(n)return n;const r=this.content.fields[t];if(r)return this.fields[t]=O5(r,this.value[t],this.extractor)}}class Yxn{constructor(t,n,r,o){this.type="string",this.content=t,this.value=n,this.annotation=r,this.extractor=o}sliceAnnotation(t,n){const r=[];let o=0;function i(s,a){if(r.length>0){const c=r[r.length-1];if(Uxn(c.annotation,a)){c.text+=s;return}}r.push({text:s,annotation:a})}for(const s of this.content.parts){const a=s.value.length,c=Math.max(0,t-o);if(c<a){const u=Math.min(a,n-o);if(u<=0)break;i(s.value.slice(c,u),this.extractor.fromValue(s))}o+=a}return r}}function O5(e,t,n){const r=n.fromValue(e);if(e.content)switch(e.content.type){case"array":return new Wxn(e.content,t,r,n);case"object":return new qxn(e.content,t,r,n);case"string":return new Yxn(e.content,t,r,n)}return M7(t,r)}function Qfe(e,t,n){return n?H4(e,n.transactionIndex+1,n.chunk.index):t?H4(e,t.start,t.index):null}function Jfe(e,t){return t?H4(e,t.transactionIndex,t.chunk.index):null}function H4(e,t,n){const r=e.transactionByIndex(t);if(!r)return null;const o=e.chunkByTransactionIndex(t,n);return o?{chunk:o,timestamp:r.timestamp,author:r.author}:null}function Gxn(e,t,n,r,o,i){const s=O5(n,r,{fromValue(c){return Qfe(e,t,c.endMeta)},fromMeta(c){return Qfe(e,t,c)}}),a=O5(o,i,{fromValue(c){return Jfe(e,c.startMeta)},fromMeta(c){return Jfe(e,c)}});return pA(s,a)}class g2{constructor(){this._postive=[],this._negative=[]}addToEnd(t){t.index=this._postive.length,this._postive.push(t)}addToBeginning(t){if(this.length==0){this.addToEnd(t);return}t.index=-(this._negative.length+1),this._negative.push(t)}mergeAtEnd(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.lastIdx,o=n(this.get(r),t);Array.isArray(o)?(this.set(r,o[0]),this.addToEnd(o[1])):this.set(r,o)}mergeAtBeginning(t,n){if(this.length===0){this.addToEnd(t);return}const r=this.firstIdx,o=n(t,this.get(r));Array.isArray(o)?(this.set(r,o[1]),this.addToBeginning(o[0])):this.set(r,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(t){return t>=0?t<this._postive.length:-(t+1)<this._negative.length}get(t){return t>=0?this._postive[t]:this._negative[-(t+1)]}set(t,n){t>=0?(n.index=t,this._postive[t]=n):(n.index=t,this._negative[-(t+1)]=n)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}function Kxn(e){return e==="create"||e==="editDraft"}const Zxn=5*60*1e3;function Xxn(e,t){return Date.parse(t)-Date.parse(e)<Zxn}function ehe(e,t){if(e.end!==t.start)throw new Error("chunks are not next to each other");const n=nhe(e.draftState,t.draftState),r=nhe(e.publishedState,t.publishedState);if(e.type==="delete"&&t.type==="editDraft")return[e,{...t,type:"create",draftState:n,publishedState:r}];if(t.type==="delete"){if(n==="missing"&&r==="present")return[e,{...t,type:"discardDraft",draftState:n,publishedState:r}];if(n==="present"&&r==="missing")return[e,{...t,type:"unpublish",draftState:n,publishedState:r}]}if(Kxn(e.type)&&t.type==="editDraft"&&Xxn(e.endTimestamp,t.startTimestamp)){const o=new Set;for(const i of e.authors)o.add(i);for(const i of t.authors)o.add(i);return{index:0,id:t.id,type:e.type,start:e.start,end:t.end,startTimestamp:e.startTimestamp,endTimestamp:t.endTimestamp,authors:o,draftState:n,publishedState:r}}return[e,{...t,draftState:n,publishedState:r}]}function the(e){const t=!!e;return e&&U4(e==null?void 0:e.apply)?"deleted":t?"upsert":"unedited"}function Qxn(e){const t=the(e.draftEffect),n=the(e.publishedEffect);if(n==="unedited"){if(t==="deleted")return"delete";if(t==="upsert")return"editDraft"}if(n==="deleted")return"delete";if(n==="upsert"){if(t==="unedited")return"editLive";if(t==="deleted")return"publish";if(t==="upsert")return"editLive"}return"editLive"}function oP(e){const t=!!e.draftEffect,n=!!e.publishedEffect,r=e.draftEffect&&U4(e.draftEffect.apply),o=e.publishedEffect&&U4(e.publishedEffect.apply),i=Qxn(e);return{index:0,id:e.id,type:i,start:e.index,end:e.index+1,startTimestamp:e.timestamp,endTimestamp:e.timestamp,authors:new Set([e.author]),draftState:t?r?"missing":"present":"unknown",publishedState:n?o?"missing":"present":"unknown"}}function nhe(e,t){return t==="unknown"?e:t}function U4(e){return e[0]===0&&e[1]===null}let Jxn=class{constructor(t){this.reachedEarliestEntry=!1,this._transactions=new g2,this._chunks=new g2,this._possiblePendingTransactions=new Map,this.publishedId=t.publishedId,this.draftId="drafts.".concat(t.publishedId),t.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:t.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(t){const n=[],r=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let i=o;i>=r;i--)n.push(t(this._chunks.get(i),i));return n}reset(){this._transactions=new g2,this._chunks=new g2,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(t){this._trace&&this._trace.push({type:"addRemoteMutation",event:t});const n=this._possiblePendingTransactions.get(t.transactionId),r=n?n.transaction:{index:0,id:t.transactionId,timestamp:t.timestamp.toISOString(),author:t.author};t.version==="draft"?r.draftEffect=t.effects:r.publishedEffect=t.effects,n?(this._possiblePendingTransactions.delete(t.transactionId),this._invalidateTransactionFrom(n.idx)):(this._transactions.addToEnd(r),this._possiblePendingTransactions.set(t.transactionId,{transaction:r,idx:this._transactions.lastIdx}))}addTranslogEntry(t){this._trace&&this._trace.push({type:"addTranslogEntry",event:t}),this._transactions.addToBeginning({index:0,id:t.id,author:t.author,timestamp:t.timestamp,draftEffect:t.effects[this.draftId],publishedEffect:t.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const t=this._chunks.last;if(this._recreateTransactionsFrom<t.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const t=this._transactions.firstIdx,n=this._transactions.lastIdx,r=this._chunks.length>0?this._chunks.last.end:t;for(let i=r;i<=n;i++){const s=this._transactions.get(i);this._chunks.mergeAtEnd(oP(s),ehe)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let i=o-1;i>=t;i--){const s=this._transactions.get(i);this._chunks.mergeAtBeginning(oP(s),ehe)}}_invalidateTransactionFrom(t){(this._recreateTransactionsFrom===void 0||t<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=t)}_createInitialChunk(){var t;if(this.reachedEarliestEntry){if(((t=this._chunks.first)==null?void 0:t.type)==="initial")return;const n=this._transactions.first;if(!n)return;const r=oP(n);r.type="initial",r.id="@initial",r.end=r.start,this._chunks.addToBeginning(r)}}parseTimeId(t){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const n=t.split("/",3),r=n.shift(),o=n.shift(),i=Number(r);for(let s=this._chunks.lastIdx;s>=this._chunks.firstIdx;s--){const a=this._chunks.get(s);if(a.id===o)return a;if(Date.parse(a.endTimestamp)+60*60*1e3<i)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(t){for(let n=t?t.index-1:this._chunks.lastIdx;n>=this._chunks.firstIdx;n--){const r=this._chunks.get(n);if(r.type==="publish"||r.type==="initial")return r}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(t){return t===this._chunks.last}createTimeId(t){return"".concat(t.endTimestamp.valueOf(),"/").concat(t.id)}lastChunk(){return this._chunks.last}transactionByIndex(t){return this._transactions.has(t)?this._transactions.get(t):null}chunkByTransactionIndex(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(r);if(!o)throw new Error("transaction does not belong in any chunk");if(t>=o.end)r++;else if(t<o.start)r--;else return o}}replayBackwardsBetween(t,n,r){let o=r.draft,i=r.published;for(let s=n;s>=t;s--){const a=this._transactions.get(s);a.draftEffect&&(o=UM(o,a.draftEffect.revert)),a.publishedEffect&&(i=UM(i,a.publishedEffect.revert))}return{draft:o,published:i}}replayBackwardsUntil(t,n){return this.replayBackwardsBetween(t,this._transactions.lastIdx,n)}calculateDiff(t,n,r,o){let i=ul.wrap(t.draft,null),s=ul.wrap(t.published,null);const a=ewn(i,s),c=Xfe(t);let u=null;for(let p=r;p<=o;p++){const m=this._chunks.get(p);u||(u=m);for(let v=m.start;v<m.end;v++){const g=this._transactions.get(v),b={chunk:m,transactionIndex:v},x=i,y=s;g.draftEffect&&(i=ul.applyPatch(i,g.draftEffect.apply,b)),g.publishedEffect&&(s=ul.applyPatch(s,g.publishedEffect.apply,b));const w=ul.getType(x)!=="null",C=ul.getType(i)!=="null";ul.getType(s)!=="null"&&!C&&(s=ul.rebaseValue(x,s)),C&&!w&&(i=ul.rebaseValue(y,i))}}const d=ul.getType(i)==="null"?s:i,f=Xfe(n);return Gxn(this,u,a,c,d,f)}};function ewn(e,t){return ul.getType(e)==="null"?t:e}const rhe=Object.create(null),twn=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.isArray(t)?t:[t],{time:o,revision:i}=n;if(o&&i)throw new Error("getHistory can't handle both time and revision parameters");const s=e.config().dataset;let a="/data/history/".concat(s,"/documents/").concat(r.join(","));if(i)a="".concat(a,"?revision=").concat(i);else{const c=o||new Date().toISOString();a="".concat(a,"?time=").concat(c)}return e.request({url:a})},IPe=(e,t,n)=>{const r=$n(t),o=ai(t),i="".concat(r,"@").concat(n),s=rhe[i];if(s)return s;const a=e.config().dataset,c="/data/history/".concat(a,"/documents/").concat(r,",").concat(o,"?revision=").concat(n),u=e.request({url:c}).then(d=>{const f=d.documents||[],p=f.find(v=>v._id===r);return f.find(v=>v._id===o)||p});return rhe[i]=u,u},nwn=e=>{let{client:t,documentId:n,documentType:r}=e;const o=new Jxn({enableTrace:Vc,publishedId:n});return new Hxn({client:t,documentId:n,documentType:r,timeline:o})},rwn=async(e,t)=>{const n=Array.isArray(t)?t:[t],r=e.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},i="/data/history/".concat(r,"/transactions/").concat(n.join(","));return(await e.request({url:i,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},own=e=>sTe(e,(t,n)=>nd(n)&&!t.includes(n._ref)?[...t,n._ref]:t,[]);function W4(e,t){return Array.isArray(e)?t(e.map(n=>W4(n,t)).filter(n=>typeof n<"u")):xt(e)?t(Object.keys(e).reduce((n,r)=>{const o=W4(e[r],t);return typeof o<"u"&&(n[r]=o),n},{})):t(e)}const iwn=(e,t)=>W4(e,n=>nd(n)?t(n):n),swn=(e,t)=>iwn(e,n=>t[n._ref]?n:void 0);function awn(e,t,n,r){return jr(IPe(e,t,r)).pipe(ft(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(t," at revision ").concat(r));const i=own(o).map(s=>'"'.concat(s,'": defined(*[_id=="').concat(s,'"]._id)')).join(",");return e.observable.fetch("{".concat(i,"}")).pipe(le(s=>swn(o,s)))}),le(o=>{const{_updatedAt:i,...s}=o;return{...s,_id:n}}),ft(o=>e.observable.createOrReplace(o,{visibility:"async"})))}function lwn(e){let{client:t}=e;return{getDocumentAtRevision:(n,r)=>IPe(t,n,r),getHistory:(n,r)=>twn(t,n,r),getTransactions:n=>rwn(t,n),restore:(n,r,o)=>awn(t,n,r,o),getTimelineController:nwn}}const ohe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function cwn(e){let{documentId:t,documentType:n,onError:r,rev:o,since:i}=e;const s=PPe(),a=h.useRef(null),c=h.useRef(ohe),u=mr(cn),d=h.useMemo(()=>s.getTimelineController({client:u,documentId:t,documentType:n}),[u,t,n,s]),f=h.useMemo(()=>new Qj(d),[d]);return h.useEffect(()=>(d.setRange(i||null,o||null),f.next(d),d.handler=(m,v)=>{m?f.error(m):setTimeout(()=>{v.setRange(i||null,o||null),f.next(v)},0)},d.resume(),()=>d.suspend()),[o,i,d,f]),h.useEffect(()=>(a.current||(a.current=zbn(u,{draftId:"drafts.".concat(t),publishedId:t},n).subscribe(m=>{d.handleRemoteMutation(m)})),()=>{a.current&&(a.current.unsubscribe(),a.current=null)}),[u,d,t,n]),h.useMemo(()=>({findRangeForRev:m=>d.findRangeForNewRev(m),findRangeForSince:m=>d.findRangeForNewSince(m),loadMore:()=>{d.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:m=>{const v=f.pipe(Cn(g=>g.setLoadMore(!1)),le(g=>{var b;const x=g.timeline.mapChunks(_=>_),y=x.filter(_=>!["delete","initial"].includes(_.type)),w=!g.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(g.selectionState);return{chunks:x,diff:g.sinceTime?g.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!g.timeline.reachedEarliestEntry,lastNonDeletedRevId:(b=y==null?void 0:y[0])==null?void 0:b.id,onOlderRevision:g.onOlderRevision(),realRevChunk:g.realRevChunk,revTime:g.revTime,selectionState:g.selectionState,sinceAttributes:g.sinceAttributes(),sinceTime:g.sinceTime,timelineDisplayed:g.displayed(),timelineReady:C}}),Jn(AF),Rn(g=>(r==null||r(g),ve(ohe))),Cn(g=>{c.current=g}),Cn(m)).subscribe();return()=>v.unsubscribe()}}),[d,r,f])}function uo(e,t){return F7.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,null,t)}const uwn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],dwn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],fwn=go(()=>Uo(0,1e4)).pipe(Wp(uwn),le((e,t)=>({type:"state",userId:e,sessionId:e+t,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:czt(dwn)}]})),Do()),hwn=e=>{if(e.type==="rollCall")return{type:"rollCall",userId:e.i,sessionId:e.session};if(e.type==="state"){const{sessionId:t,locations:n}=e.m;return{type:"state",userId:e.i,sessionId:t,timestamp:new Date().toISOString(),locations:n}}if(e.type==="disconnect")return{type:"disconnect",userId:e.i,sessionId:e.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(e)))},pwn=(e,t)=>{const n=e.request("presence").pipe(le(hwn)),r=o=>o.type==="rollCall"?e.request("presence_rollcall",{session:t}):o.type==="state"?e.request("presence_announce",{data:{locations:o.locations,sessionId:t}}):o.type==="disconnect"?e.request("presence_disconnect",{session:t}):Qn;return[n.pipe(oa()),r]},OPe="presence_session_id",mwn=()=>m1t(16);function gwn(){try{return window.sessionStorage.getItem(OPe)}catch{}return null}function vwn(e){try{window.sessionStorage.setItem(OPe,e)}catch{}return e}const v2=gwn()||vwn(mwn());function ywn(e){const{bifur:t,connectionStatusStore:n,userStore:r}=e,[o,i]=pwn(t,v2),s=new Qj([]),a=s.pipe(Jn()),c=A=>{s.next(A)},u=A=>i({type:"state",locations:A}),d=()=>i({type:"rollCall"}),f=o.pipe(pt(A=>A.type==="rollCall"),pt(A=>A.sessionId!==v2)),m=Uo(0,3e4),v=go(()=>an(a,f)).pipe(rt(()=>m),sb(s),le(A=>{let[,D]=A;return D}),vnt(200),rt(A=>u(A)),Wp(Qn),oa()),g=go(()=>d()).pipe(Wp(Qn)),b=n.connectionStatus$.pipe(le(A=>A.type),pt(A=>A==="connected"||A==="error"),Jn()),x=DPe.pipe(le(A=>A.find(D=>D.startsWith("presence="))),le(A=>(A==null?void 0:A.split("presence=")[1].split(",").map(D=>D.trim()))||[])),y=x.pipe(pt(A=>A.includes("fake_others")),Cn(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),Dnt(fwn)),w=x.pipe(le(A=>A.includes("show_own"))),C=an(g,o).pipe(pt(A=>A.type==="state"||A.type==="disconnect")),_=A=>({lastActiveAt:A.timestamp,locations:A.locations,sessionId:A.sessionId,userId:A.userId}),S=an(C,y).pipe(ra((A,D)=>D.type==="disconnect"?Ri(A,D.sessionId):{...A,[D.sessionId]:_(D)},{})),E=b.pipe(rt(A=>A==="connected"?an(S,v):QL),le(A=>Object.values(A)),rt(A=>{const D=vo(A.map(I=>I.userId));return jr(r.getUsers(D)).pipe(le(I=>A.map(O=>({user:I.find($=>$.id===O.userId),session:O})).filter(j)))}),n8(Pi(window,"beforeunload").pipe(rt(()=>i({type:"disconnect"})))),Do({refCount:!0,bufferSize:1}));function j(A){return!!(A.user&&A.session)}const k=E.pipe(le(A=>{const D=g7(A.map(I=>I.session),I=>I.userId);return Object.keys(D).map(I=>{var O;return{user:(O=A.find($=>$.user.id===I))==null?void 0:O.user,sessions:D[I]}})}),sb(w),le(A=>{let[D,I]=A;return D.filter(O=>I?!0:!O.sessions.some(R=>R.sessionId===v2))}),le(A=>A.map(D=>{var I;return{user:D.user,status:"online",lastActiveAt:(I=D.sessions.sort()[0])==null?void 0:I.lastActiveAt,locations:On((D.sessions||[]).map(O=>O.locations||[])).map(O=>({type:O.type,documentId:O.documentId,path:O.path,lastActiveAt:O.lastActiveAt})).reduce((O,$)=>O.concat($),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:k,documentPresence:A=>E.pipe(sb(w),rt(D=>{let[I,O]=D;return jr(I).pipe(pt($=>O||$.session.sessionId!==v2),Tnt($=>($.session.locations||[]).filter(R=>R.documentId===A).map(R=>({user:$.user,lastActiveAt:$.session.lastActiveAt,path:R.path||[],sessionId:$.session.sessionId}))),RCe())}))}}function bwn(){const[e,t]=h.useState([]),n=JN();return h.useEffect(()=>{const r=n.globalPresence$.subscribe(t);return()=>{r.unsubscribe()}},[n]),e}function CC(e){const t=JN(),[n,r]=h.useState([]);return h.useEffect(()=>{const o=t.documentPresence(e).subscribe(r);return()=>{o.unsubscribe()}},[e,t]),n}function xwn(e){const{client:t}=e,n=t.config().projectId,r=t.withConfig({apiVersion:"2021-12-15"});function o(){return r.observable.request({url:"/projects/".concat(n)})}function i(){return r.observable.request({url:"/projects/".concat(n,"/datasets")})}return{get:o,getDatasets:i}}const wwn=(e,t)=>{try{return JSON.parse(e)}catch(n){return console.warn("Failed to parse settings: ".concat(n.message)),t}},Cwn=(e,t)=>{const n=localStorage.getItem(e);return ve(n===null?t:wwn(n,t))},_wn=(e,t)=>(typeof t>"u"||t===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(t)),ve(t)),Swn={get:Cwn,set:_wn},P5=Object.create(null),Ewn=(e,t)=>ve(e in P5?P5[e]:t),kwn=(e,t)=>(typeof t>"u"||t===null?delete P5[e]:P5[e]=t,ve(t)),jwn={get:Ewn,set:kwn};let uy=null;function Twn(){if(uy!==null)return uy;const e="__test__";try{localStorage.setItem(e,e),localStorage.removeItem(e),uy=!0}catch{uy=!1}return uy}function Awn(){return Twn()?Swn:jwn}function Dwn(){const e=Awn(),t=new Er,n=(a,c)=>"".concat(a,"::").concat(c),r=t.pipe(rt(a=>e.set(a.key,a.value).pipe(le(c=>({key:a.key,value:c}))))),o=(a,c)=>an(e.get(a,c),r.pipe(pt(u=>u.key===a),le(u=>u.value))),i=(a,c)=>{t.next({key:a,value:c})},s=a=>({forKey:c=>{const u=n(a,c);return{listen:d=>o(u,d),set:d=>i(u,d),del:()=>i(u,void 0)}},listen:(c,u)=>o(n(a,c),u),set:(c,u)=>i(n(a,c),u),del:c=>i(n(a,c),void 0),forNamespace:c=>s(n(a,c))});return{forNamespace:s}}const Iwn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function Own(e){let{client:t,currentUser:n}=e;const r=t.withConfig({apiVersion:"2021-06-07"}),o=new xzt(async s=>{const a=await r.request({uri:"/users/".concat(s.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(a)?a:[a]).reduce((d,f)=>(f!=null&&f.id&&(d[f.id]=f),d),{});return s.map(d=>u[d]||null)},{batchScheduleFn:s=>Ezt(s)}),i=n&&{id:n.id,displayName:n.name,imageUrl:n.profileImage};return o.prime("me",i),i!=null&&i.id&&o.prime(i.id,i),Iwn.forEach(s=>o.prime(s.id,s)),{getUser:async s=>{try{return await o.load(s)}catch(a){if(a.statusCode===403)return Promise.resolve(null);throw a}},getUsers:async s=>(await o.loadMany(s)).filter(c=>xt(c)&&typeof c.id=="string")}}function XN(){const{getClient:e,currentUser:t}=Ln(),n=vd(),r=e(cn);return h.useMemo(()=>{const o=n.get({namespace:"userStore",dependencies:[r,t]})||Own({client:r,currentUser:t});return n.set({namespace:"userStore",dependencies:[r,t],value:o}),o},[r,t,n])}function QN(){const{getClient:e}=Ln(),t=e(cn),n=Yo(),r=vd();return h.useMemo(()=>{const o=r.get({namespace:"grantsStore",dependencies:[t,n]})||$xn({client:t,currentUser:n});return r.set({namespace:"grantsStore",dependencies:[t,n],value:o}),o},[t,n,r])}function PPe(){const e=mr(cn),t=vd();return h.useMemo(()=>{const n=t.get({namespace:"historyStore",dependencies:[e]})||lwn({client:e});return t.set({namespace:"historyStore",dependencies:[e],value:n}),n},[e,t])}function Ni(){const e=mr(cn),t=vd();return h.useMemo(()=>{const n=t.get({namespace:"documentPreviewStore",dependencies:[e]})||rZt({client:e});return t.set({namespace:"documentPreviewStore",dependencies:[e],value:n}),n},[e,t])}function ol(){const e=Ln().getClient,t=jn(),n=c1(),r=vd(),o=PPe(),i=Ni();return h.useMemo(()=>{const s=r.get({namespace:"documentStore",dependencies:[e,i,o,t]})||fxn({getClient:e,documentPreviewStore:i,historyStore:o,initialValueTemplates:n,schema:t});return r.set({namespace:"documentStore",dependencies:[e,i,o,t],value:s}),s},[e,i,o,r,t,n])}function Pwn(){const{bifur:e}=Ln().__internal,t=vd();return h.useMemo(()=>{const n=t.get({namespace:"connectionStatusStore",dependencies:[e]})||WYt({bifur:e});return t.set({namespace:"connectionStatusStore",dependencies:[e],value:n}),n},[e,t])}function JN(){const{__internal:{bifur:e}}=Ln(),t=vd(),n=XN(),r=Pwn();return h.useMemo(()=>{const o=t.get({namespace:"presenceStore",dependencies:[e,r,n]})||ywn({bifur:e,connectionStatusStore:r,userStore:n});return t.set({namespace:"presenceStore",dependencies:[e,r,n],value:o}),o},[e,r,t,n])}function Rwn(){const e=mr(cn),t=vd();return h.useMemo(()=>{const n=t.get({namespace:"projectStore",dependencies:[e]})||xwn({client:e});return t.set({namespace:"projectStore",dependencies:[e],value:n}),n},[e,t])}function $wn(){const e=vd(),t=Ul();return h.useMemo(()=>{const n=e.get({dependencies:[t],namespace:"settingsStore"})||Dwn();return e.set({dependencies:[t],namespace:"settingsStore",value:n}),n},[e,t])}const Mwn=/[^\p{Alpha}\p{White_Space}]/gu,Fwn=new RegExp("\\p{White_Space}+","u"),Lwn={small:0,medium:1,large:2};function Bwn(e){const t=e.replace(Mwn,"").split(Fwn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function Ya(e){const{user:t,...n}=e;return xt(t)?n.withTooltip?l.jsx(Nwn,{...n,user:t}):l.jsx(RPe,{...n,user:t}):l.jsx(zwn,{...e,user:t})}function Nwn(e){const{user:{displayName:t}}=e;return l.jsx(it,{content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t})}),placement:"top",portal:!0,children:l.jsx("div",{style:{display:"inline-block"},children:l.jsx(RPe,{...e})})})}const RPe=h.forwardRef(function(t,n){const{user:r,animateArrowFrom:o,position:i,size:s,status:a,tone:c,...u}=t,[d,f]=h.useState(null),p=QZt(r.id),m=d||r==null?void 0:r.imageUrl;return l.jsx(Dwe,{animateArrowFrom:o,arrowPosition:i,color:p.name,"data-legacy-tone":c,initials:(r==null?void 0:r.displayName)&&Bwn(r.displayName),src:m,onImageLoadError:f,ref:n,size:typeof s=="string"?Lwn[s]:s,status:a,title:r==null?void 0:r.displayName,...u})});function zwn(e){let{user:t,...n}=e;const[r]=u1(t);return r?l.jsx(Ya,{...n,user:r}):null}var ihe=Object.freeze,Vwn=Object.defineProperty,Hwn=(e,t)=>ihe(Vwn(e,"raw",{value:ihe(t||e.slice())})),she;const Uwn=P(IL)(e=>{let{theme:t}=e;const n=t.sanity.color.dark?50:700,r=t.sanity.color.dark?700:100,o=fe.purple[r].hex,i=fe.purple[n].hex;return de(she||(she=Hwn([`
    background-color: `,`;
    box-shadow: inset 0 0 0 1px `,`;
    color: `,`;
  `])),o,o,i)});function Wwn(e){const{fontSize:t=1,children:n="Beta",...r}=e;return l.jsx(Uwn,{...r,fontSize:t,children:n})}function Gh(e,t,n){var r;if(t.length===0)return{...e||{},value:n};const[o,...i]=t,s=Mr(o)?o._key:String(o),a=(r=e==null?void 0:e.children)!=null?r:{};return{value:e==null?void 0:e.value,children:{...a,[s]:Gh(a[s]||{},i,n)}}}const ez=20,qwn=3,rf={name:"all-fields",title:"All fields",hidden:!1};function Ywn(e){return Ka(e.schemaType)}function Gwn(e){return wF(e.schemaType)}function Kwn(e,t){return[...t.map((n,r)=>({type:"expandPath",path:t.slice(0,r+1)})),...$Pe(e,t)]}function $Pe(e,t){return t.length===0?[]:Ywn(e)?MPe(e,t):Gwn(e)?FPe(e,t):[]}function MPe(e,t){var n,r;if(t.length===0)return[];const[o,...i]=t,s=e._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(g=>g.kind==="field"&&g.name===o)),c=(s?s.fieldSet.members:e._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=e.schemaType.fields.find(v=>v.name===o),d=(n=e.groups.find(v=>v.selected))==null?void 0:n.name,f=(r=(e.schemaType.groups||[]).find(v=>v.default))==null?void 0:r.name,p=d&&(d===rf.name||u&&Fw(u.group).includes(d)),m=[];return p||m.push({type:"setSelectedGroup",path:e.path,groupName:f||rf.name}),s&&m.push({type:"expandFieldSet",path:s.fieldSet.path}),c&&(lN(c)?m.push(...FPe(c.field,i)):OIe(c)&&m.push(...MPe(c.field,i))),m}function FPe(e,t){if(t.length===0)return[];const[n,...r]=t;if(!Mr(n))throw new Error("Expected path segment to be an object with a _key property");const o=e.members.find(i=>i.key===n._key);return o?$Pe(o.item,r):[]}function fo(e,t){const{currentUser:n,document:r,parent:o,value:i}=t;return typeof e=="boolean"||e===void 0?!!e:e({document:r,parent:o,value:i,currentUser:n})===!0}function Zwn(e,t){const n=js(t);return n==="object"&&e.of.length===1?e.of[0]:e.of.find(r=>r.name===n)}function Xwn(e,t){const n=js(t);return e==null?void 0:e.of.find(r=>r.name===n||r.jsonType===n)}function tz(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if((e==null?void 0:e.collapsible)===!1||(e==null?void 0:e.collapsable)===!1)return{collapsible:!1,collapsed:!1};const n=typeof(e==null?void 0:e.collapsed)=="boolean"?e.collapsed:t>=qwn?!0:void 0;return{collapsible:(e==null?void 0:e.collapsible)===!0||(e==null?void 0:e.collapsable)===!0||n===!0?!0:void 0,collapsed:n}}function LPe(e,t,n){return n.name===rf.name?!0:t===void 0?!1:e.length===0&&n.name===rf.name?!0:Fw(t).includes(n.name)}function ahe(e){return typeof e>"u"||xt(e)}function Qwn(e){return typeof e>"u"||Array.isArray(e)}function Jwn(e){return typeof e>"u"||Array.isArray(e)}function eCn(e){return e.length===0||e.every(t=>xt(t))}function tCn(e){const t=new Set;return e.reduce((n,r,o)=>(t.has(r._key)&&n.push([o,r._key]),t.add(r._key),n),[])}function nCn(e){return"_key"in e}function rCn(e){return e==null?void 0:e.every(t=>xt(t)&&nCn(t))}function _v(e,t){return Array.isArray(e)&&typeof t>"u"||Array.isArray(t)&&typeof e>"u"?!1:e&&!t?!0:!Ut(e,t)}function lhe(e){var t,n,r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y;const{parent:w,field:C,index:_}=e,S=um([...w.path,C.name]),E=uon(C.type,w.level+1),j=w.value,k=w.comparisonValue;if(!ahe(j))throw new Error("Unexpected non-object value");const T=C.group?Fw(C.group):[],A=LPe(w.groups,C.group,w.selectedGroup);if(Ka(C.type)){const D=j==null?void 0:j[C.name],I=xt(k)?k==null?void 0:k[C.name]:void 0;if(!ahe(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:js(D),value:D}};const O={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(fo(C.type.hidden,O))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:_};const R=w.readOnly||fo(C.type.readOnly,O),z=(n=(t=w.fieldGroupState)==null?void 0:t.children)==null?void 0:n[C.name],B=(o=(r=w.collapsedPaths)==null?void 0:r.children)==null?void 0:o[C.name],U=(s=(i=w.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[C.name],W=nz({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:D,changed:_v(D,I),comparisonValue:I,presence:w.presence,validation:w.validation,fieldGroupState:z,path:S,level:E,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:B,collapsedFieldSets:U,readOnly:R,changesOpen:w.changesOpen});if(W===null)return null;const V=tz(C.type.options,E),K=B?B.value:V.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Si(S,w.openPath),field:W,collapsed:K,collapsible:V.collapsible}}else if(Fl(C.type)){const D=j==null?void 0:j[C.name],I=xt(k)?k==null?void 0:k[C.name]:void 0;if(wF(C.type)){const O=typeof D<"u";if(O&&!Qwn(D)){const V=js(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:V,value:D}}}if(O&&!eCn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:D}};if(O&&!rCn(D))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:D,schemaType:C.type}};const $=O?tCn(D):[];if($.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:$,schemaType:C.type}};const R=(c=(a=w.fieldGroupState)==null?void 0:a.children)==null?void 0:c[C.name],z=(d=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:d[C.name],B=(p=(f=w.collapsedFieldSets)==null?void 0:f.children)==null?void 0:p[C.name],U=w.readOnly||fo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),W=iCn({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,changed:_v(D,I),comparisonValue:I,fieldGroupState:R,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:z,collapsedFieldSets:B,level:E,path:S,readOnly:U});return W===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Si(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:W}}else{if(!Jwn(D)){const U=js(D);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:U,value:D}}}const O=(v=(m=w.fieldGroupState)==null?void 0:m.children)==null?void 0:v[C.name],$=(b=(g=w.collapsedPaths)==null?void 0:g.children)==null?void 0:b[C.name],R=(y=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:y[C.name],z=w.readOnly||fo(C.type.readOnly,{value:D,parent:w.value,document:w.document,currentUser:w.currentUser}),B=oCn({changed:_v(D,I),comparisonValue:I,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:D,fieldGroupState:O,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:$,collapsedFieldSets:R,level:E,path:S,readOnly:z});return B===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,inSelectedGroup:A,groups:T,open:Si(S,w.openPath),collapsible:!1,collapsed:!1,field:B}}}else{const D=j==null?void 0:j[C.name],I=xt(k)?k==null?void 0:k[C.name]:void 0,O={value:D,parent:w.value,document:w.document,currentUser:w.currentUser};if(fo(C.type.hidden,O))return null;const R=w.readOnly||fo(C.type.readOnly,O),z=BPe({...w,comparisonValue:I,value:D,schemaType:C.type,path:S,readOnly:R});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:_,open:Si(S,w.openPath),inSelectedGroup:A,groups:T,collapsible:!1,collapsed:!1,field:z}}}function nz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var n;if(e.level===ez)return null;const r={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser},o=e.readOnly||fo(e.schemaType.readOnly,r),i=e.schemaType.groups||[],s=(n=i.find(y=>y.default)||rf)==null?void 0:n.name,a=[rf,...i].flatMap(y=>{var w;const C=fo(y.hidden,r),_=y.name===(((w=e.fieldGroupState)==null?void 0:w.value)||s),S=e.changesOpen?y.name===rf.name:_,E=e.changesOpen?!S:!1;return C?[]:[{disabled:E,icon:y==null?void 0:y.icon,name:y.name,selected:S,title:y.title}]}),c=a.find(y=>y.selected),d=(e.schemaType.fieldsets?e.schemaType.fieldsets:e.schemaType.fields.map(y=>({single:!0,field:y}))).flatMap((y,w)=>{var C,_,S,E;if(y.single){const O=y.field,$=lhe({field:O,parent:{...e,readOnly:o,groups:a,selectedGroup:c},index:w});return $?[$]:[]}const j=y.fields.map(O=>O.name),k=fo(y.hidden,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,j)}),T=fo(y.readOnly,{currentUser:e.currentUser,document:e.document,parent:e.value,value:St(e.value,j)}),A=y.fields.flatMap(O=>{if(k)return[{kind:"hidden",key:"field-".concat(O.name),name:O.name,index:w}];const $=lhe({field:O,parent:{...e,readOnly:o||T,groups:a,selectedGroup:c},index:w});return $?[$]:[]}),D=tz(y.options,e.level),I=(S=(_=(((C=e.collapsedFieldSets)==null?void 0:C.children)||{})[y.name])==null?void 0:_.value)!=null?S:D.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(y.name),_inSelectedGroup:LPe(a,y.group,c),groups:y.group?Fw(y.group):[],fieldSet:{path:um(e.path.concat(y.name)),name:y.name,title:y.title,description:y.description,hidden:!1,level:e.level+1,members:A.filter(O=>O.kind!=="hidden"),collapsible:D==null?void 0:D.collapsible,collapsed:I,columns:(E=y==null?void 0:y.options)==null?void 0:E.columns}}]}),f=i.length>0,p=e.presence.filter(y=>wn(y.path,e.path)),m=p.length?p:gn,v=e.validation.filter(y=>wn(y.path,e.path)).map(y=>({level:y.level,message:y.item.message,path:y.path})),g=d.filter(y=>y.kind!=="hidden");if(g.length===0&&t)return null;const b=f?a.flatMap(y=>y.name===rf.name||g.some(C=>C.kind==="error"?!1:C.kind==="field"?C.groups.includes(y.name):C.groups.includes(y.name)||C.fieldSet.members.some(_=>_.kind!=="error"&&_.groups.includes(y.name)))?y:[]):[],x=g.flatMap(y=>{if(y.kind==="error")return[y];if(y.kind==="field")return y.inSelectedGroup?[y]:[];const w=y.fieldSet.members.filter(C=>C.kind!=="field"||C.inSelectedGroup);return w.length>0?[{...y,fieldSet:{...y.fieldSet,members:w}}]:[]});return{value:e.value,changed:_v(e.value,e.comparisonValue),schemaType:e.schemaType,readOnly:o,path:e.path,id:Nr(e.path),level:e.level,focused:wn(e.path,e.focusPath),focusPath:TF(e.path,e.focusPath),presence:m,validation:v,_allMembers:d,members:x,groups:b}}function oCn(e){if(e.level===ez)return null;const t={comparisonValue:e.comparisonValue,value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(fo(e.schemaType.hidden,t))return null;const r=e.readOnly||fo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>wn(u.path,e.path)),s=i.length?i:gn,a=e.validation.filter(u=>wn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>aCn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:wn(e.path,e.focusPath),focusPath:TF(e.path,e.focusPath),path:e.path,id:Nr(e.path),level:e.level,validation:a,presence:s,members:c}}function iCn(e){if(e.level===ez)return null;const t={value:e.value,parent:e.parent,document:e.document,currentUser:e.currentUser};if(fo(e.schemaType.hidden,t))return null;const r=e.readOnly||fo(e.schemaType.readOnly,t),o=Array.isArray(e.value)?e.value:[],i=e.presence.filter(u=>wn(u.path,e.path)),s=i.length?i:gn,a=e.validation.filter(u=>wn(u.path,e.path)).map(u=>({level:u.level,message:u.item.message,path:u.path})),c=o.flatMap((u,d)=>sCn({arrayItem:u,parent:e,index:d}));return{changed:e.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:e.value,readOnly:r,schemaType:e.schemaType,focused:wn(e.path,e.focusPath),focusPath:TF(e.path,e.focusPath),path:e.path,id:Nr(e.path),level:e.level,validation:a,presence:s,members:c}}function sCn(e){var t,n,r,o,i,s,a;const{arrayItem:c,parent:u,index:d}=e,f=Zwn(u.schemaType,c),p=c._key;if(!f){const j=js(c);return{kind:"error",key:p,index:d,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:j,value:c,validTypes:u.schemaType.of}}}const m=um([...u.path,{_key:p}]),v=u.level+1,g={value:u.value,parent:e.parent,document:u.document,currentUser:u.currentUser},b=u.readOnly||fo(u.schemaType.readOnly,g),x=(n=(t=u.fieldGroupState)==null?void 0:t.children)==null?void 0:n[p],y=(o=(r=u.collapsedPaths)==null?void 0:r.children)==null?void 0:o[p],w=(s=(i=u.collapsedFieldSets)==null?void 0:i.children)==null?void 0:s[p],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(j=>j._key===c._key)||void 0,_=nz({schemaType:f,level:v,document:u.document,value:c,comparisonValue:C,changed:_v(c,C),path:m,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:y,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:b},!1),S=tz(f.options,v),E=(a=y==null?void 0:y.value)!=null?a:S.collapsed;return{kind:"item",key:p,index:d,open:Si(m,u.openPath),collapsed:E,collapsible:!0,parentSchemaType:u.schemaType,item:_}}function aCn(e){var t,n;const{arrayItem:r,parent:o,index:i}=e,s=Xwn(o.schemaType,r),a=um([...o.path,i]),c=(t=o.value)==null?void 0:t[i],u=(n=o.comparisonValue)==null?void 0:n[i],d=o.level+1,f="".concat((s==null?void 0:s.name)||"invalid-type","-").concat(String(i));if(!s)return{kind:"error",key:f,index:i,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:js(s),value:c}};const p=o.readOnly||fo(s.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),m=BPe({...o,path:a,schemaType:s,level:d,value:c,comparisonValue:u,readOnly:p});return{kind:"item",key:f,index:i,parentSchemaType:o.schemaType,open:wn(a,o.openPath),item:m}}function BPe(e){const t=e.presence.filter(o=>wn(o.path,e.path)),n=t.length?t:gn,r=e.validation.filter(o=>wn(o.path,e.path)).map(o=>({level:o.level,message:o.item.message,path:o.path}));return{schemaType:e.schemaType,changed:_v(e.value,e.comparisonValue),value:e.value,level:e.level,id:Nr(e.path),readOnly:e.readOnly,focused:wn(e.path,e.focusPath),path:e.path,presence:n,validation:r}}function lCn(e){return nz(e)}function cCn(e,t){let{comparisonValue:n,value:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,focusPath:a,openPath:c,presence:u,validation:d,readOnly:f,changesOpen:p}=t;const m=Yo(),v=h.useRef(null);return h.useLayoutEffect(()=>{v.current=null},[e]),h.useMemo(()=>{const g=lCn({schemaType:e,document:r,fieldGroupState:o,collapsedFieldSets:i,collapsedPaths:s,value:r,comparisonValue:n,focusPath:a,openPath:c,readOnly:f,path:um([]),level:0,currentUser:m,presence:u,validation:d,changesOpen:p}),b=RB(v.current,g);return v.current=b,b},[e,r,o,i,s,n,a,c,f,m,u,d,p])}function uCn(e){return e.map(hCn)}function q4(e,t){return On(t.map(n=>fCn(e,n)))}const dCn=e=>t=>!e.includes(t);function fCn(e,t){return On(Object.keys(t).filter(dCn(["id","ifRevisionID","query"])).map(n=>{if(n==="unset")return t.unset.map(r=>({type:"unset",path:og(r),origin:e}));if(n==="insert"){const r="before"in t.insert?"before":"after";return{type:"insert",position:r,path:og(t.insert[r]),items:t.insert.items,origin:e}}return Object.keys(t[n]).map(r=>n==="set"?{type:"set",path:og(r),value:t[n][r],origin:e}:n==="inc"||n==="dec"?{type:n,path:og(r),value:t[n][r],origin:e}:n==="setIfMissing"?{type:"setIfMissing",path:og(r),value:t[n][r],origin:e}:n==="diffMatchPatch"?{type:n,path:og(r),value:t[n][r],origin:e}:(console.warn(new Error("Unsupported patch type: ".concat(n))),null)).filter(Boolean)}))}function hCn(e){if(e.patchType!==nm&&e.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(e.type,'()" from "sanity/form"'));if(e.patchType!==nm)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const t=Xje(e.path||[]);if(e.type==="insert"){const{position:n,items:r}=e;return{insert:{[n]:t,items:r}}}if(e.type==="unset")return{unset:[t]};if(!e.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(e)));return t?{[e.type]:{[t]:e.value}}:{[e.type]:e.value}}h.memo(function(t){const{transform:n}=t,r=fa(),o=h.useCallback(s=>{const a=s.patches,c=n(a);r.onChange(dt.from(c))},[r,n]),i=h.useMemo(()=>({...r,onChange:o}),[r,o]);return l.jsx(PB.Provider,{value:i,children:t.children})});$f.fonts.code.family,$f.fonts.text.family,rc.hex,Sa.hex,vy[500].hex,Sa.hex,rc.hex,L2[500].hex,L2[500].hex,L2[500].hex,BP[500].hex,vy[500].hex,zP[500].hex,NP[500].hex,vy[500].hex,vy[500].hex,zP[500].hex,NP[500].hex,BP[500].hex,rc.hex,Sa.hex;({...$f});const pCn=_B(e=>{const{name:t,title:n,icon:r,...o}=e||{};return{name:"@sanity/vision",tools:[{name:t||"vision",title:n||"Vision",icon:r||VF,component:h.lazy(()=>R8(()=>import("./SanityVision-oM6_d46E-8c3d7efb.js"),[])),options:o,router:Ci.create("/*")}]}});var dD={},mCn=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||n.forEach(function(o){e.addRange(o)}),t&&t.focus()}},gCn=mCn,che={"text/plain":"Text","text/html":"Url",default:"Text"},vCn="Copy to clipboard: #{key}, Enter";function yCn(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function bCn(e,t){var n,r,o,i,s,a,c=!1;t||(t={}),n=t.debug||!1;try{o=gCn(),i=document.createRange(),s=document.getSelection(),a=document.createElement("span"),a.textContent=e,a.ariaHidden="true",a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(d){if(d.stopPropagation(),t.format)if(d.preventDefault(),typeof d.clipboardData>"u"){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var f=che[t.format]||che.default;window.clipboardData.setData(f,e)}else d.clipboardData.clearData(),d.clipboardData.setData(t.format,e);t.onCopy&&(d.preventDefault(),t.onCopy(d.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),s.addRange(i);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),c=!0}catch(f){n&&console.error("unable to copy using clipboardData: ",f),n&&console.error("falling back to prompt"),r=yCn("message"in t?t.message:vCn),window.prompt(r,e)}}finally{s&&(typeof s.removeRange=="function"?s.removeRange(i):s.removeAllRanges()),a&&document.body.removeChild(a),o()}return c}var xCn=bCn;function Y4(e){"@babel/helpers - typeof";return Y4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y4(e)}Object.defineProperty(dD,"__esModule",{value:!0});dD.CopyToClipboard=void 0;var y2=NPe(h),wCn=NPe(xCn),CCn=["text","onCopy","options","children"];function NPe(e){return e&&e.__esModule?e:{default:e}}function uhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function dhe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uhe(Object(n),!0).forEach(function(r){rz(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Cn(e,t){if(e==null)return{};var n=SCn(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SCn(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function ECn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fhe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kCn(e,t,n){return t&&fhe(e.prototype,t),n&&fhe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jCn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G4(e,t)}function G4(e,t){return G4=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},G4(e,t)}function TCn(e){var t=DCn();return function(){var r=R5(e),o;if(t){var i=R5(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return ACn(this,o)}}function ACn(e,t){if(t&&(Y4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zPe(e)}function zPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DCn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function R5(e){return R5=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},R5(e)}function rz(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var VPe=function(e){jCn(n,e);var t=TCn(n);function n(){var r;ECn(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return r=t.call.apply(t,[this].concat(i)),rz(zPe(r),"onClick",function(a){var c=r.props,u=c.text,d=c.onCopy,f=c.children,p=c.options,m=y2.default.Children.only(f),v=(0,wCn.default)(u,p);d&&d(u,v),m&&m.props&&typeof m.props.onClick=="function"&&m.props.onClick(a)}),r}return kCn(n,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var i=o.children,s=_Cn(o,CCn),a=y2.default.Children.only(i);return y2.default.cloneElement(a,dhe(dhe({},s),{},{onClick:this.onClick}))}}]),n}(y2.default.PureComponent);dD.CopyToClipboard=VPe;rz(VPe,"defaultProps",{onCopy:void 0,options:void 0});var ICn=dD,K4=ICn.CopyToClipboard;K4.CopyToClipboard=K4;var OCn=K4;const PCn=Ie(OCn);var RCn=Wf,$Cn=Xa,MCn="[object Number]";function FCn(e){return typeof e=="number"||$Cn(e)&&RCn(e)==MCn}var LCn=FCn;const BCn=Ie(LCn);function hhe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function phe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hhe(Object(n),!0).forEach(function(r){NCn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hhe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NCn(e,t,n){return t=zCn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zCn(e){var t=VCn(e,"string");return typeof t=="symbol"?t:String(t)}function VCn(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $5(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function HPe(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function UPe(e){return HPe(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function WPe(e){return e._type==="@list"}function qPe(e){return e._type==="@span"}function YPe(e){return e._type==="@text"}const mhe=["strong","em","code","underline","strike-through"];function HCn(e,t,n){if(!$5(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),o={};return r.forEach(i=>{o[i]=1;for(let s=t+1;s<n.length;s++){const a=n[s];if(a&&$5(a)&&Array.isArray(a.marks)&&a.marks.indexOf(i)!==-1)o[i]++;else break}}),r.sort((i,s)=>UCn(o,i,s))}function UCn(e,t,n){const r=e[t],o=e[n];if(r!==o)return o-r;const i=mhe.indexOf(t),s=mhe.indexOf(n);return i!==s?i-s:t.localeCompare(n)}function WCn(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const o=n.map(HCn),i={_type:"@span",children:[],markType:"<unknown>"};let s=[i];for(let a=0;a<n.length;a++){const c=n[a];if(!c)continue;const u=o[a]||[];let d=1;if(s.length>1)for(d;d<s.length;d++){const p=((t=s[d])==null?void 0:t.markKey)||"",m=u.indexOf(p);if(m===-1)break;u.splice(m,1)}s=s.slice(0,d);let f=s[s.length-1];if(f){for(const p of u){const m=r.find(b=>b._key===p),v=m?m._type:p,g={_type:"@span",_key:c._key,children:[],markDef:m,markType:v,markKey:p};f.children.push(g),s.push(g),f=g}if($5(c)){const p=c.text.split(`
`);for(let m=p.length;m-- >1;)p.splice(m,0,`
`);f.children=f.children.concat(p.map(m=>({_type:"@text",text:m})))}else f.children=f.children.concat(c)}}return i.children}function qCn(e,t){const n=[];let r;for(let o=0;o<e.length;o++){const i=e[o];if(i){if(!UPe(i)){n.push(i),r=void 0;continue}if(!r){r=b2(i,o,t),n.push(r);continue}if(YCn(i,r)){r.children.push(i);continue}if((i.level||1)>r.level){const s=b2(i,o,t);if(t==="html"){const a=r.children[r.children.length-1],c=phe(phe({},a),{},{children:[...a.children,s]});r.children[r.children.length-1]=c}else r.children.push(s);r=s;continue}if((i.level||1)<r.level){const s=n[n.length-1],a=s&&Z4(s,i);if(a){r=a,r.children.push(i);continue}r=b2(i,o,t),n.push(r);continue}if(i.listItem!==r.listItem){const s=n[n.length-1],a=s&&Z4(s,{level:i.level||1});if(a&&a.listItem===i.listItem){r=a,r.children.push(i);continue}else{r=b2(i,o,t),n.push(r);continue}}console.warn("Unknown state encountered for block",i),n.push(i)}}return n}function YCn(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function b2(e,t,n){return{_type:"@list",_key:"".concat(e._key||"".concat(t),"-parent"),mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function Z4(e,t){const n=t.level||1,r=t.listItem||"normal",o=typeof t.listItem=="string";if(WPe(e)&&(e.level||1)===n&&o&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const i=e.children[e.children.length-1];return i&&!$5(i)?Z4(i,t):void 0}function GPe(e){let t="";return e.children.forEach(n=>{YPe(n)?t+=n.text:qPe(n)&&(t+=GPe(n))}),t}const GCn="html",KCn=["block","list","listItem","marks","types"],ZCn=["listItem"],XCn=["_key"];function ghe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function ac(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ghe(Object(n),!0).forEach(function(r){QCn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ghe(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QCn(e,t,n){return t=JCn(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JCn(e){var t=e_n(e,"string");return typeof t=="symbol"?t:String(t)}function e_n(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X4(e,t){if(e==null)return{};var n=t_n(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t_n(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function n_n(e,t){const n=X4(t,KCn);return ac(ac({},e),{},{block:dy(e,t,"block"),list:dy(e,t,"list"),listItem:dy(e,t,"listItem"),marks:dy(e,t,"marks"),types:dy(e,t,"types")},n)}function dy(e,t,n){const r=t[n],o=e[n];return typeof r=="function"||r&&typeof o=="function"?r:r?ac(ac({},o),r):o}const r_n=e=>{let{children:t,value:n}=e;return l.jsx("a",{href:n==null?void 0:n.href,children:t})},o_n={textDecoration:"underline"},i_n={em:e=>{let{children:t}=e;return l.jsx("em",{children:t})},strong:e=>{let{children:t}=e;return l.jsx("strong",{children:t})},code:e=>{let{children:t}=e;return l.jsx("code",{children:t})},underline:e=>{let{children:t}=e;return l.jsx("span",{style:o_n,children:t})},"strike-through":e=>{let{children:t}=e;return l.jsx("del",{children:t})},link:r_n},s_n={number:e=>{let{children:t}=e;return l.jsx("ol",{children:t})},bullet:e=>{let{children:t}=e;return l.jsx("ul",{children:t})}},a_n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},_C=(e,t)=>"[@portabletext/react] Unknown ".concat(e,", specify a component for it in the `components.").concat(t,"` prop"),KPe=e=>_C('block type "'.concat(e,'"'),"types"),l_n=e=>_C('mark type "'.concat(e,'"'),"marks"),c_n=e=>_C('block style "'.concat(e,'"'),"block"),u_n=e=>_C('list style "'.concat(e,'"'),"list"),d_n=e=>_C('list item style "'.concat(e,'"'),"listItem");function f_n(e){console.warn(e)}const vhe={display:"none"},h_n=e=>{let{value:t,isInline:n}=e;const r=KPe(t._type);return n?l.jsx("span",{style:vhe,children:r}):l.jsx("div",{style:vhe,children:r})},p_n=e=>{let{markType:t,children:n}=e;return l.jsx("span",{className:"unknown__pt__mark__".concat(t),children:n})},m_n=e=>{let{children:t}=e;return l.jsx("p",{children:t})},g_n=e=>{let{children:t}=e;return l.jsx("ul",{children:t})},v_n=e=>{let{children:t}=e;return l.jsx("li",{children:t})},y_n=()=>l.jsx("br",{}),b_n={normal:e=>{let{children:t}=e;return l.jsx("p",{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx("blockquote",{children:t})},h1:e=>{let{children:t}=e;return l.jsx("h1",{children:t})},h2:e=>{let{children:t}=e;return l.jsx("h2",{children:t})},h3:e=>{let{children:t}=e;return l.jsx("h3",{children:t})},h4:e=>{let{children:t}=e;return l.jsx("h4",{children:t})},h5:e=>{let{children:t}=e;return l.jsx("h5",{children:t})},h6:e=>{let{children:t}=e;return l.jsx("h6",{children:t})}},yhe={types:{},block:b_n,marks:i_n,list:s_n,listItem:a_n,hardBreak:y_n,unknownType:h_n,unknownMark:p_n,unknownList:g_n,unknownListItem:v_n,unknownBlockStyle:m_n};function x_n(e){let{value:t,components:n,listNestingMode:r,onMissingComponent:o=f_n}=e;const i=o||C_n,s=Array.isArray(t)?t:[t],a=qCn(s,r||GCn),c=h.useMemo(()=>n?n_n(yhe,n):yhe,[n]),u=h.useMemo(()=>w_n(c,i),[c,i]),d=a.map((f,p)=>u({node:f,index:p,isInline:!1,renderNode:u}));return l.jsx(l.Fragment,{children:d})}const w_n=(e,t)=>{function n(f){const{node:p,index:m,isInline:v}=f,g=p._key||"node-".concat(m);return WPe(p)?i(p,m,g):UPe(p)?o(p,m,g):qPe(p)?s(p,m,g):r(p)?d(p,m,g,v):HPe(p)?a(p,m,g,v):YPe(p)?c(p,g):u(p,m,g,v)}function r(f){return f._type in e.types}function o(f,p,m){const v=bhe({node:f,index:p,isInline:!1,renderNode:n}),g=e.listItem,x=(typeof g=="function"?g:g[f.listItem])||e.unknownListItem;if(x===e.unknownListItem){const w=f.listItem||"bullet";t(d_n(w),{type:w,nodeType:"listItemStyle"})}let y=v.children;if(f.style&&f.style!=="normal"){const w=X4(f,ZCn);y=n({node:w,index:p,isInline:!1,renderNode:n})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:y},m)}function i(f,p,m){const v=f.children.map((y,w)=>n({node:y._key?y:ac(ac({},y),{},{_key:"li-".concat(p,"-").concat(w)}),index:w,isInline:!1,renderNode:n})),g=e.list,x=(typeof g=="function"?g:g[f.listItem])||e.unknownList;if(x===e.unknownList){const y=f.listItem||"bullet";t(u_n(y),{nodeType:"listStyle",type:y})}return l.jsx(x,{value:f,index:p,isInline:!1,renderNode:n,children:v},m)}function s(f,p,m){const{markDef:v,markType:g,markKey:b}=f,x=e.marks[g]||e.unknownMark,y=f.children.map((w,C)=>n({node:w,index:C,isInline:!0,renderNode:n}));return x===e.unknownMark&&t(l_n(g),{nodeType:"mark",type:g}),l.jsx(x,{text:GPe(f),value:v,markType:g,markKey:b,renderNode:n,children:y},m)}function a(f,p,m,v){const g=bhe({node:f,index:p,isInline:v,renderNode:n}),b=X4(g,XCn),x=b.node.style||"normal",w=(typeof e.block=="function"?e.block:e.block[x])||e.unknownBlockStyle;return w===e.unknownBlockStyle&&t(c_n(x),{nodeType:"blockStyle",type:x}),l.jsx(w,ac(ac({},b),{},{value:b.node,renderNode:n}),m)}function c(f,p){if(f.text===`
`){const m=e.hardBreak;return m?l.jsx(m,{},p):`
`}return f.text}function u(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n};t(KPe(f._type),{nodeType:"block",type:f._type});const b=e.unknownType;return l.jsx(b,ac({},g),m)}function d(f,p,m,v){const g={value:f,isInline:v,index:p,renderNode:n},b=e.types[f._type];return b?l.jsx(b,ac({},g),m):null}return n};function bhe(e){const{node:t,index:n,isInline:r,renderNode:o}=e,s=WCn(t).map((a,c)=>o({node:a,isInline:!0,index:c,renderNode:o}));return{_key:t._key||"block-".concat(n),children:s,index:n,isInline:r,node:t}}function C_n(){}var __n=KSe,S_n=B8,E_n=S_n(function(e,t,n){return t=t.toLowerCase(),e+(n?__n(t):t)}),k_n=E_n;const xhe=Ie(k_n);var j_n=B8,T_n=j_n(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),A_n=T_n;const D_n=Ie(A_n);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var whe=Object.getOwnPropertySymbols,I_n=Object.prototype.hasOwnProperty,O_n=Object.prototype.propertyIsEnumerable;function P_n(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function R_n(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(i){return t[i]});if(r.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(i){o[i]=i}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var $_n=R_n()?Object.assign:function(e,t){for(var n,r=P_n(e),o,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var s in n)I_n.call(n,s)&&(r[s]=n[s]);if(whe){o=whe(n);for(var a=0;a<o.length;a++)O_n.call(n,o[a])&&(r[o[a]]=n[o[a]])}}return r},x2=$_n,M_n={};function cl(e,t,n,r,o,i,s,a){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var Che="mixins";function F_n(e,t,n){var r=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},i={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},s={displayName:function(C,_){C.displayName=_},mixins:function(C,_){if(_)for(var S=0;S<_.length;S++)c(C,_[S])},childContextTypes:function(C,_){C.childContextTypes=x2({},C.childContextTypes,_)},contextTypes:function(C,_){C.contextTypes=x2({},C.contextTypes,_)},getDefaultProps:function(C,_){C.getDefaultProps?C.getDefaultProps=f(C.getDefaultProps,_):C.getDefaultProps=_},propTypes:function(C,_){C.propTypes=x2({},C.propTypes,_)},statics:function(C,_){u(C,_)},autobind:function(){}};function a(C,_){var S=o.hasOwnProperty(_)?o[_]:null;x.hasOwnProperty(_)&&cl(S==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",_),C&&cl(S==="DEFINE_MANY"||S==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",_)}function c(C,_){if(_){cl(typeof _!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),cl(!t(_),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var S=C.prototype,E=S.__reactAutoBindPairs;_.hasOwnProperty(Che)&&s.mixins(C,_.mixins);for(var j in _)if(_.hasOwnProperty(j)&&j!==Che){var k=_[j],T=S.hasOwnProperty(j);if(a(T,j),s.hasOwnProperty(j))s[j](C,k);else{var A=o.hasOwnProperty(j),D=typeof k=="function",I=D&&!A&&!T&&_.autobind!==!1;if(I)E.push(j,k),S[j]=k;else if(T){var O=o[j];cl(A&&(O==="DEFINE_MANY_MERGED"||O==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",O,j),O==="DEFINE_MANY_MERGED"?S[j]=f(S[j],k):O==="DEFINE_MANY"&&(S[j]=p(S[j],k))}else S[j]=k}}}}function u(C,_){if(_)for(var S in _){var E=_[S];if(_.hasOwnProperty(S)){var j=S in s;cl(!j,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',S);var k=S in C;if(k){var T=i.hasOwnProperty(S)?i[S]:null;cl(T==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S),C[S]=f(C[S],E);return}C[S]=E}}}function d(C,_){cl(C&&_&&typeof C=="object"&&typeof _=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var S in _)_.hasOwnProperty(S)&&(cl(C[S]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",S),C[S]=_[S]);return C}function f(C,_){return function(){var E=C.apply(this,arguments),j=_.apply(this,arguments);if(E==null)return j;if(j==null)return E;var k={};return d(k,E),d(k,j),k}}function p(C,_){return function(){C.apply(this,arguments),_.apply(this,arguments)}}function m(C,_){var S=_.bind(C);return S}function v(C){for(var _=C.__reactAutoBindPairs,S=0;S<_.length;S+=2){var E=_[S],j=_[S+1];C[E]=m(C,j)}}var g={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,_){this.updater.enqueueReplaceState(this,C,_)},isMounted:function(){return!!this.__isMounted}},y=function(){};x2(y.prototype,e.prototype,x);function w(C){var _=function(E,j,k){this.__reactAutoBindPairs.length&&v(this),this.props=E,this.context=j,this.refs=M_n,this.updater=k||n,this.state=null;var T=this.getInitialState?this.getInitialState():null;cl(typeof T=="object"&&!Array.isArray(T),"%s.getInitialState(): must return an object or null",_.displayName||"ReactCompositeComponent"),this.state=T};_.prototype=new y,_.prototype.constructor=_,_.prototype.__reactAutoBindPairs=[],r.forEach(c.bind(null,_)),c(_,g),c(_,C),c(_,b),_.getDefaultProps&&(_.defaultProps=_.getDefaultProps()),cl(_.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var S in o)_.prototype[S]||(_.prototype[S]=null);return _}return w}var L_n=F_n,M5=h,B_n=L_n;if(typeof M5>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var N_n=new M5.Component().updater,fD=B_n(M5.Component,M5.isValidElement,N_n),z_n=Date.now||V_n;function V_n(){return new Date().getTime()}var _he=z_n,H_n=function(t,n,r){var o,i,s,a,c;n==null&&(n=100);function u(){var d=_he()-a;d<n&&d>0?o=setTimeout(u,n-d):(o=null,r||(c=t.apply(s,i),o||(s=i=null)))}return function(){s=this,i=arguments,a=_he();var f=r&&!o;return o||(o=setTimeout(u,n)),f&&(c=t.apply(s,i),s=i=null),c}},U_n=W_n;function W_n(e){for(var t=q_n(e),n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<t.length;s+=16){var a=n,c=r,u=o,d=i;n=mi(n,r,o,i,t[s+0],7,-680876936),i=mi(i,n,r,o,t[s+1],12,-389564586),o=mi(o,i,n,r,t[s+2],17,606105819),r=mi(r,o,i,n,t[s+3],22,-1044525330),n=mi(n,r,o,i,t[s+4],7,-176418897),i=mi(i,n,r,o,t[s+5],12,1200080426),o=mi(o,i,n,r,t[s+6],17,-1473231341),r=mi(r,o,i,n,t[s+7],22,-45705983),n=mi(n,r,o,i,t[s+8],7,1770035416),i=mi(i,n,r,o,t[s+9],12,-1958414417),o=mi(o,i,n,r,t[s+10],17,-42063),r=mi(r,o,i,n,t[s+11],22,-1990404162),n=mi(n,r,o,i,t[s+12],7,1804603682),i=mi(i,n,r,o,t[s+13],12,-40341101),o=mi(o,i,n,r,t[s+14],17,-1502002290),r=mi(r,o,i,n,t[s+15],22,1236535329),n=gi(n,r,o,i,t[s+1],5,-165796510),i=gi(i,n,r,o,t[s+6],9,-1069501632),o=gi(o,i,n,r,t[s+11],14,643717713),r=gi(r,o,i,n,t[s+0],20,-373897302),n=gi(n,r,o,i,t[s+5],5,-701558691),i=gi(i,n,r,o,t[s+10],9,38016083),o=gi(o,i,n,r,t[s+15],14,-660478335),r=gi(r,o,i,n,t[s+4],20,-405537848),n=gi(n,r,o,i,t[s+9],5,568446438),i=gi(i,n,r,o,t[s+14],9,-1019803690),o=gi(o,i,n,r,t[s+3],14,-187363961),r=gi(r,o,i,n,t[s+8],20,1163531501),n=gi(n,r,o,i,t[s+13],5,-1444681467),i=gi(i,n,r,o,t[s+2],9,-51403784),o=gi(o,i,n,r,t[s+7],14,1735328473),r=gi(r,o,i,n,t[s+12],20,-1926607734),n=vi(n,r,o,i,t[s+5],4,-378558),i=vi(i,n,r,o,t[s+8],11,-2022574463),o=vi(o,i,n,r,t[s+11],16,1839030562),r=vi(r,o,i,n,t[s+14],23,-35309556),n=vi(n,r,o,i,t[s+1],4,-1530992060),i=vi(i,n,r,o,t[s+4],11,1272893353),o=vi(o,i,n,r,t[s+7],16,-155497632),r=vi(r,o,i,n,t[s+10],23,-1094730640),n=vi(n,r,o,i,t[s+13],4,681279174),i=vi(i,n,r,o,t[s+0],11,-358537222),o=vi(o,i,n,r,t[s+3],16,-722521979),r=vi(r,o,i,n,t[s+6],23,76029189),n=vi(n,r,o,i,t[s+9],4,-640364487),i=vi(i,n,r,o,t[s+12],11,-421815835),o=vi(o,i,n,r,t[s+15],16,530742520),r=vi(r,o,i,n,t[s+2],23,-995338651),n=yi(n,r,o,i,t[s+0],6,-198630844),i=yi(i,n,r,o,t[s+7],10,1126891415),o=yi(o,i,n,r,t[s+14],15,-1416354905),r=yi(r,o,i,n,t[s+5],21,-57434055),n=yi(n,r,o,i,t[s+12],6,1700485571),i=yi(i,n,r,o,t[s+3],10,-1894986606),o=yi(o,i,n,r,t[s+10],15,-1051523),r=yi(r,o,i,n,t[s+1],21,-2054922799),n=yi(n,r,o,i,t[s+8],6,1873313359),i=yi(i,n,r,o,t[s+15],10,-30611744),o=yi(o,i,n,r,t[s+6],15,-1560198380),r=yi(r,o,i,n,t[s+13],21,1309151649),n=yi(n,r,o,i,t[s+4],6,-145523070),i=yi(i,n,r,o,t[s+11],10,-1120210379),o=yi(o,i,n,r,t[s+2],15,718787259),r=yi(r,o,i,n,t[s+9],21,-343485551),n=of(n,a),r=of(r,c),o=of(o,u),i=of(i,d)}return w2(n)+w2(r)+w2(o)+w2(i)}var She="0123456789abcdef";function oz(e,t){var n=e&1|t&1,r=e>>>1|t>>>1;return r<<1|n}function Q4(e,t){var n=e&1^t&1,r=e>>>1^t>>>1;return r<<1|n}function F5(e,t){var n=e&1&(t&1),r=e>>>1&t>>>1;return r<<1|n}function of(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function w2(e){var t="",n;for(n=0;n<=3;n++)t+=She.charAt(e>>n*8+4&15)+She.charAt(e>>n*8&15);return t}function q_n(e){var t=(e.length+8>>6)+1,n=new Array(t*16),r;for(r=0;r<t*16;r++)n[r]=0;for(r=0;r<e.length;r++)n[r>>2]|=e.charCodeAt(r)<<(e.length*8+r)%4*8;n[r>>2]|=128<<(e.length*8+r)%4*8;var o=e.length*8;return n[t*16-2]=o&255,n[t*16-2]|=(o>>>8&255)<<8,n[t*16-2]|=(o>>>16&255)<<16,n[t*16-2]|=(o>>>24&255)<<24,n}function Y_n(e,t){return e<<t|e>>>32-t}function hD(e,t,n,r,o,i){return of(Y_n(of(of(t,e),of(r,i)),o),n)}function mi(e,t,n,r,o,i,s){return hD(oz(F5(t,n),F5(~t,r)),e,t,o,i,s)}function gi(e,t,n,r,o,i,s){return hD(oz(F5(t,r),F5(n,~r)),e,t,o,i,s)}function vi(e,t,n,r,o,i,s){return hD(Q4(Q4(t,n),r),e,t,o,i,s)}function yi(e,t,n,r,o,i,s){return hD(Q4(n,oz(t,~r)),e,t,o,i,s)}var G_n=Math.ceil(Math.random()*10),K_n=function(){return++G_n},iz=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Z_n=iz;function X_n(e){var t=Z_n(e);return t!=="Object"&&t!=="Array"}var ZPe=X_n,Q_n=h,J_n=fD,C2=Q_n.createElement,e2n=J_n({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(e){return e.highlight!==this.props.highlight},render:function(){var e=this.props,t=e.string.search(e.highlight);if(!e.highlight||t===-1)return C2("span",null,e.string);var n=e.highlight.source.length,r=e.string.substr(t,n);return C2("span",null,e.string.split(e.highlight).map(function(o,i){return C2("span",{key:i},i>0?C2("span",{className:"json-inspector__hl"},r):null,o)}))}}),t2n=h,n2n=fD,r2n=U_n,o2n=K_n,XPe=iz,YS=ZPe,i2n=e2n,ba=t2n.createElement,s2n=".root.",QPe=n2n({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var e="id_"+o2n(),t=this.props,n={path:this.keypath(),key:t.label.toString(),value:t.data},r=this._onClick.bind(this,n);return ba("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},ba("input",{className:"json-inspector__radio",type:"radio",name:t.id,id:e,tabIndex:-1}),ba("label",{className:"json-inspector__line",htmlFor:e,onClick:r},ba("div",{className:"json-inspector__flatpath"},n.path),ba("span",{className:"json-inspector__key"},this.format(n.key),":",this.renderInteractiveLabel(n.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var e=this.data(),t=XPe(e);switch(t){case"Array":var n=e.length;return ba("span",{className:"json-inspector__value json-inspector__value_helper"},(n>0?"[…] ":"[] ")+a2n(n));case"Object":var r=Object.keys(e).length;return ba("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"{…} ":"{} ")+l2n(r));default:return ba("span",{className:"json-inspector__value json-inspector__value_"+t.toLowerCase()},this.format(String(e)),this.renderInteractiveLabel(e,!1))}},renderChildren:function(){var e=this.props,t=this._rootPath(),n=this.data();return this.state.expanded&&!YS(n)?Object.keys(n).map(function(r){var o=n[r],i=!this.state.original||(e.verboseShowOriginal?e.query:!1);return ba(QPe,{data:o,label:r,prefix:t,onClick:e.onClick,id:e.id,query:e.query,getOriginal:i?e.getOriginal:null,key:c2n(r,o),isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var e=this.props;return YS(e.data)||this.state.original||!e.getOriginal||!e.query||iP(this.keypath(),e.query)?null:ba("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(e,t){return typeof this.props.interactiveLabel=="function"?ba(this.props.interactiveLabel,{value:String(e),originalValue:e,isKey:t,keypath:this.keypath()}):null},componentWillReceiveProps:function(e){e.query&&this.setState({expanded:!iP(e.label,e.query)}),this.props.query&&!e.query&&this.setState({expanded:this._isInitiallyExpanded(e)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(s2n.length)},data:function(){return this.state.original||this.props.data},format:function(e){return ba(i2n,{string:e,highlight:this.props.query})},getClassName:function(){var e="json-inspector__leaf";return this.props.root&&(e+=" json-inspector__leaf_root"),this.state.expanded&&(e+=" json-inspector__leaf_expanded"),YS(this.props.data)||(e+=" json-inspector__leaf_composite"),e},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(e,t){this.toggle(),this.props.onClick(e),t.stopPropagation()},_onShowOriginalClick:function(e){this.setState({original:this.props.getOriginal(this.keypath())}),e.stopPropagation()},_isInitiallyExpanded:function(e){var t=this.keypath();return e.root?!0:e.query?!iP(t,e.query)&&typeof e.getOriginal=="function":e.isExpanded(t,e.data)}});function a2n(e){return e+(e===1?" item":" items")}function l2n(e){return e+(e===1?" property":" properties")}function c2n(e,t){if(YS(t)){var n=r2n(String(t));return e+":"+n}else return e+"["+XPe(t)+"]"}function iP(e,t){return e.indexOf(t)!==-1}var u2n=QPe,JPe=function(){},d2n=h,f2n=fD,h2n=d2n.createElement,p2n=JPe,m2n=f2n({getDefaultProps:function(){return{onChange:p2n}},render:function(){return h2n("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(e){this.props.onChange(e.target.value)}}),eRe=function(e){return Object.keys(e).length===0},g2n=Object.keys,v2n=ZPe,y2n=eRe,b2n=function(e,t){t||(t={cacheResults:!0});var n={};return function(r){if(!t.cacheResults)return GS(e,r,t);var o;if(!n[r]){for(var i=r.length-1;i>0;i-=1)if(o=r.substr(0,i),n[o]){n[r]=GS(n[o],r,t);break}}return n[r]||(n[r]=GS(e,r,t)),n[r]}};function GS(e,t,n){return g2n(e).reduce(function(r,o){var i=e[o],s;return v2n(i)?(sP(t,o,n)||sP(t,i,n))&&(r[o]=i):sP(t,o,n)?r[o]=i:(s=GS(i,t,n),y2n(s)||Object.assign(r,x2n(o,s))),r},{})}function sP(e,t,n){if(t){var r=String(t),o=e;return n.ignoreCase&&(r=r.toLowerCase(),o=o.toLowerCase()),r.indexOf(o)!==-1}}function x2n(e,t){var n={};return n[e]=t,n}var w2n=iz,aP=".";function J4(e,t){var n=t.split(aP),r=n.shift();if(!r)return e;var o=w2n(e);if(o==="Array"&&e[Ehe(r)])return J4(e[Ehe(r)],n.join(aP));if(o==="Object"&&e[r])return J4(e[r],n.join(aP))}function Ehe(e){return parseInt(e,10)}var C2n=J4,_2n=h,S2n=fD,E2n=H_n,fy=_2n.createElement,k2n=u2n,j2n=m2n,T2n=b2n,A2n=eRe,D2n=C2n,I2n=JPe,O2n=S2n({getDefaultProps:function(){return{data:null,search:j2n,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:I2n,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(e){return e.length>=2},isExpanded:function(e,t){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var e=this.props,t=this.state,n=t.query!==""&&e.validateQuery(t.query),r=n?t.filterer(t.query):e.data,o=n&&A2n(r);return fy("div",{className:"json-inspector "+e.className},this.renderToolbar(),o?fy("div",{className:"json-inspector__not-found"},"Nothing found"):fy(k2n,{data:r,onClick:e.onClick,id:e.id,getOriginal:this.getOriginal,query:n?new RegExp(t.query,e.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:e.isExpanded,interactiveLabel:e.interactiveLabel,verboseShowOriginal:e.verboseShowOriginal}))},renderToolbar:function(){var e=this.props.search;if(e)return fy("div",{className:"json-inspector__toolbar"},fy(e,{onChange:E2n(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(e){this.setState({query:e})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(e){this.createFilterer(e.data,e.filterOptions);var t=typeof e.query=="string"&&e.query!==this.state.query;t&&this.setState({query:e.query})},shouldComponentUpdate:function(e,t){return e.query!==this.props.query||t.query!==this.state.query||e.data!==this.props.data||e.onClick!==this.props.onClick},createFilterer:function(e,t){this.setState({filterer:T2n(e,t)})},getOriginal:function(e){return D2n(this.props.data,e)}});const P2n=Ie(O2n);var R2n=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(i,s){n[i]=s,t++,t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(i){return n[i]!==void 0||r[i]!==void 0},remove:function(i){n[i]!==void 0&&(n[i]=void 0),r[i]!==void 0&&(r[i]=void 0)},get:function(i){var s=n[i];if(s!==void 0)return s;if((s=r[i])!==void 0)return o(i,s),s},set:function(i,s){n[i]!==void 0?n[i]=s:o(i,s)},clear:function(){n=Object.create(null),r=Object.create(null)}}};const $2n=Ie(R2n);function sz(e){let{children:t,ms:n=0}=e;const[r,o]=h.useState(n<=0);return h.useEffect(()=>{if(n<=0)return;const i=setTimeout(()=>o(!0),n);return()=>{clearTimeout(i)}},[n]),!r||!t?l.jsx(l.Fragment,{}):typeof t=="function"?t():t}function tRe(e){const{document:t}=e,r=jn().get(t._type),{error:o,value:i}=EB({schemaType:r,value:t});return r?o?l.jsxs(l.Fragment,{children:["Error: ",o.message]}):l.jsx(l.Fragment,{children:(i==null?void 0:i.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs("code",{children:["Unknown schema type: ",t._type]})}const az=e=>{const{actions:t,children:n,actionProps:r,onActionComplete:o}=e;return l.jsx($Ae,{onReset:o,hooks:t,args:r,children:n})},M2n=e=>{const{badges:t,children:n,badgeProps:r,...o}=e;return l.jsx($Ae,{...o,hooks:t,args:r,children:n})};function F2n(e){return typeof e!="object"||!e?!1:"statusCode"in e&&"response"in e}const L2n=5e3;let lP;const nRe=()=>(lP||(lP=Pi(document,"visibilitychange").pipe(oi(null),le(()=>document.visibilityState==="visible"),Jn(),rt(e=>e?Uo(0,L2n):Qn),Do({refCount:!0,bufferSize:1}))),lP);function B2n(e,t){let{versionedClient:n}=t;const r=ai(e),o=$n(e),i={uri:n.getDataUrl("doc","".concat(r,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return n.observable.request(i).pipe(le(s=>{let{omitted:a}=s;const c=a.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===r)?o:r}))}function N2n(e,t){const{versionedClient:n}=t;return nRe().pipe(rt(()=>B2n(e,t)),rt(r=>{if(!r)return ve({totalCount:0,references:[]});const o=n.config().dataset;return n.observable.request({url:"/data/references/".concat(o,"/documents/").concat(r,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(Rn(i=>{if(F2n(i)&&i.statusCode===404)return ve({totalCount:0,references:[]});throw i}))}))}const z2n=ch(e=>{let[t,n]=e;const r="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",i='{"references":'.concat(r,',"totalCount":').concat(o,"}"),s="*[references($documentId)]";return n.listenQuery({fetch:i,listen:s},{documentId:t},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),V2n=ch(e=>{let[t,n]=e;return nRe().pipe(rt(()=>N2n(t,{versionedClient:n})))});function H2n(e){const t=mr(cn),n=ol(),r=$n(e),[o,i]=z2n(h.useMemo(()=>[r,n],[n,r])),[s,a]=V2n(h.useMemo(()=>[r,t],[r,t])),c=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>f.projectId).filter(Boolean))).sort(),[s==null?void 0:s.references]),u=h.useMemo(()=>Array.from(new Set(s==null?void 0:s.references.map(f=>(f==null?void 0:f.datasetName)||"").filter(f=>!!f&&f!==""))).sort(),[s==null?void 0:s.references]),d=h.useMemo(()=>!!(s!=null&&s.references.some(f=>typeof f.datasetName!="string")),[s==null?void 0:s.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((s==null?void 0:s.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:d,internalReferences:o,crossDatasetReferences:s,isLoading:i||a}}function U2n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=t?"Published":"Not published",o=Qo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Published ".concat(o):"Not published"})}),children:l.jsx(cr,{tone:"positive",dimmed:!t,muted:!t,size:1,children:l.jsx(b0,{"aria-label":r})})})}function W2n(e){const{document:t}=e,n=t&&"_updatedAt"in t&&t._updatedAt,r=Qo(n||"",{minimal:!0,agoSuffix:!0});return l.jsx(it,{portal:!0,content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t?"Edited ".concat(r):"No unpublished edits"})}),children:l.jsx(cr,{tone:"caution",dimmed:!t,muted:!t,size:1,children:l.jsx(Ou,{})})})}function rRe(e){const{icon:t,layout:n,presence:r,schemaType:o,value:i}=e,s=xt(i.title)&&h.isValidElement(i.title)||ST(i.title)||BCn(i.title)?i.title:null,{draft:a,published:c,isLoading:u}=xo(()=>jA(e.documentPreviewStore,o,i._id,s),[e.documentPreviewStore,o,i._id,s]),d=u?null:l.jsxs(Zt,{space:4,children:[r&&r.length>0&&l.jsx(XB,{presence:r}),l.jsx(U2n,{document:c}),l.jsx(W2n,{document:a})]});return l.jsx(fh,{...jB({value:i,draft:a,published:c}),isPlaceholder:u,icon:t,layout:n,status:d})}function ds(){throw new Error("Pane is missing router context")}const pD=h.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>ds(),ChildLink:()=>ds(),ReferenceChildLink:()=>ds(),handleEditReference:()=>ds(),ParameterizedLink:()=>ds(),replaceCurrent:()=>ds(),closeCurrentAndAfter:()=>ds(),closeCurrent:()=>ds(),duplicateCurrent:()=>ds(),setView:()=>ds(),setParams:()=>ds(),setPayload:()=>ds(),navigateIntent:()=>ds(),createPathWithParams:()=>ds()}),q2n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o}=h.useContext(pD),i=h.useMemo(()=>r.slice(0,o),[o,r]),s=h.useMemo(()=>({panes:i}),[i]);return l.jsx(bT,{...t,ref:n,state:s})}),oRe=h.createContext(null);function d1(){const e=h.useContext(oRe);if(!e)throw new Error("PaneLayout: missing context value");return e}const Y2n=h.forwardRef(function(t,n){const{childId:r,childPayload:o,childParameters:i,...s}=t,{routerPanesState:a,groupIndex:c}=h.useContext(pD);return l.jsx(bT,{...s,ref:n,state:{panes:[...a.slice(0,c+1),[{id:r,params:i,payload:o}]]}})}),s$n=h.forwardRef(function(t,n){let{documentId:r,documentType:o,parentRefPath:i,children:s,template:a,...c}=t;return l.jsx(Y2n,{...c,ref:n,childId:r,childPayload:a==null?void 0:a.params,childParameters:{type:o,parentRefPath:Nr(i),...a&&{template:a==null?void 0:a.id}},children:s})}),a$n=h.forwardRef(function(t,n){const{routerPanesState:r,groupIndex:o,siblingIndex:i}=h.useContext(pD),{params:s,payload:a,...c}=t,u=No(s),d=No(a),f=h.useMemo(()=>{const p=r[o],m=p[i],v={...m,params:u??m.params,payload:d??m.payload},g=[...p.slice(0,i),v,...p.slice(i+1)];return{panes:[...r.slice(0,o),g,...r.slice(o+1)]}},[r,o,u,d,i]);return l.jsx(bT,{ref:n,...c,state:f})});function Wc(){return h.useContext(pD)}const khe=[];function G2n(e){const{onClick:t,type:n,value:r}=e,o=$n(r==null?void 0:r._id),i=CC(o),s=Ni(),{ReferenceChildLink:a}=Wc(),c=h.useCallback(function(d){return l.jsx(a,{documentId:r==null?void 0:r._id,documentType:n==null?void 0:n.name,parentRefPath:khe,...d})},[a,n==null?void 0:n.name,r==null?void 0:r._id]);return l.jsx(Ap,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:t,padding:2,radius:2,children:l.jsx(rRe,{documentPreviewStore:s,icon:n==null?void 0:n.icon,layout:"default",presence:(i==null?void 0:i.length)>0?i:khe,schemaType:n,value:r})})}var jhe=Object.freeze,K2n=Object.defineProperty,SC=(e,t)=>jhe(K2n(e,"raw",{value:jhe(t||e.slice())})),The,Ahe,Dhe,Ihe,Ohe;const iRe=P(M)(The||(The=SC([`
  margin-left: auto;
`]))),Z2n=P.details(Ahe||(Ahe=SC([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),iRe),X2n=P.summary(Dhe||(Dhe=SC([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),Q2n=P.table(Ihe||(Ihe=SC([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),e=>{let{theme:t}=e;return ge(t.sanity.space[2])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])},e=>{let{theme:t}=e;return ge(t.sanity.space[1])}),J2n=P(H)(Ohe||(Ohe=SC([`
  min-height: 35px;
`]))),Phe=e=>{const t=e.totalCount-e.references.length;return t?l.jsxs(Zt,{space:2,children:[l.jsxs(L,{size:1,muted:!0,children:[t," other reference",t===1?"":"s"," not shown"," "]}),l.jsx(it,{portal:!0,placement:"top",content:l.jsx(eo,{width:0,children:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"We can't show metadata about these references because no token with access to the datasets they are in was found."})})}),children:l.jsx(L,{size:1,muted:!0,children:l.jsx(hm,{})})})]}):null};function eSn(e){let{crossDatasetReferences:t,internalReferences:n,documentTitle:r,totalCount:o,action:i,datasetNames:s,hasUnknownDatasetNames:a,onReferenceLinkClick:c}=e;const u=jn(),d=qo(),f=h.useCallback(b=>{const x=u.get(b._type);return x?l.jsx(G2n,{type:x,value:b,onClick:c}):l.jsx(M,{padding:2,children:l.jsx(fh,{icon:Sl,title:"Preview Unavailable",subtitle:"ID: ".concat(b._id),layout:"default"})})},[u,c]);if((n==null?void 0:n.totalCount)===0&&(t==null?void 0:t.totalCount)===0)return l.jsxs(L,{as:"p",children:["Are you sure you want to ",i," ",l.jsxs("strong",{children:["“",r,"”"]}),"?"]});const p=t.totalCount===1?"1 document":"".concat(t.totalCount.toLocaleString()," documents"),m=[...s,...a?["unavailable"]:[]],v=m.length===1?"another dataset":"".concat(m.length," datasets");let g="Dataset".concat(m.length===1?"":"s",": ").concat(m.join(", "));return a&&m.length===1&&(g="Unavailable dataset"),l.jsxs(Q,{children:[l.jsx(Q,{padding:3,radius:2,tone:"caution",marginBottom:4,flex:"none",children:l.jsxs(H,{children:[l.jsx(L,{"aria-hidden":"true",size:1,children:l.jsx(Br,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(L,{size:1,children:o===1?l.jsxs(l.Fragment,{children:["1 document refers to “",r,"”"]}):l.jsxs(l.Fragment,{children:[o.toLocaleString()," documents refer to “",r,"”"]})})})]})}),l.jsx(M,{flex:"none",marginBottom:4,children:l.jsxs(L,{children:["You may not be able to ",i," “",r,"” because the following documents refer to it:"]})}),l.jsx(Q,{radius:2,shadow:1,marginBottom:4,flex:"auto",children:l.jsxs(H,{direction:"column",children:[n.totalCount>0&&l.jsxs(ee,{as:"ul",padding:2,space:3,"data-testid":"internal-references",children:[n==null?void 0:n.references.map(b=>l.jsx(M,{as:"li",children:f(b)},b._id)),n.totalCount>n.references.length&&l.jsx(M,{as:"li",padding:3,children:l.jsx(Phe,{...n})})]}),t.totalCount>0&&l.jsxs(Z2n,{"data-testid":"cross-dataset-references",style:{borderTop:n.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[l.jsx(X2n,{children:l.jsx(Q,{as:"a",margin:2,radius:2,shadow:1,paddingY:1,children:l.jsxs(H,{align:"center",margin:2,children:[l.jsx(M,{marginLeft:3,marginRight:4,children:l.jsx(L,{size:3,children:l.jsx(BF,{})})}),l.jsxs(H,{marginRight:4,direction:"column",children:[l.jsx(M,{marginBottom:2,children:l.jsxs(L,{children:[p," in ",v]})}),l.jsx(M,{children:l.jsx(L,{title:g,textOverflow:"ellipsis",size:1,muted:!0,children:g})})]}),l.jsx(iRe,{children:l.jsx(L,{muted:!0,children:l.jsx(Ja,{})})})]})})}),l.jsxs(M,{overflow:"auto",paddingBottom:2,paddingX:2,children:[l.jsxs(Q2n,{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:l.jsx(Ht,{muted:!0,size:0,style:{minWidth:"5rem"},children:"Project ID"})}),l.jsx("th",{children:l.jsx(Ht,{muted:!0,size:0,children:"Dataset"})}),l.jsx("th",{children:l.jsx(Ht,{muted:!0,size:0,children:"Document ID"})})]})}),l.jsx("tbody",{children:t.references.filter(b=>"projectId"in b).map((b,x)=>{let{projectId:y,datasetName:w,documentId:C}=b;return l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx(L,{size:1,children:y})}),l.jsx("td",{children:l.jsx(L,{size:1,children:w||"unavailable"})}),l.jsx("td",{children:l.jsxs(J2n,{align:"center",gap:2,justify:"flex-end",children:[l.jsx(L,{textOverflow:"ellipsis",size:1,children:C||"unavailable"}),C&&l.jsx(PCn,{text:C,onCopy:()=>{d.push({title:"Copied document ID to clipboard!",status:"success"})},children:l.jsx(oe,{title:"Copy ID to clipboard",mode:"bleed",icon:Iu,fontSize:0})})]})})]},"".concat(C,"-").concat(x))})})]}),l.jsx(M,{padding:2,children:l.jsx(Phe,{...t})})]})]})]})}),l.jsx(M,{flex:"none",children:l.jsxs(L,{children:["If you ",i," this document, documents that refer to it will no longer be able to access it."]})})]})}var Rhe=Object.freeze,tSn=Object.defineProperty,sRe=(e,t)=>Rhe(tSn(e,"raw",{value:Rhe(t||e.slice())})),$he,Mhe;const nSn=P(M).attrs({padding:4})($he||($he=sRe([`
  box-sizing: border-box;
`]))),rSn=P(H).attrs({align:"center",direction:"column",justify:"center"})(Mhe||(Mhe=sRe([`
  height: 300px;
`])));function oSn(e){let{id:t,type:n,action:r="delete",onCancel:o,onConfirm:i}=e;const s="deletion-confirmation-".concat(h.useId()),{internalReferences:a,crossDatasetReferences:c,isLoading:u,totalCount:d,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m}=H2n(t),v="".concat(r.substring(0,1).toUpperCase()).concat(r.substring(1)),g=l.jsx(tRe,{document:h.useMemo(()=>({_id:t,_type:n}),[t,n])}),b=!u;return l.jsx(Mi,{width:1,id:s,header:"".concat(v," document?"),footer:l.jsxs(nn,{columns:b?2:1,gap:2,paddingX:4,paddingY:3,children:[l.jsx(oe,{mode:"ghost",onClick:o,text:"Cancel"}),b&&l.jsx(oe,{"data-testid":"confirm-delete-button",text:d>0?"".concat(v," anyway"):"".concat(v," now"),tone:"critical",onClick:i})]}),onClose:o,onClickOutside:o,children:l.jsx(nSn,{children:c&&a&&!u?l.jsx(eSn,{crossDatasetReferences:c,internalReferences:a,documentTitle:g,isLoading:u,totalCount:d,action:r,projectIds:f,datasetNames:p,hasUnknownDatasetNames:m,onReferenceLinkClick:o}):l.jsxs(rSn,{"data-testid":"loading-container",children:[l.jsx(hr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Looking for referring documents…"})})]})})})}function aRe(e){const t=h.useId(),[n,r]=h.useState(null),o=h.useCallback(()=>r(null),[]);return n?l.jsx(Mi,{id:"dialog-error-".concat(t),"data-testid":"confirm-delete-error-dialog",header:"Error",footer:l.jsx(H,{paddingX:4,paddingY:3,direction:"column",children:l.jsx(oe,{mode:"ghost",text:"Retry",onClick:o})}),onClose:e.onCancel,children:l.jsx(M,{padding:4,children:l.jsx(L,{children:"An error occurred while loading referencing documents."})})}):l.jsx(j0,{onCatch:r,children:l.jsx(oSn,{...e})})}const iSn={constrainSize:!0,placement:"left-start",portal:!0};function L5(e){const{disabled:t,isAfterGroup:n,node:r}=e;return r.type==="divider"?l.jsx($r,{}):r.type==="group"?r.children.length===0?null:r.expanded?l.jsxs(l.Fragment,{children:[n&&l.jsx($r,{}),r.title&&l.jsx(M,{padding:2,paddingBottom:1,children:l.jsx(Ht,{muted:!0,size:0,children:r.title})}),r.children.map((o,i)=>{var s;return l.jsx(L5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx($r,{}),l.jsx(zL,{disabled:t,icon:r.icon,popover:iSn,text:r.title,children:r.children.map((o,i)=>{var s;return l.jsx(L5,{disabled:t||!!r.disabled,isAfterGroup:((s=r.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})]}):l.jsxs(l.Fragment,{children:[n&&l.jsx($r,{}),l.jsx(sSn,{disabled:t,node:r})]})}function sSn(e){const{node:t}=e;return t.intent?l.jsx(lSn,{...e,intent:t.intent}):l.jsx(aSn,{...e})}function aSn(e){var t;const{disabled:n,node:r}=e,o=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason});return l.jsx(sC,{content:o,placement:"left",children:l.jsx(ze,{disabled:n||!!r.disabled,hotkeys:(t=r.hotkey)==null?void 0:t.split("+"),icon:r.icon,iconRight:r.iconRight||r.selected&&ea,onClick:r.onAction,pressed:r.selected,text:r.title,tone:r.tone})})}function lSn(e){var t;const{disabled:n,intent:r,node:o}=e,i=typeof o.disabled=="object"&&l.jsx(L,{size:1,children:o.disabled.reason}),s=Pw({intent:r.type,params:r.params}),a=h.useCallback(c=>{s.onClick(c),o.onAction()},[s,o]);return l.jsx(sC,{content:i,placement:"left",children:l.jsx(ze,{as:"a",disabled:n||!!o.disabled,hotkeys:(t=o.hotkey)==null?void 0:t.split("+"),href:s.href,icon:o.icon,iconRight:o.selected?ea:void 0,onClick:a,pressed:o.selected,text:o.title,tone:o.tone})})}const cSn={constrainSize:!0,placement:"bottom",portal:!0};function eF(e,t){return e.some(n=>n.type==="item"&&n.tone===t||n.type==="group"&&eF(n.children,t))}function lRe(e){const{nodes:t}=e,n=h.useId(),r=eF(t,"critical"),o=eF(t,"caution");return l.jsx(on,{button:l.jsx(dh,{icon:Io,mode:"bleed",title:"Show menu",tone:r?"critical":o?"caution":void 0}),id:n,menu:l.jsx(Nt,{children:t.map((i,s)=>{var a;const c=((a=t[s-1])==null?void 0:a.type)==="group";return l.jsx(L5,{isAfterGroup:c,node:i},i.key)})}),popover:cSn})}const uSn=!1,Sv=51,Ev=Sv*4,cRe=h.createContext(null);var Fhe=Object.freeze,dSn=Object.defineProperty,fSn=(e,t)=>Fhe(dSn(e,"raw",{value:Fhe(t||e.slice())})),Lhe;const hSn=P(os)(Lhe||(Lhe=fSn([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function pSn(e){let{disabled:t,element:n}=e;const{resize:r}=d1(),[o,i]=h.useState(!1),s=h.useCallback(a=>{if(!n)return;i(!0),a.preventDefault();const c=a.pageX;r("start",n,0);const u=f=>{f.preventDefault();const p=f.pageX-c;r("move",n,p)},d=f=>{f.preventDefault(),i(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",d),r("end",n,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",d)},[n,r]);return l.jsx(hSn,{"data-disabled":t?"":void 0,"data-dragging":o?"":void 0,onMouseDown:s})}var Bhe=Object.freeze,mSn=Object.defineProperty,gSn=(e,t)=>Bhe(mSn(e,"raw",{value:Bhe(t||e.slice())})),Nhe;const vSn=P(Q)(Nhe||(Nhe=gSn([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),mD=h.forwardRef(function(t,n){var r,o,i;const{children:s,currentMinWidth:a,currentMaxWidth:c,flex:u=1,id:d,minWidth:f,maxWidth:p,selected:m=!1,...v}=t,[g,b]=h.useState(null),{collapse:x,collapsed:y,expand:w,expandedElement:C,mount:_,panes:S}=d1(),E=S.find(q=>q.element===g),j=E&&S.indexOf(E),k=typeof j=="number"?S[j+1]:void 0,T=j===S.length-1,A=y?!1:(E==null?void 0:E.collapsed)||!1,D=(k==null?void 0:k.collapsed)||!1,I=fr(n),O=(r=E==null?void 0:E.flex)!=null?r:u,$=(o=E==null?void 0:E.currentMinWidth)!=null?o:a,R=(i=E==null?void 0:E.currentMaxWidth)!=null?i:c,z=h.useCallback(q=>{b(q),I.current=q},[I]);h.useEffect(()=>{if(g)return _(g,{currentMinWidth:a,currentMaxWidth:c,flex:u,id:d,minWidth:f,maxWidth:p})},[a,c,u,d,f,p,_,g]);const B=h.useCallback(()=>{g&&x(g)},[x,g]),U=h.useCallback(()=>{g&&w(g)},[w,g]),W=h.useMemo(()=>({collapse:B,collapsed:y?!1:A,expand:U,index:j,isLast:T,rootElement:g}),[A,B,U,T,y,j,g]),V=h.useMemo(()=>{if(!y)return A?Sv:$===0||T?f||Ev:$||f||Ev},[A,$,T,y,f]),K=h.useMemo(()=>{if(A)return Sv;if(!(y&&T))return T?p?R??p:void 0:R??p},[A,R,T,y,p]),te=y&&!T,N=h.useMemo(()=>!T&&!y&&l.jsx(Zu,{zOffset:"paneResizer",children:l.jsx(pSn,{disabled:A||D,element:g})}),[A,T,y,D,g]),G=h.useMemo(()=>({flex:O,minWidth:V,maxWidth:K===1/0?void 0:K}),[O,V,K]);return l.jsxs(l.Fragment,{children:[l.jsx(Zu,{zOffset:"pane",children:l.jsx(cRe.Provider,{value:W,children:l.jsxs(vSn,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:te,id:d,overflow:y?void 0:"hidden",...v,"data-pane-collapsed":A?"":void 0,"data-pane-index":j,"data-pane-selected":m?"":void 0,ref:z,style:G,children:[uSn,l.jsx(Bu,{element:g,children:!te&&l.jsx(H,{direction:"column",height:"fill",children:s})})]})})}),N]})});function gh(){const e=h.useContext(cRe);if(!e)throw new Error("Pane: missing context value");return e}var zhe=Object.freeze,ySn=Object.defineProperty,bSn=(e,t)=>zhe(ySn(e,"raw",{value:zhe(t||e.slice())})),Vhe;const uRe=P(Q)(Vhe||(Vhe=bSn([`
  position: relative;
  outline: none;
`])));uRe.displayName="PaneContent__root";const gD=h.forwardRef(function(t,n){const{as:r,children:o,overflow:i,padding:s,...a}=t,{collapsed:c}=gh(),{collapsed:u}=d1();return l.jsx(uRe,{"data-testid":"pane-content",forwardedAs:r,...a,flex:1,hidden:c,overflow:u?void 0:i,padding:s,ref:n,tone:"inherit",children:o})});var Hhe=Object.freeze,xSn=Object.defineProperty,dRe=(e,t)=>Hhe(xSn(e,"raw",{value:Hhe(t||e.slice())})),Uhe,Whe;const wSn=P(os)(Uhe||(Uhe=dRe([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),CSn=P(Q)(Whe||(Whe=dRe([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),_Sn=h.forwardRef(function(t,n){const{children:r,padding:o}=t,{collapsed:i}=gh();return l.jsx(Zu,{zOffset:"paneFooter",children:l.jsx(wSn,{"data-testid":"pane-footer",hidden:i,ref:n,children:l.jsx(CSn,{tone:"inherit",children:l.jsx(M,{padding:o,children:r})})})})});var qhe=Object.freeze,SSn=Object.defineProperty,f1=(e,t)=>qhe(SSn(e,"raw",{value:qhe(t||e.slice())})),Yhe,Ghe,Khe,Zhe,Xhe,Qhe;const ESn=P(os)(Yhe||(Yhe=f1([`
  line-height: 0;
  position: sticky;
  top: 0;

  &:not([data-collapsed]):after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-shadow-outline-color);
  }
`]))),kSn=P(H)(Ghe||(Ghe=f1([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),jSn=P(Q)(e=>{let{theme:t}=e;const{fg:n,bg:r}=t.sanity.color.card.enabled;return de(Khe||(Khe=f1([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),r,n)}),TSn=P(Oi)(Zhe||(Zhe=f1([`
  width: 66%;
  max-width: 175px;
`]))),ASn=P(L)(Xhe||(Xhe=f1([`
  cursor: default;
  outline: none;
`]))),DSn=P(M)(e=>{let{theme:t}=e;const{color:n,space:r}=t.sanity;return de(Qhe||(Qhe=f1([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),r[3],Dt(n.base.bg,0),r[3])}),lz=h.forwardRef(function(t,n){const{actions:r,backButton:o,contentAfter:i,loading:s,subActions:a,tabs:c,tabIndex:u,title:d}=t,{collapse:f,collapsed:p,expand:m,rootElement:v}=gh(),g=Qf(v||null),b=h.useMemo(()=>({width:p?(g==null?void 0:g.height)||window.innerHeight:void 0}),[p,g]),x=h.useCallback(()=>{p||f()},[f,p]),y=h.useCallback(()=>{p&&m()},[p,m]),w=!!(!p&&(c||a));return l.jsx(Nu,{zOffset:100,children:l.jsx(ESn,{"data-collapsed":p?"":void 0,"data-testid":"pane-header",ref:n,children:l.jsx(Zu,{zOffset:"paneHeader",children:l.jsxs(Q,{"data-collapsed":p?"":void 0,tone:"inherit",children:[l.jsxs(kSn,{onClick:y,padding:2,sizing:"border",style:b,children:[o&&l.jsx(M,{flex:"none",padding:1,children:o}),l.jsxs(jSn,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",marginRight:r?1:0,onClick:x,paddingLeft:o?1:3,paddingY:3,tabIndex:u,children:[s&&l.jsx(TSn,{animated:!0,radius:1}),!s&&l.jsx(ASn,{textOverflow:"ellipsis",weight:"semibold",children:d})]}),r&&l.jsx(H,{align:"center",hidden:p,children:l.jsx(Zu,{zOffset:"paneHeader",children:r})})]}),w&&l.jsxs(H,{align:"center",hidden:p,overflow:"auto",paddingBottom:3,paddingX:3,paddingTop:1,children:[l.jsx(DSn,{flex:1,marginRight:a?3:0,children:c}),a&&a]}),!p&&i&&i]})})})})});function fRe(e){const{node:t,padding:n}=e;return t.type==="item"?l.jsx(ISn,{node:t,padding:n}):t.type==="group"?l.jsx(PSn,{node:t,padding:n}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',t),null)}function ISn(e){var t;const{node:n,padding:r}=e;if(n.intent)return l.jsx(OSn,{...e,intent:n.intent});const o=typeof n.disabled=="object"&&l.jsx(L,{size:1,children:n.disabled.reason});return l.jsx(sC,{content:o,placement:"bottom",children:l.jsx(dh,{disabled:!!n.disabled,hotkey:(t=n.hotkey)==null?void 0:t.split("+"),icon:n.icon,label:o?void 0:n.title,onClick:n.onAction,padding:r,selected:n.selected,tone:n.tone})})}function OSn(e){var t;const{intent:n,node:r,padding:o}=e,i=typeof r.disabled=="object"&&l.jsx(L,{size:1,children:r.disabled.reason}),s=Pw({intent:n.type,params:n.params}),a=h.useCallback(c=>{s.onClick(c),r.onAction()},[s,r]);return l.jsx(sC,{content:i,placement:"bottom",children:l.jsx(dh,{as:"a",disabled:!!r.disabled,hotkey:(t=r.hotkey)==null?void 0:t.split("+"),href:s.href,icon:r.icon,label:i?void 0:r.title,onClick:a,padding:o,selected:r.selected,tone:r.tone})})}function PSn(e){var t;const{node:n,padding:r}=e;return l.jsx(on,{button:l.jsx(dh,{disabled:n.disabled,icon:(t=n.icon)!=null?t:Sl,label:n.title,padding:r}),id:h.useId(),menu:l.jsx(Nt,{children:n.children.map((o,i)=>{var s;return l.jsx(L5,{disabled:!!n.disabled,isAfterGroup:((s=n.children[i-1])==null?void 0:s.type)==="group",node:o},o.key)})})})}var Jhe=Object.freeze,RSn=Object.defineProperty,$Sn=(e,t)=>Jhe(RSn(e,"raw",{value:Jhe(t||e.slice())})),epe;const MSn=P(Q)(epe||(epe=$Sn([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function FSn(e,t,n,r){var o,i;const s={flex:e.left.flex+e.right.flex,width:e.left.width+e.right.width},a=(o=t.minWidth)!=null?o:Ev,c=(i=n.minWidth)!=null?i:Ev,u=Math.min(t.maxWidth||1/0,s.width-c),d=Math.min(n.maxWidth||1/0,s.width-a);let f=a-e.left.width;const p=e.right.width-d;f<p&&(f=p);let m=e.right.width-c;const v=u-e.left.width;m>v&&(m=v);const g=Math.min(Math.max(r,f),m),b=e.left.width+g,x=e.right.width-g,y=b/s.width*s.flex,w=x/s.width*s.flex;return{leftFlex:y,leftW:b,rightFlex:w,rightW:x}}function LSn(e,t){const n=[];let r=t;for(;r!==e;){const o=r.parentElement;if(!o)return n;const s=Array.from(o.childNodes).indexOf(r);if(n.unshift(s),o===e)return n;r=o}return n}const tpe=[];function BSn(e,t){const n=new WeakMap;for(const o of t)n.set(o,LSn(e,o));const r=(o,i)=>{const s=n.get(o)||tpe,a=n.get(i)||tpe,c=Math.max(s.length,a.length);for(let u=0;u<c;u+=1){const d=s[u]||-1,f=a[u]||-1;if(d!==f)return d-f}return 0};t.sort(r)}function NSn(){const e=[],t=[],n=new WeakMap,r=new Set,o={};let i=null,s=0,a=null,c=new Map,u=!1;function d(y){r.add(y),a===y&&(a=null),x()}function f(y){r.delete(y),a=y,x()}function p(y,w){return n.set(y,{...w,original:w}),t.push(y),i&&BSn(i,t),f(y),()=>{const C=t.indexOf(y);C>-1&&t.splice(C,1),n.delete(y),x()}}function m(y,w,C){var _,S,E,j;const k=t.indexOf(w),T=n.get(w);if(!T)return;const A=t[k+1],D=n.get(A);if(D){if(y==="start"&&(u=!0,o.left={element:w,flex:T.flex||1,width:w.offsetWidth},o.right={element:A,flex:D.flex||1,width:A.offsetWidth},x()),y==="move"&&o.left&&o.right){c=new Map;const{leftW:I,rightW:O,leftFlex:$,rightFlex:R}=FSn(o,T,D,C);c.set(w,{flex:$,width:I}),c.set(A,{flex:R,width:O}),x()}if(y==="end"){u=!1;const I=c.get(w),O=c.get(A);n.set(w,{...T,currentMinWidth:0,currentMaxWidth:(_=T.maxWidth)!=null?_:1/0,flex:(S=I==null?void 0:I.flex)!=null?S:T.flex}),n.set(A,{...D,currentMinWidth:0,currentMaxWidth:(E=T.maxWidth)!=null?E:1/0,flex:(j=O==null?void 0:O.flex)!=null?j:D.flex}),c=new Map,delete o.left,delete o.right,x()}}}function v(y){i=y}function g(y){s=y,x()}function b(y){return e.push(y),()=>{const w=e.push(y);w>-1&&e.splice(w,1)}}return{collapse:d,expand:f,mount:p,resize:m,setRootElement:v,setRootWidth:g,subscribe:b};function x(){var y,w,C,_;if(!s)return;const S=[];for(const I of t)I!==a&&S.unshift(I);a&&S.unshift(a);const E=new WeakMap,j=S.length,k=S[0],T=(j-1)*Sv;let A=s-T;for(const I of S){const O=n.get(I);if(!O)continue;const $=O.currentMinWidth||O.minWidth||Ev,R=I===k,z=r.has(I),B=$>A,U=R?!1:z||B,W=c.get(I);E.set(I,{element:I,collapsed:U,currentMinWidth:(y=W==null?void 0:W.width)!=null?y:O.currentMinWidth,currentMaxWidth:(w=W==null?void 0:W.width)!=null?w:O.currentMaxWidth,flex:(_=(C=W==null?void 0:W.flex)!=null?C:O.flex)!=null?_:1}),U?A-=Sv:A-=$-Sv}const D=[];for(const I of t){const O=E.get(I);O&&D.push(O)}for(const I of e)I({expandedElement:a||t[t.length-1]||null,panes:D,resizing:u})}}function l$n(e){const{children:t,minWidth:n,onCollapse:r,onExpand:o,...i}=e,s=h.useMemo(()=>NSn(),[]),[a,c]=h.useState(null),u=Qf(a),d=(u==null?void 0:u.width)||0,f=d===void 0||!n?void 0:d<n,[p,m]=h.useState({expandedElement:null,panes:[],resizing:!1});h.useEffect(()=>s.setRootElement(a),[s,a]),h.useEffect(()=>s.setRootWidth(d),[s,d]),h.useEffect(()=>s.subscribe(m),[s]),h.useEffect(()=>{f!==void 0&&(f&&r&&r(),!f&&o&&o())},[f,r,o]);const v=h.useMemo(()=>({collapse:s.collapse,collapsed:f,expand:s.expand,expandedElement:p.expandedElement,mount:s.mount,panes:p.panes,resize:s.resize,resizing:p.resizing}),[f,s,p.expandedElement,p.panes,p.resizing]);return l.jsx(oRe.Provider,{value:v,children:l.jsx(MSn,{"data-ui":"PaneLayout",...i,"data-collapsed":f?"":void 0,"data-resizing":p.resizing?"":void 0,"data-mounted":d?"":void 0,ref:c,children:t})})}function cz(e){return(e.type==="item"||e.type==="group")&&e.renderAsButton}const hRe=ywt(cz);function pRe(e){var t,n;const{fieldActions:r=[],menuItems:o,menuItemGroups:i}=e,s=[];let a=0;for(let d=0;d<r.length;d+=1){const f=r[d];s.push(mRe(f,"".concat(d,"-").concat(f.type)))}a+=s.length;const c=[];for(const d of i)c.find(p=>p.key===d.id)||c.push({type:"group",key:d.id,children:[],expanded:!0,renderAsButton:!1,title:d.title});const u=[];for(let d=0;d<o.length;d+=1){const f=o[d];let p=f.group&&c.find(m=>m.key===f.group);f.group&&!p&&(p={type:"group",key:f.group,expanded:!0,icon:f.icon,title:f.group,children:[],renderAsButton:!1},c.push(p)),p?p.children.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(t=f.showAsAction)!=null?t:!1,selected:f.selected,title:f.title,tone:f.tone}):u.push({type:"item",key:"".concat(a+d,"-item"),hotkey:f.shortcut,icon:f.icon,onAction:()=>e.actionHandler(f),renderAsButton:(n=f.showAsAction)!=null?n:!1,selected:f.selected,title:f.title,tone:f.tone})}return[...u,...c,...s]}function mRe(e,t){var n,r,o;return e.type==="divider"?{type:"divider",key:t}:e.type==="group"?{type:"group",key:t,children:e.children.map((i,s)=>mRe(i,"".concat(t,"-").concat(s,"-").concat(i.type))),disabled:e.disabled,expanded:(n=e.expanded)!=null?n:!0,icon:e.icon,title:e.title,renderAsButton:(r=e.renderAsButton)!=null?r:!1}:{type:"item",key:t,intent:e.intent,disabled:e.disabled,icon:e.icon,iconRight:e.iconRight,onAction:e.onAction,renderAsButton:(o=e.renderAsButton)!=null?o:!1,selected:e.selected,title:e.title,tone:e.tone}}const zSn=h.forwardRef(function(t,n){const{intent:r,...o}=t,i=h.useMemo(()=>h.forwardRef(function(a,c){return l.jsx(km,{...a,intent:r.type,params:r.params,ref:c})}),[r]);return t.disabled?l.jsx(oe,{...t,as:"a",role:"link","aria-disabled":"true"}):l.jsx(oe,{...o,as:i,"data-as":"a",ref:n})});function cP(e){let{reveal:t,loading:n,children:r}=e;const o=Yo();return t?l.jsx(it,{content:n?l.jsx(M,{padding:2,children:l.jsx(L,{children:"Loading…"})}):l.jsx(Ac,{currentUser:o}),portal:!0,children:l.jsx("div",{children:r})}):l.jsx(l.Fragment,{children:r})}const VSn={constrainSize:!0,placement:"bottom",portal:!0},npe=(e,t,n)=>{var r;const o=(r=t.find(s=>s.id===n.templateId))==null?void 0:r.schemaType;if(!o)return null;const i={template:n.templateId,type:o,id:n.initialDocumentId};return{type:"create",params:n.parameters?[i,n.parameters]:i}};function HSn(e){let{templateItems:t}=e;const n=jn(),r=c1(),[o,i]=ZN({templateItems:t}),s=h.useMemo(()=>!i&&(o==null?void 0:o.every(c=>!c.granted)),[i,o]),a=h.useMemo(()=>o?o.reduce((c,u)=>(c[u.id]=u,c),{}):{},[o]);if(s)return l.jsx(cP,{reveal:!0,loading:i,children:l.jsx(oe,{"aria-label":"Insufficient permissions",icon:vp,mode:"bleed",disabled:!0,"data-testid":"action-intent-button"})});if(t.length===1){const c=t[0],u=a[c.id],d=!(u!=null&&u.granted),f=npe(n,r,c);return f?l.jsx(cP,{reveal:d,loading:i,children:l.jsx(zSn,{"aria-label":c.title,icon:c.icon||vp,intent:f,mode:"bleed",disabled:d,"data-testid":"action-intent-button"})}):null}return l.jsx(on,{button:l.jsx(oe,{icon:vp,mode:"bleed","data-testid":"multi-action-intent-button"}),id:"create-menu",menu:l.jsxs(Nt,{children:[l.jsx(M,{paddingX:3,paddingTop:3,paddingBottom:2,children:l.jsx(Ht,{muted:!0,children:"Create"})}),t.map((c,u)=>{const d=a[c.id],f=!(d!=null&&d.granted),p=npe(n,r,c),m=r.find(g=>g.id===c.templateId);if(!m||!p)return null;const v=h.forwardRef((g,b)=>f?l.jsx("button",{type:"button",disabled:!0,...g,ref:b}):l.jsx(km,{...g,intent:p.type,params:p.params,ref:b}));return v.displayName="Link",l.jsx(cP,{reveal:f,loading:i,children:l.jsx(ze,{as:v,"data-as":f?"button":"a",text:c.title||m.title,"aria-label":f?"Insufficient permissions":c.title||m.title,disabled:f,"data-testid":"action-intent-button-".concat(u)})},c.id)})]}),popover:VSn})}function USn(e){return e!=null}const WSn=e=>{const t=r=>typeof r!="object"||!r?r:Array.isArray(r)?r.map(t):Object.entries(r).sort((o,i)=>{let[s]=o,[a]=i;return s.localeCompare(a,"en")});return JSON.stringify(t((r=>JSON.parse(JSON.stringify(r)))(e)))},qSn=h.memo(function(t){const{initialValueTemplateItems:n=gn,menuItems:r=gn,menuItemGroups:o=gn,actionHandlers:i=WUt}=t,s=c1(),a=h.useCallback(m=>{if(typeof m.action=="string"&&!(m.action in i))return console.warn("No handler for action:",m.action),!1;const v=typeof m.action=="function"?m.action:typeof m.action=="string"?i[m.action]:null;return v?(v(m.params),!0):!1},[i]),c=h.useMemo(()=>pRe({actionHandler:a,menuItemGroups:o,menuItems:r.filter(m=>{var v;return((v=m.intent)==null?void 0:v.type)!=="create"})}),[a,o,r]),u=h.useMemo(()=>c.filter(cz),[c]),d=h.useMemo(()=>c.filter(hRe),[c]),f=h.useMemo(()=>r.map((m,v)=>{var g;if(((g=m.intent)==null?void 0:g.type)!=="create")return null;const{params:b}=m.intent;if(!b)return null;const x=Array.isArray(b)?b[0]:b,y=Array.isArray(b)?b[1]:void 0,w=x.template||x.type;if(!w)return null;const C=s.find(S=>S.id===w);if(!C)return null;const _=x.id;return{item:m,template:C,templateParams:y,menuItemIndex:v,initialDocumentId:_}}).filter(USn).map(m=>{let{initialDocumentId:v,item:g,template:b,menuItemIndex:x,templateParams:y}=m;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:b.id,type:"initialValueTemplateItem",title:g.title||b.title,icon:g.icon,description:b.description,parameters:y,schemaType:b.schemaType}}),[r,s]),p=h.useMemo(()=>Lf([...f,...n],m=>WSn([m.initialDocumentId,m.templateId,m.parameters])),[f,n]);return l.jsxs(H,{gap:1,children:[p.length>0&&l.jsx(HSn,{templateItems:p}),u.map(m=>l.jsx(fRe,{node:m},m.key)),d.length>0&&l.jsx(lRe,{nodes:d})]})}),YSn=(e,t)=>({title:l.jsxs("em",{children:["No schema found for type ",l.jsx("code",{children:t})]}),subtitle:l.jsxs("em",{children:["Document: ",l.jsx("code",{children:e})]}),media:()=>l.jsx(Br,{})});function GSn(e){const{layout:t,value:n}=e;return l.jsx(fh,{...YSn(n._id,n._type),layout:t})}function rpe(e,t,n){return e===!1?!1:e||t&&t.icon||n||!1}function KSn(e){const{icon:t,id:n,layout:r="default",pressed:o,schemaType:i,selected:s,title:a,value:c,margin:u,marginBottom:d,marginTop:f}=e,p=jn(),m=Ni(),{ChildLink:v}=Wc(),g=CC(n),b=!!(i&&i.name&&p.get(i.name)),[x,y]=h.useState(!1),w=h.useMemo(()=>c&&RMe(c)?!i||!b?l.jsx(GSn,{value:c}):l.jsx(rRe,{documentPreviewStore:m,icon:rpe(t,i,kf),layout:r,schemaType:i,value:c,presence:g}):l.jsx(fh,{status:l.jsx(L,{muted:!0,children:l.jsx(Ic,{})}),icon:rpe(t,i,M0e),layout:r,title:a}),[m,b,t,r,i,a,c,g]),C=h.useMemo(()=>function(E){return l.jsx(v,{...E,childId:n})},[v,n]),_=h.useCallback(S=>{if(S.metaKey){y(!1);return}y(!0)},[]);return h.useEffect(()=>y(!1),[s]),l.jsx(Ap,{__unstable_focusRing:!0,as:C,"data-as":"a","data-ui":"PaneItem",margin:u,marginBottom:d,marginTop:f,onClick:_,padding:2,pressed:o,radius:2,selected:s||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const gRe=h.createContext(null);function gr(){const e=h.useContext(gRe);if(!e)throw new Error("DocumentPane: missing context value");return e}const ZSn={NOTHING_TO_DELETE:"This document doesn’t yet exist or is already deleted"},vRe=e=>{let{id:t,type:n,draft:r,onComplete:o}=e;const{setIsDeleting:i}=gr(),{delete:s}=ql(t,n),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=h.useCallback(()=>{d(!1),o()},[o]),p=h.useCallback(()=>{c(!0),d(!1),i(!0),s.execute(),o()},[s,o,i]),m=h.useCallback(()=>{d(!0)},[]),[v,g]=mh({id:t,type:n,permission:"delete"}),b=Yo();return!g&&!(v!=null&&v.granted)?{tone:"critical",icon:yo,disabled:!0,label:"Delete",title:l.jsx(Ac,{operationLabel:"delete this document",currentUser:b})}:{tone:"critical",icon:yo,disabled:a||!!s.disabled||g,title:s.disabled&&ZSn[s.disabled]||"",label:a?"Deleting…":"Delete",shortcut:"Ctrl+Alt+D",onHandle:m,dialog:u&&{type:"custom",component:l.jsx(aRe,{action:"delete",id:(r==null?void 0:r._id)||t,type:n,onCancel:f,onConfirm:p})}}};vRe.action="delete";const XSn={NO_CHANGES:"This document has no unpublished changes",NOT_PUBLISHED:"This document is not published"},yRe=e=>{let{id:t,type:n,published:r,liveEdit:o,onComplete:i}=e;const{discardChanges:s}=ql(t,n),[a,c]=h.useState(!1),[u,d]=mh({id:t,type:n,permission:"discardDraft"}),f=Yo(),p=h.useCallback(()=>{s.execute(),i()},[s,i]),m=h.useCallback(()=>{c(!0)},[]),v=h.useMemo(()=>a&&{type:"confirm",tone:"critical",onCancel:i,onConfirm:p,message:l.jsx(l.Fragment,{children:"Are you sure you want to discard all changes since last published?"})},[p,a,i]);return!r||o?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:Pu,disabled:!0,label:"Discard changes",title:l.jsx(Ac,{operationLabel:"discard changes in this document",currentUser:f})}:{tone:"critical",icon:Pu,disabled:!!s.disabled||d,title:s.disabled&&XSn[s.disabled]||"",label:"Discard changes",onHandle:m,dialog:v}};yRe.action="discardChanges";const QSn={NOTHING_TO_DUPLICATE:"This document doesn’t yet exist so there‘s nothing to duplicate"},bRe=e=>{let{id:t,type:n,onComplete:r}=e;const{duplicate:o}=ql(t,n),{navigateIntent:i}=Nl(),[s,a]=h.useState(!1),[c,u]=mh({id:t,type:n,permission:"duplicate"}),d=Yo(),f=h.useCallback(()=>{const p=ud();a(!0),o.execute(p),i("edit",{id:p,type:n}),r()},[o,i,r,n]);return!u&&!(c!=null&&c.granted)?{icon:Iu,disabled:!0,label:"Duplicate",title:l.jsx(Ac,{operationLabel:"duplicate this document",currentUser:d})}:{icon:Iu,disabled:s||!!o.disabled||u,label:s?"Duplicating…":"Duplicate",title:o.disabled&&QSn[o.disabled]||"",onHandle:f}};bRe.action="duplicate";const uz=e=>{let{id:t,type:n,revision:r,onComplete:o}=e;const{restore:i}=ql(t,n),s=uPe(t,n),{navigateIntent:a}=Nl(),c=h.useRef(s),[u,d]=h.useState(!1),f=h.useCallback(()=>{i.execute(r),o()},[i,r,o]);h.useEffect(()=>{!s||s===c.current||(s.type==="success"&&s.op==="restore"&&a("edit",{id:t,type:n}),c.current=s)},[s,t,a,n]);const p=h.useCallback(()=>{d(!0)},[]),m=h.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:f,message:l.jsx(l.Fragment,{children:"Are you sure you want to restore this document?"})}:null,[f,u,o]),v=r==="@initial";return r===void 0?null:{label:"Restore",color:"primary",onHandle:p,title:v?"You can't restore to the initial version":"Restore to this version",icon:qF,dialog:m,disabled:v}};uz.action="restore";const JSn={LIVE_EDIT_ENABLED:"Cannot publish since liveEdit is enabled for this document type",ALREADY_PUBLISHED:"Already published",NO_CHANGES:"No unpublished changes",NOT_READY:"Operation not ready"};function eEn(e,t){return e==="ALREADY_PUBLISHED"&&t?l.jsx(l.Fragment,{children:l.jsxs("span",{children:["Published ",t]})}):JSn[e]}const xRe=e=>{var t;const{id:n,type:r,liveEdit:o,draft:i,published:s}=e,[a,c]=h.useState(null),{publish:u}=ql(n,r),d=HN(n,r),f=fPe(n,r),{changesOpen:p,onHistoryOpen:m,documentId:v,documentType:g}=gr(),b=VN(v,g),x=((b==null?void 0:b.draft)||(b==null?void 0:b.published)||{})._rev,y=d.validation.some($Me),[w,C]=h.useState(!1),_=f.isSyncing,S=d.isValidating,[E,j]=mh({id:n,type:r,permission:"publish"}),k=Yo(),T=Qo((s==null?void 0:s._updatedAt)||"",{minimal:!0,agoSuffix:!0}),A=u.disabled?eEn(u.disabled,T)||"":y?"There are validation errors that need to be fixed before this document can be published":"",D=!!i,I=h.useCallback(()=>{u.execute(),c("publishing")},[u]);h.useEffect(()=>{const R=d.isValidating===!1&&d.revision!==x;!w||_||!R||(y||I(),C(!1))},[_,I,y,w,d.revision,x,S,d.isValidating]),h.useEffect(()=>{const R=a==="publishing"&&!D;R&&p&&m();const z=R?"published":null,U=setTimeout(()=>{c(z)},R?200:4e3);return()=>clearTimeout(U)},[p,a,D,m]);const O=h.useCallback(()=>{f.isSyncing||d.isValidating||d.revision!==x?C(!0):I()},[f.isSyncing,d.isValidating,d.revision,x,I]);if(o)return{tone:"positive",label:"Publish",title:"Live Edit is enabled for this content type and publishing happens automatically as you make changes",disabled:!0};if(!j&&!(E!=null&&E.granted))return{tone:"positive",label:"Publish",title:l.jsx(Ac,{operationLabel:"publish this document",currentUser:k}),disabled:!0};const $=!!(w||(t=b==null?void 0:b.transactionSyncLock)!=null&&t.enabled||a==="publishing"||a==="published"||y||u.disabled);return{disabled:$||j,tone:"positive",label:a==="published"?"Published":w||a==="publishing"?"Publishing…":"Publish",icon:a==="published"?ea:b0,title:w?"Waiting for tasks to finish before publishing":a==="published"||a==="publishing"?null:A,shortcut:$||w?null:"Ctrl+Alt+P",onHandle:O}};xRe.action="publish";const tEn={NOT_PUBLISHED:"This document is not published"},wRe=e=>{let{id:t,type:n,draft:r,onComplete:o,liveEdit:i}=e;const{unpublish:s}=ql(t,n),[a,c]=h.useState(!1),[u,d]=mh({id:t,type:n,permission:"unpublish"}),f=Yo(),p=h.useCallback(()=>{c(!1),o()},[o]),m=h.useCallback(()=>{c(!1),s.execute(),o()},[o,s]),v=h.useMemo(()=>a?{type:"dialog",onClose:o,content:l.jsx(aRe,{id:(r==null?void 0:r._id)||t,type:n,action:"unpublish",onCancel:p,onConfirm:m})}:null,[r,t,p,m,a,o,n]);return i?null:!d&&!(u!=null&&u.granted)?{tone:"critical",icon:oE,label:"Unpublish",title:l.jsx(Ac,{operationLabel:"unpublish this document",currentUser:f}),disabled:!0}:{tone:"critical",icon:oE,disabled:!!s.disabled||d,label:"Unpublish",title:s.disabled?tEn[s.disabled]:"",onHandle:()=>c(!0),dialog:v}};wRe.action="unpublish";const nEn=e=>{const{liveEdit:t}=e;return t?{label:"Live",color:"danger"}:null},rEn=!1,CRe={},c$n=Symbol("LOADING_PANE"),_Re="documentPanelPortalElement",SRe={activePanes:[]};function u$n(e){SRe.activePanes=e}function oEn(e,t,n,r){var o;const i=(n==null?void 0:n.panes)||[],s=SRe.activePanes||[],a=t.id||ud(),c=e==="create"&&t.template;for(let u=s.length-1;u>=0;u--){const d=s[u];if(typeof d=="object"&&((o=d.canHandleIntent)!=null&&o.call(d,e,t,{pane:d,index:u})||d.type==="documentList"&&d.schemaTypeName===t.type&&d.options.filter==="_type == $type")){const f=c?{template:t.template}:CRe;return{panes:i.slice(0,u).concat([[{id:a,params:f,payload:r}]])}}}return{intent:e,params:t,payload:r}}const iEn={};function sEn(e){try{return JSON.parse(decodeURIComponent(e))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function aEn(e){return(e||[]).map(t=>t.map(vEn).join("|")).map(encodeURIComponent).join(";")}function lEn(e){return JSON.stringify(e)}function cEn(e){return yEn(decodeURIComponent(e))}function uEn(e){return aEn(e)}const dEn=Ci.create("/",[Ci.intents("/intent"),Ci.create("/edit/:type/:editDocumentId",[Ci.create({path:"/:params",transform:{params:{toState:sEn,toPath:lEn}}})]),Ci.create({path:"/:panes",children:[Ci.create("/:action",Ci.create("/:legacyEditDocumentId"))],transform:{panes:{toState:cEn,toPath:uEn}}})]),fEn=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,hEn=e=>/^[a-z0-9]+=[^=]+/i.test(e),pEn=e=>/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e),ERe=["view","since","rev","inspect","comment"],mEn=Boolean;function gEn(e,t){return e.reduce((n,r)=>{if(hEn(r)){const o=r.slice(0,r.indexOf("=")),i=r.slice(o.length+1);n.params={...n.params,[decodeURIComponent(o)]:decodeURIComponent(i)}}else pEn(r)?n.payload=xEn(r):console.warn("Unknown pane segment: %s - skipping",r);return n},{...t,params:iEn,payload:void 0})}function vEn(e,t,n){const{payload:r,params:o={},id:i}=e,[s]=n,a=e===s,c=t!==0&&i===s.id,u=typeof r>"u"?void 0:btoa(JSON.stringify(r)),d=Object.entries(o).filter(f=>{var p;const[m,v]=f;if(!v)return!1;if(a)return!0;const g=(p=s.params)==null?void 0:p[m];return!(v===g&&!ERe.includes(m))}).map(f=>{let[p,m]=f;return"".concat(encodeURIComponent(p),"=").concat(encodeURIComponent(m))});return[c?"":i].concat([d.length>0&&d,u].filter(mEn).flat()).join(",")||","}function yEn(e){return e.indexOf(",{")!==-1?bEn(e):e.split(";").map(t=>{const[n,...r]=t.split("|").map(o=>{const[i,...s]=o.split(",");return gEn(s,{id:i})});return[n,...r.map(o=>({...n,...o,id:o.id||n.id,params:{...Ri(n.params,ERe),...o.params},payload:o.payload||n.payload}))]}).filter(t=>t.length>0)}function bEn(e){const t=[];let n=e;for(;n.length;){const[r,o,i]=n.match(fEn)||[];if(!r){n=n.slice(1);continue}const s=i&&kRe(i);t.push({id:o,payload:s}),n=n.slice(r.length)}return[t]}function kRe(e){try{return JSON.parse(e)}catch(t){console.warn("Failed to parse parameters: ".concat(t.message));return}}function xEn(e){return e?kRe(atob(e)):void 0}const wEn=320,CEn=600,tF=320,_En=540,SEn={},nF="inspect:",EEn=[{id:"inspectors"},{id:"links"}],rF="sanity/desk/history",kEn="sanity/desk/validation",Db="sanity/desk/comments";var ope=Object.freeze,jEn=Object.defineProperty,TEn=(e,t)=>ope(jEn(e,"raw",{value:ope(t||e.slice())})),ipe;const spe=P(Dwe)(ipe||(ipe=TEn([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),AEn=/[^\p{Alpha}\p{White_Space}]/gu,DEn=new RegExp("\\p{White_Space}+","u");function IEn(e){const t=e.replace(AEn,"").split(DEn);return t.length===1?"".concat(t[0].charAt(0)).toUpperCase():"".concat(t[0].charAt(0)).concat(t[t.length-1].charAt(0))}function vD(e){const{user:t,...n}=e,r=t,o=h.useMemo(()=>IEn((r==null?void 0:r.displayName)||""),[r==null?void 0:r.displayName]);return r?l.jsx(spe,{initials:o,src:r==null?void 0:r.imageUrl,title:r==null?void 0:r.displayName,...n}):l.jsx(spe,{...n})}const jRe=25,OEn={minWidth:jRe};function KS(){return l.jsx("div",{style:OEn})}var ape=Object.freeze,PEn=Object.defineProperty,REn=(e,t)=>ape(PEn(e,"raw",{value:ape(t||e.slice())})),lpe;const $En={open:500,close:0},cpe=P.span(e=>{let{theme:t}=e;var n,r,o;const{regular:i}=(n=t.sanity.fonts)==null?void 0:n.text.weights,{hovered:s}=(r=t.sanity.color)==null?void 0:r.card,{bg:a}=((o=t.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return de(lpe||(lpe=REn([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),i,s.bg,a)});function TRe(e){const{selected:t,userId:n}=e,[r,o]=u1(n),i=Yo();return!r||o?l.jsx(cpe,{children:"@Loading"}):l.jsx(it,{portal:!0,open:t,delay:$En,content:l.jsxs(H,{align:"center",padding:2,gap:2,children:[l.jsx(H,{children:l.jsx(vD,{user:r})}),l.jsx(L,{size:1,children:r.displayName})]}),children:l.jsxs(cpe,{"data-selected":t,"data-active":(i==null?void 0:i.id)===n,children:["@",r.displayName]})})}var upe=Object.freeze,MEn=Object.defineProperty,FEn=(e,t)=>upe(MEn(e,"raw",{value:upe(t||e.slice())})),dpe;const LEn=P(L)(dpe||(dpe=FEn([`
  word-break: break-word;
`])));function $s(e){const{children:t}=e;return l.jsx(LEn,{size:1,children:t})}var fpe=Object.freeze,BEn=Object.defineProperty,NEn=(e,t)=>fpe(BEn(e,"raw",{value:fpe(t||e.slice())})),hpe;const zEn=P(ee)(()=>de(hpe||(hpe=NEn([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),VEn=[],HEn={block:{normal:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h1:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h2:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h3:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h4:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h5:e=>{let{children:t}=e;return l.jsx($s,{children:t})},h6:e=>{let{children:t}=e;return l.jsx($s,{children:t})},blockquote:e=>{let{children:t}=e;return l.jsx($s,{children:t})},code:e=>{let{children:t}=e;return l.jsx($s,{children:t})}},list:{bullet:e=>{let{children:t}=e;return t},number:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},listItem:{bullet:e=>{let{children:t}=e;return l.jsx($s,{children:t})},number:e=>{let{children:t}=e;return l.jsx($s,{children:t})},checkmarks:e=>{let{children:t}=e;return l.jsx($s,{children:t})}},marks:{strong:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},em:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},code:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},underline:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},strikeThrough:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})},link:e=>{let{children:t}=e;return l.jsx(l.Fragment,{children:t})}},types:{mention:e=>{var t;return l.jsx(TRe,{userId:(t=e==null?void 0:e.value)==null?void 0:t.userId,selected:!1})}}};function UEn(e){const{blocks:t}=e;return l.jsx(zEn,{children:l.jsx(x_n,{value:t||VEn,components:HEn})})}const WEn=Dve({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),qEn=Dve({type:"block",name:"block",of:[WEn],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),YEn=NMe({type:"array",name:"body",of:[qEn]}),GEn=K8.compile({name:"comments",types:[YEn]}),KEn=GEn.get("body"),ZEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),QEn=h.forwardRef(function(t,n){return l.jsxs("svg",{"data-sanity-icon":"add-comment",fill:"none",height:"1em",ref:n,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...t,children:[l.jsx("path",{d:"M12.3368 5.97917H6.89453C5.78996 5.97917 4.89453 6.8746 4.89453 7.97917V13.4881C4.89453 14.5926 5.78996 15.4881 6.89453 15.4881H8.69808V19.2916L12.5016 15.4881H16.207C17.3115 15.4881 18.207 14.5926 18.207 13.4881V11.7158",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),l.jsx("path",{d:"M18.2081 2.08333V9.87058M14.3145 5.97695H22.1017",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),JEn=h.forwardRef(function(t,n){return l.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:n,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:l.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})});function ARe(e){const t=h.useRef(e);return h.useMemo(()=>!Ut(t.current,e),[e])}function EC(e){return e?e==null?void 0:e.some(t=>{var n;return Uf(t)&&((n=(t==null?void 0:t.children)||[])==null?void 0:n.some(r=>Ks(r)?r.text:r.userId))}):!1}const DRe=re.createContext(null);function ekn(e){const{children:t,expandOnFocus:n=!1,focused:r,focusOnMount:o=!1,mentionOptions:i,onMentionMenuOpenChange:s,value:a,readOnly:c}=e,u=wo(),[d,f]=h.useState(!1),[p,m]=h.useState(""),[v,g]=h.useState(null),b=h.useMemo(()=>EC(a),[a]),x=ARe(a),y=h.useCallback(()=>{c||Ce.focus(u)},[u,c]),w=h.useCallback(()=>{f(!1),m(""),g(null)},[]),C=h.useCallback(()=>{f(!0),m(""),f(!0),g(Ce.getSelection(u))},[u]),_=h.useCallback(k=>{const T=Ce.getSelection(u),A=T?T.focus.offset:0,D=Ce.focusChild(u),I=Ks(D)&&D||void 0,O=k.inputType==="insertText",$=k.inputType==="deleteContentBackward",R=O&&k.data==="@",z=(I==null?void 0:I.text.substring(0,A).lastIndexOf("@"))||0,B=(I==null?void 0:I.text.substring(A-1,A))===" ",U=O&&k.data===" "&&!p;if(R&&(A<1||B)){C();return}if(U||$&&((I==null?void 0:I.text.length)===1||z===((I==null?void 0:I.text.length)||0)-1)){w();return}if(Ks(D)){let W=D.text.substring(z+1,A);O&&(W+=k.data),$&&(W=W.substring(0,W.length-1)),m(W)}},[w,u,p,C]),S=h.useCallback(()=>{f(!0),Ce.focus(u),Ce.insertChild(u,u.schemaTypes.span,{text:"@"}),g(Ce.getSelection(u))},[u]);Bi(d,()=>s==null?void 0:s(d));const E=h.useCallback(k=>{var T;const A=u.schemaTypes.inlineObjects.find(O=>O.name==="mention"),[D,I]=v&&Ce.findByPath(u,v.focus.path)||[];if(D&&Ks(D)&&I&&A){Ce.focus(u);const O=(T=Ce.getSelection(u))==null?void 0:T.focus.offset;typeof O<"u"&&(Ce.delete(u,{anchor:{path:I,offset:D.text.lastIndexOf("@")},focus:{path:I,offset:O}},{mode:"selected"}),Ce.insertChild(u,A,{userId:k}),Ce.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),j=h.useMemo(()=>({canSubmit:b,closeMentions:w,editor:u,expandOnFocus:n,focused:r,focusEditor:y,focusOnMount:o,hasChanges:x,insertAtChar:S,insertMention:E,mentionOptions:i,mentionsMenuOpen:d,mentionsSearchTerm:p,onBeforeInput:_,openMentions:C,readOnly:!!c,value:a}),[b,w,u,n,r,y,o,x,S,E,i,d,p,_,C,c,a]);return l.jsx(DRe.Provider,{value:j,children:t})}function IRe(){const e=h.useContext(DRe);if(!e)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return e}var ppe=Object.freeze,tkn=Object.defineProperty,nkn=(e,t)=>ppe(tkn(e,"raw",{value:ppe(t||e.slice())})),mpe;const rkn=P(H)(mpe||(mpe=nkn([""]))),okn={width:"50%"};function ikn(e){const{user:t,onSelect:n}=e,[r]=u1(t.id),o=l.jsx(vD,{user:r,status:t.canBeMentioned?void 0:"inactive"}),i=r?l.jsx(L,{size:1,textOverflow:"ellipsis",title:r.displayName,children:r.displayName}):l.jsx(Oi,{size:1,style:okn}),s=h.useCallback(()=>{n(t.id)},[n,t.id]);return l.jsx(Q,{as:"button",disabled:!t.canBeMentioned,onClick:s,padding:2,radius:2,children:l.jsxs(H,{align:"center",gap:3,children:[l.jsxs(rkn,{align:"center",gap:2,flex:1,children:[o,l.jsx(M,{children:i})]}),!t.canBeMentioned&&l.jsx(IL,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const gpe=[],skn=P(ee)({maxWidth:"220px"}),vpe=41,akn=4,lkn=7,ckn=P(H)({maxHeight:vpe*lkn+akn*2+vpe/2}),ukn=re.forwardRef(function(t,n){const{loading:r,onSelect:o,options:i=[],inputElement:s}=t,[a,c]=h.useState(""),u=h.useRef(null);h.useImperativeHandle(n,()=>({setSearchTerm(v){c(v)}}),[]);const d=h.useCallback(v=>l.jsx(ikn,{user:v,onSelect:o}),[o]),f=h.useCallback(v=>{var g;return!((g=i==null?void 0:i[v])!=null&&g.canBeMentioned)},[i]),p=h.useMemo(()=>{var v;if(!a)return i||gpe;const g=eK(a).toLocaleLowerCase(),b=i==null?void 0:i.map(y=>({...y,displayName:eK(y.displayName||"").toLocaleLowerCase()}));return((v=b==null?void 0:b.filter(y=>{var w;return(w=y==null?void 0:y.displayName)==null?void 0:w.includes(g)}))==null?void 0:v.sort((y,w)=>{var C,_;const S=(C=y.displayName)==null?void 0:C.startsWith(g),E=(_=w.displayName)==null?void 0:_.startsWith(g);return S&&!E?-1:!S&&E?1:0}))||gpe},[i,a]);if(r)return l.jsx(skn,{children:l.jsx(H,{align:"center",justify:"center",padding:4,children:l.jsx(hr,{muted:!0,size:1})})});const m=s||void 0;return l.jsxs(H,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[p.length===0&&l.jsx(M,{padding:5,children:l.jsx(L,{align:"center",size:1,muted:!0,children:"No users found"})}),p.length>0&&l.jsx(ckn,{direction:"column",flex:1,overflow:"hidden",children:l.jsx(uh,{activeItemDataAttr:"data-hovered",ariaLabel:"List of users to mention",fixedHeight:!0,getItemDisabled:f,inputElement:m,itemHeight:41,items:p,padding:1,ref:u,renderItem:d})})]})}),dkn=e=>{const{children:t}=e;return l.jsx($s,{children:t})},fkn=e=>{const{children:t,value:n,selected:r}=e;return n._type==="mention"&&n.userId?l.jsx(TRe,{selected:r,userId:n==null?void 0:n.userId}):t},hkn={passive:!0};function pkn(e){const{disabled:t,rootElement:n}=e,[r,o]=h.useState(null),i=h.useMemo(()=>r?{getBoundingClientRect:()=>r}:null,[r]),s=h.useCallback(()=>{if(t){o(null);return}const a=window.getSelection();if(!a||!a.isCollapsed||a.rangeCount===0)return;const c=a.getRangeAt(0);if(!(n==null?void 0:n.contains(c.commonAncestorContainer))){o(null);return}const d=c==null?void 0:c.getBoundingClientRect();d&&o(d)},[t,n]);return h.useEffect(()=>(document.addEventListener("selectionchange",s,hkn),()=>{document.removeEventListener("selectionchange",s)}),[s]),i}var ype=Object.freeze,mkn=Object.defineProperty,dz=(e,t)=>ype(mkn(e,"raw",{value:ype(t||e.slice())})),bpe,xpe,wpe;const gkn={outline:"none"},vkn=P(ee)(()=>de(bpe||(bpe=dz([`
    & > div:first-child {
      [data-slate-node='element']:not(:last-child) {
        margin-bottom: 1em; // todo: improve
      }
    }
  `])))),ykn=P.span(()=>de(xpe||(xpe=dz([`
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `])))),bkn=P(rn)(e=>{let{theme:t}=e;const{space:n,radius:r}=t.sanity;return de(wpe||(wpe=dz([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),n[1],n[1],r[3])});function xkn(e){const{focusLock:t,placeholder:n="Create a new comment",onFocus:r,onBlur:o,onKeyDown:i,onSubmit:s}=e,[a,c]=h.useState(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=q0(),{canSubmit:m,closeMentions:v,insertMention:g,mentionOptions:b,mentionsMenuOpen:x,mentionsSearchTerm:y,onBeforeInput:w,value:C}=IRe(),_=h.useCallback(()=>l.jsx(ykn,{children:n}),[n]);dr(h.useCallback(()=>{x&&v()},[v,x]),[a]),h.useEffect(()=>{var k;(k=f.current)==null||k.setSearchTerm(y)},[y]),h.useEffect(()=>{x&&p&&!Ut(p.anchor,p.focus)&&v()},[x,v,p]),rs(k=>{k.code==="Escape"&&x&&v()});const S=pkn({disabled:!x,rootElement:u.current}),E=h.useCallback(k=>{switch(k.key){case"Enter":if(k.shiftKey)break;if(k.preventDefault(),k.stopPropagation(),x){v();break}s&&m&&s();break;case"Escape":case"ArrowLeft":case"ArrowRight":x&&(k.preventDefault(),k.stopPropagation(),v());break}i&&i(k)},[m,v,x,i,s]),j=h.useMemo(()=>{if(p)return;const k=(C||[]).slice(-1)[0],T=Uf(k)?k.children.slice(-1)[0]:void 0;if(!T)return;const A={path:[{_key:k._key},"children",{_key:T._key}],offset:Ks(T)?T.text.length:0};return{focus:A,anchor:A}},[C,p]);return l.jsxs(l.Fragment,{children:[l.jsx(ad,{element:u.current,children:l.jsx(bkn,{arrow:!1,constrainSize:!0,content:l.jsx(ukn,{ref:f,loading:b.loading,onSelect:g,options:b.data||[],inputElement:d.current}),disabled:!x,fallbackPlacements:["bottom","top"],open:x,placement:"bottom",portal:!0,ref:c,referenceElement:S})}),l.jsx(vkn,{ref:u,"data-ui":"EditableWrapStack",children:l.jsx(vje,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:w,onBlur:o,onFocus:r,onKeyDown:E,ref:d,renderBlock:dkn,renderChild:fkn,renderPlaceholder:_,selection:j,style:gkn,tabIndex:t?0:void 0})})]})}var Cpe=Object.freeze,wkn=Object.defineProperty,fz=(e,t)=>Cpe(wkn(e,"raw",{value:Cpe(t||e.slice())})),_pe,Spe,Epe;const ZS=P(M)(_pe||(_pe=fz([`
  max-height: 20vh;
  overflow-y: auto;
`]))),Ckn=P($r)({height:20,width:1}),kpe=P(oe).attrs({fontSize:1,padding:2})(Spe||(Spe=fz([`
  /* border-radius: 50%; */
`]))),_kn=P(Q)(e=>{let{theme:t}=e;const n=t.sanity.radius[2];return de(Epe||(Epe=fz([`
    border-radius: `,`px;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
  `])),n,ZS,ZS,ZS)});function Skn(e){const{currentUser:t,focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a,withAvatar:c}=e,[u]=u1(t.id),{canSubmit:d,expandOnFocus:f,focused:p,hasChanges:m,insertAtChar:v,openMentions:g,readOnly:b}=IRe(),x=c?l.jsx(vD,{user:u}):null,y=h.useCallback(w=>{w.stopPropagation(),v(),g()},[v,g]);return l.jsxs(H,{align:"flex-start",gap:2,children:[x,l.jsx(_kn,{"data-expand-on-focus":f&&!d?"true":"false","data-focused":p?"true":"false",flex:1,shadow:1,sizing:"border",tone:b?"transparent":"default",children:l.jsxs(ee,{children:[l.jsx(ZS,{paddingX:1,paddingY:2,sizing:"border",children:l.jsx(xkn,{focusLock:n,onBlur:r,onFocus:o,onKeyDown:i,onSubmit:s,placeholder:a})}),l.jsxs(H,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:[l.jsx(kpe,{"aria-label":"Mention user","data-testid":"comment-mention-button",disabled:b,icon:XEn,mode:"bleed",onClick:y}),l.jsx(Ckn,{}),l.jsx(kpe,{"aria-label":"Send comment",disabled:!d||!m||b,icon:ZEn,mode:m&&d?"default":"bleed",onClick:s,tone:m&&d?"primary":"default"})]})]})})]})}const Ekn=9999999;function kkn(e){const{onClose:t,onConfirm:n}=e,r=Jf(),o=h.useCallback(s=>{s.stopPropagation(),t()},[t]),i=h.useCallback(s=>{s.stopPropagation(),n()},[n]);return l.jsx(Cwe,{tone:"default",children:l.jsx(ad,{__unstable_elements:{boundary:r.element},children:l.jsx(h$,{zOffset:Ekn,children:l.jsx(Mi,{portal:"boundary",header:"Discard comment?",id:"discard-comment-dialog",onClose:t,width:0,onClickOutside:t,footer:l.jsxs(nn,{columns:2,padding:2,gap:2,children:[l.jsx(oe,{text:"Cancel",mode:"ghost",onClick:o}),l.jsx(oe,{onClick:i,text:"Discard",tone:"critical"})]}),children:l.jsx(ee,{padding:4,children:l.jsx(L,{children:"Do you want to discard the comment?"})})})})})})}const uP=[],jkn={behavior:"smooth",block:"center",inline:"center"},yD=h.forwardRef(function(t,n){const{currentUser:r,expandOnFocus:o,focusLock:i=!1,focusOnMount:s,mentionOptions:a,onBlur:c,onChange:u,onDiscardCancel:d,onDiscardConfirm:f,onFocus:p,onKeyDown:m,onMentionMenuOpenChange:v,onSubmit:g,placeholder:b,readOnly:x,value:y=uP,withAvatar:w=!0}=t,[C,_]=h.useState(!1),S=h.useRef(null),E=h.useRef(null),[j,k]=h.useState(!1),T=h.useRef(null),A=h.useRef(null),D=h.useRef(null),[I,O]=h.useState(Gk()),$=h.useCallback(()=>{requestAnimationFrame(()=>{S.current&&Ce.focus(S.current)})},[]),R=h.useCallback(()=>{O(Gk())},[]),z=h.useCallback(te=>{if(te.type==="ready"&&s&&$(),te.type==="focus"&&_(!0),te.type==="blur"&&_(!1),te.type==="patch"&&S.current){const N=Ce.getValue(S.current);u(N||uP)}},[s,u,$]),B=h.useCallback(()=>{var te;(te=E.current)==null||te.scrollIntoView(jkn)},[]),U=h.useCallback(()=>{g(),R(),$(),B()},[g,$,R,B]),W=h.useCallback(()=>{f(),R()},[f,R]),V=h.useMemo(()=>({open:()=>{k(!0)},close:()=>{k(!1),$()}}),[$]);h.useImperativeHandle(n,()=>({focus:$,blur(){S.current&&Ce.blur(S.current)},scrollTo:B,reset:R,discardDialogController:V}),[V,$,R,B]);const K=h.useCallback(te=>{if(!i)return;const N=te.target,G=D.current;if(G&&N===T.current){RL(G);return}G&&N===A.current&&Hp(G)},[i]);return l.jsxs(l.Fragment,{children:[j&&l.jsx(kkn,{onClose:d,onConfirm:W}),l.jsx(ee,{ref:E,"data-testid":"comment-input",onFocus:K,children:l.jsx(Ce,{onChange:z,readOnly:x,ref:S,schemaType:KEn,value:y||uP,children:l.jsxs(ekn,{expandOnFocus:o,focused:C,focusOnMount:s,mentionOptions:a,onMentionMenuOpenChange:v,readOnly:x,value:y,children:[i&&l.jsx("div",{ref:T,tabIndex:0}),l.jsx(ee,{ref:D,children:l.jsx(Skn,{currentUser:r,focusLock:i,onBlur:c,onFocus:p,onKeyDown:m,onSubmit:U,placeholder:b,withAvatar:w})}),i&&l.jsx("div",{ref:A,tabIndex:0})]})},I)})]})}),dP=3;var jpe=Object.freeze,Tkn=Object.defineProperty,Akn=(e,t)=>jpe(Tkn(e,"raw",{value:jpe(t||e.slice())})),Tpe;const Dkn={open:500},Ikn=P(L)(Tpe||(Tpe=Akn([`
  min-width: max-content;
`])));function Okn(e){const{children:t,text:n}=e;return l.jsx(it,{delay:Dkn,portal:!0,placement:"top",content:l.jsx(Ikn,{size:1,children:n}),padding:2,children:l.jsx(H,{children:t})})}var Ape=Object.freeze,Pkn=Object.defineProperty,Rkn=(e,t)=>Ape(Pkn(e,"raw",{value:Ape(t||e.slice())})),Dpe;const $kn={open:500},Mkn={placement:"bottom-end",portal:!1},Fkn=P(Q)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(Dpe||(Dpe=Rkn([`
    gap: `,`px;
    padding: `,`px;

    &:empty {
      display: none;
    }
  `])),n[1]/2,n[1]/2)});function Lkn(e){const{canDelete:t,canEdit:n,isParent:r,onCopyLink:o,onDeleteStart:i,onEditStart:s,onMenuClose:a,onMenuOpen:c,onStatusChange:u,readOnly:d,status:f,...p}=e,m=!!(o||i||s);return l.jsx(qwe,{delay:$kn,children:l.jsx(H,{"data-root-menu":r?"true":"false",...p,children:l.jsxs(Fkn,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[r&&l.jsx(Okn,{text:f==="open"?"Mark as resolved":"Re-open",children:l.jsx(oe,{"aria-label":"Mark comment as resolved",disabled:d,fontSize:1,icon:f==="open"?uj:rE,mode:"bleed",onClick:u,padding:2})}),l.jsx(on,{id:"comment-actions-menu",button:l.jsx(oe,{"aria-label":"Open comment actions menu",disabled:d,fontSize:1,hidden:!m,icon:Io,mode:"bleed",padding:2}),onOpen:c,onClose:a,menu:l.jsxs(Nt,{children:[l.jsx(ze,{fontSize:1,hidden:!n,icon:Ou,onClick:s,text:"Edit comment"}),l.jsx(ze,{fontSize:1,hidden:!t,icon:yo,onClick:i,text:"Delete comment",tone:"critical"}),l.jsx($r,{hidden:!t&&!n}),l.jsx(ze,{fontSize:1,hidden:!o,icon:jf,onClick:o,text:"Copy link to comment"})]}),popover:Mkn})]})})})}var Ipe=Object.freeze,Bkn=Object.defineProperty,h1=(e,t)=>Ipe(Bkn(e,"raw",{value:Ipe(t||e.slice())})),Ope,Ppe,Rpe,$pe,Mpe,Fpe;const zy=P(os)(Ope||(Ope=h1([""])));function Nkn(e){const{children:t}=e,n=h.useCallback(r=>{r.stopPropagation()},[]);return l.jsx(zy,{onClick:n,children:t})}const zkn={width:"50%"},Lpe=P(L)(e=>{let{theme:t}=e;const n=t.sanity.color.dark,r=fe.gray[n?200:800].hex;return de(Ppe||(Ppe=h1([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),r)}),Vkn=P(ee)(Rpe||(Rpe=h1([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),Hkn=P(H)($pe||($pe=h1([`
  min-height: `,`px;
`])),jRe),Ukn=P(Q)(Mpe||(Mpe=h1([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),Wkn=P(ee)(e=>{let{theme:t}=e;const{space:n}=t.sanity;return de(Fpe||(Fpe=h1([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;

        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),zy,n[1],n[1],zy,zy,zy)}),qkn={agoSuffix:!0};function Bpe(e){const{canDelete:t,canEdit:n,comment:r,currentUser:o,hasError:i,isParent:s,isRetrying:a,mentionOptions:c,onCopyLink:u,onCreateRetry:d,onDelete:f,onEdit:p,onInputKeyDown:m,onStatusChange:v,readOnly:g}=e,{_createdAt:b,authorId:x,message:y,_id:w,lastEditedAt:C}=r,[_]=u1(x),[S,E]=h.useState(y),[j,k]=h.useState(!1),[T,A]=h.useState(null),D=h.useRef(y),[I,O]=h.useState(!1),$=ARe(S),R=h.useMemo(()=>EC(S),[S]),z=h.useRef(null),B=b?new Date(b):new Date,U=Qo(B,qkn),W=Jo(B,"PPPPp"),V=C?Jo(new Date(C),"PPPPp"):null,K=i||a,te=h.useCallback(()=>O(!0),[]),N=h.useCallback(()=>O(!1),[]),G=h.useCallback(()=>u==null?void 0:u(w),[w,u]),q=h.useCallback($e=>{$e.stopPropagation(),d==null||d(w)},[w,d]),Z=h.useCallback(()=>f(w),[w,f]),ie=h.useCallback(()=>{k(!1),E(D.current)},[]),ne=h.useCallback(()=>{var $e;if(!R||!$){ie();return}($e=z.current)==null||$e.discardDialogController.open()},[ie,$,R]),Y=h.useCallback($e=>{$e.isDefaultPrevented()||($e.key==="Escape"&&($e.preventDefault(),$e.stopPropagation(),ne()),m&&m($e))},[m,ne]),X=h.useCallback(()=>{var $e;($e=z.current)==null||$e.discardDialogController.close()},[]),ae=h.useCallback(()=>{var $e;($e=z.current)==null||$e.discardDialogController.close(),ie()},[ie]),he=h.useCallback(()=>{p(w,{message:S}),k(!1)},[w,p,S]),ce=h.useCallback(()=>{v==null||v(w,r.status==="open"?"resolved":"open")},[w,r.status,v]),xe=h.useCallback(()=>{k($e=>!$e)},[]),Se=h.useCallback(()=>O(!1),[]),pe=h.useCallback(()=>{$||ie()},[ie,$]),be=h.useCallback($e=>{$e.key==="Escape"&&!$&&ie()},[ie,$]);Bi(j,Se),dr(pe,[T]);const Be=_!=null&&_.displayName?l.jsx(L,{size:1,weight:"semibold",textOverflow:"ellipsis",title:_.displayName,children:_.displayName}):l.jsx(Oi,{size:1,style:zkn});return l.jsxs(Wkn,{"data-menu-open":I?"true":"false",onKeyDown:be,ref:A,space:4,children:[l.jsxs(Vkn,{space:1,"data-muted":K,children:[l.jsxs(H,{align:"center",gap:dP,flex:1,children:[l.jsx(vD,{user:_}),l.jsx(H,{align:"center",paddingBottom:1,sizing:"border",flex:1,children:l.jsxs(H,{align:"flex-end",gap:2,children:[l.jsx(M,{flex:1,children:Be}),!K&&l.jsxs(H,{align:"center",gap:1,children:[l.jsx(Lpe,{muted:!0,size:0,title:W,children:U}),V&&l.jsx(Lpe,{muted:!0,size:0,title:V,children:"(edited)"})]})]})}),!j&&!K&&l.jsx(Nkn,{children:l.jsx(Lkn,{canDelete:t,canEdit:n,isParent:s,onCopyLink:G,onDeleteStart:Z,onEditStart:xe,onMenuClose:N,onMenuOpen:te,onStatusChange:ce,readOnly:g,status:r.status})})]}),j&&l.jsxs(H,{align:"flex-start",gap:2,children:[l.jsx(KS,{}),l.jsx(ee,{flex:1,children:l.jsx(yD,{currentUser:o,focusOnMount:!0,mentionOptions:c,onChange:E,onDiscardCancel:X,onDiscardConfirm:ae,onKeyDown:Y,onSubmit:he,readOnly:g,ref:z,value:S,withAvatar:!1})})]}),!j&&l.jsxs(H,{gap:dP,children:[l.jsx(KS,{}),l.jsx(UEn,{blocks:y})]})]}),K&&l.jsxs(Hkn,{gap:dP,children:[l.jsx(KS,{}),l.jsxs(H,{align:"center",gap:1,flex:1,children:[l.jsxs(L,{muted:!0,size:1,children:[i&&"Failed to send.",a&&"Posting..."]}),l.jsx(H,{hidden:a,children:l.jsx(Ukn,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:q,padding:1,radius:2,tone:"primary",children:l.jsx(L,{size:1,muted:!0,children:"Retry"})})})]})]})]})}var Npe=Object.freeze,Ykn=Object.defineProperty,Gkn=(e,t)=>Npe(Ykn(e,"raw",{value:Npe(t||e.slice())})),zpe;const ORe=P(Q).attrs(e=>{let{tone:t}=e;return{padding:3,radius:3,sizing:"border",tone:t||"transparent"}})(zpe||(zpe=Gkn([`
  // ...
`])));var Vpe=Object.freeze,Kkn=Object.defineProperty,hz=(e,t)=>Vpe(Kkn(e,"raw",{value:Vpe(t||e.slice())})),Hpe,Upe,Wpe;const hy=[],py=5,Zkn=P(ORe)(e=>{let{theme:t}=e;const{hovered:n}=t.sanity.color.button.bleed.default;return de(Hpe||(Hpe=hz([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 3px var(--card-focus-ring-color);
    }

    // When hovering over the thread root we want to display the parent comments menu.
    // The data-root-menu attribute is used to target the menu and is applied in
    // the CommentsListItemLayout component.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &:hover {
          --card-bg-color: `,`;

          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])),n.bg2)}),Xkn=P(oe)(e=>{let{theme:t}=e;const{medium:n}=t.sanity.fonts.text.weights;return de(Upe||(Upe=hz([`
    font-weight: `,`;
  `])),n)}),Qkn=P(oe)(Wpe||(Wpe=hz([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),Jkn=re.memo(function(t){var n,r;const{canReply:o,currentUser:i,isSelected:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onKeyDown:p,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:b,readOnly:x,replies:y=hy}=t,[w,C]=h.useState(hy),[_,S]=h.useState(!0),E=h.useRef(!1),j=h.useRef(null),k=h.useMemo(()=>EC(w),[w]),T=h.useCallback(()=>{const V={fieldPath:b.target.path.field,message:w,parentCommentId:b._id,status:(b==null?void 0:b.status)||"open",threadId:b.threadId};v==null||v(V),C(hy)},[v,b._id,b==null?void 0:b.status,b.target.path.field,b.threadId,w]),A=h.useCallback(()=>{var V;if(!k){C(hy);return}(V=j.current)==null||V.discardDialogController.open()},[k]),D=h.useCallback(V=>{V.isDefaultPrevented()||V.key==="Escape"&&(V.preventDefault(),V.stopPropagation(),A())},[A]),I=h.useCallback(()=>{var V;(V=j.current)==null||V.discardDialogController.close()},[]),O=h.useCallback(()=>{var V,K;C(hy),(V=j.current)==null||V.discardDialogController.close(),(K=j.current)==null||K.focus()},[]),$=h.useCallback(V=>{V.stopPropagation(),m==null||m({fieldPath:b.target.path.field,origin:"inspector",threadId:b.threadId})},[m,b.target.path.field,b.threadId]),R=h.useCallback(V=>{V.stopPropagation(),S(!1),E.current=!0},[]),z=h.useMemo(()=>_?y==null?void 0:y.slice(-py):y,[y,_]),B=h.useMemo(()=>y?y.length>py:!1,[y]),U=h.useMemo(()=>"".concat((y==null?void 0:y.length)-py," more ").concat((y==null?void 0:y.length)-py===1?"comment":"comments"),[y==null?void 0:y.length]);h.useEffect(()=>{y.length>py&&!E.current&&S(!0)},[y]);const W=h.useMemo(()=>z.map(V=>{var K,te;return l.jsx(ee,{as:"li","data-comment-id":V._id,children:l.jsx(Bpe,{canDelete:V.authorId===i.id,canEdit:V.authorId===i.id,comment:V,currentUser:i,hasError:((K=V._state)==null?void 0:K.type)==="createError",isRetrying:((te=V._state)==null?void 0:te.type)==="createRetrying",mentionOptions:a,onInputKeyDown:D,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,readOnly:x})},V._id)}),[i,D,a,c,u,d,f,x,z]);return l.jsx(ee,{space:2,children:l.jsxs(Zkn,{"data-active":s?"true":"false",onClick:$,tone:s?"primary":void 0,children:[l.jsx(Qkn,{"data-ui":"GhostButton","aria-label":"Go to field"}),l.jsxs(ee,{as:"ul",paddingBottom:o?void 0:1,space:4,children:[l.jsx(ee,{as:"li","data-comment-id":b._id,children:l.jsx(Bpe,{canDelete:b.authorId===i.id,canEdit:b.authorId===i.id,comment:b,currentUser:i,hasError:((n=b._state)==null?void 0:n.type)==="createError",isParent:!0,isRetrying:((r=b._state)==null?void 0:r.type)==="createRetrying",mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onInputKeyDown:p,onStatusChange:g,readOnly:x})}),B&&!E.current&&l.jsxs(H,{gap:1,paddingY:1,sizing:"border",children:[l.jsx(KS,{}),l.jsx(Xkn,{fontSize:1,iconRight:Ja,mode:"bleed",onClick:R,padding:2,space:2,text:U})]}),W,o&&l.jsx(yD,{currentUser:i,expandOnFocus:!0,mentionOptions:a,onChange:C,onDiscardCancel:I,onDiscardConfirm:O,onKeyDown:D,onSubmit:T,placeholder:"Reply",readOnly:x,ref:j,value:w})]})]})})}),e5n={close:0,open:500},qpe=l.jsx(L,{muted:!0,children:l.jsx(Ic,{})}),fP=(e,t)=>l.jsx(M,{as:"li",children:l.jsx(L,{textOverflow:"ellipsis",size:1,weight:"semibold",children:e})},"".concat(e,"-").concat(t));function t5n(e){const{titlePath:t,maxLength:n}=e,r=h.useMemo(()=>{const i=t.length,s=Math.ceil(n/2),a=Math.floor(n/2);return n&&i>n?[...t.slice(0,s-1),t.slice(s-1,i-a),...t.slice(i-a)]:t},[n,t]),o=h.useMemo(()=>r.map((i,s)=>{const a="".concat(i,"-").concat(s),c=s<r.length-1;return Array.isArray(i)?l.jsxs(h.Fragment,{children:[l.jsx(it,{delay:e5n,content:l.jsx(ee,{space:2,padding:2,children:i.map(fP)}),children:l.jsx(M,{children:fP("...",s)})}),c&&qpe]},a):l.jsxs(h.Fragment,{children:[fP(i,s),c&&qpe]},a)}),[r]);return l.jsx(H,{align:"center",as:"ol",gap:2,children:o})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const n5n=4,Ype=0,Gpe=1,r5n=2;function p1(e){let t=e.length;for(;--t>=0;)e[t]=0}const o5n=0,PRe=1,i5n=2,s5n=3,a5n=258,pz=29,kC=256,Yx=kC+1+pz,kv=30,mz=19,RRe=2*Yx+1,hp=15,hP=16,l5n=7,gz=256,$Re=16,MRe=17,FRe=18,oF=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),XS=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),c5n=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),LRe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u5n=512,du=new Array((Yx+2)*2);p1(du);const Ib=new Array(kv*2);p1(Ib);const Gx=new Array(u5n);p1(Gx);const Kx=new Array(a5n-s5n+1);p1(Kx);const vz=new Array(pz);p1(vz);const B5=new Array(kv);p1(B5);function pP(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}let BRe,NRe,zRe;function mP(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const VRe=e=>e<256?Gx[e]:Gx[256+(e>>>7)],Zx=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},_s=(e,t,n)=>{e.bi_valid>hP-n?(e.bi_buf|=t<<e.bi_valid&65535,Zx(e,e.bi_buf),e.bi_buf=t>>hP-e.bi_valid,e.bi_valid+=n-hP):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},hc=(e,t,n)=>{_s(e,n[t*2],n[t*2+1])},HRe=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},d5n=e=>{e.bi_valid===16?(Zx(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},f5n=(e,t)=>{const n=t.dyn_tree,r=t.max_code,o=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,d,f,p,m,v,g=0;for(p=0;p<=hp;p++)e.bl_count[p]=0;for(n[e.heap[e.heap_max]*2+1]=0,u=e.heap_max+1;u<RRe;u++)d=e.heap[u],p=n[n[d*2+1]*2+1]+1,p>c&&(p=c,g++),n[d*2+1]=p,!(d>r)&&(e.bl_count[p]++,m=0,d>=a&&(m=s[d-a]),v=n[d*2],e.opt_len+=v*(p+m),i&&(e.static_len+=v*(o[d*2+1]+m)));if(g!==0){do{for(p=c-1;e.bl_count[p]===0;)p--;e.bl_count[p]--,e.bl_count[p+1]+=2,e.bl_count[c]--,g-=2}while(g>0);for(p=c;p!==0;p--)for(d=e.bl_count[p];d!==0;)f=e.heap[--u],!(f>r)&&(n[f*2+1]!==p&&(e.opt_len+=(p-n[f*2+1])*n[f*2],n[f*2+1]=p),d--)}},URe=(e,t,n)=>{const r=new Array(hp+1);let o=0,i,s;for(i=1;i<=hp;i++)o=o+n[i-1]<<1,r[i]=o;for(s=0;s<=t;s++){let a=e[s*2+1];a!==0&&(e[s*2]=HRe(r[a]++,a))}},h5n=()=>{let e,t,n,r,o;const i=new Array(hp+1);for(n=0,r=0;r<pz-1;r++)for(vz[r]=n,e=0;e<1<<oF[r];e++)Kx[n++]=r;for(Kx[n-1]=r,o=0,r=0;r<16;r++)for(B5[r]=o,e=0;e<1<<XS[r];e++)Gx[o++]=r;for(o>>=7;r<kv;r++)for(B5[r]=o<<7,e=0;e<1<<XS[r]-7;e++)Gx[256+o++]=r;for(t=0;t<=hp;t++)i[t]=0;for(e=0;e<=143;)du[e*2+1]=8,e++,i[8]++;for(;e<=255;)du[e*2+1]=9,e++,i[9]++;for(;e<=279;)du[e*2+1]=7,e++,i[7]++;for(;e<=287;)du[e*2+1]=8,e++,i[8]++;for(URe(du,Yx+1,i),e=0;e<kv;e++)Ib[e*2+1]=5,Ib[e*2]=HRe(e,5);BRe=new pP(du,oF,kC+1,Yx,hp),NRe=new pP(Ib,XS,0,kv,hp),zRe=new pP(new Array(0),c5n,0,mz,l5n)},WRe=e=>{let t;for(t=0;t<Yx;t++)e.dyn_ltree[t*2]=0;for(t=0;t<kv;t++)e.dyn_dtree[t*2]=0;for(t=0;t<mz;t++)e.bl_tree[t*2]=0;e.dyn_ltree[gz*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},qRe=e=>{e.bi_valid>8?Zx(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Kpe=(e,t,n,r)=>{const o=t*2,i=n*2;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]},gP=(e,t,n)=>{const r=e.heap[n];let o=n<<1;for(;o<=e.heap_len&&(o<e.heap_len&&Kpe(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!Kpe(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r},Zpe=(e,t,n)=>{let r,o,i=0,s,a;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+i++]&255,r+=(e.pending_buf[e.sym_buf+i++]&255)<<8,o=e.pending_buf[e.sym_buf+i++],r===0?hc(e,o,t):(s=Kx[o],hc(e,s+kC+1,t),a=oF[s],a!==0&&(o-=vz[s],_s(e,o,a)),r--,s=VRe(r),hc(e,s,n),a=XS[s],a!==0&&(r-=B5[s],_s(e,r,a)));while(i<e.sym_next);hc(e,gz,t)},iF=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,a,c=-1,u;for(e.heap_len=0,e.heap_max=RRe,s=0;s<i;s++)n[s*2]!==0?(e.heap[++e.heap_len]=c=s,e.depth[s]=0):n[s*2+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[u*2]=1,e.depth[u]=0,e.opt_len--,o&&(e.static_len-=r[u*2+1]);for(t.max_code=c,s=e.heap_len>>1;s>=1;s--)gP(e,n,s);u=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],gP(e,n,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,n[u*2]=n[s*2]+n[a*2],e.depth[u]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,n[s*2+1]=n[a*2+1]=u,e.heap[1]=u++,gP(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],f5n(e,t),URe(n,c,e.bl_count)},Xpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)&&(a<u?e.bl_tree[i*2]+=a:i!==0?(i!==o&&e.bl_tree[i*2]++,e.bl_tree[$Re*2]++):a<=10?e.bl_tree[MRe*2]++:e.bl_tree[FRe*2]++,a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},Qpe=(e,t,n)=>{let r,o=-1,i,s=t[0*2+1],a=0,c=7,u=4;for(s===0&&(c=138,u=3),r=0;r<=n;r++)if(i=s,s=t[(r+1)*2+1],!(++a<c&&i===s)){if(a<u)do hc(e,i,e.bl_tree);while(--a!==0);else i!==0?(i!==o&&(hc(e,i,e.bl_tree),a--),hc(e,$Re,e.bl_tree),_s(e,a-3,2)):a<=10?(hc(e,MRe,e.bl_tree),_s(e,a-3,3)):(hc(e,FRe,e.bl_tree),_s(e,a-11,7));a=0,o=i,s===0?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}},p5n=e=>{let t;for(Xpe(e,e.dyn_ltree,e.l_desc.max_code),Xpe(e,e.dyn_dtree,e.d_desc.max_code),iF(e,e.bl_desc),t=mz-1;t>=3&&e.bl_tree[LRe[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},m5n=(e,t,n,r)=>{let o;for(_s(e,t-257,5),_s(e,n-1,5),_s(e,r-4,4),o=0;o<r;o++)_s(e,e.bl_tree[LRe[o]*2+1],3);Qpe(e,e.dyn_ltree,t-1),Qpe(e,e.dyn_dtree,n-1)},g5n=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return Ype;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Gpe;for(n=32;n<kC;n++)if(e.dyn_ltree[n*2]!==0)return Gpe;return Ype};let Jpe=!1;const v5n=e=>{Jpe||(h5n(),Jpe=!0),e.l_desc=new mP(e.dyn_ltree,BRe),e.d_desc=new mP(e.dyn_dtree,NRe),e.bl_desc=new mP(e.bl_tree,zRe),e.bi_buf=0,e.bi_valid=0,WRe(e)},YRe=(e,t,n,r)=>{_s(e,(o5n<<1)+(r?1:0),3),qRe(e),Zx(e,n),Zx(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},y5n=e=>{_s(e,PRe<<1,3),hc(e,gz,du),d5n(e)},b5n=(e,t,n,r)=>{let o,i,s=0;e.level>0?(e.strm.data_type===r5n&&(e.strm.data_type=g5n(e)),iF(e,e.l_desc),iF(e,e.d_desc),s=p5n(e),o=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=o&&(o=i)):o=i=n+5,n+4<=o&&t!==-1?YRe(e,t,n,r):e.strategy===n5n||i===o?(_s(e,(PRe<<1)+(r?1:0),3),Zpe(e,du,Ib)):(_s(e,(i5n<<1)+(r?1:0),3),m5n(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Zpe(e,e.dyn_ltree,e.dyn_dtree)),WRe(e),r&&qRe(e)},x5n=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(Kx[n]+kC+1)*2]++,e.dyn_dtree[VRe(t)*2]++),e.sym_next===e.sym_end);var w5n=v5n,C5n=YRe,_5n=b5n,S5n=x5n,E5n=y5n,k5n={_tr_init:w5n,_tr_stored_block:C5n,_tr_flush_block:_5n,_tr_tally:S5n,_tr_align:E5n};const j5n=(e,t,n,r)=>{let o=e&65535|0,i=e>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do o=o+t[r++]|0,i=i+o|0;while(--s);o%=65521,i%=65521}return o|i<<16|0};var Xx=j5n;const T5n=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},A5n=new Uint32Array(T5n()),D5n=(e,t,n,r)=>{const o=A5n,i=r+n;e^=-1;for(let s=r;s<i;s++)e=e>>>8^o[(e^t[s])&255];return e^-1};var Ro=D5n,im={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},zm={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:I5n,_tr_stored_block:sF,_tr_flush_block:O5n,_tr_tally:wf,_tr_align:P5n}=k5n,{Z_NO_FLUSH:Cf,Z_PARTIAL_FLUSH:R5n,Z_FULL_FLUSH:$5n,Z_FINISH:Oa,Z_BLOCK:eme,Z_OK:Zo,Z_STREAM_END:tme,Z_STREAM_ERROR:_c,Z_DATA_ERROR:M5n,Z_BUF_ERROR:vP,Z_DEFAULT_COMPRESSION:F5n,Z_FILTERED:L5n,Z_HUFFMAN_ONLY:_2,Z_RLE:B5n,Z_FIXED:N5n,Z_DEFAULT_STRATEGY:z5n,Z_UNKNOWN:V5n,Z_DEFLATED:bD}=zm,H5n=9,U5n=15,W5n=8,q5n=29,Y5n=256,aF=Y5n+1+q5n,G5n=30,K5n=19,Z5n=2*aF+1,X5n=15,Gt=3,sf=258,Sc=sf+Gt+1,Q5n=32,d0=42,yz=57,lF=69,cF=73,uF=91,dF=103,pp=113,Vy=666,Zi=1,m1=2,sm=3,g1=4,J5n=3,mp=(e,t)=>(e.msg=im[t],t),nme=e=>e*2-(e>4?9:0),zd=e=>{let t=e.length;for(;--t>=0;)e[t]=0},ejn=e=>{let t,n,r,o=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=o?n-o:0;while(--t);t=o,r=t;do n=e.prev[--r],e.prev[r]=n>=o?n-o:0;while(--t)};let tjn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,_f=tjn;const Ms=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Gs=(e,t)=>{O5n(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ms(e.strm)},mn=(e,t)=>{e.pending_buf[e.pending++]=t},my=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},fF=(e,t,n,r)=>{let o=e.avail_in;return o>r&&(o=r),o===0?0:(e.avail_in-=o,t.set(e.input.subarray(e.next_in,e.next_in+o),n),e.state.wrap===1?e.adler=Xx(e.adler,t,o,n):e.state.wrap===2&&(e.adler=Ro(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)},GRe=(e,t)=>{let n=e.max_chain_length,r=e.strstart,o,i,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-Sc?e.strstart-(e.w_size-Sc):0,u=e.window,d=e.w_mask,f=e.prev,p=e.strstart+sf;let m=u[r+s-1],v=u[r+s];e.prev_length>=e.good_match&&(n>>=2),a>e.lookahead&&(a=e.lookahead);do if(o=t,!(u[o+s]!==v||u[o+s-1]!==m||u[o]!==u[r]||u[++o]!==u[r+1])){r+=2,o++;do;while(u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&u[++r]===u[++o]&&r<p);if(i=sf-(p-r),r=p-sf,i>s){if(e.match_start=t,s=i,i>=a)break;m=u[r+s-1],v=u[r+s]}}while((t=f[t&d])>c&&--n!==0);return s<=e.lookahead?s:e.lookahead},f0=e=>{const t=e.w_size;let n,r,o;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Sc)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),ejn(e),r+=t),e.strm.avail_in===0)break;if(n=fF(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Gt)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=_f(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=_f(e,e.ins_h,e.window[o+Gt-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<Gt)););}while(e.lookahead<Sc&&e.strm.avail_in!==0)},KRe=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,o,i,s=0,a=e.strm.avail_in;do{if(r=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,o=e.strstart-e.block_start,r>o+e.strm.avail_in&&(r=o+e.strm.avail_in),r>i&&(r=i),r<n&&(r===0&&t!==Oa||t===Cf||r!==o+e.strm.avail_in)))break;s=t===Oa&&r===o+e.strm.avail_in?1:0,sF(e,0,0,s),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,Ms(e.strm),o&&(o>r&&(o=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+o),e.strm.next_out),e.strm.next_out+=o,e.strm.avail_out-=o,e.strm.total_out+=o,e.block_start+=o,r-=o),r&&(fF(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(s===0);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?g1:t!==Cf&&t!==Oa&&e.strm.avail_in===0&&e.strstart===e.block_start?m1:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(fF(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,n=i>e.w_size?e.w_size:i,o=e.strstart-e.block_start,(o>=n||(o||t===Oa)&&t!==Cf&&e.strm.avail_in===0&&o<=i)&&(r=o>i?i:o,s=t===Oa&&e.strm.avail_in===0&&r===o?1:0,sF(e,e.block_start,r,s),e.block_start+=r,Ms(e.strm)),s?sm:Zi)},yP=(e,t)=>{let n,r;for(;;){if(e.lookahead<Sc){if(f0(e),e.lookahead<Sc&&t===Cf)return Zi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Gt&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+Gt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-Sc&&(e.match_length=GRe(e,n)),e.match_length>=Gt)if(r=wf(e,e.strstart-e.match_start,e.match_length-Gt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Gt){e.match_length--;do e.strstart++,e.ins_h=_f(e,e.ins_h,e.window[e.strstart+Gt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=_f(e,e.ins_h,e.window[e.strstart+1]);else r=wf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Gs(e,!1),e.strm.avail_out===0))return Zi}return e.insert=e.strstart<Gt-1?e.strstart:Gt-1,t===Oa?(Gs(e,!0),e.strm.avail_out===0?sm:g1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Zi:m1},ag=(e,t)=>{let n,r,o;for(;;){if(e.lookahead<Sc){if(f0(e),e.lookahead<Sc&&t===Cf)return Zi;if(e.lookahead===0)break}if(n=0,e.lookahead>=Gt&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+Gt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Gt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-Sc&&(e.match_length=GRe(e,n),e.match_length<=5&&(e.strategy===L5n||e.match_length===Gt&&e.strstart-e.match_start>4096)&&(e.match_length=Gt-1)),e.prev_length>=Gt&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-Gt,r=wf(e,e.strstart-1-e.prev_match,e.prev_length-Gt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=o&&(e.ins_h=_f(e,e.ins_h,e.window[e.strstart+Gt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Gt-1,e.strstart++,r&&(Gs(e,!1),e.strm.avail_out===0))return Zi}else if(e.match_available){if(r=wf(e,0,e.window[e.strstart-1]),r&&Gs(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Zi}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=wf(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Gt-1?e.strstart:Gt-1,t===Oa?(Gs(e,!0),e.strm.avail_out===0?sm:g1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Zi:m1},njn=(e,t)=>{let n,r,o,i;const s=e.window;for(;;){if(e.lookahead<=sf){if(f0(e),e.lookahead<=sf&&t===Cf)return Zi;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Gt&&e.strstart>0&&(o=e.strstart-1,r=s[o],r===s[++o]&&r===s[++o]&&r===s[++o])){i=e.strstart+sf;do;while(r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&r===s[++o]&&o<i);e.match_length=sf-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Gt?(n=wf(e,1,e.match_length-Gt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=wf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Gs(e,!1),e.strm.avail_out===0))return Zi}return e.insert=0,t===Oa?(Gs(e,!0),e.strm.avail_out===0?sm:g1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Zi:m1},rjn=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(f0(e),e.lookahead===0)){if(t===Cf)return Zi;break}if(e.match_length=0,n=wf(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Gs(e,!1),e.strm.avail_out===0))return Zi}return e.insert=0,t===Oa?(Gs(e,!0),e.strm.avail_out===0?sm:g1):e.sym_next&&(Gs(e,!1),e.strm.avail_out===0)?Zi:m1};function Xl(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}const Hy=[new Xl(0,0,0,0,KRe),new Xl(4,4,8,4,yP),new Xl(4,5,16,8,yP),new Xl(4,6,32,32,yP),new Xl(4,4,16,16,ag),new Xl(8,16,32,32,ag),new Xl(8,16,128,128,ag),new Xl(8,32,128,256,ag),new Xl(32,128,258,1024,ag),new Xl(32,258,258,4096,ag)],ojn=e=>{e.window_size=2*e.w_size,zd(e.head),e.max_lazy_match=Hy[e.level].max_lazy,e.good_match=Hy[e.level].good_length,e.nice_match=Hy[e.level].nice_length,e.max_chain_length=Hy[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Gt-1,e.match_available=0,e.ins_h=0};function ijn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=bD,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Z5n*2),this.dyn_dtree=new Uint16Array((2*G5n+1)*2),this.bl_tree=new Uint16Array((2*K5n+1)*2),zd(this.dyn_ltree),zd(this.dyn_dtree),zd(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(X5n+1),this.heap=new Uint16Array(2*aF+1),zd(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*aF+1),zd(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const jC=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==d0&&t.status!==yz&&t.status!==lF&&t.status!==cF&&t.status!==uF&&t.status!==dF&&t.status!==pp&&t.status!==Vy?1:0},ZRe=e=>{if(jC(e))return mp(e,_c);e.total_in=e.total_out=0,e.data_type=V5n;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?yz:t.wrap?d0:pp,e.adler=t.wrap===2?0:1,t.last_flush=-2,I5n(t),Zo},XRe=e=>{const t=ZRe(e);return t===Zo&&ojn(e.state),t},sjn=(e,t)=>jC(e)||e.state.wrap!==2?_c:(e.state.gzhead=t,Zo),QRe=(e,t,n,r,o,i)=>{if(!e)return _c;let s=1;if(t===F5n&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>H5n||n!==bD||r<8||r>15||t<0||t>9||i<0||i>N5n||r===8&&s!==1)return mp(e,_c);r===8&&(r=9);const a=new ijn;return e.state=a,a.strm=e,a.status=d0,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=o+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+Gt-1)/Gt),a.window=new Uint8Array(a.w_size*2),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<o+6,a.pending_buf_size=a.lit_bufsize*4,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=(a.lit_bufsize-1)*3,a.level=t,a.strategy=i,a.method=n,XRe(e)},ajn=(e,t)=>QRe(e,t,bD,U5n,W5n,z5n),ljn=(e,t)=>{if(jC(e)||t>eme||t<0)return e?mp(e,_c):_c;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===Vy&&t!==Oa)return mp(e,e.avail_out===0?vP:_c);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(Ms(e),e.avail_out===0)return n.last_flush=-1,Zo}else if(e.avail_in===0&&nme(t)<=nme(r)&&t!==Oa)return mp(e,vP);if(n.status===Vy&&e.avail_in!==0)return mp(e,vP);if(n.status===d0&&n.wrap===0&&(n.status=pp),n.status===d0){let o=bD+(n.w_bits-8<<4)<<8,i=-1;if(n.strategy>=_2||n.level<2?i=0:n.level<6?i=1:n.level===6?i=2:i=3,o|=i<<6,n.strstart!==0&&(o|=Q5n),o+=31-o%31,my(n,o),n.strstart!==0&&(my(n,e.adler>>>16),my(n,e.adler&65535)),e.adler=1,n.status=pp,Ms(e),n.pending!==0)return n.last_flush=-1,Zo}if(n.status===yz){if(e.adler=0,mn(n,31),mn(n,139),mn(n,8),n.gzhead)mn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),mn(n,n.gzhead.time&255),mn(n,n.gzhead.time>>8&255),mn(n,n.gzhead.time>>16&255),mn(n,n.gzhead.time>>24&255),mn(n,n.level===9?2:n.strategy>=_2||n.level<2?4:0),mn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(mn(n,n.gzhead.extra.length&255),mn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Ro(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=lF;else if(mn(n,0),mn(n,0),mn(n,0),mn(n,0),mn(n,0),mn(n,n.level===9?2:n.strategy>=_2||n.level<2?4:0),mn(n,J5n),n.status=pp,Ms(e),n.pending!==0)return n.last_flush=-1,Zo}if(n.status===lF){if(n.gzhead.extra){let o=n.pending,i=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+i>n.pending_buf_size;){let a=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>o&&(e.adler=Ro(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex+=a,Ms(e),n.pending!==0)return n.last_flush=-1,Zo;o=0,i-=a}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending+=i,n.gzhead.hcrc&&n.pending>o&&(e.adler=Ro(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=cF}if(n.status===cF){if(n.gzhead.name){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Ro(e.adler,n.pending_buf,n.pending-o,o)),Ms(e),n.pending!==0)return n.last_flush=-1,Zo;o=0}n.gzindex<n.gzhead.name.length?i=n.gzhead.name.charCodeAt(n.gzindex++)&255:i=0,mn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Ro(e.adler,n.pending_buf,n.pending-o,o)),n.gzindex=0}n.status=uF}if(n.status===uF){if(n.gzhead.comment){let o=n.pending,i;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>o&&(e.adler=Ro(e.adler,n.pending_buf,n.pending-o,o)),Ms(e),n.pending!==0)return n.last_flush=-1,Zo;o=0}n.gzindex<n.gzhead.comment.length?i=n.gzhead.comment.charCodeAt(n.gzindex++)&255:i=0,mn(n,i)}while(i!==0);n.gzhead.hcrc&&n.pending>o&&(e.adler=Ro(e.adler,n.pending_buf,n.pending-o,o))}n.status=dF}if(n.status===dF){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Ms(e),n.pending!==0))return n.last_flush=-1,Zo;mn(n,e.adler&255),mn(n,e.adler>>8&255),e.adler=0}if(n.status=pp,Ms(e),n.pending!==0)return n.last_flush=-1,Zo}if(e.avail_in!==0||n.lookahead!==0||t!==Cf&&n.status!==Vy){let o=n.level===0?KRe(n,t):n.strategy===_2?rjn(n,t):n.strategy===B5n?njn(n,t):Hy[n.level].func(n,t);if((o===sm||o===g1)&&(n.status=Vy),o===Zi||o===sm)return e.avail_out===0&&(n.last_flush=-1),Zo;if(o===m1&&(t===R5n?P5n(n):t!==eme&&(sF(n,0,0,!1),t===$5n&&(zd(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Ms(e),e.avail_out===0))return n.last_flush=-1,Zo}return t!==Oa?Zo:n.wrap<=0?tme:(n.wrap===2?(mn(n,e.adler&255),mn(n,e.adler>>8&255),mn(n,e.adler>>16&255),mn(n,e.adler>>24&255),mn(n,e.total_in&255),mn(n,e.total_in>>8&255),mn(n,e.total_in>>16&255),mn(n,e.total_in>>24&255)):(my(n,e.adler>>>16),my(n,e.adler&65535)),Ms(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Zo:tme)},cjn=e=>{if(jC(e))return _c;const t=e.state.status;return e.state=null,t===pp?mp(e,M5n):Zo},ujn=(e,t)=>{let n=t.length;if(jC(e))return _c;const r=e.state,o=r.wrap;if(o===2||o===1&&r.status!==d0||r.lookahead)return _c;if(o===1&&(e.adler=Xx(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){o===0&&(zd(r.head),r.strstart=0,r.block_start=0,r.insert=0);let c=new Uint8Array(r.w_size);c.set(t.subarray(n-r.w_size,n),0),t=c,n=r.w_size}const i=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,f0(r);r.lookahead>=Gt;){let c=r.strstart,u=r.lookahead-(Gt-1);do r.ins_h=_f(r,r.ins_h,r.window[c+Gt-1]),r.prev[c&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=c,c++;while(--u);r.strstart=c,r.lookahead=Gt-1,f0(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Gt-1,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=i,r.wrap=o,Zo};var djn=ajn,fjn=QRe,hjn=XRe,pjn=ZRe,mjn=sjn,gjn=ljn,vjn=cjn,yjn=ujn,bjn="pako deflate (from Nodeca project)",Ob={deflateInit:djn,deflateInit2:fjn,deflateReset:hjn,deflateResetKeep:pjn,deflateSetHeader:mjn,deflate:gjn,deflateEnd:vjn,deflateSetDictionary:yjn,deflateInfo:bjn};const xjn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var wjn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)xjn(n,r)&&(e[r]=n[r])}}return e},Cjn=e=>{let t=0;for(let r=0,o=e.length;r<o;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,o=0,i=e.length;r<i;r++){let s=e[r];n.set(s,o),o+=s.length}return n},xD={assign:wjn,flattenChunks:Cjn};let JRe=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{JRe=!1}const Qx=new Uint8Array(256);for(let e=0;e<256;e++)Qx[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Qx[254]=Qx[254]=1;var _jn=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,o,i,s=e.length,a=0;for(o=0;o<s;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),i=0,o=0;i<a;o++)n=e.charCodeAt(o),(n&64512)===55296&&o+1<s&&(r=e.charCodeAt(o+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),o++)),n<128?t[i++]=n:n<2048?(t[i++]=192|n>>>6,t[i++]=128|n&63):n<65536?(t[i++]=224|n>>>12,t[i++]=128|n>>>6&63,t[i++]=128|n&63):(t[i++]=240|n>>>18,t[i++]=128|n>>>12&63,t[i++]=128|n>>>6&63,t[i++]=128|n&63);return t};const Sjn=(e,t)=>{if(t<65534&&e.subarray&&JRe)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var Ejn=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,o;const i=new Array(n*2);for(o=0,r=0;r<n;){let s=e[r++];if(s<128){i[o++]=s;continue}let a=Qx[s];if(a>4){i[o++]=65533,r+=a-1;continue}for(s&=a===2?31:a===3?15:7;a>1&&r<n;)s=s<<6|e[r++]&63,a--;if(a>1){i[o++]=65533;continue}s<65536?i[o++]=s:(s-=65536,i[o++]=55296|s>>10&1023,i[o++]=56320|s&1023)}return Sjn(i,o)},kjn=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+Qx[e[n]]>t?n:t},Jx={string2buf:_jn,buf2string:Ejn,utf8border:kjn};function jjn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var e$e=jjn;const t$e=Object.prototype.toString,{Z_NO_FLUSH:Tjn,Z_SYNC_FLUSH:Ajn,Z_FULL_FLUSH:Djn,Z_FINISH:Ijn,Z_OK:N5,Z_STREAM_END:Ojn,Z_DEFAULT_COMPRESSION:Pjn,Z_DEFAULT_STRATEGY:Rjn,Z_DEFLATED:$jn}=zm;function TC(e){this.options=xD.assign({level:Pjn,method:$jn,chunkSize:16384,windowBits:15,memLevel:8,strategy:Rjn},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e$e,this.strm.avail_out=0;let n=Ob.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==N5)throw new Error(im[n]);if(t.header&&Ob.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=Jx.string2buf(t.dictionary):t$e.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=Ob.deflateSetDictionary(this.strm,r),n!==N5)throw new Error(im[n]);this._dict_set=!0}}TC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let o,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?Ijn:Tjn,typeof e=="string"?n.input=Jx.string2buf(e):t$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(i===Ajn||i===Djn)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(o=Ob.deflate(n,i),o===Ojn)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),o=Ob.deflateEnd(this.strm),this.onEnd(o),this.ended=!0,o===N5;if(n.avail_out===0){this.onData(n.output);continue}if(i>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};TC.prototype.onData=function(e){this.chunks.push(e)};TC.prototype.onEnd=function(e){e===N5&&(this.result=xD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function bz(e,t){const n=new TC(t);if(n.push(e,!0),n.err)throw n.msg||im[n.err];return n.result}function Mjn(e,t){return t=t||{},t.raw=!0,bz(e,t)}function Fjn(e,t){return t=t||{},t.gzip=!0,bz(e,t)}var Ljn=TC,Bjn=bz,Njn=Mjn,zjn=Fjn,Vjn=zm,Hjn={Deflate:Ljn,deflate:Bjn,deflateRaw:Njn,gzip:zjn,constants:Vjn};const S2=16209,Ujn=16191;var Wjn=function(t,n){let r,o,i,s,a,c,u,d,f,p,m,v,g,b,x,y,w,C,_,S,E,j,k,T;const A=t.state;r=t.next_in,k=t.input,o=r+(t.avail_in-5),i=t.next_out,T=t.output,s=i-(n-t.avail_out),a=i+(t.avail_out-257),c=A.dmax,u=A.wsize,d=A.whave,f=A.wnext,p=A.window,m=A.hold,v=A.bits,g=A.lencode,b=A.distcode,x=(1<<A.lenbits)-1,y=(1<<A.distbits)-1;e:do{v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=g[m&x];t:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C===0)T[i++]=w&65535;else if(C&16){_=w&65535,C&=15,C&&(v<C&&(m+=k[r++]<<v,v+=8),_+=m&(1<<C)-1,m>>>=C,v-=C),v<15&&(m+=k[r++]<<v,v+=8,m+=k[r++]<<v,v+=8),w=b[m&y];n:for(;;){if(C=w>>>24,m>>>=C,v-=C,C=w>>>16&255,C&16){if(S=w&65535,C&=15,v<C&&(m+=k[r++]<<v,v+=8,v<C&&(m+=k[r++]<<v,v+=8)),S+=m&(1<<C)-1,S>c){t.msg="invalid distance too far back",A.mode=S2;break e}if(m>>>=C,v-=C,C=i-s,S>C){if(C=S-C,C>d&&A.sane){t.msg="invalid distance too far back",A.mode=S2;break e}if(E=0,j=p,f===0){if(E+=u-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}else if(f<C){if(E+=u+f-C,C-=f,C<_){_-=C;do T[i++]=p[E++];while(--C);if(E=0,f<_){C=f,_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}}}else if(E+=f-C,C<_){_-=C;do T[i++]=p[E++];while(--C);E=i-S,j=T}for(;_>2;)T[i++]=j[E++],T[i++]=j[E++],T[i++]=j[E++],_-=3;_&&(T[i++]=j[E++],_>1&&(T[i++]=j[E++]))}else{E=i-S;do T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],_-=3;while(_>2);_&&(T[i++]=T[E++],_>1&&(T[i++]=T[E++]))}}else if(C&64){t.msg="invalid distance code",A.mode=S2;break e}else{w=b[(w&65535)+(m&(1<<C)-1)];continue n}break}}else if(C&64)if(C&32){A.mode=Ujn;break e}else{t.msg="invalid literal/length code",A.mode=S2;break e}else{w=g[(w&65535)+(m&(1<<C)-1)];continue t}break}}while(r<o&&i<a);_=v>>3,r-=_,v-=_<<3,m&=(1<<v)-1,t.next_in=r,t.next_out=i,t.avail_in=r<o?5+(o-r):5-(r-o),t.avail_out=i<a?257+(a-i):257-(i-a),A.hold=m,A.bits=v};const lg=15,rme=852,ome=592,ime=0,bP=1,sme=2,qjn=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Yjn=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Gjn=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Kjn=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),Zjn=(e,t,n,r,o,i,s,a)=>{const c=a.bits;let u=0,d=0,f=0,p=0,m=0,v=0,g=0,b=0,x=0,y=0,w,C,_,S,E,j=null,k;const T=new Uint16Array(lg+1),A=new Uint16Array(lg+1);let D=null,I,O,$;for(u=0;u<=lg;u++)T[u]=0;for(d=0;d<r;d++)T[t[n+d]]++;for(m=c,p=lg;p>=1&&T[p]===0;p--);if(m>p&&(m=p),p===0)return o[i++]=1<<24|64<<16|0,o[i++]=1<<24|64<<16|0,a.bits=1,0;for(f=1;f<p&&T[f]===0;f++);for(m<f&&(m=f),b=1,u=1;u<=lg;u++)if(b<<=1,b-=T[u],b<0)return-1;if(b>0&&(e===ime||p!==1))return-1;for(A[1]=0,u=1;u<lg;u++)A[u+1]=A[u]+T[u];for(d=0;d<r;d++)t[n+d]!==0&&(s[A[t[n+d]]++]=d);if(e===ime?(j=D=s,k=20):e===bP?(j=qjn,D=Yjn,k=257):(j=Gjn,D=Kjn,k=0),y=0,d=0,u=f,E=i,v=m,g=0,_=-1,x=1<<m,S=x-1,e===bP&&x>rme||e===sme&&x>ome)return 1;for(;;){I=u-g,s[d]+1<k?(O=0,$=s[d]):s[d]>=k?(O=D[s[d]-k],$=j[s[d]-k]):(O=32+64,$=0),w=1<<u-g,C=1<<v,f=C;do C-=w,o[E+(y>>g)+C]=I<<24|O<<16|$|0;while(C!==0);for(w=1<<u-1;y&w;)w>>=1;if(w!==0?(y&=w-1,y+=w):y=0,d++,--T[u]===0){if(u===p)break;u=t[n+s[d]]}if(u>m&&(y&S)!==_){for(g===0&&(g=m),E+=f,v=u-g,b=1<<v;v+g<p&&(b-=T[v+g],!(b<=0));)v++,b<<=1;if(x+=1<<v,e===bP&&x>rme||e===sme&&x>ome)return 1;_=y&S,o[_]=m<<24|v<<16|E-i|0}}return y!==0&&(o[E+y]=u-g<<24|64<<16|0),a.bits=m,0};var Pb=Zjn;const Xjn=0,n$e=1,r$e=2,{Z_FINISH:ame,Z_BLOCK:Qjn,Z_TREES:E2,Z_OK:am,Z_STREAM_END:Jjn,Z_NEED_DICT:eTn,Z_STREAM_ERROR:Ga,Z_DATA_ERROR:o$e,Z_MEM_ERROR:i$e,Z_BUF_ERROR:tTn,Z_DEFLATED:lme}=zm,wD=16180,cme=16181,ume=16182,dme=16183,fme=16184,hme=16185,pme=16186,mme=16187,gme=16188,vme=16189,z5=16190,eu=16191,xP=16192,yme=16193,wP=16194,bme=16195,xme=16196,wme=16197,Cme=16198,k2=16199,j2=16200,_me=16201,Sme=16202,Eme=16203,kme=16204,jme=16205,CP=16206,Tme=16207,Ame=16208,br=16209,s$e=16210,a$e=16211,nTn=852,rTn=592,oTn=15,iTn=oTn,Dme=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function sTn(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vm=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<wD||t.mode>a$e?1:0},l$e=e=>{if(Vm(e))return Ga;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=wD,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(nTn),t.distcode=t.distdyn=new Int32Array(rTn),t.sane=1,t.back=-1,am},c$e=e=>{if(Vm(e))return Ga;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,l$e(e)},u$e=(e,t)=>{let n;if(Vm(e))return Ga;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ga:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,c$e(e))},d$e=(e,t)=>{if(!e)return Ga;const n=new sTn;e.state=n,n.strm=e,n.window=null,n.mode=wD;const r=u$e(e,t);return r!==am&&(e.state=null),r},aTn=e=>d$e(e,iTn);let Ime=!0,_P,SP;const lTn=e=>{if(Ime){_P=new Int32Array(512),SP=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Pb(n$e,e.lens,0,288,_P,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Pb(r$e,e.lens,0,32,SP,0,e.work,{bits:5}),Ime=!1}e.lencode=_P,e.lenbits=9,e.distcode=SP,e.distbits=5},f$e=(e,t,n,r)=>{let o;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),r>=i.wsize?(i.window.set(t.subarray(n-i.wsize,n),0),i.wnext=0,i.whave=i.wsize):(o=i.wsize-i.wnext,o>r&&(o=r),i.window.set(t.subarray(n-r,n-r+o),i.wnext),r-=o,r?(i.window.set(t.subarray(n-r,n),0),i.wnext=r,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0},cTn=(e,t)=>{let n,r,o,i,s,a,c,u,d,f,p,m,v,g,b=0,x,y,w,C,_,S,E,j;const k=new Uint8Array(4);let T,A;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vm(e)||!e.output||!e.input&&e.avail_in!==0)return Ga;n=e.state,n.mode===eu&&(n.mode=xP),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,f=a,p=c,j=am;e:for(;;)switch(n.mode){case wD:if(n.wrap===0){n.mode=xP;break}for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,k[0]=u&255,k[1]=u>>>8&255,n.check=Ro(n.check,k,2,0),u=0,d=0,n.mode=cme;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){e.msg="incorrect header check",n.mode=br;break}if((u&15)!==lme){e.msg="unknown compression method",n.mode=br;break}if(u>>>=4,d-=4,E=(u&15)+8,n.wbits===0&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=br;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=u&512?vme:eu,u=0,d=0;break;case cme:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==lme){e.msg="unknown compression method",n.mode=br;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=br;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Ro(n.check,k,2,0)),u=0,d=0,n.mode=ume;case ume:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,k[2]=u>>>16&255,k[3]=u>>>24&255,n.check=Ro(n.check,k,4,0)),u=0,d=0,n.mode=dme;case dme:for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Ro(n.check,k,2,0)),u=0,d=0,n.mode=fme;case fme:if(n.flags&1024){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(k[0]=u&255,k[1]=u>>>8&255,n.check=Ro(n.check,k,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=hme;case hme:if(n.flags&1024&&(m=n.length,m>a&&(m=a),m&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(i,i+m),E)),n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,m,i)),a-=m,i+=m,n.length-=m),n.length))break e;n.length=0,n.mode=pme;case pme:if(n.flags&2048){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=mme;case mme:if(n.flags&4096){if(a===0)break e;m=0;do E=r[i+m++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E));while(E&&m<a);if(n.flags&512&&n.wrap&4&&(n.check=Ro(n.check,r,m,i)),a-=m,i+=m,E)break e}else n.head&&(n.head.comment=null);n.mode=gme;case gme:if(n.flags&512){for(;d<16;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){e.msg="header crc mismatch",n.mode=br;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=eu;break;case vme:for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}e.adler=n.check=Dme(u),u=0,d=0,n.mode=z5;case z5:if(n.havedict===0)return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,eTn;e.adler=n.check=1,n.mode=eu;case eu:if(t===Qjn||t===E2)break e;case xP:if(n.last){u>>>=d&7,d-=d&7,n.mode=CP;break}for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=yme;break;case 1:if(lTn(n),n.mode=k2,t===E2){u>>>=2,d-=2;break e}break;case 2:n.mode=xme;break;case 3:e.msg="invalid block type",n.mode=br}u>>>=2,d-=2;break;case yme:for(u>>>=d&7,d-=d&7;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){e.msg="invalid stored block lengths",n.mode=br;break}if(n.length=u&65535,u=0,d=0,n.mode=wP,t===E2)break e;case wP:n.mode=bme;case bme:if(m=n.length,m){if(m>a&&(m=a),m>c&&(m=c),m===0)break e;o.set(r.subarray(i,i+m),s),a-=m,i+=m,c-=m,s+=m,n.length-=m;break}n.mode=eu;break;case xme:for(;d<14;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=br;break}n.have=0,n.mode=wme;case wme:for(;n.have<n.ncode;){for(;d<3;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.lens[D[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,T={bits:n.lenbits},j=Pb(Xjn,n.lens,0,19,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid code lengths set",n.mode=br;break}n.have=0,n.mode=Cme;case Cme:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(w<16)u>>>=x,d-=x,n.lens[n.have++]=w;else{if(w===16){for(A=x+2;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(u>>>=x,d-=x,n.have===0){e.msg="invalid bit length repeat",n.mode=br;break}E=n.lens[n.have-1],m=3+(u&3),u>>>=2,d-=2}else if(w===17){for(A=x+3;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=3+(u&7),u>>>=3,d-=3}else{for(A=x+7;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=x,d-=x,E=0,m=11+(u&127),u>>>=7,d-=7}if(n.have+m>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=br;break}for(;m--;)n.lens[n.have++]=E}}if(n.mode===br)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=br;break}if(n.lenbits=9,T={bits:n.lenbits},j=Pb(n$e,n.lens,0,n.nlen,n.lencode,0,n.work,T),n.lenbits=T.bits,j){e.msg="invalid literal/lengths set",n.mode=br;break}if(n.distbits=6,n.distcode=n.distdyn,T={bits:n.distbits},j=Pb(r$e,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,T),n.distbits=T.bits,j){e.msg="invalid distances set",n.mode=br;break}if(n.mode=k2,t===E2)break e;case k2:n.mode=j2;case j2:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,Wjn(e,p),s=e.next_out,o=e.output,c=e.avail_out,i=e.next_in,r=e.input,a=e.avail_in,u=n.hold,d=n.bits,n.mode===eu&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(y&&!(y&240)){for(C=x,_=y,S=w;b=n.lencode[S+((u&(1<<C+_)-1)>>C)],x=b>>>24,y=b>>>16&255,w=b&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,n.length=w,y===0){n.mode=jme;break}if(y&32){n.back=-1,n.mode=eu;break}if(y&64){e.msg="invalid literal/length code",n.mode=br;break}n.extra=y&15,n.mode=_me;case _me:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Sme;case Sme:for(;b=n.distcode[u&(1<<n.distbits)-1],x=b>>>24,y=b>>>16&255,w=b&65535,!(x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(!(y&240)){for(C=x,_=y,S=w;b=n.distcode[S+((u&(1<<C+_)-1)>>C)],x=b>>>24,y=b>>>16&255,w=b&65535,!(C+x<=d);){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}u>>>=C,d-=C,n.back+=C}if(u>>>=x,d-=x,n.back+=x,y&64){e.msg="invalid distance code",n.mode=br;break}n.offset=w,n.extra=y&15,n.mode=Eme;case Eme:if(n.extra){for(A=n.extra;d<A;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=br;break}n.mode=kme;case kme:if(c===0)break e;if(m=p-c,n.offset>m){if(m=n.offset-m,m>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=br;break}m>n.wnext?(m-=n.wnext,v=n.wsize-m):v=n.wnext-m,m>n.length&&(m=n.length),g=n.window}else g=o,v=s-n.offset,m=n.length;m>c&&(m=c),c-=m,n.length-=m;do o[s++]=g[v++];while(--m);n.length===0&&(n.mode=j2);break;case jme:if(c===0)break e;o[s++]=n.length,c--,n.mode=j2;break;case CP:if(n.wrap){for(;d<32;){if(a===0)break e;a--,u|=r[i++]<<d,d+=8}if(p-=c,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Ro(n.check,o,p,s-p):Xx(n.check,o,p,s-p)),p=c,n.wrap&4&&(n.flags?u:Dme(u))!==n.check){e.msg="incorrect data check",n.mode=br;break}u=0,d=0}n.mode=Tme;case Tme:if(n.wrap&&n.flags){for(;d<32;){if(a===0)break e;a--,u+=r[i++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=br;break}u=0,d=0}n.mode=Ame;case Ame:j=Jjn;break e;case br:j=o$e;break e;case s$e:return i$e;case a$e:default:return Ga}return e.next_out=s,e.avail_out=c,e.next_in=i,e.avail_in=a,n.hold=u,n.bits=d,(n.wsize||p!==e.avail_out&&n.mode<br&&(n.mode<CP||t!==ame))&&f$e(e,e.output,e.next_out,p-e.avail_out),f-=e.avail_in,p-=e.avail_out,e.total_in+=f,e.total_out+=p,n.total+=p,n.wrap&4&&p&&(e.adler=n.check=n.flags?Ro(n.check,o,p,e.next_out-p):Xx(n.check,o,p,e.next_out-p)),e.data_type=n.bits+(n.last?64:0)+(n.mode===eu?128:0)+(n.mode===k2||n.mode===wP?256:0),(f===0&&p===0||t===ame)&&j===am&&(j=tTn),j},uTn=e=>{if(Vm(e))return Ga;let t=e.state;return t.window&&(t.window=null),e.state=null,am},dTn=(e,t)=>{if(Vm(e))return Ga;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,am):Ga},fTn=(e,t)=>{const n=t.length;let r,o,i;return Vm(e)||(r=e.state,r.wrap!==0&&r.mode!==z5)?Ga:r.mode===z5&&(o=1,o=Xx(o,t,n,0),o!==r.check)?o$e:(i=f$e(e,t,n,n),i?(r.mode=s$e,i$e):(r.havedict=1,am))};var hTn=c$e,pTn=u$e,mTn=l$e,gTn=aTn,vTn=d$e,yTn=cTn,bTn=uTn,xTn=dTn,wTn=fTn,CTn="pako inflate (from Nodeca project)",fu={inflateReset:hTn,inflateReset2:pTn,inflateResetKeep:mTn,inflateInit:gTn,inflateInit2:vTn,inflate:yTn,inflateEnd:bTn,inflateGetHeader:xTn,inflateSetDictionary:wTn,inflateInfo:CTn};function _Tn(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var STn=_Tn;const h$e=Object.prototype.toString,{Z_NO_FLUSH:ETn,Z_FINISH:kTn,Z_OK:ew,Z_STREAM_END:EP,Z_NEED_DICT:kP,Z_STREAM_ERROR:jTn,Z_DATA_ERROR:Ome,Z_MEM_ERROR:TTn}=zm;function AC(e){this.options=xD.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new e$e,this.strm.avail_out=0;let n=fu.inflateInit2(this.strm,t.windowBits);if(n!==ew)throw new Error(im[n]);if(this.header=new STn,fu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Jx.string2buf(t.dictionary):h$e.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=fu.inflateSetDictionary(this.strm,t.dictionary),n!==ew)))throw new Error(im[n])}AC.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,o=this.options.dictionary;let i,s,a;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?kTn:ETn,h$e.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),i=fu.inflate(n,s),i===kP&&o&&(i=fu.inflateSetDictionary(n,o),i===ew?i=fu.inflate(n,s):i===Ome&&(i=kP));n.avail_in>0&&i===EP&&n.state.wrap>0&&e[n.next_in]!==0;)fu.inflateReset(n),i=fu.inflate(n,s);switch(i){case jTn:case Ome:case kP:case TTn:return this.onEnd(i),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(n.avail_out===0||i===EP))if(this.options.to==="string"){let c=Jx.utf8border(n.output,n.next_out),u=n.next_out-c,d=Jx.buf2string(n.output,c);n.next_out=u,n.avail_out=r-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(i===ew&&a===0)){if(i===EP)return i=fu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};AC.prototype.onData=function(e){this.chunks.push(e)};AC.prototype.onEnd=function(e){e===ew&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=xD.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function xz(e,t){const n=new AC(t);if(n.push(e),n.err)throw n.msg||im[n.err];return n.result}function ATn(e,t){return t=t||{},t.raw=!0,xz(e,t)}var DTn=AC,ITn=xz,OTn=ATn,PTn=xz,RTn=zm,$Tn={Inflate:DTn,inflate:ITn,inflateRaw:OTn,ungzip:PTn,constants:RTn};const{Deflate:MTn,deflate:FTn,deflateRaw:LTn,gzip:BTn}=Hjn,{Inflate:NTn,inflate:zTn,inflateRaw:VTn,ungzip:HTn}=$Tn;var UTn=MTn,WTn=FTn,qTn=LTn,YTn=BTn,GTn=NTn,KTn=zTn,ZTn=VTn,XTn=HTn,QTn=zm,p$e={Deflate:UTn,deflate:WTn,deflateRaw:qTn,gzip:YTn,Inflate:GTn,inflate:KTn,inflateRaw:ZTn,ungzip:XTn,constants:QTn};function JTn(e,t){var n;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function m$e(e,t){return h0(e)?e[Number(t)]:e[t]}function g$e(e,t){if(e){var n=t.shift(),r=m$e(e,n);return t.length&&(h0(r)||tw(r))?g$e(r,t):r}}function h0(e){return Array.isArray(e)}function tw(e){return e&&typeof e=="object"}function jP(e,t,n){if(h0(e)){e[Number(t)]=n;return}if(tw(e)){e[t]=n;return}throw new Error("shallowClone: target must be an object or an array")}function Pme(e){if(h0(e))return e.slice(0);if(tw(e))return JTn({},e);throw new Error("shallowClone: source must be an object or an array")}function eAn(e,t){return t?g$e(e,t.split("/")):e}function tAn(e,t,n){if(!t){if(h0(n)||tw(n))return n;throw new Error("set: cannot replace value with a non-record value")}if(eAn(e,t)===n)return e;for(var r=Pme(e),o=t.split("/"),i=e,s=r;o.length;){var a=o.shift();if(o.length){var c=m$e(i,a);if(c===void 0&&(c={},jP(i,a,c)),!h0(c)&&!tw(c))throw new Error('set: path is not targeting an object nor an array: "'+t+'"');i=c;var u=Pme(i);jP(s,a,u),s=u}else jP(s,a,n)}return r}const jv=[],hF={},nAn="auto",rAn=1,V5=[{name:"auto",title:"Full",rect:{width:"auto"}},{name:"768",title:"768px",rect:{width:768}},{name:"375",title:"375px",rect:{width:375,height:667}},{name:"320",title:"320px",rect:{width:320,height:568}}],Rme=[{value:.5,title:"50%"},{value:.75,title:"75%"},{value:1,title:"100%"},{value:1.5,title:"150%"},{value:2,title:"200%"},{value:3,title:"300%"}];function v$e(){const e=new Set;return{publish(t){for(const n of e)n(t)},subscribe(t){return e.add(t),()=>{e.delete(t)}}}}const oAn={parse(e){const t=new URLSearchParams("?"+e),n={};return t.forEach((r,o)=>{n[o]=r}),n},stringify(e){return Object.entries(e).map(t=>{let[n,r]=t;return"".concat(n,"=").concat(r)}).join("&")}};function iAn(e,t){const n=t.split("/").slice(1).filter(Boolean),r=n.join("/");if(n.length===0)return{scope:null,story:null};for(const o of e)for(const i of o.stories){const s=[o.name,i.name].filter(Boolean).join("/");if(r===s)return{scope:o,story:i}}return{scope:null,story:null}}function y$e(e){const{baseUrl:t="/frame/",path:n,payload:r,scheme:o,viewport:i,zoom:s}=e;return[t,"?path=".concat(encodeURIComponent(n)),"&scheme=".concat(o),"&viewport=".concat(i),"&zoom=".concat(s),...Object.entries(r).map(a=>{let[c,u]=a;return"&".concat(c,"=").concat(u)})].join("")}const b$e=h.createContext(null);function v1(){const e=h.useContext(b$e);if(!e)throw new Error("Props: missing context value");return e}const sAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=v1();return l.jsxs(H,{as:"label",padding:3,children:[l.jsx(M,{marginRight:2,style:{lineHeight:0},children:l.jsx(Yj,{checked:r||!1,onChange:i=>o(n.name,i.currentTarget.checked)})}),l.jsx(M,{paddingY:1,children:l.jsx(L,{size:1,weight:"semibold",children:n.name})})]})}),aAn=h.memo(function(t){const{schema:n,value:r=""}=t,{setPropValue:o}=v1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Lr,{fontSize:[2,2,1],onChange:i=>o(n.name,Number(i.currentTarget.value)),padding:2,value:r})})]})}),lAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=v1(),i=h.useMemo(()=>{const s=Object.entries(n.options);for(const[a,c]of s)if(c===r)return a;return""},[n,r]);return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Mf,{fontSize:[2,2,1],onChange:s=>{const a=s.currentTarget.value,c=n.options[a];o(n.name,c)},padding:2,radius:2,value:String(i||""),children:Object.entries(n.options).map(s=>{let[a]=s;return l.jsx("option",{value:a,children:a},a)})})})]})}),cAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=v1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Lr,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),padding:2,value:r||""})})]})}),uAn=h.memo(function(t){const{schema:n,value:r}=t,{setPropValue:o}=v1();return l.jsxs(M,{padding:3,children:[l.jsx(L,{size:1,weight:"semibold",children:n.name}),l.jsx(M,{marginTop:2,children:l.jsx(Hwe,{fontSize:[2,2,1],onChange:i=>o(n.name,i.currentTarget.value),rows:4,value:r||""})})]})});function dAn(e){const{schema:t,value:n}=e;return t.type==="boolean"?l.jsx(sAn,{schema:t,value:n}):t.type==="number"?l.jsx(aAn,{schema:t,value:n}):t.type==="select"?l.jsx(lAn,{schema:t,value:n}):t.type==="string"?l.jsx(cAn,{schema:t,value:n}):t.type==="text"?l.jsx(uAn,{schema:t,value:n}):l.jsx(M,{padding:2,children:l.jsxs(L,{size:1,weight:"semibold",children:["Unknown Prop type:"," ",l.jsxs("code",{children:[t.name,": ",t.type]})]})})}const fAn=h.memo(function(){const{schemas:t,value:n}=v1();return l.jsxs(M,{padding:2,children:[t.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:[2,2,1],children:"No properties"})}),t.length>0&&t.map((r,o)=>l.jsx(dAn,{schema:r,value:n[r.name]===void 0?r.defaultValue:n[r.name]},o))]})}),Tv=Ut,x$e=h.createContext(null);function il(){const e=h.useContext(x$e);if(!e)throw new Error("Workshop: missing context value");return e}const hAn=typeof window>"u"?e=>Buffer.from(e,"binary").toString("base64"):window.btoa,pAn=typeof window>"u"?e=>Buffer.from(e,"base64").toString("binary"):window.atob;function mAn(e){let t="";for(let n=0,{length:r}=e;n<r;n++)t+=String.fromCharCode(e[n]);return hAn(t)}function gAn(e){const t=pAn(e),n=t.length,r=new Uint8Array(n);for(let o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}function vAn(e){if(e.length===0)return"";const t=gAn(e);return p$e.inflate(t,{to:"string"})}function yAn(e){if(e.length===0)return"";const t=p$e.deflate(e);return mAn(t)}function bAn(e){return yAn(JSON.stringify(e))}function $me(e){try{return JSON.parse(vAn(e))}catch{return{}}}function xAn(e,t){if(t.type==="workshop/props/setValue")return{...e,value:t.value};if(t.type==="workshop/props/registerProp")return{...e,schemas:e.schemas.concat([t.schema])};if(t.type==="workshop/props/unregisterProp"){const n={...e.value};return delete n[t.name],{...e,schemas:e.schemas.filter(r=>r.name!==t.name),value:n}}return t.type==="workshop/props/setPropValue"?{...e,value:{...e.value,[t.name]:t.value}}:e}const wAn=h.memo(function(t){const{children:n}=t,{channel:r,broadcast:o,payload:i}=il(),s=i.value,a=h.useRef(s),[{schemas:c,value:u},d]=h.useState({schemas:[],value:$me(String(s))||{}}),f=h.useCallback(g=>{o({type:"workshop/props/registerProp",schema:g})},[o]),p=h.useCallback(g=>{o({type:"workshop/props/unregisterProp",name:g})},[o]),m=h.useCallback((g,b)=>{o({type:"workshop/props/setPropValue",name:g,value:b})},[o]),v=h.useMemo(()=>({registerProp:f,schemas:c,setPropValue:m,unregisterProp:p,value:u}),[f,c,m,p,u]);return h.useEffect(()=>r.subscribe(g=>{d(b=>{const x=xAn(b,g);return Tv(b,x)?b:x})}),[r]),h.useEffect(()=>{const g=bAn(u);a.current!==g&&(a.current=g,o({type:"workshop/setPayloadValue",key:"value",value:g}))},[o,u]),h.useEffect(()=>{a.current!==s&&(a.current=s,d(g=>({...g,value:$me(String(s))||{}})))},[s]),l.jsx(b$e.Provider,{value:v,children:n})});function CAn(){return{name:"props",title:"Properties",inspector:fAn,provider:wAn}}const w$e=h.memo(function(t){const{broadcast:n,children:r,channel:o,config:i,frameReady:s,origin:a,path:c,payload:u,scheme:d,viewport:f="auto",zoom:p=1}=t,{plugins:m=jv,collections:v=jv,frameUrl:g="/frame/",scopes:b,title:x="Workshop"}=i;if(!u)throw new Error("missing `payload` property");const y=h.useMemo(()=>[CAn(),...m],[m]),{scope:w,story:C}=h.useMemo(()=>iAn(b,c),[c,b]),_=h.useMemo(()=>({plugins:y,broadcast:n,channel:o,collections:v,frameReady:s,frameUrl:g,origin:a,path:c,payload:u,scheme:d,scope:w,scopes:b,story:C,title:x,viewport:f,zoom:p}),[y,n,o,v,s,g,a,c,u,d,w,b,C,x,f,p]);let S=r;for(const E of y)E.provider&&(S=h.createElement(E.provider,{options:E.options||hF},S));return l.jsx(x$e.Provider,{value:_,children:S})});function C$e(e,t){if(t.type==="workshop/frameReady")return{...e,frameReady:!0};if(t.type==="workshop/setState")return Tv(e,t.value)?e:t.value;if(t.type==="workshop/setZoom")return e.zoom===t.value?e:{...e,zoom:t.value};if(t.type==="workshop/setViewport")return e.viewport===t.value?e:{...e,viewport:t.value};if(t.type==="workshop/toggleScheme")return{...e,scheme:e.scheme==="light"?"dark":"light"};if(t.type==="workshop/setScheme")return e.scheme===t.value?e:{...e,scheme:t.value};if(t.type==="workshop/setPath")return e.path===t.value?e:{...e,path:t.value};if(t.type==="workshop/setPayload")return Tv(e.payload,t.value)?e:{...e,payload:t.value};if(t.type==="workshop/setPayloadValue"){const n={...e.payload,[t.key]:t.value};return Tv(e.payload,n)?e:{...e,payload:n}}return e}const Mme=(()=>{try{return{}.ROOT_PATH}catch{return}})(),_An=/http:\/\/([^:/\s]+)(:[0-9]+)?/g,SAn=/\/@fs\//g,EAn=/\?([a-z]{1})=([0-9]+)/g;function Fme(e){let t=decodeURIComponent(e);return t=e.replace(_An,"").replace(SAn,"/").replace(EAn,""),Mme?kAn(t,Mme+"/"):t}function kAn(e,t){const n=new RegExp(t.replace(/\//g,"\\/"),"g");return e.replace(n,"")}const jAn=h.memo(function(){const{story:t}=il(),[n,r]=h.useState({error:null,errorInfo:null}),o=h.useCallback(s=>{let{error:a,info:c}=s;r({error:a,errorInfo:c})},[]),i=h.useCallback(()=>{r({error:null,errorInfo:null})},[]);return t?n.error?l.jsx(Q,{as:"main",height:"fill",overflow:"auto",tone:"critical",children:l.jsx(AAn,{error:n.error,errorInfo:n.errorInfo,onRetry:i})}):l.jsxs(l.Fragment,{children:[l.jsx("h1",{hidden:!0,children:t.title}),l.jsx(h.Suspense,{fallback:l.jsx(TAn,{story:t}),children:l.jsx(Q,{as:"main",height:"fill",children:l.jsx(j0,{onCatch:o,children:h.createElement(t.component)})})})]}):l.jsx(l.Fragment,{})}),TAn=h.memo(function(t){const{story:n}=t;return l.jsxs(l.Fragment,{children:[l.jsxs("h1",{hidden:!0,children:["Loading ",l.jsx("em",{children:n.title}),"…"]}),l.jsx(H,{align:"center",as:"main",height:"fill",justify:"center",children:l.jsx(hr,{muted:!0})})]})}),AAn=h.memo(function(t){const{error:n,errorInfo:r,onRetry:o}=t;return l.jsx(M,{padding:4,children:l.jsxs(ee,{space:4,children:[l.jsx(Wo,{as:"h1",size:[1,1,2],children:n.message}),l.jsx(M,{children:l.jsx(oe,{onClick:o,text:"Retry"})}),n.stack&&l.jsx(lr,{size:1,children:Fme(n.stack)}),r&&l.jsx(lr,{size:1,children:"Component stack:"+Fme(r.componentStack)})]})})});function _$e(e){return Array.isArray(e)}function S$e(e){return!!e&&typeof e=="object"&&!Array.isArray(e)}function DAn(){const e=new Set;let t=[],n=null;function r(){n&&clearInterval(n),n=setTimeout(()=>{window.parent.postMessage(t),t=[],n=null},0)}function o(a){const c=a.data;if(_$e(c)){for(const u of c)if(S$e(u)&&typeof u.type=="string"&&u.type.startsWith("workshop/"))for(const d of e)d(u)}}function i(){window.addEventListener("message",o,!1)}function s(){window.removeEventListener("message",o,!1)}return{message:{publish(a){t.push(a),r()},subscribe(a){return e.add(a),e.size===1&&i(),()=>{e.delete(a),e.size===0&&s()}}}}}function IAn(){const e=typeof window>"u"?{}:oAn.parse(window.location.search.slice(1)),{path:t="/",scheme:n,viewport:r,zoom:o,...i}=e;return{frameReady:!1,path:t,payload:i,scheme:typeof n=="string"?n:"light",viewport:typeof r=="string"?r:"auto",zoom:typeof o=="string"?Number(o):1}}h.memo(function(t){const{config:n,setScheme:r}=t,o=h.useMemo(()=>DAn(),[]),i=h.useMemo(()=>v$e(),[]),[s,a]=h.useState(null),[c,u]=h.useState(null),d=h.useCallback(y=>{i.publish(y),o.message.publish(y)},[i,o]),[{frameReady:f,path:p,payload:m,scheme:v,viewport:g,zoom:b},x]=h.useState(()=>IAn());return h.useEffect(()=>i.subscribe(y=>x(w=>C$e(w,y))),[i]),h.useEffect(()=>o.message.subscribe(i.publish),[i,o]),h.useEffect(()=>r(v),[r,v]),h.useEffect(()=>d({type:"workshop/frameReady"}),[d]),l.jsx(VL,{children:l.jsx(Bu,{element:s,children:l.jsx(ad,{element:c,children:l.jsx(w$e,{broadcast:d,config:n,channel:i,frameReady:f,origin:"frame",path:p,payload:m,scheme:v,viewport:g,zoom:b,children:l.jsxs(Q,{height:"fill",ref:a,children:[l.jsx(jAn,{}),l.jsx("div",{"data-portal":"",ref:u})]})})})})})});var Lme=Object.freeze,OAn=Object.defineProperty,PAn=(e,t)=>Lme(OAn(e,"raw",{value:Lme(t||e.slice())})),Bme;b0e(Bme||(Bme=PAn([`
  body {
    background-color: `,`;
  }
`])),e=>{let{theme:t}=e;return t.sanity.color.base.bg});var Nme=Object.freeze,RAn=Object.defineProperty,$An=(e,t)=>Nme(RAn(e,"raw",{value:Nme(t||e.slice())})),zme;const MAn=h.memo(sx),FAn=P(Q)(zme||(zme=$An([`
  line-height: 0;

  @media screen and (max-width: `,`px) {
    text-align: center;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]-1}),LAn=h.memo(function(t){const{currentTabId:n,onTabChange:r,tabs:o}=t,i=h.useMemo(()=>({flex:"none",position:"sticky",top:0}),[]),s=h.useMemo(()=>o.map(a=>l.jsx(BAn,{onTabChange:r,selected:a.id===n,tab:a},a.id)),[n,r,o]);return l.jsx(os,{style:i,children:l.jsx(FAn,{padding:2,shadow:1,children:l.jsx(Xj,{space:1,children:s})})})});function BAn(e){const{onTabChange:t,selected:n,tab:r}=e,o=h.useCallback(()=>{t(r.id)},[t,r]);return l.jsx(MAn,{"aria-controls":"".concat(r.id,"-panel"),fontSize:[2,2,1],id:r.id,label:r.label,onClick:o,selected:n,tone:r.tone})}var Vme=Object.freeze,NAn=Object.defineProperty,zAn=(e,t)=>Vme(NAn(e,"raw",{value:Vme(t||e.slice())})),Hme;const VAn=P(Q)(Hme||(Hme=zAn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-left: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),Ume=h.memo(function(t){return h.createElement(t.component,{options:t.options})}),HAn=h.memo(function(t){const{expanded:n}=t,{plugins:r}=il(),o=h.useMemo(()=>r.filter(d=>d.inspector).map(d=>({id:d.name,label:d.title,tone:void 0,plugin:d})),[r]),[i,s]=h.useState(o.length>0?o[0].id:null),a=o.find(d=>d.id===i),c=o.length>1,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(VAn,{display:u,flex:1,children:l.jsxs(H,{direction:"column",height:"fill",children:[c&&l.jsx(LAn,{currentTabId:i,onTabChange:s,tabs:o}),c&&o.map(d=>l.jsx(eCe,{"aria-labelledby":"".concat(d.id,"-tab"),flex:1,hidden:d.id!==i,id:"".concat(d.id,"-panel"),overflow:"auto",children:d.plugin.inspector&&l.jsx(Ume,{component:d.plugin.inspector,options:d.plugin.options||hF})},d.id)),!c&&(a==null?void 0:a.plugin.inspector)&&l.jsx(M,{flex:1,overflow:"auto",children:l.jsx(Ume,{component:a.plugin.inspector,options:a.plugin.options||hF})})]})})}),Wme=aw;function UAn(){const{broadcast:e,scope:t,story:n,title:r}=il(),o=h.useCallback(i=>{i.preventDefault(),e({type:"workshop/setPath",value:"/"})},[e]);return l.jsx(WAn,{onHomeClick:o,scopeTitle:t==null?void 0:t.title,storyTitle:n==null?void 0:n.title,title:r})}const WAn=h.memo(function(t){const{onHomeClick:n,scopeTitle:r,storyTitle:o,title:i}=t;return l.jsxs(BL,{separator:l.jsx(L,{muted:!0,size:[2,2,1],children:"/"}),space:2,children:[l.jsx(L,{size:[2,2,1],weight:"bold",children:l.jsx("a",{href:"/",onClick:n,style:{color:"inherit"},children:i})}),r&&l.jsx(L,{align:"center",size:[2,2,1],children:r}),o&&l.jsx(L,{size:[2,2,1],children:o})]})}),qAn=h.memo(function(){const{frameUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}=il(),a=h.useMemo(()=>n==="/"?void 0:y$e({baseUrl:t,path:n,payload:r,scheme:o,zoom:i,viewport:s}),[t,n,r,o,i,s]);return l.jsx(oe,{as:a?"a":"button",disabled:!a,fontSize:1,href:a,iconRight:qf,mode:"ghost",padding:2,rel:"noopener noreferrer",target:"_blank",text:"Open story"})});function YAn(){const{broadcast:e,scheme:t}=il(),n=h.useCallback(()=>{e({type:"workshop/toggleScheme"})},[e]);return l.jsx(GAn,{dark:t==="dark",onToggleScheme:n})}const GAn=h.memo(function(t){const{dark:n,onToggleScheme:r}=t;return l.jsx(oe,{fontSize:1,icon:n?WF:KF,mode:"bleed",onClick:r,padding:2})}),KAn=h.memo(function(){const{broadcast:t,story:n,viewport:r}=il(),o=h.useCallback(i=>{t({type:"workshop/setViewport",value:i})},[t]);return l.jsx(XAn,{disabled:!n,setViewport:o,viewport:r})}),ZAn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},XAn=h.memo(function(t){var n;const{disabled:r,setViewport:o,viewport:i}=t;return l.jsx(on,{button:l.jsx(oe,{disabled:r,fontSize:1,iconRight:Bl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=V5.find(s=>s.name===i))==null?void 0:n.title}),id:"viewport-menu",menu:l.jsx(Nt,{children:V5.map(s=>l.jsx(ze,{fontSize:1,onClick:()=>o(s.name),padding:2,selected:s.name===i,text:s.title},s.name))}),popover:ZAn})});function QAn(){const{broadcast:e,story:t,zoom:n}=il(),r=h.useCallback(o=>e({type:"workshop/setZoom",value:o}),[e]);return l.jsx(eDn,{disabled:!t,setZoom:r,zoom:n})}const JAn={constrainSize:!0,matchReferenceWidth:!0,placement:"bottom",portal:!0},eDn=h.memo(function(t){var n;const{disabled:r,setZoom:o,zoom:i}=t;return l.jsx(on,{button:l.jsx(oe,{disabled:r,fontSize:1,iconRight:Bl,mode:"ghost",padding:2,style:{minWidth:80},text:(n=Rme.find(s=>s.value===i))==null?void 0:n.title}),id:"zoom-menu",menu:l.jsx(Nt,{children:Rme.map(s=>l.jsx(ze,{fontSize:1,onClick:()=>o(s.value),padding:2,selected:s.value===i,text:s.title},s.value))}),popover:JAn})}),tDn=h.memo(function(t){const{inspectorExpanded:n,navigatorExpanded:r,onInspectorToggle:o,onNavigatorToggle:i}=t,s=bm(),{story:a,title:c}=il();return l.jsx(Q,{borderBottom:!0,flex:"none",padding:2,style:{lineHeight:0},children:l.jsxs(H,{gap:1,children:[l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(oe,{"aria-label":"Open navigator",fontSize:[2,2,1],icon:UF,mode:"bleed",onClick:i,padding:2,selected:r})}),l.jsxs(H,{flex:1,justify:["center","center","flex-start"],padding:2,sizing:"border",style:{minWidth:250},children:[s<2&&l.jsx(L,{weight:"bold",children:(a==null?void 0:a.title)||c}),s>=2&&l.jsx(UAn,{})]}),l.jsx(M,{display:["block","block","none"],flex:"none",children:l.jsx(oe,{"aria-label":"Open inspector",fontSize:[2,2,1],icon:hj,mode:"bleed",onClick:o,padding:2,selected:n})}),l.jsx(M,{display:["none","none","block"],flex:"none",children:l.jsxs(Zt,{space:1,children:[l.jsx(qAn,{}),l.jsx(KAn,{}),l.jsx(QAn,{}),l.jsx(YAn,{})]})})]})})});function E$e(e,t,n){if(t.__scope__){const s=t.__scope__;return s.name==="@@root@@"?s.stories.map(a=>({type:"story",...a})):[{type:"scope",name:s.name||"@@root@@",title:s.title||"(root)",scope:s}]}const r=e.find(s=>s.name===n),i=Object.entries(t).filter(s=>{let[a]=s;return a!=="__scope__"}).flatMap(s=>{let[a,c]=s;return E$e((r==null?void 0:r.children)||[],c,a)});return[{type:"list",name:n,title:(r==null?void 0:r.title)||n,items:i}]}function nDn(e,t){const n={};for(const i of t){const s=i.name||"@@root@@",a=n[s]||{name:s,title:i.title,stories:[]},c={...a,name:s,stories:a.stories.concat(i.stories)};n[s]=c}let r={};for(const i of Object.values(n))r=tAn(r,i.name||"@@root@@",{__scope__:i});const o={type:"list",name:"@@root@@",items:[]};for(const[i,s]of Object.entries(r))o.items.push(...E$e(e,s,i));return o}const rDn=h.memo(function(t){const{matches:n,onStoryClick:r}=t;return l.jsx(ee,{space:1,children:n.map(o=>{let{scope:i,story:s}=o;return l.jsx(Q,{as:"a","data-path":"/".concat(i.name,"/").concat(s.name),href:"/".concat(i.name,"/").concat(s.name),onClick:r,padding:2,radius:2,children:l.jsx(L,{size:1,textOverflow:"ellipsis",children:[i.title||"",s.title].filter(Boolean).join(" / ")})},"".concat(i.name,"/").concat(s.name))})})}),oDn=h.memo(function(t){const{items:n}=t;return l.jsx(oCe,{space:1,children:l.jsx(k$e,{items:n})})}),k$e=h.memo(function(t){const{basePath:n="",items:r}=t,{broadcast:o,path:i,scope:s,story:a}=il(),c=h.useCallback(u=>{u.preventDefault();const f=u.currentTarget.getAttribute("data-path");f&&o({type:"workshop/setPath",value:f})},[o]);return h.useMemo(()=>r.length===0?null:l.jsx(l.Fragment,{children:r.map((u,d)=>{if(u.type==="list"){const f="".concat(n,"/").concat(u.name);return l.jsx(iDn,{expanded:i.startsWith(f+"/"),item:u,path:f},u.name||d)}return u.type==="story"?l.jsx(ax,{"data-path":"/".concat(u.name||""),fontSize:[2,2,1],href:"/".concat(u.name||""),onClick:c,padding:2,selected:(a==null?void 0:a.component)===u.component,text:u.title},u.name):u.type==="scope"?l.jsx(sDn,{currentStory:a,expanded:u.scope===s,item:u,onStoryClick:c},u.name):l.jsx(ax,{text:"unknown"},d)})}),[n,s,a,c,r,i])}),iDn=h.memo(function(t){const{expanded:n,item:r,path:o}=t,i=h.useMemo(()=>l.jsx(k$e,{basePath:o,items:r.items}),[r,o]);return l.jsx(ax,{expanded:n,fontSize:[2,2,1],padding:2,text:r.title,weight:"semibold",children:i})}),sDn=h.memo(function(t){const{currentStory:n,expanded:r,item:o,onStoryClick:i}=t,s=h.useMemo(()=>o.scope.stories.map(a=>l.jsx(ax,{"data-path":"/".concat(o.scope.name,"/").concat(a.name),fontSize:[2,2,1],href:"/".concat(o.scope.name,"/").concat(a.name),onClick:i,padding:2,selected:n===a,text:a.title},a.name)),[n,o,i]);return l.jsx(ax,{expanded:r,fontSize:[2,2,1],padding:2,text:o.title,weight:"semibold",children:s})});var qme=Object.freeze,aDn=Object.defineProperty,lDn=(e,t)=>qme(aDn(e,"raw",{value:qme(t||e.slice())})),Yme;const cDn=P(Q)(Yme||(Yme=lDn([`
  overflow: hidden;

  @media screen and (min-width: `,`px) {
    border-right: 1px solid var(--card-border-color);
    min-width: 180px;
    max-width: 300px;
    overflow: auto;
  }
`])),e=>{let{theme:t}=e;return t.sanity.media[1]}),uDn={flex:"none"},dDn={lineHeight:0},fDn=[2,2,1],hDn=h.memo(function(t){const{collections:n=[],expanded:r}=t,{broadcast:o,scopes:i}=il(),s=h.useMemo(()=>nDn(n,i),[n,i]),[a,c]=h.useState(""),u=h.useMemo(()=>{var m;if(!a)return jv;const v=a.toLowerCase(),g=[];for(const b of i)for(const x of b.stories)((m=b.title)!=null&&m.toLowerCase().includes(v)||x.title.toLowerCase().includes(v))&&g.push({scope:b,story:x});return g},[a,i]),d=h.useCallback(m=>c(m.currentTarget.value),[]),f=h.useCallback(()=>c(""),[]),p=h.useCallback(m=>{m.preventDefault();const g=m.currentTarget.getAttribute("data-path");g&&(o({type:"workshop/setPath",value:g}),c(""))},[o]);return l.jsx(pDn,{expanded:r,matches:u,menu:s,onSearchQueryChange:d,onSearchQueryClear:f,onStoryClick:p,query:a})}),pDn=h.memo(function(t){const{expanded:n,matches:r,menu:o,onSearchQueryChange:i,onSearchQueryClear:s,onStoryClick:a,query:c}=t,u=h.useMemo(()=>n?["block"]:["none","none","block"],[n]);return l.jsx(cDn,{display:u,flex:1,children:l.jsxs(H,{direction:"column",height:"fill",children:[l.jsx(os,{style:uDn,children:l.jsx(Q,{padding:2,shadow:1,style:dDn,children:l.jsx(Lr,{border:!1,clearButton:!!c,fontSize:fDn,icon:ei,onChange:i,onClear:s,padding:2,placeholder:"Stories",radius:2,space:2,value:c})})}),l.jsxs(Q,{flex:1,overflow:"auto",children:[c&&r.length>0&&l.jsx(M,{padding:2,children:l.jsx(rDn,{matches:r,onStoryClick:a})}),!c&&o.type==="list"&&l.jsx(M,{padding:2,children:l.jsx(oDn,{items:o.items})})]})]})})});var Gme=Object.freeze,mDn=Object.defineProperty,gDn=(e,t)=>Gme(mDn(e,"raw",{value:Gme(t||e.slice())})),Kme;const vDn=P.iframe(Kme||(Kme=gDn([`
  display: block;
  border: 0;
  height: 100%;
  width: 100%;
`]))),yDn=h.memo(function(t){const{frameRef:n,hidden:r}=t,{frameReady:o,frameUrl:i,path:s,payload:a,scheme:c,title:u,viewport:d,zoom:f}=il(),p=V5.find(w=>w.name===d)||V5[0],m=p==null?void 0:p.rect.width,v=p==null?void 0:p.rect.height,[g]=h.useState(()=>y$e({baseUrl:i,path:s,payload:a,scheme:c,viewport:d,zoom:f})),b=h.useMemo(()=>({maxWidth:m==="auto"?void 0:"".concat((m||1)*f,"px"),maxHeight:v?"".concat((v||1)*f,"px"):void 0}),[m,v,f]),x=h.useMemo(()=>r?"none":"block",[r]),y=h.useMemo(()=>({transform:"scale(".concat(f,")"),transformOrigin:"0 0",width:"".concat(100/f,"%"),height:"".concat(100/f,"%")}),[f]);return l.jsx(Q,{display:x,flex:1,overflow:"hidden",tone:"transparent",children:l.jsxs(H,{align:"center",height:"fill",justify:"center",sizing:"border",children:[s==="/"&&l.jsx(eo,{width:0,children:l.jsxs(ee,{padding:4,space:4,children:[l.jsx(Wo,{align:"center",children:u}),l.jsx(L,{align:"center",muted:!0,children:"Browse workshop stories in the navigator to the left."})]})}),!o&&s!=="/"&&l.jsx(hr,{muted:!0}),l.jsx(eo,{height:"fill",hidden:!o||s==="/",style:b,width:"auto",children:l.jsx(Q,{height:"fill",shadow:1,children:l.jsx(vDn,{ref:n,src:g,style:y})})})]})})});function bDn(){const e=new Set;let t=null,n=[],r=null;function o(){r&&clearInterval(r),r=setTimeout(()=>{var c;(c=t==null?void 0:t.contentWindow)==null||c.postMessage(n,window.location.origin),n=[],r=null},0)}function i(c){const u=c.data;if(_$e(u)){for(const d of u)if(S$e(d)&&typeof d.type=="string"&&d.type.startsWith("workshop/"))for(const f of e)f(d)}}function s(){t!=null&&t.contentWindow&&window.addEventListener("message",i)}function a(c){c!=null&&c.contentWindow&&window.removeEventListener("message",i)}return{message:{publish(c){n.push(c),o()},subscribe(c){return e.add(c),()=>{e.delete(c)}}},setElement(c){const u=t;t=c,c?s():u&&a(u)}}}function Zme(e,t,n){const r=e.path,o=e.query||{},{scheme:i,viewport:s,zoom:a,...c}=o;return{frameReady:n||!1,path:r,payload:c,scheme:t||(typeof i=="string"?i:"light"),viewport:typeof s=="string"?s:"auto",zoom:typeof a=="number"?a:1}}function Xme(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const{payload:n,scheme:r,viewport:o,zoom:i}=e,s={scheme:r};if(o&&o!==nAn&&(s.viewport=o),i&&i!==rAn&&(s.zoom=i),t)for(const[a,c]of Object.entries(n))["schema","viewport","zoom"].includes(a)?console.warn('Workshop: the payload cannot contain a property named "'.concat(a,'" (protected name)')):s[a]=c;return s}h.memo(function(t){var n,r;const{config:o,locationStore:i,onSchemeChange:s,scheme:a}=t,c=(r=(n=o.features)==null?void 0:n.navbar)!=null?r:!0,u=h.useMemo(()=>v$e(),[]),d=h.useMemo(()=>bDn(),[]),[f,p]=h.useState(null),[m,v]=h.useState(null),[{frameReady:g,path:b,payload:x,scheme:y,viewport:w,zoom:C},_]=h.useState(()=>Zme(i.get(),a)),S=bm(),[E,j]=h.useState(!1),[k,T]=h.useState(!1),A=h.useRef(g),D=h.useRef(y),I=h.useRef(b),O=h.useRef({scheme:y,viewport:w,zoom:C,...x}),$=h.useCallback(V=>{u.publish(V),d.message.publish(V)},[u,d]),R=h.useMemo(()=>Wme(V=>i.push(V),150),[i]),z=h.useMemo(()=>Wme(V=>i.replace(V),150),[i]),B=h.useCallback(()=>{j(V=>!V),T(!1)},[]),U=h.useCallback(()=>{j(!1),T(V=>!V)},[]),W=h.useRef(S);return h.useEffect(()=>{W.current<2&&S>=2&&(j(!1),T(!1)),W.current=S},[S]),h.useEffect(()=>{j(!1)},[b]),h.useEffect(()=>()=>R.cancel(),[R]),h.useEffect(()=>()=>z.cancel(),[z]),h.useEffect(()=>u.subscribe(V=>{_(K=>{const te=C$e(K,V),N=!Tv(K,te);if(N){if(V.type==="workshop/setPath"){if(I.current!==te.path){I.current=te.path;const G=Xme(te,!1);R({path:te.path,query:G})}}else if(V.type!=="workshop/setState"){const G=Xme(te);Tv(O.current,G)||(O.current=G,z({path:te.path,query:G}))}}return N?te:K})}),[R,z,u,i]),h.useEffect(()=>d.message.subscribe(u.publish),[u,d]),h.useEffect(()=>{A.current=g},[g]),h.useEffect(()=>i.subscribe(V=>{const K=Zme(V,void 0,g);$({type:"workshop/setState",value:K})}),[$,g,i]),h.useEffect(()=>{D.current=y,s(y)},[s,y]),h.useEffect(()=>{a&&D.current!==a&&(D.current=a,$({type:"workshop/setScheme",value:a}))},[$,a]),o.scopes?l.jsx(w$e,{config:o,broadcast:$,channel:u,frameReady:g,origin:"main",path:b,payload:x,scheme:y,viewport:w,zoom:C,children:l.jsx(VL,{children:l.jsx(Bu,{element:f,children:l.jsx(ad,{element:m,children:l.jsxs(H,{"data-boundary":"",direction:"column",height:"fill",ref:p,style:{minWidth:320},children:[c&&l.jsx(tDn,{inspectorExpanded:k,navigatorExpanded:E,onInspectorToggle:U,onNavigatorToggle:B}),l.jsxs(H,{flex:1,children:[l.jsx(hDn,{collections:o.collections,expanded:E}),l.jsx(yDn,{frameRef:d.setElement,hidden:E||k}),l.jsx(HAn,{expanded:k})]}),l.jsx("div",{"data-portal":"",ref:v})]})})})})}):l.jsx(l.Fragment,{children:"No scopes"})});function xDn(e){const{currentUser:t,fieldName:n,mentionOptions:r,onBlur:o,onFocus:i,onKeyDown:s,onNewThreadCreate:a,readOnly:c}=e,[u,d]=h.useState(jv),f=h.useRef(null),p=h.useCallback(()=>{a==null||a(u),d(jv)},[a,u]),m=h.useMemo(()=>EC(u),[u]),v=h.useCallback(()=>{var w;m&&((w=f.current)==null||w.discardDialogController.open())},[m]),g=h.useCallback(w=>{w.isDefaultPrevented()||(w.key==="Escape"&&(w.preventDefault(),w.stopPropagation(),v()),s&&s(w))},[s,v]),b=h.useCallback(()=>{var w,C;d(jv),(w=f.current)==null||w.discardDialogController.close(),(C=f.current)==null||C.focus()},[]),x=h.useCallback(()=>{var w;(w=f.current)==null||w.discardDialogController.close()},[]),y=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:n})]});return l.jsx(yD,{currentUser:t,expandOnFocus:!0,mentionOptions:r,onBlur:o,onChange:d,onDiscardCancel:x,onDiscardConfirm:b,onKeyDown:g,onFocus:i,onSubmit:p,placeholder:y,readOnly:c,ref:f,value:u})}var Qme=Object.freeze,wDn=Object.defineProperty,j$e=(e,t)=>Qme(wDn(e,"raw",{value:Qme(t||e.slice())})),Jme,ege;const CDn=P(H)(Jme||(Jme=j$e([`
  min-height: 25px;
`]))),_Dn=P(oe)(e=>{let{theme:t}=e;const n=t.sanity.color.base.fg;return de(ege||(ege=j$e([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),n)});function SDn(e){const{breadcrumbs:t,canCreateNewThread:n,children:r,currentUser:o,fieldPath:i,isSelected:s,mentionOptions:a,onNewThreadCreate:c,onPathSelect:u,readOnly:d}=e,f=h.useCallback(b=>{const x={fieldPath:i,message:b,parentCommentId:void 0,status:"open",threadId:ud()};c==null||c(x)},[c,i]),p=h.useCallback(b=>{b.stopPropagation(),u==null||u({fieldPath:i,origin:"inspector",threadId:null})},[i,u]),m=h.useCallback(b=>{b.stopPropagation(),b.detail!==0&&(u==null||u({fieldPath:i,origin:"inspector",threadId:null}))},[i,u]),v=h.useMemo(()=>(t==null?void 0:t.map(b=>b.title))||[],[t]),g=v[v.length-1];return l.jsxs(ee,{space:2,children:[l.jsx(CDn,{align:"center",gap:2,paddingRight:1,sizing:"border",children:l.jsx(ee,{flex:1,children:l.jsx(H,{align:"center",children:l.jsx(_Dn,{"aria-label":"Go to ".concat(g," field"),mode:"bleed",onClick:p,padding:2,children:l.jsx(t5n,{maxLength:3,titlePath:v})})})})}),n&&l.jsx(ORe,{onClick:m,tone:s?"primary":void 0,children:l.jsx(xDn,{currentUser:o,fieldName:g,mentionOptions:a,onNewThreadCreate:f,readOnly:d})}),l.jsx(ee,{space:2,children:r})]})}const tge={open:{title:"No open comments yet",message:l.jsxs("span",{children:["Open comments on this document ",l.jsx("br",{}),"will be shown here."]})},resolved:{title:"No resolved comments yet",message:l.jsxs(l.Fragment,{children:["Resolved comments on this document ",l.jsx("br",{}),"will be shown here."]})}};function EDn(e){const{status:t,error:n,loading:r,hasNoComments:o}=e;return n?l.jsx(H,{align:"center",justify:"center",flex:1,padding:4,children:l.jsx(H,{align:"center",children:l.jsx(L,{size:1,muted:!0,children:"Something went wrong"})})}):r?l.jsx(H,{align:"center",justify:"center",flex:1,padding:4,children:l.jsxs(H,{align:"center",gap:2,children:[l.jsx(hr,{muted:!0,size:1}),l.jsx(L,{size:1,muted:!0,children:"Loading comments..."})]})}):o?l.jsx(H,{align:"center",justify:"center",flex:1,sizing:"border",children:l.jsx(eo,{width:0,padding:4,children:l.jsxs(ee,{space:3,children:[l.jsx(L,{align:"center",size:1,muted:!0,weight:"semibold",children:tge[t].title}),l.jsx(L,{align:"center",size:1,muted:!0,children:tge[t].message})]})})}):null}const kDn={behavior:"smooth",block:"start",inline:"nearest"};function jDn(e){return e.reduce((t,n)=>{const r=n.fieldPath;return t[r]||(t[r]=[]),t[r].push(n),t},{})}const TDn=h.forwardRef(function(t,n){const{comments:r,currentUser:o,error:i,loading:s,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onNewThreadCreate:p,onPathSelect:m,onReply:v,onStatusChange:g,readOnly:b,selectedPath:x,status:y}=t,[w,C]=h.useState(null),_=h.useCallback(j=>{const k=document==null?void 0:document.querySelector('[data-comment-id="'.concat(j,'"]'));k&&k.scrollIntoView(kDn)},[]);h.useImperativeHandle(n,()=>({scrollToComment:_}),[_]);const S=h.useMemo(()=>Object.entries(jDn(r)),[r]),E=!s&&!i&&S.length>0;return l.jsxs(H,{direction:"column",flex:1,height:"fill",overflow:"hidden",ref:C,sizing:"border",children:[l.jsx(EDn,{error:i,hasNoComments:S.length===0,loading:s,status:y}),E&&l.jsx(ee,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,children:l.jsx(Bu,{element:w,children:S==null?void 0:S.map(j=>{let[k,T]=j;const A=T[0].breadcrumbs,D=T[0].threadId,I=(x==null?void 0:x.fieldPath)===k&&!x.threadId;return l.jsx(ee,{as:"li","data-group-id":D,paddingTop:3,children:l.jsx(SDn,{breadcrumbs:A,canCreateNewThread:y==="open",currentUser:o,fieldPath:k,isSelected:I,mentionOptions:a,onNewThreadCreate:p,onPathSelect:m,readOnly:b,children:T.map(O=>{var $,R;const z=O.replies.slice().reverse(),B=y==="open"&&(($=O.parentComment._state)==null?void 0:$.type)!=="createError"&&((R=O.parentComment._state)==null?void 0:R.type)!=="createRetrying",U=(x==null?void 0:x.threadId)===O.parentComment.threadId&&(x==null?void 0:x.fieldPath)===O.parentComment.target.path.field;return l.jsx(Jkn,{canReply:B,currentUser:o,isSelected:U,mentionOptions:a,onCopyLink:c,onCreateRetry:u,onDelete:d,onEdit:f,onPathSelect:m,onReply:v,onStatusChange:g,parentComment:O.parentComment,readOnly:b,replies:z},O.parentComment._id)})},k)},k)})})})]})}),ADn=re.memo(TDn),DDn={thread:{title:"Delete this comment thread?",body:"This comment and its replies will be deleted, and once deleted cannot be recovered.",confirmButtonText:"Delete thread"},comment:{title:"Delete this comment?",body:"Once deleted, a comment cannot be recovered.",confirmButtonText:"Delete comment"}};function IDn(e){const{isParent:t,onClose:n,commentId:r,onConfirm:o,loading:i,error:s}=e,{title:a,body:c,confirmButtonText:u}=DDn[t?"thread":"comment"],d=h.useCallback(()=>{o(r)},[r,o]);return l.jsx(Mi,{header:a,id:"delete-comment-dialog",onClose:n,width:0,footer:l.jsxs(nn,{columns:2,padding:2,gap:2,children:[l.jsx(oe,{text:"Cancel",mode:"ghost",onClick:n}),l.jsx(oe,{loading:i,onClick:d,text:u,tone:"critical"})]}),children:l.jsxs(ee,{padding:4,space:4,children:[l.jsx(L,{children:c}),s&&l.jsx(cr,{tone:"critical",children:"An error occurred while deleting the comment. Please try again."})]})})}var nge=Object.freeze,ODn=Object.defineProperty,wz=(e,t)=>nge(ODn(e,"raw",{value:nge(t||e.slice())})),rge,oge,ige;const PDn=P(M)(rge||(rge=wz([`
  max-width: 280px;
`]))),RDn=fm(oge||(oge=wz([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),$Dn=P(rn)(ige||(ige=wz([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),RDn);function MDn(e){const{onDismiss:t}=e;return l.jsx($Dn,{content:l.jsx(PDn,{padding:4,children:l.jsxs(ee,{space:3,children:[l.jsx(L,{weight:"semibold",size:1,children:"Document fields now have comments"}),l.jsx(L,{size:1,children:"You can add comments to any field in a document. They'll show up here, grouped by field."}),l.jsx(H,{justify:"flex-end",marginTop:2,children:l.jsx(oe,{fontSize:1,padding:2,text:"Got it",tone:"primary",onClick:t})})]})}),open:!0,portal:!0,...e})}const Cz=h.createContext(null);function FDn(e){const t={};return e!==null&&(t.identity=e.id),t}const TP=new Map;async function LDn(e,t,n){TP.has(t)||TP.set(t,bTe("*[".concat(t,"]")));const r=TP.get(t),o=FDn(e),{identity:i}=o,s={...o},a=await(await hTe(r,{dataset:[n],identity:i,params:s})).get();return(a==null?void 0:a.length)===1}async function BDn(e,t,n,r){if(!r)return{granted:!0,reason:"Null document, nothing to check"};if(!t.length)return{granted:!1,reason:"No document grants"};const o=[];for(const s of t)await LDn(e,s.filter,r)&&o.push(s);const i=o.some(s=>s.permissions.some(a=>a===n));return{granted:i,reason:i?"Matching grant":"No matching grants found"}}const sge={data:[],error:null,loading:!0};let age=null;function NDn(e){const{documentValue:t}=e,n=Rwn(),r=XN(),o=mr(cn),[i,s]=h.useState(sge),a=h.useMemo(()=>{const u=n.get().pipe(le(v=>{var g;return(g=v.members)==null?void 0:g.filter(b=>!b.isRobot)})).pipe(rt(async v=>{const g=v.map(x=>{let{id:y}=x;return y});return await r.getUsers(g)}),le(v=>v.map(g=>({displayName:g.displayName,id:g.id,canBeMentioned:!1})))),d=age,f=d?ve(d):o.observable.fetch('*[_type == "system.group"]');return nnt([u,f]).pipe(ft(async v=>{let[g,b]=v;d||(age=b);const x=g==null?void 0:g.map(async w=>{const _=[...b.map(E=>E.members.includes(w.id)?E.grants:[])].flat(),{granted:S}=await BDn(w,_,"read",t);return{...w,canBeMentioned:S}});return await Promise.all(x||[])})).pipe(le(v=>({error:null,loading:!1,data:Em(v,"displayName")})))},[o.observable,t,n,r]);return h.useEffect(()=>{const c=ve(sge),d=Wr(c,a).subscribe(s);return()=>{d.unsubscribe()}},[a]),i}function zDn(e){const{documentId:t,documentType:n}=e||{},r=jn().get(n),{title:o}=Ul(),{createPathWithParams:i,params:s}=Wc(),a=Ni(),c=xo(()=>!t||!r?ve(null):jA(a,r,t,""),[t,a,r]),{published:u,draft:d}=c||{},f=(d==null?void 0:d.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:h.useCallback(m=>{let{commentId:v}=m;const g=i({...s,comment:v,inspect:Db}),b="".concat(window.location.origin).concat(g);return{documentTitle:f,url:b,workspaceTitle:o}},[i,f,s,o])}}function VDn(e){const{client:t,currentUser:n,dataset:r,documentId:o,documentType:i,getThreadLength:s,onCreate:a,onCreateError:c,onEdit:u,onRemove:d,onUpdate:f,projectId:p,runSetup:m,workspace:v}=e,g=n==null?void 0:n.id,b=xT(h.useCallback(k=>typeof k.tool=="string"?k.tool:void 0,[])),{tools:x}=Ul(),y=h.useMemo(()=>x.find(k=>k.name===b),[b,x]),{getNotificationValue:w}=zDn({documentId:o,documentType:i}),C=h.useCallback(async k=>{const T=(k==null?void 0:k.id)||ud(),A=((s==null?void 0:s(k.threadId))||0)+1,{documentTitle:D="",url:I="",workspaceTitle:O=""}=w({commentId:T})||{},$={currentThreadLength:A,documentTitle:D,url:I,workspaceTitle:O},R={_id:T,_type:"comment",authorId:g||"",lastEditedAt:void 0,message:k.message,parentCommentId:k.parentCommentId,status:k.status,threadId:k.threadId,context:{payload:{workspace:v},notification:$,tool:(y==null?void 0:y.name)||""},target:{path:{field:k.fieldPath},document:{_dataset:r,_projectId:p,_ref:o,_type:"crossDatasetReference",_weak:!0},documentType:i}};if(a==null||a(R),!t){try{await m(R)}catch(z){throw c==null||c(R._id,z),z}return}try{await t.create(R)}catch(z){throw c==null||c(R._id,z),z}},[y==null?void 0:y.name,g,t,r,o,i,w,s,a,c,p,m,v]),_=h.useCallback(async k=>{t&&(d==null||d(k),await Promise.all([t.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}),t.delete(k)]))},[t,d]),S=h.useCallback(async(k,T)=>{if(!t)return;const A={message:T.message,lastEditedAt:new Date().toISOString()};u==null||u(k,A),await t.patch(k).set(A).commit()},[t,u]),E=h.useCallback(async(k,T)=>{if(t){if(f==null||f(k,T),T.status){await Promise.all([t.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(k,'"]')}).set({status:T.status}).commit(),t.patch(k).set(T).commit()]);return}await(t==null?void 0:t.patch(k).set(T).commit())}},[t,f]);return{operation:h.useMemo(()=>({create:C,edit:S,remove:_,update:E}),[C,_,S,E])}}function T$e(){const e=h.useContext(Cz);if(!e)throw new Error("useComments must be used within a CommentsProvider");return e}function HDn(){const e=h.useContext($$e);if(!e)throw new Error("useCommentsSetup: missing context value");return e}function _z(e){const{documentId:t,documentType:n}=e,{enabled:r,isLoading:o}=hPe("studioComments"),{enabled:i}=Ln().document.unstable_comments,s=i({documentType:n,documentId:$n(t)});return h.useMemo(()=>o?{isEnabled:!1,reason:"loading"}:r?s?{isEnabled:!0,reason:null}:{isEnabled:!1,reason:"disabled-by-config"}:{isEnabled:!1,reason:"plan-upgrade-required"},[s,r,o])}const A$e=h.createContext(null),UDn=1,D$e="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(UDn),WDn=e=>{try{window.localStorage.setItem(D$e,JSON.stringify(e))}catch{}},qDn=()=>{try{const e=window.localStorage.getItem(D$e);return e?JSON.parse(e):!1}catch{return!1}};function YDn(e){const{children:t}=e,[n,r]=h.useState(qDn()),o=h.useCallback(()=>{r(!0),WDn(!0)},[r]),i=h.useMemo(()=>({setDismissed:o,isDismissed:n}),[o,n]);return l.jsx(A$e.Provider,{value:i,children:t})}function GDn(){const e=h.useContext(A$e);if(!e)throw new Error("useCommentsOnboarding: missing context value");return e}function I$e(){const e=h.useContext(M$e);if(!e)throw new Error("useCommentsSelectedPath: missing context value");return e}function KDn(e){return e.reduce((n,r)=>({...n,[r._id]:r}),{})}function ZDn(e,t){switch(t.type){case"COMMENTS_SET":{const n=KDn(t.comments);return{...e,comments:n}}case"COMMENT_ADDED":{const n=t.payload,r=n,o={[n._id]:{...e.comments[n._id],...r,_state:n._state||void 0,_createdAt:n._createdAt||new Date().toISOString()}};if(e.comments&&e.comments[n._id])return{...e,comments:{...e.comments,...o}};const s={...e.comments||{},...o};return{...e,comments:s}}case"COMMENT_RECEIVED":{const n=t.payload;return{...e,comments:{...e.comments,[n._id]:n}}}case"COMMENT_DELETED":{const{[t.id]:n,...r}=e.comments;return Object.keys(r).forEach(o=>{r[o].parentCommentId===t.id&&delete r[o]}),{...e,comments:r}}case"COMMENT_UPDATED":{const n=t.payload,r=n._id;return{...e,comments:{...e.comments,[r]:{...e.comments[r],...n}}}}default:return e}}const XDn={comments:{}},QDn={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},JDn="_createdAt",eIn="desc",tIn=['_type == "comment"',"target.document._ref == $documentId"],nIn=`{
  _createdAt,
  _id,
  authorId,
  lastEditedAt,
  message,
  parentCommentId,
  status,
  target,
  threadId,
}`,rIn="order(".concat(JDn," ").concat(eIn,")"),lge="*[".concat(tIn.join(" && "),"] ").concat(nIn," | ").concat(rIn);function oIn(e){const{client:t,documentId:n}=e,[r,o]=h.useReducer(ZDn,XDn),[i,s]=h.useState(t!==null),[a,c]=h.useState(null),u=h.useMemo(()=>({documentId:$n(n)}),[n]),d=h.useCallback(async()=>{if(!t){s(!1);return}try{const v=await t.fetch(lge,u);o({type:"COMMENTS_SET",comments:v}),s(!1)}catch(v){c(v)}},[t,u]),f=h.useCallback(async v=>{if(v.type==="welcome"&&(s(!0),await d(),s(!1)),v.type==="reconnect"&&s(!0),v.type==="mutation"){if(v.transition==="appear"){const g=v.result;g&&o({type:"COMMENT_RECEIVED",payload:g})}if(v.transition==="disappear"&&o({type:"COMMENT_DELETED",id:v.documentId}),v.transition==="update"){const g=v.result;g&&o({type:"COMMENT_UPDATED",payload:g})}}},[d]),p=h.useMemo(()=>t?t.observable.listen(lge,u,QDn).pipe(Rn(g=>(c(g),ve(g)))):ve(),[t,u]);return h.useEffect(()=>{const v=p.subscribe(f);return()=>{v==null||v.unsubscribe()}},[f,p]),{data:h.useMemo(()=>Object.values(r.comments),[r.comments]),dispatch:o,error:a,loading:i}}function O$e(e,t){var n;const r=Tl(t),o=r[0];if(o&&Ka(e)){const i=(n=e==null?void 0:e.fields)==null?void 0:n.find(s=>s.name===o);if(i){const s=Nr(r.slice(1));return s?O$e(i.type,s):i}}}function iIn(e,t){if(typeof t=="number")return t;const n=i7(e,t);return n===-1?!1:n}function sIn(e){const{currentUser:t,schemaType:n,fieldPath:r,documentValue:o}=e,i=Tl(r),s=[];let a=null;return i.forEach((c,u)=>{var d,f,p,m,v;const g=i.slice(0,u+1),b=i.slice(0,u),x=O$e(n,Nr(g)),y=c.hasOwnProperty("_key"),w=kl(o,b),C=kl(o,g),_={document:o,currentUser:t,parent:w,value:C};if(y&&Array.isArray(w)){const S=iIn(w,c),E=typeof S=="number";s.push({invalid:S===!1,isArrayItem:!0,title:E?"#".concat(Number(S)+1):"Unknown array item"});return}if(x!=null&&x.type){const S=fo(x.type.hidden,_);s.push({invalid:S,isArrayItem:!1,title:Dp(x.type)}),a=x.type;return}if(Fl(a)){const S=kl(o,b),E=S==null?void 0:S._type,j=(d=a==null?void 0:a.of)==null?void 0:d.find(O=>O.name===E),k=(f=j==null?void 0:j.fields)==null?void 0:f.find(O=>O.name===c);if(!E&&C){const O=(p=a==null?void 0:a.of)==null?void 0:p.map(z=>z==null?void 0:z.fields).filter(Boolean).flat(),$=O==null?void 0:O.find(z=>(z==null?void 0:z.name)===c),R=fo((m=$==null?void 0:$.type)==null?void 0:m.hidden,_);$&&(s.push({invalid:R,isArrayItem:!1,title:Dp($==null?void 0:$.type)}),a=$==null?void 0:$.type);return}if(!k){s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const T=Dp(k==null?void 0:k.type),A=fo((v=j==null?void 0:j.type)==null?void 0:v.hidden,_),D=fo(k==null?void 0:k.type.hidden,_),I=A||D;s.push({invalid:I,isArrayItem:!1,title:T}),a=k==null?void 0:k.type;return}s.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),s}function aIn(e){const{comments:t,currentUser:n,documentValue:r,schemaType:o}=e;return(t==null?void 0:t.filter(a=>!a.parentCommentId)).map(a=>{const c=sIn({currentUser:n,documentValue:r,fieldPath:a.target.path.field,schemaType:o});if(c.some(p=>p.invalid))return;const d=t==null?void 0:t.filter(p=>p.parentCommentId===a._id),f=[a,...d].length;return{breadcrumbs:c,commentsCount:f,fieldPath:a.target.path.field,parentComment:a,replies:d,threadId:a.threadId}}).filter(Boolean)}const pF=[],P$e={open:pF,resolved:pF},lIn={data:P$e,error:null,loading:!1},cIn={data:[],error:null,loading:!1},R$e=async()=>{await Promise.resolve()},T2={execute:R$e},uIn={comments:lIn,create:T2,edit:T2,getComment:()=>{},isRunningSetup:!1,mentionOptions:cIn,remove:T2,setStatus:R$e,status:"open",update:T2},dIn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,{isEnabled:i}=_z({documentId:r,documentType:o});return i?l.jsx(fIn,{...t}):l.jsx(Cz.Provider,{value:uIn,children:n})}),fIn=h.memo(function(t){const{children:n,documentId:r,documentType:o}=t,[i,s]=h.useState("open"),{client:a,runSetup:c,isRunningSetup:u}=HDn(),d=$n(r),f=VN(d,o,"low"),p=h.useMemo(()=>f.draft||f.published,[f.draft,f.published]),{dispatch:m,data:v=pF,error:g,loading:b}=oIn({documentId:d,client:a}),x=NDn(h.useMemo(()=>({documentValue:p}),[p])),y=jn().get(o),w=Yo(),{name:C,dataset:_,projectId:S}=Ul(),E=h.useMemo(()=>{if(!y||!w)return P$e;const R=V0(v,["_createdAt"],["desc"]),z=aIn({comments:R,schemaType:y,currentUser:w,documentValue:p});return{open:z.filter(B=>B.parentComment.status==="open"),resolved:z.filter(B=>B.parentComment.status==="resolved")}},[w,v,p,y]),j=h.useCallback(R=>E.open.filter(z=>z.threadId===R).length,[E.open]),k=h.useCallback(R=>v==null?void 0:v.find(z=>z._id===R),[v]),T=h.useCallback(async R=>{var z,B;const U=((B=(z=v==null?void 0:v.find(W=>W._id===R._id))==null?void 0:z._state)==null?void 0:B.type)==="createError";m({type:"COMMENT_ADDED",payload:{...R,_state:U?{type:"createRetrying"}:void 0}})},[v,m]),A=h.useCallback((R,z)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,...z}})},[m]),D=h.useCallback((R,z)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,...z}})},[m]),I=h.useCallback((R,z)=>{m({type:"COMMENT_UPDATED",payload:{_id:R,_state:{error:z,type:"createError"}}})},[m]),{operation:O}=VDn(h.useMemo(()=>({client:a,currentUser:w,dataset:_,documentId:d,documentType:o,projectId:S,schemaType:y,workspace:C,getThreadLength:j,runSetup:c,onCreate:T,onCreateError:I,onEdit:D,onUpdate:A}),[a,w,_,d,o,S,y,C,j,c,T,I,D,A])),$=h.useMemo(()=>({isRunningSetup:u,status:i,setStatus:s,getComment:k,comments:{data:E,error:g,loading:b||u},create:{execute:O.create},remove:{execute:O.remove},edit:{execute:O.edit},update:{execute:O.update},mentionOptions:x}),[u,i,k,E,g,b,O.create,O.remove,O.edit,O.update,x]);return l.jsx(Cz.Provider,{value:$,children:n})}),$$e=h.createContext(null),cge="v2023-11-13";function hIn(e){const{children:t}=e,{dataset:n,projectId:r}=Ul(),o=mr(cn),[i,s]=h.useState(null),[a,c]=h.useState(!1),u=h.useCallback(async()=>{var m;const v=await o.withConfig({apiVersion:"vX"}).request({uri:"/projects/".concat(r,"/datasets?datasetProfile=comments&addonFor=").concat(n),tag:"sanity.studio"});return(m=v==null?void 0:v[0])==null?void 0:m.name},[n,o,r]),d=h.useCallback(m=>o.withConfig({apiVersion:cge,dataset:m,projectId:r,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,r]),f=h.useCallback(async m=>{c(!0);try{const v=await u();if(v){const g=d(v);s(g),await g.create(m),c(!1);return}}catch{}try{const v=await o.withConfig({apiVersion:cge}).request({uri:"/comments/".concat(n,"/setup"),method:"POST"}),g=v==null?void 0:v.datasetName;if(!g){c(!1);return}const b=d(g);s(b),await b.create(m)}catch(v){throw v}finally{c(!1)}},[n,u,d,o]);h.useEffect(()=>{u().then(m=>{if(!m)return;const v=d(m);s(v)})},[u,d]);const p=h.useMemo(()=>({client:i,runSetup:f,isRunningSetup:a}),[i,f,a]);return l.jsx($$e.Provider,{value:p,children:t})}const M$e=h.createContext(null),pIn=re.memo(function(t){const{children:n}=t,[r,o]=h.useState(null),i=h.useCallback(a=>{o(a)},[]),s=h.useMemo(()=>({selectedPath:r,setSelectedPath:i}),[r,i]);return l.jsx(M$e.Provider,{value:s,children:n})}),mIn=P(Q)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}}),gIn=h.forwardRef(function(t,n){const{onClose:r,onViewChange:o,view:i}=t,s=h.useCallback(()=>o("open"),[o]),a=h.useCallback(()=>o("resolved"),[o]);return l.jsx(mIn,{ref:n,children:l.jsxs(H,{padding:2,children:[l.jsxs(H,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[l.jsx(L,{as:"h1",size:1,weight:"semibold",children:"Comments"}),l.jsx(Wwn,{})]}),l.jsxs(H,{flex:"none",padding:1,gap:2,children:[l.jsx(on,{id:"comment-status-menu-button",button:l.jsx(oe,{text:fn(i),fontSize:1,padding:2,mode:"bleed",iconRight:Ja,space:2}),menu:l.jsxs(Nt,{style:{width:"180px"},children:[l.jsx(ze,{fontSize:1,iconRight:i==="open"?ea:void 0,onClick:s,text:"Open comments"}),l.jsx(ze,{fontSize:1,iconRight:i==="resolved"?ea:void 0,onClick:a,text:"Resolved comments"})]}),popover:{placement:"bottom-end"}}),l.jsx(oe,{"aria-label":"Close comments",fontSize:1,icon:NF,mode:"bleed",onClick:r,padding:2})]})]})})});var uge=Object.freeze,vIn=Object.defineProperty,F$e=(e,t)=>uge(vIn(e,"raw",{value:uge(t||e.slice())})),dge,fge;const yIn="https://snty.link/comments-beta-feedback",bIn=P.span(dge||(dge=F$e([`
  margin-right: 0.2em;
`]))),xIn=P.a(fge||(fge=F$e([`
  white-space: nowrap;
`]))),wIn=P(Q)({position:"relative",zIndex:1,"&:after":{content:'""',display:"block",position:"absolute",left:0,top:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function CIn(){return l.jsx(wIn,{padding:3,children:l.jsxs(L,{muted:!0,size:1,children:["Help improve comments."," ",l.jsxs(xIn,{href:yIn,target:"_blank",rel:"noreferrer",children:[l.jsx(bIn,{children:"Share your feedback "})," ",l.jsx(qf,{})]})]})})}function _In(e){const{onClose:t}=e,[n,r]=h.useState(!1),[o,i]=h.useState(null),[s,a]=h.useState(!1),[c,u]=h.useState(null),d=h.useRef(null),f=h.useRef(null),p=Yo(),{params:m,createPathWithParams:v,setParams:g}=Wc(),b=No(m)||CRe,x=h.useRef(b==null?void 0:b.comment),y=h.useRef(!1),w=qo().push,{onPathOpen:C,ready:_}=gr(),{isDismissed:S,setDismissed:E}=GDn(),{comments:j,create:k,edit:T,getComment:A,isRunningSetup:D,mentionOptions:I,remove:O,setStatus:$,status:R,update:z}=T$e(),B=h.useMemo(()=>j.data[R],[j,R]),U=h.useMemo(()=>j.loading||!_,[j.loading,_]),{selectedPath:W,setSelectedPath:V}=I$e(),K=h.useCallback(pe=>{$(pe),V(null)},[V,$]),te=h.useCallback(()=>{t(),V(null)},[t,V]),N=h.useCallback(pe=>{const be=v({...m,comment:pe}),Be="".concat(window.location.origin).concat(be);navigator.clipboard.writeText(Be).then(()=>{w({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{w({closable:!0,status:"error",title:"Unable to copy link to clipboard"})})},[v,m,w]),G=h.useCallback(pe=>{const be=A(pe);be&&k.execute({fieldPath:be.target.path.field,id:be._id,message:be.message,parentCommentId:be.parentCommentId,status:be.status,threadId:be.threadId})},[k,A]),q=h.useCallback(()=>{s||(r(!1),i(null))},[s]),Z=h.useCallback(pe=>{if(V(pe),pe!=null&&pe.fieldPath){const be=Tl(pe.fieldPath);C(be)}},[C,V]),ie=h.useCallback(pe=>{k.execute(pe),V({fieldPath:pe.fieldPath,origin:"inspector",threadId:pe.threadId})},[k,V]),ne=h.useCallback(pe=>{k.execute(pe)},[k]),Y=h.useCallback((pe,be)=>{T.execute(pe,be)},[T]),X=h.useCallback(pe=>{var be;const Be=B.find(ct=>{var ot;return((ot=ct.parentComment)==null?void 0:ot._id)===pe}),$e=!!(Be&&((be=Be==null?void 0:Be.replies)==null?void 0:be.length)>0);r(!0),i({commentId:pe,isParent:$e})},[B]),ae=h.useCallback(async pe=>{try{a(!0),await O.execute(pe),q()}catch(be){u(be)}finally{a(!1)}},[q,O]),he=h.useCallback((pe,be)=>{const Be=A(pe);Be&&(V({fieldPath:Be.target.path.field||null,origin:be||"inspector",threadId:Be.threadId||null}),setTimeout(()=>{var $e;($e=d.current)==null||$e.scrollToComment(pe)}))},[A,V]),ce=h.useCallback((pe,be)=>{z.execute(pe,{status:be}),be==="open"&&($("open"),he(pe))},[he,$,z]),xe=h.useCallback(()=>{W&&V(null)},[W,V]),Se=h.useCallback(()=>{W&&V(null)},[W,V]);return dr(xe,[f.current]),h.useEffect(()=>{const pe=A(x.current||"");!U&&pe&&y.current===!1&&($(pe.status||"open"),he(pe._id,"url"),y.current=!0,x.current=void 0,g({...m,comment:void 0}))},[A,he,U,m,g,$]),l.jsxs(h.Fragment,{children:[o&&n&&l.jsx(IDn,{...o,error:c,loading:s,onClose:q,onConfirm:ae}),l.jsxs(H,{direction:"column",overflow:"hidden",height:"fill",ref:f,onClick:Se,children:[l.jsx(MDn,{onDismiss:E,open:!S,placement:"left-start",children:l.jsx(gIn,{onClose:te,onViewChange:K,view:R})}),p&&l.jsx(ADn,{comments:B,currentUser:p,error:j.error,loading:U,mentionOptions:I,onCopyLink:N,onCreateRetry:G,onDelete:X,onEdit:Y,onNewThreadCreate:ie,onPathSelect:Z,onReply:ne,onStatusChange:ce,readOnly:D,ref:d,selectedPath:W,status:R}),l.jsx(CIn,{})]})]})}function SIn(e){const{documentId:t,documentType:n}=e,{isEnabled:r}=_z({documentId:t,documentType:n});return{hidden:!r,icon:D0e,showAsAction:!0,title:"Comments"}}const EIn={name:Db,component:_In,useMenuItem:SIn};var hge=Object.freeze,kIn=Object.defineProperty,L$e=(e,t)=>hge(kIn(e,"raw",{value:hge(t||e.slice())})),pge,mge;const gge={open:500},jIn=P(L)(pge||(pge=L$e([`
  width: max-content;
`]))),TIn=P(ee)(mge||(mge=L$e([`
  width: 320px;
`])));function AIn(e){const{count:t,currentUser:n,fieldTitle:r,isRunningSetup:o,mentionOptions:i,onChange:s,onClick:a,onCommentAdd:c,onDiscard:u,onInputKeyDown:d,open:f,setOpen:p,value:m}=e,[v,g]=h.useState(null),[b,x]=h.useState(null),y=h.useRef(null),w=t>0,C=h.useCallback(()=>{f&&(p(!1),b==null||b.focus())},[b,f,p]),_=h.useCallback(()=>{c(),C()},[C,c]),S=h.useMemo(()=>EC(m),[m]),E=h.useCallback(()=>{var I;if(!S){C();return}(I=y.current)==null||I.discardDialogController.open()},[C,S]),j=h.useCallback(I=>{I.isDefaultPrevented()||d&&d(I)},[d]),k=h.useCallback(()=>{var I;(I=y.current)==null||I.discardDialogController.close()},[]),T=h.useCallback(()=>{var I;(I=y.current)==null||I.discardDialogController.close(),C(),u()},[C,u]),A=h.useCallback(I=>{I.key==="Escape"&&(I.preventDefault(),I.stopPropagation(),E())},[E]),D=h.useCallback(()=>{f&&E()},[f,E]);if(dr(D,[v]),!w){const I=l.jsxs(l.Fragment,{children:["Add comment to ",l.jsx("b",{children:r})]}),O=l.jsx(TIn,{padding:2,space:4,children:l.jsx(yD,{currentUser:n,focusLock:!0,focusOnMount:!0,mentionOptions:i,onChange:s,onDiscardCancel:k,onDiscardConfirm:T,onKeyDown:j,onSubmit:_,placeholder:I,readOnly:o,ref:y,value:m})});return l.jsx(rn,{constrainSize:!0,content:O,fallbackPlacements:["bottom-end"],open:f,placement:"right-start",portal:!0,ref:g,onKeyDown:A,children:l.jsx("div",{children:l.jsx(it,{delay:gge,disabled:f,portal:!0,placement:"top",content:l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:"Add comment"})}),children:l.jsx(oe,{"aria-label":"Add comment",disabled:o,fontSize:1,icon:QEn,mode:"bleed",onClick:a,padding:2,ref:x,selected:f})})})})}return l.jsx(it,{portal:!0,placement:"top",content:l.jsx(M,{padding:2,sizing:"border",children:l.jsxs(jIn,{size:1,children:["View comment",t>1?"s":""]})}),delay:gge,fallbackPlacements:["bottom"],children:l.jsx(oe,{"aria-label":"Open comments",mode:"bleed",onClick:a,padding:2,children:l.jsxs(H,{align:"center",gap:2,children:[l.jsx(L,{size:1,children:l.jsx(JEn,{})}),l.jsx(L,{size:0,children:t>9?"9+":t})]})})})}var vge=Object.freeze,DIn=Object.defineProperty,B$e=(e,t)=>vge(DIn(e,"raw",{value:vge(t||e.slice())})),yge,bge;const IIn={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function OIn(e){const{documentId:t,documentType:n}=gr(),{isEnabled:r}=_z({documentId:t,documentType:n});return r?l.jsx($In,{...e}):e.renderDefault(e)}const xge={behavior:"smooth",block:"start"},PIn=P(id.div)(e=>{let{theme:t}=e;const{radius:n,space:r,color:o}=t.sanity,i=fe.blue[o.dark?900:50].hex;return de(yge||(yge=B$e([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",n[3],r[2],r[2],r[2],r[2],r[2]*2,r[2]*2,i)}),RIn=P(ee)(bge||(bge=B$e([`
  position: relative;
`])));function $In(e){const[t,n]=h.useState(!1),[r,o]=h.useState(null),i=h.useRef(null),{element:s}=Jf(),{openInspector:a,inspector:c}=gr(),u=Yo(),{comments:d,create:f,isRunningSetup:p,mentionOptions:m,setStatus:v,status:g}=T$e(),{selectedPath:b,setSelectedPath:x}=I$e(),y=h.useMemo(()=>Dp(e.schemaType),[e.schemaType]),[w,C]=h.useState(null),_=h.useMemo(()=>(c==null?void 0:c.name)===Db,[c==null?void 0:c.name]),S=h.useMemo(()=>!_||(b==null?void 0:b.origin)==="form"||(b==null?void 0:b.origin)==="url"?!1:(b==null?void 0:b.fieldPath)===Nr(e.path),[_,e.path,b]),E=h.useMemo(()=>{const R=Nr(e.path);return d.data.open.map(B=>B.fieldPath===R?B.commentsCount:0).reduce((B,U)=>B+U,0)||0},[d.data.open,e.path]),j=E>0,k=h.useCallback(()=>a(Db),[a]),T=h.useCallback(R=>{x({threadId:R,origin:"form",fieldPath:Nr(e.path)}),C(R)},[e.path,x]),A=h.useCallback(()=>{var R;if(j){g==="resolved"&&v("open"),n(!1),a(Db);const z=(R=d.data.open.find(B=>B.fieldPath===Nr(e.path)))==null?void 0:R.threadId;z&&T(z);return}n(z=>!z)},[g,j,T,d.data,v,a,e.path]),D=h.useCallback(()=>{if(r){const R=ud(),z={fieldPath:Nr(e.path),message:r,parentCommentId:void 0,status:"open",threadId:R};f.execute(z),k(),g==="resolved"&&v("open"),o(null),T(R)}},[f,k,T,e.path,v,g,r]),I=h.useCallback(()=>o(null),[]),O=h.useMemo(()=>({...xge,boundary:s,scrollMode:"if-needed",block:"start"}),[s]);h.useEffect(()=>{S&&i.current&&_&&Qv(i.current,O)},[s,_,S,e.path,O]),h.useEffect(()=>{if(_&&w){const R=document.querySelector('[data-group-id="'.concat(w,'"]'));R&&(R.scrollIntoView(xge),C(null))}},[_,w]);const $=h.useMemo(()=>({button:u&&l.jsx(AIn,{count:Number(E),currentUser:u,fieldTitle:y,isRunningSetup:p,mentionOptions:m,onChange:o,onClick:A,onCommentAdd:D,onDiscard:I,open:t,setOpen:n,value:r}),hasComments:j,isAddingComment:t}),[u,E,y,m,A,D,I,t,r,p,j]);return l.jsxs(RIn,{ref:i,children:[e.renderDefault({...e,__internal_comments:$}),l.jsx(kL,{children:S&&l.jsx(PIn,{animate:"animate",exit:"exit",initial:"initial",variants:IIn})})]})}function MIn(e){return l.jsx(hIn,{children:l.jsx(YDn,{children:e.renderDefault(e)})})}const FIn=_B({name:"sanity/desk/comments",document:{inspectors:[EIn]},form:{components:{field:OIn}},studio:{components:{layout:MIn}}}),Sz="sanityStudio:desk:renameDismissed",Ez=(()=>{if(typeof localStorage>"u")return!1;const e="lsCheck";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}})();function LIn(){const[e,t]=h.useState(()=>!NIn());h.useEffect(()=>{if(typeof window>"u"||!Ez)return()=>{};function r(o){o.newValue!==o.oldValue&&o.key===Sz&&t(o.newValue!=="1")}return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]);const n=h.useCallback(()=>{t(!1),BIn()},[]);return{showOnboarding:e,dismissOnboarding:n}}function BIn(){Ez&&localStorage.setItem(Sz,"1")}function NIn(){return Ez?localStorage.getItem(Sz)==="1":!0}const zIn=n9("desk-is-now-structure");function VIn(e){return function(){const[n,r]=h.useState(void 0),{showOnboarding:o,dismissOnboarding:i}=LIn(),s=h.useCallback(a=>{const c=a==null?void 0:a.closest("[data-hidden]");r((c==null?void 0:c.getAttribute("data-hidden"))!=="true")},[]);return l.jsx("div",{ref:s,children:l.jsx(rn,{content:l.jsx(HIn,{onDismiss:i}),open:o&&n,portal:!0,placement:"bottom",fallbackPlacements:["top","bottom"],__unstable_margins:[9,0,0,0],tone:"default",width:0,children:l.jsx(e,{})})})}}function HIn(e){const t=h.useCallback(n=>{n.stopPropagation()},[]);return l.jsxs(ee,{as:"section",padding:3,space:3,onClick:t,children:[l.jsxs(ee,{padding:2,space:4,children:[l.jsx(H,{gap:2,align:"center",children:l.jsxs(L,{as:"h1",size:1,weight:"semibold",children:[l.jsx("strong",{children:"Desk"})," is now ",l.jsx("strong",{children:"Structure"})]})}),l.jsx(ee,{space:3,children:l.jsx(L,{as:"p",muted:!0,size:1,children:"We've renamed this tool to better reflect its purpose alongside the new Presentation tool."})})]}),l.jsxs(nn,{columns:2,gap:3,children:[l.jsx(oe,{as:"a","data-as":"a",href:zIn,icon:qf,target:"_blank",rel:"noreferrer",fontSize:1,padding:3,text:"Learn more",mode:"ghost"}),l.jsx(oe,{fontSize:1,icon:ea,onClick:e.onDismiss,padding:3,text:"Got it",tone:"primary"})]})]})}const N$e=h.createContext(null);function y1(){const e=h.useContext(N$e);if(!e)throw new Error("DeskTool: missing context value");return e}const UIn={create:"created",delete:"deleted",discardDraft:"discarded draft",initial:"created",editDraft:"edited",editLive:"live edited",publish:"published",unpublish:"unpublished"},WIn={create:VP,delete:yo,discardDraft:Di,initial:VP,editDraft:Ou,editLive:Ou,publish:b0,unpublish:oE};function z$e(e){return UIn[e]}function qIn(e){return WIn[e]}function YIn(e){let{maxLength:t,userIds:n}=e;return l.jsx(qj,{maxLength:t,children:n.map(r=>l.jsx(Ya,{user:r,withTooltip:!0},r))})}var wge=Object.freeze,GIn=Object.defineProperty,Op=(e,t)=>wge(GIn(e,"raw",{value:wge(t||e.slice())})),Cge,_ge,Sge,Ege,kge,jge,Tge;const QS=P(H)(e=>{let{theme:t}=e;var n;const r=(n=t.sanity.color.base.skeleton)==null?void 0:n.from;return de(Cge||(Cge=Op([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),r)}),KIn=P(oe)(e=>{let{$selected:t,$disabled:n}=e;return de(Ege||(Ege=Op([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),QS,QS,t&&de(_ge||(_ge=Op([`
      `,`::before {
        background: transparent;
      }
    `])),QS),n&&de(Sge||(Sge=Op([`
      cursor: not-allowed;
    `]))))}),ZIn=P(M)(kge||(kge=Op([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),XIn=P(L)(jge||(jge=Op([`
  text-transform: capitalize;
`]))),QIn=P(M)(Tge||(Tge=Op([`
  min-width: 1rem;
  margin-left: `,`;
`])),e=>{let{theme:t}=e;return"-".concat(ge(t.sanity.space[1]))}),Age={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function JIn(e){let{chunk:t,isFirst:n,isLast:r,isLatest:o,isSelected:i,onSelect:s,timestamp:a,type:c}=e;const u=qIn(c),d=Array.from(t.authors),f=c!=="delete",p=h.useMemo(()=>{const v=new Date(a);return Jo(v,"MMM d, yyyy, hh:mm a")},[a]),m=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),f&&s(t)},[s,t,f]);return l.jsx(KIn,{$selected:i,$disabled:!f,"data-chunk-id":t.id,"data-first":n?!0:void 0,"data-last":r?!0:void 0,"data-ui":"timelineItem",mode:i?"default":"bleed",onClick:m,padding:0,radius:2,tone:i?"primary":Age[t.type],children:l.jsx(M,{paddingX:2,children:l.jsxs(H,{align:"stretch",children:[l.jsx(QS,{align:"center",children:l.jsx(ZIn,{padding:2,children:l.jsx(L,{size:2,children:u&&h.createElement(u)})})}),l.jsxs(ee,{space:2,margin:2,children:[o&&l.jsx(H,{children:l.jsx(Q,{padding:1,radius:2,shadow:1,tone:i?"primary":Age[t.type],children:l.jsx(Ht,{muted:!0,size:0,children:"Latest"})})}),l.jsx(M,{children:l.jsx(XIn,{size:1,weight:"medium",children:z$e(c)||l.jsx("code",{children:c})})}),l.jsx(QIn,{paddingX:1,children:l.jsx(L,{size:0,muted:!0,children:p})})]}),l.jsx(H,{flex:1,justify:"flex-end",align:"center",children:l.jsx(YIn,{maxLength:3,userIds:d})})]})})})}var Dge=Object.freeze,e3n=Object.defineProperty,H5=(e,t)=>Dge(e3n(e,"raw",{value:Dge(t||e.slice())})),Ige,Oge,Pge,Rge;const t3n=P(ee)(Ige||(Ige=H5([`
  max-width: 200px;
`]))),n3n=P(H)(Oge||(Oge=H5([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),r3n=P(M)(e=>{let{$visible:t}=e;return de(Rge||(Rge=H5([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),t&&de(Pge||(Pge=H5([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),mF=e=>{let{chunks:t,disabledBeforeFirstChunk:n,hasMoreChunks:r,lastChunk:o,onLoadMore:i,onSelect:s,firstChunk:a}=e;const[c,u]=h.useState(!1),d=h.useMemo(()=>t.filter(m=>n&&a?m.index<a.index:!0),[t,n,a]),f=h.useMemo(()=>o!=null&&o.id?d.findIndex(m=>m.id===o.id):-1,[o==null?void 0:o.id,d]),p=h.useCallback((m,v)=>{let{activeIndex:g}=v;const b=g===0,x=d&&g===d.length-1||!1;return l.jsxs(M,{paddingBottom:x?1:0,paddingTop:b?1:0,paddingX:1,children:[l.jsx(JIn,{chunk:m,isFirst:b,isLast:x,isLatest:g===0&&!n,isSelected:g===f,onSelect:s,timestamp:m.endTimestamp,type:m.type}),g===d.length-1&&r&&l.jsx(H,{align:"center",justify:"center",padding:4,children:l.jsx(hr,{muted:!0})})]})},[n,d,r,s,f]);return h.useEffect(()=>u(!0),[]),l.jsxs(r3n,{$visible:!f||c,"data-ui":"timeline",children:[d.length===0&&l.jsxs(t3n,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"No document history"}),l.jsx(L,{muted:!0,size:1,children:"When changing the content of the document, the document versions will appear in this menu."})]}),d.length>0&&l.jsx(n3n,{direction:"column",children:l.jsx(uh,{activeItemDataAttr:"data-hovered",ariaLabel:"Document revisions",autoFocus:"list",initialIndex:f,initialScrollAlign:"center",itemHeight:40,items:d,onEndReached:i,onEndReachedIndexOffset:20,overscan:5,renderItem:p,wrapAround:!1})})]})};mF.displayName="Timeline";function o3n(){return l.jsxs(H,{align:"flex-start",gap:3,padding:4,children:[l.jsx(cr,{tone:"critical",children:l.jsx(la,{})}),l.jsxs(ee,{space:4,children:[l.jsx(cr,{size:1,tone:"critical",weight:"semibold",children:"An error occurred whilst retrieving document changes."}),l.jsx(cr,{size:1,tone:"critical",children:"Document history transactions have not been affected."})]})]})}var $ge=Object.freeze,i3n=Object.defineProperty,s3n=(e,t)=>$ge(i3n(e,"raw",{value:$ge(t||e.slice())})),Mge;const a3n=P(rn)(Mge||(Mge=s3n([`
  overflow: hidden;
  overflow: clip;
`])));function V$e(e){let{chunk:t,mode:n,placement:r}=e;const{setTimelineRange:o,setTimelineMode:i,timelineError:s,ready:a,timelineStore:c,isDeleted:u}=gr(),[d,f]=h.useState(!1),[p,m]=h.useState(null),[v,g]=h.useState(null),b=qo(),x=uo(c,B=>B.chunks),y=uo(c,B=>B.isLoading),w=uo(c,B=>B.hasMoreChunks),C=uo(c,B=>B.realRevChunk),_=uo(c,B=>B.sinceTime),S=h.useCallback(()=>{i(n),f(!0)},[n,i]),E=h.useCallback(()=>{i("closed"),f(!1)},[i]),j=h.useCallback(()=>{d&&E()},[E,d]),k=h.useCallback(B=>{d&&(B.key==="Escape"||B.key==="Tab")&&(E(),p==null||p.focus())},[p,E,d]);dr(j,[p,v]),rs(k);const T=h.useCallback(B=>{try{const[U,W]=c.findRangeForRev(B);i("closed"),o(U,W)}catch(U){b.push({closable:!0,description:U.message,status:"error",title:"Unable to load revision"})}},[i,o,c,b]),A=h.useCallback(B=>{try{const[U,W]=c.findRangeForSince(B);i("closed"),o(U,W)}catch(U){b.push({closable:!0,description:U.message,status:"error",title:"Unable to load revision"})}},[i,o,c,b]),D=h.useCallback(()=>{y||c.loadMore()},[y,c]),I=s?l.jsx(o3n,{}):l.jsxs(l.Fragment,{children:[n==="rev"&&l.jsx(mF,{chunks:x,firstChunk:C,hasMoreChunks:w,lastChunk:C,onLoadMore:D,onSelect:T}),n==="since"&&l.jsx(mF,{chunks:x,disabledBeforeFirstChunk:!0,firstChunk:C,hasMoreChunks:w,lastChunk:_,onLoadMore:D,onSelect:A})]}),O=l3n((t==null?void 0:t.endTimestamp)||""),$=t?"".concat(zSe(z$e(t.type)),": ").concat(O):"Latest version",R=t?"Since: ".concat(O):"Since: unknown version",z=n==="rev"?$:R;return l.jsx(a3n,{constrainSize:!0,content:d&&I,"data-ui":"versionMenu",open:d,placement:r,portal:!0,ref:g,children:l.jsx(oe,{disabled:!a,mode:"bleed",fontSize:1,padding:2,iconRight:Bl,onClick:d?E:S,ref:m,selected:d,style:{maxWidth:"100%"},text:a?z:"Loading history"})})}function l3n(e){return h.useMemo(()=>{const n=e?new Date(e):new Date;return Jo(n,"MMM d, yyyy, hh:mm a")},[e])}const c3n=P(Q)({position:"relative",zIndex:1,lineHeight:0,"&:after":{content:'""',display:"block",position:"absolute",left:0,bottom:-1,right:0,borderBottom:"1px solid var(--card-border-color)",opacity:.5}});function H$e(e){const{as:t,children:n,closeButtonLabel:r,onClose:o,title:i,...s}=e;return l.jsxs(c3n,{...s,as:t,children:[l.jsxs(H,{padding:2,children:[l.jsx(M,{flex:1,padding:3,children:l.jsx(L,{as:"h1",size:1,weight:"semibold",children:i})}),l.jsx(M,{flex:"none",padding:1,children:l.jsx(oe,{"aria-label":r,fontSize:1,icon:Di,mode:"bleed",onClick:o,padding:2})})]}),n]})}var Fge=Object.freeze,u3n=Object.defineProperty,d3n=(e,t)=>Fge(u3n(e,"raw",{value:Fge(t||e.slice())})),Lge;const f3n=P.div(Lge||(Lge=d3n([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
    opacity: 0.5;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function h3n(e){const{onResize:t,onResizeStart:n}=e,r=h.useRef(0),o=h.useCallback(i=>{i.preventDefault(),r.current=i.pageX,n();const s=c=>{c.preventDefault(),t(c.pageX-r.current)},a=()=>{window.removeEventListener("mousemove",s),window.removeEventListener("mouseup",a)};window.addEventListener("mousemove",s),window.addEventListener("mouseup",a)},[t,n]);return l.jsxs(f3n,{onMouseDown:o,children:[l.jsx("span",{}),l.jsx("span",{})]})}var Bge=Object.freeze,p3n=Object.defineProperty,m3n=(e,t)=>Bge(p3n(e,"raw",{value:Bge(t||e.slice())})),Nge;const g3n=P(M)(Nge||(Nge=m3n([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function v3n(e){const{as:t,children:n,minWidth:r,maxWidth:o,...i}=e,[s,a]=h.useState(null),c=h.useRef(),[u,d]=h.useState(),f=h.useCallback(()=>{c.current=s==null?void 0:s.offsetWidth},[s]),p=h.useCallback(v=>{const g=c.current;g&&d(Math.min(Math.max(g-v,r),o))},[r,o]),m=h.useMemo(()=>u?{flex:"none",width:u}:{minWidth:r,maxWidth:o},[r,o,u]);return l.jsxs(g3n,{as:t,...i,ref:a,style:m,children:[n,l.jsx(h3n,{onResize:p,onResizeStart:f})]})}function y3n(e){const{documentId:t,documentType:n,flex:r}=e,{collapsed:o}=gh(),{closeInspector:i,inspector:s}=gr(),{features:a}=y1(),c=h.useCallback(()=>{s&&i(s.name)},[i,s]);if(o||!s)return null;const u=h.createElement(s.component,{onClose:c,documentId:t,documentType:n});return a.resizablePanes?l.jsx(v3n,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,maxWidth:_En,minWidth:tF,children:u}):l.jsx(M,{as:"aside","data-ui":"DocumentInspectorPanel",flex:r,children:u})}function b3n(){return l.jsx(sz,{ms:300,children:l.jsxs(H,{align:"center",direction:"column",height:"fill",justify:"center",paddingTop:3,children:[l.jsx(hr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading changes"})})]})})}function x3n(e){const t=new Map;return TA(e,n=>{if(n.action==="unchanged"||!("annotation"in n)||!n.annotation)return!0;const{author:r,timestamp:o}=n.annotation,i=t.get(r);return(!i||i.timestamp<o)&&t.set(r,n.annotation),!0}),Array.from(t.values()).sort((n,r)=>n.timestamp<r.timestamp?1:-1)}var zge=Object.freeze,w3n=Object.defineProperty,C3n=(e,t)=>zge(w3n(e,"raw",{value:zge(t||e.slice())})),Vge;const _3n=P(_A)(Vge||(Vge=C3n([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function S3n(e){const{onClose:t}=e,{documentId:n,schemaType:r,timelineError:o,timelineStore:i,value:s}=gr(),a=h.useRef(null),c=uo(i,b=>b.diff),u=uo(i,b=>b.onOlderRevision),d=uo(i,b=>b.selectionState),f=uo(i,b=>b.sinceTime),p=d==="loading",m=!u,v=re.useMemo(()=>({documentId:n,schemaType:r,FieldWrapper:zUt,rootDiff:c,isComparingCurrent:m,value:s}),[n,c,m,r,s]),g=re.useMemo(()=>c?x3n(c):[],[c]);return l.jsxs(H,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(H$e,{as:"header",closeButtonLabel:"Close review changes",flex:"none",onClose:t,title:"Review changes",children:l.jsxs(H,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[l.jsx(M,{flex:1,children:l.jsx(V$e,{mode:"since",chunk:f,placement:"bottom-start"})}),l.jsx(M,{flex:"none",children:l.jsx(Ji,{annotations:g,description:"Changes by",portal:!0,children:l.jsx(qj,{maxLength:4,"aria-label":"Changes by",children:g.map(b=>{let{author:x}=b;return l.jsx(Ya,{user:x},x)})})})})]})}),l.jsx(Q,{flex:1,children:l.jsx(Bu,{element:a.current,children:l.jsx(_3n,{"data-ui":"Scroller",ref:a,children:l.jsx(M,{flex:1,padding:4,children:l.jsx(E3n,{diff:c,documentContext:v,error:o,loading:p,schemaType:r})})})})})]})}function E3n(e){let{error:t,diff:n,documentContext:r,loading:o,schemaType:i}=e;return t?l.jsx(C4,{}):o?l.jsx(b3n,{}):n?l.jsx(PDe.Provider,{value:r,children:l.jsx(dC,{diff:n,schemaType:i})}):l.jsx(C4,{})}const k3n={name:rF,useMenuItem:()=>{const{features:e}=y1();return{hidden:!e.reviewChanges,icon:qF,title:"Review changes"}},component:S3n,onClose:e=>{let{params:t}=e;return{params:{...t,since:void 0}}},onOpen:e=>{let{params:t}=e;return{params:{...t,since:"@lastPublished"}}}};function j3n(e){const{path:t,schemaType:n,value:r}=e,o=[];let i=n,s=r;for(const a of t){if(typeof a=="string"){if(!xt(s)&&s!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(a));if(i.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(a));s=s==null?void 0:s[a];const c=i.fields.find(u=>u.name===a);if(!c)throw new Error("Field type not found: .".concat(a));i=c.type,o.push(i);continue}if(typeof a=="number"){if(!wee(s)&&s!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(a,"]"));s=s==null?void 0:s[a];const c=i.of.find(u=>typeof s=="string"?u.jsonType==="string":typeof s=="number"?u.jsonType==="number":typeof s=="boolean"?u.jsonType==="boolean":xt(s)?u.name===(s==null?void 0:s._type):!1);if(!c)throw new Error("Item type not found: [".concat(a,"]"));i=c,o.push(i);continue}if(xt(a)&&a._key){if(!wee(s))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(a,"]"));if(i.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(a));if(s=(s??[]).find(d=>xt(d)&&d._key===a._key),!xt(s))throw new Error("Array item not found: [_key == ".concat(a._key,"]"));const u=i.of.find(d=>xt(s)&&d.name===(s==null?void 0:s._type));if(!u)throw new Error("Array item type not found: .".concat(s==null?void 0:s._type));i=u,o.push(i);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(a)))}return o}const T3n={error:la,warning:Br,info:hm},A3n={error:"critical",warning:"caution",info:"primary"};function D3n(e){const{onClose:t}=e,{onFocus:n,onPathOpen:r,schemaType:o,validation:i,value:s}=gr(),a=h.useCallback(c=>{r(c),n(c)},[n,r]);return l.jsxs(H,{direction:"column",height:"fill",overflow:"hidden",children:[l.jsx(H$e,{as:"header",closeButtonLabel:"Close validation",flex:"none",onClose:t,title:"Validation"}),l.jsxs(Q,{flex:1,overflow:"auto",padding:3,children:[i.length===0&&l.jsx(M,{padding:2,children:l.jsx(L,{muted:!0,size:1,children:"No validation errors"})}),i.length>0&&l.jsx(ee,{space:2,children:i.map((c,u)=>l.jsx(I3n,{marker:c,onOpen:a,schemaType:o,value:s},u))})]})]})}function I3n(e){const{marker:t,onOpen:n,schemaType:r,value:o}=e,i=h.useCallback(()=>n(t.path),[t,n]),[s,a]=h.useState(null);return l.jsxs(j0,{onCatch:a,children:[s&&l.jsx(Q,{padding:3,radius:2,tone:"critical",children:l.jsxs(L,{size:1,children:["ERROR: ",s.error.message]})}),!s&&l.jsx(Q,{__unstable_focusRing:!0,as:"button",onClick:i,padding:3,radius:2,tone:A3n[t.level],children:l.jsxs(H,{align:"flex-start",gap:3,children:[l.jsx(M,{flex:"none",children:l.jsx(L,{size:1,children:h.createElement(T3n[t.level])})}),l.jsxs(ee,{flex:1,space:2,children:[l.jsx(O3n,{path:t.path,schemaType:r,value:o}),l.jsx(L,{muted:!0,size:1,children:t.item.message})]})]})})]})}function O3n(e){const{path:t,schemaType:n,value:r}=e,o=h.useMemo(()=>j3n({path:t,schemaType:n,value:r}),[t,n,r]);return l.jsx(L,{size:1,children:o.map((i,s)=>l.jsxs(h.Fragment,{children:[s>0&&l.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),l.jsx("span",{style:{fontWeight:500},children:i.title||i.name})]},s))})}function P3n(e){const{documentId:t,documentType:n}=e,{validation:r}=HN(t,n),o=h.useMemo(()=>r.map(u=>({level:u.level,message:u.item.message,path:u.path})),[r]),i=o.some(zMe),s=o.some(VMe),a=h.useMemo(()=>i?la:s?Br:uj,[i,s]),c=h.useMemo(()=>i?"critical":s?"caution":"positive",[i,s]);return{hidden:o.length===0,icon:a,title:"Validation",tone:c,showAsAction:!0}}const R3n={name:kEn,component:D3n,useMenuItem:P3n},$3n=[xRe,wRe,yRe,bRe,vRe,uz],M3n=[nEn],F3n=[R3n,k3n],L3n=_B(e=>{const t=e?typeof e.name=="string":!1,n=(e==null?void 0:e.icon)||z0e,r=t?n:VIn(n);return{name:"@sanity/desk-tool",document:{actions:o=>Array.from(new Set([...o,...$3n])),badges:o=>Array.from(new Set([...o,...M3n])),inspectors:o=>Array.from(new Set([...o,...F3n]))},plugins:[FIn()],tools:[{name:(e==null?void 0:e.name)||"structure",title:(e==null?void 0:e.title)||"Structure",icon:r,component:h.lazy(()=>R8(()=>import("./index-SE0Dviy6-9ace3feb.js"),[])),canHandleIntent:(o,i)=>o==="create"?B3n(i):o==="edit"?N3n(i):!1,getIntentState:oEn,controlsDocumentTitle:!0,options:e,router:dEn}]}});function B3n(e){return"type"in e?"template"in e?{template:!0}:!0:!1}function N3n(e){return"id"in e?"mode"in e?{mode:e.mode==="structure"}:!0:!1}class ln extends Error{constructor(t,n,r,o){super(t);const i=typeof r>"u"?"<unknown>":"".concat(r);this.path=(n||[]).concat(o?"".concat(i," (").concat(o,")"):i)}withHelpUrl(t){return this.helpId=t,this}}var Pn=(e=>(e.ID_REQUIRED="structure-node-id-required",e.TITLE_REQUIRED="structure-title-required",e.FILTER_REQUIRED="structure-filter-required",e.INVALID_LIST_ITEM="structure-invalid-list-item",e.COMPONENT_REQUIRED="structure-view-component-required",e.DOCUMENT_ID_REQUIRED="structure-document-id-required",e.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",e.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",e.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",e.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",e.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",e.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",e.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",e.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",e.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",e))(Pn||{});const z3n=["_id","_type","_createdAt","_updatedAt","_rev"];function gF(e,t){const[n,...r]=t;if(!("fields"in e))return"";const o=e.fields.find(a=>a.name===n);if(!o)return z3n.includes(n)||console.warn('The current ordering config targeted the nonexistent field "%s" on schema type "%s". It should be one of %o',n,e.name,e.fields.map(a=>a.name)),"";if("to"in o.type&&o.type.name==="reference"){const a=o.type.to;return"".concat(n,"->{").concat(a.map(c=>gF(c,r)).join(","),"}")}const i=r.length>0&&gF(o.type,r),s=i?"{".concat(i,"}"):"";return r.length>0?"".concat(n).concat(s):n}function V3n(e,t){return t.map(n=>gF(e,n.field.split("."))).join(", ")}const U$e={title:"Last edited",name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},H3n={title:"Created",name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},U3n=U$e,Hge=[U$e,H3n];function W$e(e,t,n){return e instanceof Vf?e.serialize({path:n,index:t}):e}class Vf{constructor(t,n){this._context=t,this.spec=n||{}}action(t){return this.clone({action:t})}getAction(){return this.spec.action}intent(t){return this.clone({intent:t})}getIntent(){return this.spec.intent}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}group(t){return this.clone({group:t})}getGroup(){return this.spec.group}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}params(t){return this.clone({params:t})}getParams(){return this.spec.params}showAsAction(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!t})}getShowAsAction(){return this.spec.showAsAction}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:n,action:r,intent:o}=this.spec;if(!n){const i=typeof r=="string"?'action: "'.concat(r,'"'):void 0;throw new ln("`title` is required for menu item",t.path,t.index,i).withHelpUrl(Pn.TITLE_REQUIRED)}if(!r&&!o)throw new ln("`action` or `intent` required for menu item with title ".concat(this.spec.title),t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_OR_INTENT_REQUIRED);if(o&&r)throw new ln("cannot set both `action` AND `intent`",t.path,t.index,'"'.concat(n,'"')).withHelpUrl(Pn.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:n}}clone(t){const n=new Vf(this._context);return n.spec={...this.spec,...t||{}},n}}function q$e(e,t,n){return new Vf(e).group("sorting").title("Sort by ".concat(t.title)).icon(GF).action("setSortOrder").params({by:t.by,extendedProjection:n})}function Y$e(e,t){const{schema:n}=e,r=typeof t=="string"?n.get(t):t;return!r||!("orderings"in r)?[]:(r.orderings?r.orderings.concat(Hge):Hge).map(o=>q$e(e,o,V3n(r,o.by)))}function G$e(e,t,n){return e instanceof nw?e.serialize({path:n,index:t}):e}class nw{constructor(t,n){this._context=t,this._id=n?n.id:"",this._title=n?n.title:""}id(t){return new nw(this._context,{id:t,title:this._title})}getId(){return this._id}title(t){return new nw(this._context,{id:this._id,title:t})}getTitle(){return this._title}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:n,_title:r}=this;if(!n)throw new ln("`id` is required for a menu item group",t.path,t.index,r).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new ln("`title` is required for a menu item group",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);return{id:n,title:r}}}const K$e=/([^A-Za-z0-9-_.])/;function DC(e,t,n){if(typeof e!="string")throw new ln("Structure node id must be of type string, got ".concat(typeof e),t,n);const[r]=e.match(K$e)||[];if(r)throw new ln('Structure node id cannot contain character "'.concat(r,'"'),t,n);if(e.startsWith("__edit__"))throw new ln("Structure node id cannot start with __edit__",t,n);return e}function CD(e,t){if(t)return t;const n=xhe(e);return K$e.test(n)?xhe(oTe(e)):n}class rw{constructor(t){this.spec={options:{},...t||{}}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:CD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o,options:i,component:s}=this.spec;if(!n)throw new ln("`id` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!s)throw new ln("`component` is required for `component` structure item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);return{id:DC(n,t.path,t.index),title:r,type:"component",child:o,component:s,options:i||{},menuItems:(this.spec.menuItems||[]).map((a,c)=>W$e(a,c,t.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,c)=>G$e(a,c,t.path))}}clone(t){const n=new rw;return n.spec={...this.spec,...t||{}},n}}async function Z$e(e,t){const n="*[_id in [$documentId, $draftId]]._type",r=$n(t),o=ai(t);return(await e(cn).fetch(n,{documentId:r,draftId:o},{tag:"structure.resolve-type"}))[0]}class kz{constructor(){this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:this.spec.id||D_n(t)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}getIcon(){return this.spec.icon}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,icon:o}=this.spec;if(!n)throw new ln("`id` is required for view item",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!r)throw new ln("`title` is required for view item",t.path,t.index).withHelpUrl(Pn.TITLE_REQUIRED);return{id:DC(n,t.path,t.index),title:r,icon:o}}}function W3n(e){return typeof e.serialize=="function"}function X$e(e,t,n){return W3n(e)?e.serialize({path:n,index:t}):e}const q3n=e=>xt(e)&&e.type==="component";class _D extends kz{constructor(t){const n=q3n(t)?{...t}:{options:{}};super(),this.spec=n;const r=typeof t=="function"?t:this.spec.component;r&&(this.spec=this.component(r).spec)}component(t){return this.clone({component:t})}getComponent(){return this.spec.component}options(t){return this.clone({options:t})}getOptions(){return this.spec.options||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize(t),r=this.spec.component;if(typeof r!="function")throw new ln("`component` is required and must be a function for `component()` view item",t.path,t.index).withHelpUrl(Pn.COMPONENT_REQUIRED);return{...n,component:r,options:this.spec.options||{},type:"component"}}clone(t){const n=new _D;return n.spec={...this.spec,...t||{}},n}}class SD extends kz{constructor(t){super(),this.spec={id:"editor",title:"Editor",...t||{}}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(t),type:"form"}}clone(t){const n=new SD;return n.spec={...this.spec,...t||{}},n}}const Q$e=e=>new SD(e),Y3n=e=>new _D(e);var G3n=Object.freeze({__proto__:null,ComponentViewBuilder:_D,FormViewBuilder:SD,GenericViewBuilder:kz,component:Y3n,form:Q$e,maybeSerializeView:X$e});const K3n=e=>{let{resolveDocumentNode:t,getClient:n}=e;return async(r,o)=>{let{params:i,path:s}=o,a=i.type;const c=s.slice(0,s.length-1),u=s[s.length-1];if(a||(a=await Z$e(n,r)),!a)throw new ln("Failed to resolve document, and no type provided in parameters.",c,u);return t({documentId:r,schemaType:a})}};class Hf{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:CD(t,this.spec.id)})}getTitle(){return this.spec.title}child(t){return this.clone({child:t})}getChild(){return this.spec.child}documentId(t){const n=this.spec.id||t;return this.clone({id:n,options:{...this.spec.options||{},id:t}})}getDocumentId(){var t;return(t=this.spec.options)==null?void 0:t.id}schemaType(t){return this.clone({options:{...this.spec.options||{},type:typeof t=="string"?t:t.name}})}getSchemaType(){var t;return(t=this.spec.options)==null?void 0:t.type}initialValueTemplate(t,n){return this.clone({options:{...this.spec.options||{},template:t,templateParameters:n}})}getInitialValueTemplate(){var t;return(t=this.spec.options)==null?void 0:t.template}getInitialValueTemplateParameters(){var t;return(t=this.spec.options)==null?void 0:t.templateParameters}views(t){return this.clone({views:t})}getViews(){return this.spec.views||[]}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=t[n||t.length-1],i=this.spec.id||o&&"".concat(o)||"",s={id:i,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof i!="string"||!i)throw new ln("`id` is required for document nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!s||!s.id)throw new ln("document id (`id`) is required for document nodes",t,i,r).withHelpUrl(Pn.DOCUMENT_ID_REQUIRED);if(!s||!s.type)throw new ln("document type (`schemaType`) is required for document nodes",t,i,r);const a=(this.spec.views&&this.spec.views.length>0?this.spec.views:[Q$e()]).map((d,f)=>X$e(d,f,t)),c=a.map(d=>d.id),u=vo(c.filter((d,f)=>c.includes(d,f+1)));if(u.length>0)throw new ln("document node has views with duplicate IDs: ".concat(u.join(",  ")),t,i,r);return{...this.spec,child:this.spec.child||K3n(this._context),id:DC(i,t,n),type:"document",options:Z3n(s),views:a}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new Hf(this._context),r={...this.spec.options||{},...t.options||{}};return n.spec={...this.spec,...t,options:r},n}}function Z3n(e){const t={id:e.id||"",type:e.type||"*"};return e.template&&(t.template=e.template),e.templateParameters&&(t.templateParameters=e.templateParameters),t}function X3n(e,t){let n=t!=null&&t.type?e.resolveDocumentNode({schemaType:t.type}):new Hf(e);if(!t)return n;const{id:r,type:o,template:i,templateParameters:s}=t.options;return n=n.id(t.id).documentId(r),o&&(n=n.schemaType(o)),i&&(n=n.initialValueTemplate(i,s)),t.child&&(n=n.child(t.child)),n}function Q3n(e,t,n){let{resolveDocumentNode:r,templates:o}=e;const i=o.find(s=>s.id===t);if(!i)throw new Error('Template with ID "'.concat(t,'" not defined'));return r({schemaType:i.schemaType}).initialValueTemplate(t,n)}const Uge=["default","card","media","detail","block"],J$e=Symbol("Document type list canHandleIntent"),jz=(e,t,n)=>{let{pane:r}=n;var o,i;const s=e==="edit",a=e==="create",c=r,u=((o=c.options)==null?void 0:o.filter)||"",d=((i=c.options)==null?void 0:i.params)||{},f=c.schemaTypeName?[c.schemaTypeName]:Tz(u,d),p=c.initialValueTemplates||[];return a&&t.template?p.some(m=>m.templateId===t.template):s&&t.id&&f.includes(t.type)||a&&f.includes(t.type)};jz.identity=J$e;class ED{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t})}getTitle(){return this.spec.title}description(t){return this.clone({description:t})}getDescription(){return this.spec.description}templateId(t){const n=this.spec.id||t;return this.clone({id:n,templateId:t})}getTemplateId(){return this.spec.templateId}parameters(t){return this.clone({parameters:t})}getParameters(){return this.spec.parameters}serialize(){let{path:t=[],index:n,hint:r}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:i}=this,{templates:s}=i;if(typeof o.id!="string"||!o.id)throw new ln("`id` is required for initial value template item nodes",t,n,r).withHelpUrl(Pn.ID_REQUIRED);if(!o.templateId)throw new ln("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);const a=s.find(c=>c.id===o.templateId);if(!a)throw new ln("template id (`templateId`) is required for initial value template item nodes",t,o.id,r).withHelpUrl(Pn.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:a.schemaType,type:"initialValueTemplateItem",description:o.description||a.description,title:o.title||a.title,subtitle:o.subtitle,icon:o.icon||a.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=new ED(this._context);return n.spec={...this.spec,...t},n}}function J3n(e){const{schema:t,getStructureBuilder:n,templates:r}=e,o=t.getTypeNames();return r.filter(s=>{var a;return!((a=s.parameters)!=null&&a.length)}).sort((s,a)=>o.indexOf(s.schemaType)-o.indexOf(a.schemaType)).map(s=>n().initialValueTemplateItem(s.id))}function eOn(e,t,n){return e instanceof ED?e.serialize({path:n,index:t}):e}function tOn(e,t){const{schema:n,templates:r}=e;return t.map(o=>{const i=r.find(d=>d.id===o.templateId),s=o.title||(i==null?void 0:i.title)||"Create new",a={};i&&i.schemaType&&(a.type=i.schemaType),o.templateId&&(a.template=o.templateId);const c=o.parameters?[a,o.parameters]:a,u=i&&n.get(i.schemaType);return new Vf(e).title(s).icon(i&&i.icon||(u==null?void 0:u.icon)||vp).intent({type:"create",params:c}).serialize()})}function nOn(){}const eMe=(e,t,n)=>{let{pane:r,index:o}=n;return o<=1&&jz(e,t,{pane:r,index:o})};class tMe{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:CD(t,this.spec.id)})}getTitle(){return this.spec.title}defaultLayout(t){return this.clone({defaultLayout:t})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(t){return this.clone({menuItems:t})}getMenuItems(){return this.spec.menuItems}menuItemGroups(t){return this.clone({menuItemGroups:t})}getMenuItemGroups(){return this.spec.menuItemGroups}child(t){return this.clone({child:t})}getChild(){return this.spec.child}canHandleIntent(t){return this.clone({canHandleIntent:t})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:t}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(t){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(t)?t:[t]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id||"",r=t.path,o=this.spec.defaultLayout;if(o&&!Uge.includes(o))throw new ln("`layout` must be one of ".concat(Uge.map(s=>'"'.concat(s,'"')).join(", ")),r,n||t.index,this.spec.title);const i=(this.spec.initialValueTemplates||[]).map((s,a)=>eOn(s,a,r));return{id:DC(n,t.path,n||t.index),title:this.spec.title,type:"genericList",defaultLayout:o,child:this.spec.child||nOn,canHandleIntent:this.spec.canHandleIntent||eMe,displayOptions:this.spec.displayOptions,initialValueTemplates:i,menuItems:(this.spec.menuItems||[]).map((s,a)=>W$e(s,a,r)),menuItemGroups:(this.spec.menuItemGroups||[]).map((s,a)=>G$e(s,a,r))}}}const rOn=(e,t)=>{var n;const r=((n=e.options)==null?void 0:n.filter.trim())||"";if(["*","{"].includes(r[0]))throw new ln("`filter` cannot start with `".concat(r[0],"` - looks like you are providing a query, not a filter"),t.path,e.id,e.title).withHelpUrl(Pn.QUERY_PROVIDED_FOR_FILTER);return r},oOn=e=>(t,n)=>{var r;const o=n.parent,i=(r=n.params)!=null&&r.template?e.templates.find(a=>a.id===n.params.template):void 0,s=i?i.schemaType:o.schemaTypeName||Z$e(e.getClient,t);return Promise.resolve(s).then(a=>a?e.resolveDocumentNode({schemaType:a,documentId:t}):new Hf(e).id("editor").documentId(t).schemaType(""))};class IC extends tMe{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n!=null&&n.initialValueTemplates)}apiVersion(t){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:t}})}getApiVersion(){var t;return(t=this.spec.options)==null?void 0:t.apiVersion}filter(t){return this.clone({options:{...this.spec.options||{},filter:t}})}getFilter(){var t;return(t=this.spec.options)==null?void 0:t.filter}schemaType(t){const n=typeof t=="string"?t:t.name;return this.clone({schemaTypeName:n})}getSchemaType(){return this.spec.schemaTypeName}params(t){return this.clone({options:{...this.spec.options||{filter:""},params:t}})}getParams(){var t;return(t=this.spec.options)==null?void 0:t.params}defaultOrdering(t){if(!Array.isArray(t))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:t}})}getDefaultOrdering(){var t;return(t=this.spec.options)==null?void 0:t.defaultOrdering}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var n;if(typeof this.spec.id!="string"||!this.spec.id)throw new ln("`id` is required for document lists",t.path,t.index,this.spec.title).withHelpUrl(Pn.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new ln("`filter` is required for document lists",t.path,this.spec.id,this.spec.title).withHelpUrl(Pn.FILTER_REQUIRED);return!(((n=this.spec.options)==null?void 0:n.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),n9(Pn.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(t),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||oOn(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||cn.apiVersion,filter:rOn(this.spec,t)}}}clone(t){const n=new IC(this._context);return n.spec={...this.spec,...t||{}},this.initialValueTemplatesSpecified||(n.spec.initialValueTemplates=iOn(this._context,n.spec)),n.spec.schemaTypeName||(n.spec.schemaTypeName=sOn(n.spec)),n}getSpec(){return this.spec}}function iOn(e,t){const{document:n}=e,{schemaTypeName:r,options:o}=t,{filter:i,params:s}=o||{filter:"",params:{}},a=r?[r]:Array.from(new Set(Tz(i,s)));if(a.length!==0)return a.flatMap(c=>n.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:vp}))}function sOn(e){const{options:t}=e,{filter:n,params:r}=t||{filter:"",params:{}},o=Tz(n,r);return o.length===1?o[0]:void 0}function Tz(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=aOn(e,t);return n.length===0&&(n=lOn(e,t)),n}function aOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,r=[];let o;for(;(o=n.exec(e))!==null;)r.push(o[1]||o[2]);return r.map(i=>((i[0]==="$"?t[i.slice(1)]:i)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function lOn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=/\b_type\s+in\s+\[(.*?)\]/,r=e.match(n);return r?r[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?t[o.slice(1)]:o).filter(Boolean):[]}const cOn=e=>e instanceof b1?"ListBuilder":pOn(e)?"Promise":Array.isArray(e)?"array":typeof e,uOn=e=>e.type==="listItem",dOn=(e,t,n)=>(n.pane.items||[]).filter(gOn).some(i=>i.schemaType.name===t.type&&i._id===t.id)||eMe(e,t,n),fOn=(e,t)=>{const o=(t.parent.items.filter(uOn).find(i=>i.id===e)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(e,t):o};function hOn(e,t,n){if(e instanceof x1)return e.serialize({path:n,index:t});const r=e;if(r&&r.type==="divider")return e;if(!r||r.type!=="listItem"){const o=r&&r.type||cOn(r),i=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new ln('List items must be of type "listItem", got "'.concat(o,'"').concat(i),n,t).withHelpUrl(Pn.INVALID_LIST_ITEM)}return e}function pOn(e){return xt(e)&&typeof e.then=="function"}class b1 extends tMe{constructor(t,n){super(),this._context=t,this.spec=n||{},this.initialValueTemplatesSpecified=!!(n&&n.initialValueTemplates)}items(t){return this.clone({items:t})}getItems(){return this.spec.items}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=this.spec.id;if(typeof n!="string"||!n)throw new ln("`id` is required for lists",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);const r=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(r))throw new ln("`items` must be an array of items",t.path,t.index).withHelpUrl(Pn.LIST_ITEMS_MUST_BE_ARRAY);const o=(t.path||[]).concat(n),i=r.map((a,c)=>hOn(a,c,o)),s=i.filter((a,c)=>nTe(i,{id:a.id},c+1));if(s.length>0){const a=s.map(u=>u.id).slice(0,5),c=s.length>5?"".concat(a.join(", "),"..."):a.join(", ");throw new ln("List items with same ID found (".concat(c,")"),t.path,t.index).withHelpUrl(Pn.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(t),type:"list",canHandleIntent:this.spec.canHandleIntent||dOn,child:this.spec.child||fOn,items:i}}clone(t){const n=new b1(this._context);return n.spec={...this.spec,...t||{}},n}}class x1{constructor(t,n){this._context=t,this.spec=n||{}}id(t){return this.clone({id:t})}getId(){return this.spec.id}title(t){return this.clone({title:t,id:CD(t,this.spec.id)})}getTitle(){return this.spec.title}icon(t){return this.clone({icon:t})}showIcon(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:t}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(t){return this.clone({child:t})}getChild(){return this.spec.child}schemaType(t){return this.clone({schemaType:t})}getSchemaType(){const t=this.spec.schemaType;return typeof t=="string"?this._context.schema.get(t):this.spec.schemaType}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:n,title:r,child:o}=this.spec;if(typeof n!="string"||!n)throw new ln("`id` is required for list items",t.path,t.index).withHelpUrl(Pn.ID_REQUIRED);if(!t.titleIsOptional&&(typeof r!="string"||!r))throw new ln("`title` is required for list items",t.path,n).withHelpUrl(Pn.TITLE_REQUIRED);let i=this.spec.schemaType;if(typeof i=="string"){const c=this._context.schema.get(i);if(!c)throw new ln('Could not find type "'.concat(i,'" in schema'),t.path,n).withHelpUrl(Pn.SCHEMA_TYPE_NOT_FOUND);i=c}const s={path:t.path.concat(n),hint:"child"};let a=o instanceof rw||o instanceof IC||o instanceof Hf||o instanceof b1?o.serialize(s):o;if(typeof a=="function"){const c=a;a=(u,d)=>c(u,{...d,serializeOptions:s})}return{...this.spec,id:DC(n,t.path,t.index),schemaType:i,child:a,title:r,type:"listItem"}}clone(t){const n=new x1(this._context);return n.spec={...this.spec,...t||{}},n}}const mOn=(e,t)=>n=>{const r=t.schemaType&&(typeof t.schemaType=="string"?t.schemaType:t.schemaType.name);return r?e.resolveDocumentNode({schemaType:r,documentId:n}):new Hf(e).id("documentEditor").documentId(n)};class Az extends x1{constructor(t,n){super(t,n),this._context=t,this.spec=n||{}}serialize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const n=super.serialize({...t,titleIsOptional:!0});if(!n.schemaType)throw new ln("`schemaType` is required for document list items",t.path,t.index).withHelpUrl(Pn.SCHEMA_TYPE_REQUIRED);const r=n.child||mOn(this._context,n);return{...n,child:r,schemaType:n.schemaType,_id:n.id}}clone(t){const n=new Az(this._context);return n.spec={...this.spec,...t||{}},n}}function gOn(e){return xt(e)&&typeof e.schemaType<"u"&&typeof e._id=="string"}class U5 extends IC{constructor(t,n){super(t),this._context=t,this.spec=n||{}}child(t){return this.cloneWithoutDefaultIntentHandler({child:t})}clone(t){const n=super.clone(t),r=new U5(this._context);return r.spec={...this.spec,...n.getSpec(),...t||{}},r}cloneWithoutDefaultIntentHandler(t){const n=super.clone(t),r=new U5(this._context),o=this.spec.canHandleIntent,s=o&&o.identity===J$e?{canHandleIntent:void 0}:{};return r.spec={...n.getSpec(),...this.spec,...t||{},...s},r}}function vOn(e){const t=e.preview;return!!(t&&(t.prepare||t.select&&t.select.media))}const yOn=["sanity.imageAsset","sanity.fileAsset"];function bOn(e){return yOn.includes(e)}function xOn(e){var t;return((t=e.type)==null?void 0:t.name)==="document"}function wOn(e){return e.type==="list"}function COn(e){let{schema:t}=e;return t.getTypeNames().filter(n=>{const r=t.get(n);return r&&xOn(r)}).filter(n=>!bOn(n))}function nMe(e){return COn(e).map(n=>rMe(e,n))}function rMe(e,t){const{schema:n}=e,r=n.get(t);if(!r)throw new Error('Schema type with name "'.concat(t,'" not found'));const o=r.title||fn(t);return new x1(e).id(t).title(o).schemaType(r).child((i,s)=>{const a=s.parent,c=wOn(a)?a.items.find(d=>d.id===i):null;let u=oMe(e,t);return c&&c.title&&(u=u.title(c.title)),u})}function oMe(e,t){const{schema:n,resolveDocumentNode:r}=e,o=typeof t=="string"?t:t.schemaType,i=typeof o=="string"?o:o.name,s=typeof t=="string"?{schemaType:o}:t,a=n.get(i);if(!a)throw new Error('Schema type with name "'.concat(i,'" not found'));const c=a.title||fn(i),u=vOn(a);return new U5(e).id(s.id||i).title(s.title||c).filter("_type == $type").params({type:i}).schemaType(a).showIcons(u).defaultOrdering(U3n.by).menuItemGroups(s.menuItemGroups||[{id:"sorting",title:"Sort"},{id:"layout",title:"Layout"},{id:"actions",title:"Actions"}]).child(s.child||(d=>r({schemaType:i,documentId:d}))).canHandleIntent(s.canHandleIntent||jz).menuItems(s.menuItems||[...Y$e(e,a),new Vf(e).group("layout").title("Compact view").icon(G0e).action("setLayout").params({layout:"default"}),new Vf(e).group("layout").title("Detailed view").icon(K0e).action("setLayout").params({layout:"detail"})])}function _On(e){return!e||typeof e=="string"?!1:!!e.icon}function SOn(e){const t=nMe(e);return new b1(e).id("__root__").title("Content").items(t).showIcons(t.some(n=>_On(n.getSchemaType())))}function EOn(e){let{defaultDocumentNode:t,source:n}=e;const r=sgn(n),o={...n,getStructureBuilder:()=>i,resolveDocumentNode:s=>{let a=(t==null?void 0:t(i,{...s,...r}))||new Hf(o);return a.getId()||(a=a.id("documentEditor")),s.documentId&&(a=a.documentId($n(s.documentId))),a.schemaType(s.schemaType)}},i={defaults:()=>SOn(o),documentTypeList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return oMe(o,...a)},documentTypeListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return rMe(o,...a)},documentTypeListItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return nMe(o,...a)},document:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Hf(o,...a)},documentWithInitialValueTemplate:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return Q3n(o,...a)},defaultDocument:o.resolveDocumentNode,list:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new b1(o,...a)},listItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new x1(o,...a)},menuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Vf(o,...a)},menuItemGroup:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new nw(o,...a)},menuItemsFromInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return tOn(o,...a)},documentList:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new IC(o,...a)},documentListItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return new Az(o,...a)},orderingMenuItem:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return q$e(o,...a)},orderingMenuItemsForType:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return Y$e(o,...a)},editor:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return X3n(o,...a)},defaultInitialValueTemplateItems:function(){for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return J3n(o,...a)},initialValueTemplateItem:(s,a)=>new ED(o,{id:s,parameters:a,templateId:s}),component:s=>kr.isValidElementType(s)?new rw().component(s):new rw(s),divider:()=>({id:jEe("__divider__"),type:"divider"}),view:G3n,context:o};return i}function d$n(e){let{defaultDocumentNode:t,structure:n,children:r}=e;const[o,i]=h.useState(!1),s=Ln(),a=ign(s),c=ol(),u=h.useMemo(()=>EOn({defaultDocumentNode:t,source:s}),[t,s]),d=h.useMemo(()=>n?n(u,{...a,documentStore:c}):u.defaults(),[u,n,a,c]),f=h.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),p=h.useMemo(()=>({features:f,layoutCollapsed:o,setLayoutCollapsed:i,rootPaneNode:d,structureContext:u.context}),[f,o,d,u.context]);return l.jsx(N$e.Provider,{value:p,children:r})}function iMe(e){const{children:t,currentMinWidth:n,flex:r,minWidth:o,paneKey:i,title:s="Error",tone:a="critical"}=e;return l.jsxs(mD,{currentMinWidth:n,flex:r,id:i,minWidth:o,tone:a,children:[l.jsx(lz,{title:s}),l.jsx(gD,{overflow:"auto",children:l.jsx(M,{paddingX:4,paddingY:5,children:t})})]})}function kOn(e){const t=[{ms:300,message:"Loading…"},{ms:5e3,message:"Still loading…"}],n=ve(null);return an(...t.map(r=>{let{ms:o,message:i}=r;return n.pipe(tT(i),FCe(o))}))}var Wge=Object.freeze,jOn=Object.defineProperty,TOn=(e,t)=>Wge(jOn(e,"raw",{value:Wge(t||e.slice())})),qge;const AOn="Loading…",DOn=P(H)(qge||(qge=TOn([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),sMe=h.memo(e=>{const{delay:t=300,flex:n,message:r=kOn,minWidth:o,paneKey:i,path:s,selected:a,title:c,tone:u}=e,d=h.useMemo(()=>typeof r=="function"?r(s?s.split(";"):[]):r,[r,s]),[f,p]=h.useState(()=>typeof d=="string"?d:AOn);h.useEffect(()=>{if(typeof d!="object"||typeof d.subscribe=="function")return;const y=d.subscribe(p);return()=>y.unsubscribe()},[d]);const[m,v]=h.useState(null),[g,b]=h.useState(!1);h.useEffect(()=>{if(m)return aQe(()=>b(!0))},[m]);const x=l.jsxs(DOn,{align:"center","data-mounted":g?"":void 0,direction:"column",height:"fill",justify:"center",ref:v,children:[l.jsx(hr,{muted:!0}),(c||f)&&l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:c||f})})]});return l.jsx(mD,{flex:n,id:i,minWidth:o,selected:a,tone:u,children:l.jsx(gD,{children:x})})});sMe.displayName="LoadingPane";function IOn(e){return e==="delete"?`An error occurred while attempting to delete this document.
      This usually means that there are other documents that refers to it.`:e==="unpublish"?`An error occurred while attempting to unpublish this document.
      This usually means that there are other documents that refers to it.`:"An error occurred during ".concat(e)}function OOn(e){return e==="publish"?"The document was published":e==="unpublish"?"The document was unpublished. A draft has been created from the latest published version.":e==="discardChanges"?"All changes since last publish has now been discarded. The discarded draft can still be recovered from history":e==="delete"?"The document was successfully deleted":"Successfully performed ".concat(e," on document")}const POn=["patch","commit"],ROn=h.memo(function(){const{push:t}=qo(),{documentId:n,documentType:r}=gr(),o=uPe(n,r),i=h.useRef(o),s=Wc();return h.useEffect(()=>{if(!o||o===i.current)return;let a;return o.type==="error"&&t({closable:!0,duration:3e4,status:"error",title:IOn(o.op),description:l.jsxs("details",{children:[l.jsx("summary",{children:"Details"}),o.error.message]})}),o.type==="success"&&!POn.includes(o.op)&&t({closable:!0,status:"success",title:OOn(o.op)}),o.type==="success"&&o.op==="delete"&&(a=setTimeout(()=>s.closeCurrentAndAfter(),0)),i.current=o,()=>clearTimeout(a)},[o,s,t]),null});function $On(e){let{currentInspector:t,hasValue:n,inspectors:r,inspectorMenuItems:o}=e;return r.map((i,s)=>{var a;const c=o[s];return!c||c.hidden?null:{action:"".concat(nF).concat(i.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!n,selected:(t==null?void 0:t.name)===i.name,shortcut:(a=c.hotkeys)==null?void 0:a.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function MOn(e){let{hasValue:t}=e;return{action:"inspect",group:"inspectors",title:"Inspect",icon:y0,isDisabled:!t,shortcut:"Ctrl+Alt+I"}}function FOn(e){let{previewUrl:t}=e;return t?{action:"production-preview",group:"links",title:"Open preview",icon:R0e,shortcut:"Ctrl+Alt+O"}:null}function LOn(e){const t=$On(e),n=[FOn(e)].filter(Boolean);return[...t,MOn(e),...n]}const BOn=e=>xt(e)&&typeof e._id=="string"&&typeof e._type=="string";function NOn(e){const[t,n]=h.useState(void 0),[r,o]=h.useState(null),{resolveProductionUrl:i}=Ln().document,s=Int(e);if(r)throw r;return h.useEffect(()=>{s.pipe(t8(500),rt(a=>BOn(a)?jr(i({document:a})):ve(void 0)),Rn(a=>{const c=xt(a)&&typeof a.message=="string"?a.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:n,error:o})},[i,s]),t}function zOn(e,t){const n=t.panePayload||{},r=t.templateName;t.urlTemplate&&r&&r!==t.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(t.urlTemplate,'", structure node says "').concat(r,'". Using "').concat(r,'".'));const o=r||t.urlTemplate,i=e.filter(c=>c.schemaType===t.documentType),s={...t.templateParams,...typeof n=="object"?n||{}:{}};let a=o;return!o&&i.length===1&&(a=i[0].id),{templateName:a,templateParams:s}}const VOn=h.memo(function(t){const{documentId:n,documentType:r,index:o,setMenuItem:i,useMenuItem:s}=t,a=No(s({documentId:n,documentType:r}));return h.useEffect(()=>{i(o,a)},[o,a,i]),l.jsx(l.Fragment,{})});function HOn(e){const{documentId:t,documentType:n,inspectors:r,onMenuItems:o}=e,i=r.length,s=h.useRef(i),[a,c]=h.useState(()=>Array.from(new Array(i))),u=h.useRef(a);h.useEffect(()=>{if(s.current!==i){const f=Array.from(new Array(i));for(let p=0;p<i;p++)f[p]=u.current[p];s.current=i,c(()=>(u.current=f,f))}},[i]);const d=h.useCallback((f,p)=>{c(m=>{const v=[...m];return v[f]=p,u.current=v,v})},[]);return h.useEffect(()=>{o(a.filter(Boolean))},[a,o]),l.jsx(l.Fragment,{children:r.map((f,p)=>f.useMenuItem&&l.jsx(VOn,{documentId:t,documentType:n,index:p,setMenuItem:d,useMenuItem:f.useMenuItem},f.name))})}const aMe=h.memo(e=>{const{children:t,index:n,pane:r,paneKey:o,onFocusPath:i}=e,s=jn(),a=c1(),{actions:c,badges:u,unstable_fieldActions:d,unstable_languageFilter:f,inspectors:p}=Ln().document,m=JN(),v=Wc(),g=v.setParams,{features:b}=y1(),{push:x}=qo(),{options:y,menuItemGroups:w=EEn,title:C=null,views:_=[]}=r,S=No(y),E=S.id,j=$n(E),k=y.type,T=No(v.params)||SEn,A=No(v.payload),{templateName:D,templateParams:I}=h.useMemo(()=>zOn(a,{documentType:k,templateName:S.template,templateParams:S.templateParameters,panePayload:A,urlTemplate:T.template}),[k,S,T,A,a]),O=mxn({documentId:j,documentType:k,templateName:D,templateParams:I}),$=No(O),{patch:R}=ql(j,k),z=VN(j,k),{validation:B}=HN(j,k),U=ybn(j,k),W=s.get(k),V=(z==null?void 0:z.draft)||(z==null?void 0:z.published)||$.value,[K,te]=h.useState(!1),[N,G]=h.useState([]),q=h.useMemo(()=>c({schemaType:k,documentId:j}),[c,j,k]),Z=h.useMemo(()=>u({schemaType:k,documentId:j}),[u,j,k]),ie=h.useMemo(()=>f({schemaType:k,documentId:j}),[j,k,f]),ne=No(B),Y=No(_),[X,ae]=h.useState(()=>T.path?Tl(T.path):gn),he=h.useRef(X),ce=T.view||Y[0]&&Y[0].id||null,[xe,Se]=h.useState("closed"),[pe,be]=h.useState(null),Be=cwn({documentId:j,documentType:k,onError:be,rev:T.rev,since:T.since}),$e=uo(Be,Ue=>Ue.onOlderRevision),ct=uo(Be,Ue=>Ue.revTime),ot=uo(Be,Ue=>Ue.sinceAttributes),Lt=uo(Be,Ue=>Ue.timelineDisplayed),Rt=uo(Be,Ue=>Ue.timelineReady),Ae=uo(Be,Ue=>Ue.isPristine),Ke=h.useMemo(()=>Rt?!(z!=null&&z.draft)&&!(z!=null&&z.published)&&!Ae:!1,[z==null?void 0:z.draft,z==null?void 0:z.published,Ae,Rt]),Ye=NOn(V),[tt,wt]=h.useState([]);h.useEffect(()=>{const Ue=m.documentPresence(j).subscribe(Vn=>{wt(Vn)});return()=>{Ue.unsubscribe()}},[j,m]);const Ee=h.useMemo(()=>p({documentId:j,documentType:k}),[j,k,p]),[Ne,ut]=h.useState(()=>T.inspect||null),ui=h.useRef(T.inspect);h.useEffect(()=>{ui.current!==T.inspect&&(ui.current=T.inspect,ut(T.inspect||null))},[T.inspect]);const er=Ee==null?void 0:Ee.find(Ue=>Ue.name===Ne),Go=Ee.find(Ue=>Ue.name===rF),Yt=(er==null?void 0:er.name)===rF,no=!!V,sl=h.useMemo(()=>LOn({currentInspector:er,features:b,hasValue:no,inspectorMenuItems:N,inspectors:Ee,previewUrl:Ye}),[er,b,no,N,Ee,Ye]),al=T.inspect==="on",Is=Yt?ot:(z==null?void 0:z.published)||null,Bn=h.useMemo(()=>W?d({documentId:j,documentType:k,schemaType:W}):[],[j,k,d,W]),zn=U==="connected"&&z.ready&&(Rt||!!pe),Gr=h.useMemo(()=>$e?Lt||{_id:V._id,_type:V._type}:V,[$e,Lt,V]),We=h.useCallback((Ue,Vn)=>{g({...T,since:Ue,rev:Vn||void 0})},[T,g]),Ct=h.useCallback(Ue=>{ae(Ue),he.current!==Ue&&(he.current=Ue,i==null||i(Ue)),m.setLocation([{type:"document",documentId:j,path:Ue,lastActiveAt:new Date().toISOString()}])},[j,i,m,ae]),tr=h.useCallback(Ue=>{DD.current||(ae(gn),he.current!==gn&&(he.current=gn,i==null||i(gn)))},[i,ae]),Nn=h.useRef(()=>{throw new Error("Nope")});Nn.current=Ue=>{R.execute(uCn(Ue.patches),$.value)};const ha=h.useCallback(Ue=>Nn.current(Ue),[]),Ar=h.useCallback(Ue=>{var Vn,Tn,Kr,Yc;const Gc=Ue&&Ee.find(fi=>fi.name===Ue);if(Ue&&!Gc){console.warn('No inspector named "'.concat(Ue,'"'));return}if(er){if(Gc){const fi=(Tn=(Vn=Gc.onClose)==null?void 0:Vn.call(Gc,{params:T}))!=null?Tn:{params:T};ut(null),ui.current=void 0,g({...fi.params,inspect:void 0});return}if(er){const fi=(Yc=(Kr=er.onClose)==null?void 0:Kr.call(er,{params:T}))!=null?Yc:{params:T};ut(null),ui.current=void 0,g({...fi.params,inspect:void 0})}}},[er,Ee,T,g]),di=h.useCallback((Ue,Vn)=>{var Tn,Kr,Yc,Gc;const fi=Ee.find(Nz=>Nz.name===Ue);if(!fi){console.warn('No inspector named "'.concat(Ue,'"'));return}if((er==null?void 0:er.name)===fi.name){g({...T,...Vn,inspect:fi.name});return}let _1=T;er&&(_1=((Kr=(Tn=fi.onClose)==null?void 0:Tn.call(fi,{params:_1}))!=null?Kr:{params:_1}).params);const OMe=(Gc=(Yc=fi.onOpen)==null?void 0:Yc.call(fi,{params:_1}))!=null?Gc:{params:_1};ut(fi.name),ui.current=fi.name,g({...OMe.params,...Vn,inspect:fi.name})},[er,Ee,T,g]),Os=h.useCallback(()=>{Go&&Ar(Go.name)},[Ar,Go]),pa=h.useCallback(()=>{b.reviewChanges&&Go&&di(Go.name)},[b.reviewChanges,di,Go]),Hm=h.useCallback(()=>v.closeCurrent(),[v]),OC=h.useCallback(()=>v.duplicateCurrent(),[v]),Yl=h.useCallback(function(){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!al;g(Ue?{...T,inspect:"on"}:Ri(T,"inspect"))},[al,T,g]),qc=h.useCallback(Ue=>{if(Ue.action==="production-preview"&&Ye)return window.open(Ye),!0;if(Ue.action==="inspect")return Yl(!0),!0;if(Ue.action==="reviewChanges")return pa(),!0;if(typeof Ue.action=="string"&&Ue.action.startsWith(nF)){const Vn=Ue.action.slice(nF.length),Tn=Ee.find(Kr=>Kr.name===Vn);if(Tn)return Tn.name===Ne?Ar(Tn.name):di(Tn.name),!0}return!1},[Ar,pa,Ne,Ee,di,Ye,Yl]),w1=h.useCallback(Ue=>{for(const Vn of sl)if(Vn.shortcut&&bi(Vn.shortcut,Ue)){Ue.preventDefault(),Ue.stopPropagation(),qc(Vn);return}},[qc,sl]),bMe=h.useCallback(()=>Yl(!1),[Yl]),[xMe,wMe]=h.useState([]),[CMe,Pz]=h.useState(),[Rz,$z]=h.useState(),[Mz,Fz]=h.useState(),_Me=h.useCallback((Ue,Vn)=>{$z(Tn=>Gh(Tn,Ue,Vn))},[]),SMe=h.useCallback((Ue,Vn)=>{Fz(Tn=>Gh(Tn,Ue,Vn))},[]),EMe=h.useCallback((Ue,Vn)=>Pz(Tn=>Gh(Tn,Ue,Vn)),[]),kMe=V._createdAt?"update":"create",Lz=!!(W!=null&&W.liveEdit),kD=V._id?V._id:"dummy-id",jMe=h.useMemo(()=>({...V,_id:Lz?$n(kD):ai(kD)}),[Lz,V,kD]),[C1,jD]=wxn({document:jMe,permission:kMe}),Bz=!(V!=null&&V._id),TMe=h.useMemo(()=>{var Ue;const Vn=!jD&&!(C1!=null&&C1.granted),Tn=!cZ(W,"update"),Kr=Bz&&!cZ(W,"create"),Yc=U==="reconnecting",Gc=(Ue=z.transactionSyncLock)==null?void 0:Ue.enabled;return!zn||ct!==null||Vn||Tn||Kr||Yc||Gc||K||Ke},[U,z.transactionSyncLock,Bz,Ke,K,jD,C1==null?void 0:C1.granted,zn,ct,W]),TD=cCn(W,{value:Gr,readOnly:TMe,comparisonValue:Is,focusPath:X,openPath:xMe,collapsedPaths:Rz,presence:tt,validation:ne,collapsedFieldSets:Mz,fieldGroupState:CMe,changesOpen:Yt}),PC=h.useRef(TD);PC.current=TD;const AD=h.useCallback(Ue=>{Kwn(PC.current,Ue).forEach(Tn=>{Tn.type==="expandPath"&&$z(Kr=>Gh(Kr,Tn.path,!1)),Tn.type==="expandFieldSet"&&Fz(Kr=>Gh(Kr,Tn.path,!1)),Tn.type==="setSelectedGroup"&&Pz(Kr=>Gh(Kr,Tn.path,Tn.groupName))}),wMe(Ue)},[PC]),AMe={actions:q,activeViewId:ce,badges:Z,changesOpen:Yt,closeInspector:Ar,collapsedFieldSets:Mz,collapsedPaths:Rz,compareValue:Is,connectionState:U,displayed:Gr,documentId:j,documentIdRaw:E,documentType:k,editState:z,fieldActions:Bn,focusPath:X,inspector:er||null,inspectors:Ee,menuItems:sl,onBlur:tr,onChange:ha,onFocus:Ct,onPathOpen:AD,onHistoryClose:Os,onHistoryOpen:pa,onInspectClose:bMe,onKeyUp:w1,onMenuAction:qc,onPaneClose:Hm,onPaneSplit:OC,onSetActiveFieldGroup:EMe,onSetCollapsedPath:_Me,onSetCollapsedFieldSet:SMe,openInspector:di,index:n,inspectOpen:al,validation:ne,menuItemGroups:w||[],paneKey:o,previewUrl:Ye,ready:zn,schemaType:W,isPermissionsLoading:jD,permissions:C1,setTimelineMode:Se,setTimelineRange:We,setIsDeleting:te,isDeleting:K,isDeleted:Ke,timelineError:pe,timelineMode:xe,timelineStore:Be,title:C,value:V,views:Y,formState:TD,unstable_languageFilter:ie};h.useEffect(()=>{U==="reconnecting"&&x({id:"sanity/desk/reconnecting",status:"warning",title:l.jsx(l.Fragment,{children:"Connection lost. Reconnecting…"})})},[U,x]);const DD=h.useRef(!1);h.useEffect(()=>{var Ue;if(zn&&T.path){const{path:Vn,...Tn}=T,Kr=p4e((Ue=PC.current)==null?void 0:Ue.value,Tl(Vn));DD.current=!0,ae(Kr),AD(Kr),he.current!==Kr&&(he.current=Kr,i==null||i(Kr));const Yc=setTimeout(()=>{DD.current=!1},0);return v.setParams(Tn),()=>clearTimeout(Yc)}},[T,j,i,AD,zn,v]);const[DMe,IMe]=h.useState([]);return l.jsxs(gRe.Provider,{value:AMe,children:[Ee.length>0&&l.jsx(HOn,{documentId:j,documentType:k,inspectors:Ee,onMenuItems:G}),Bn.length>0&&W&&l.jsx(lC,{actions:Bn,documentId:j,documentType:k,onActions:IMe,path:gn,schemaType:W}),l.jsx(fC,{actions:DMe,path:gn,children:l.jsx(dIn,{documentId:j,documentType:k,children:l.jsx(pIn,{children:t})})})]})});aMe.displayName="DocumentPaneProvider";function vF(e,t,n){const r=$wn(),[o,i]=h.useState(n),s=h.useMemo(()=>r.forNamespace("desk-tool"),[r]),a=h.useMemo(()=>e?s.forNamespace(e).forKey(t):s.forKey(t),[s,e,t]);h.useEffect(()=>{const u=a.listen(n).subscribe({next:i});return()=>u==null?void 0:u.unsubscribe()},[n,t,e,a]);const c=h.useCallback(u=>{i(u),a.set(u)},[a]);return h.useMemo(()=>[o,c],[c,o])}const wg={id:"parsed",title:"Parsed"},Cg={id:"raw",title:"Raw JSON"},UOn=[wg,Cg],W5=$2n(1e3);function lMe(e,t){const n=W5.get(e);return n===void 0?(W5.set(e,Array.isArray(t)||xt(t)),lMe(e,t)):n}function WOn(e){const{path:t}=e,n=W5.get(t);n!==void 0&&W5.set(t,!n)}function cMe(e){const t=window.getSelection();if(t){const n=document.createRange();t.removeAllRanges(),n.selectNodeContents(e),t.addRange(n)}}function Yge(e){cMe(e.currentTarget)}function qOn(e){e.keyCode===65&&(e.metaKey||e.ctrlKey)&&(e.preventDefault(),cMe(e.currentTarget))}function YOn(e){return xt(e)&&xv(e._id)&&xv(e._type)}var Gge=Object.freeze,GOn=Object.defineProperty,KOn=(e,t)=>Gge(GOn(e,"raw",{value:Gge(t||e.slice())})),Kge;const ZOn=P.div(e=>{let{theme:t}=e;const{color:n,fonts:r,space:o}=t.sanity;return de(Kge||(Kge=KOn([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),r.code.family,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ge(o[4]),ge(o[3]),ge(o[4]),r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,r.code.sizes[2].fontSize,r.code.sizes[2].lineHeight,ge(o[4]/2),n.syntax.property,n.syntax.constant,ge(o[3]),n.syntax.string,n.syntax.boolean,n.syntax.number)});function XOn(e){const{onChange:t,query:n}=e,r=h.useCallback(o=>t(o.target.value),[t]);return l.jsx(Lr,{icon:ei,onChange:r,placeholder:"Search",radius:2,value:n||""})}function QOn(e){const{value:t}=e,{onInspectClose:n,paneKey:r}=gr(),o="".concat(r,"_inspect_"),[i,s]=vF("desk-tool","inspect-view-preferred-view-mode-".concat(r),"parsed"),a=UOn.find(d=>d.id===i),c=h.useCallback(()=>{s(wg.id)},[s]),u=h.useCallback(()=>{s(Cg.id)},[s]);return l.jsx(Mi,{id:"".concat(o,"dialog"),header:YOn(t)?l.jsxs(l.Fragment,{children:["Inspecting"," ",l.jsx("em",{children:l.jsx(tRe,{document:t})})]}):l.jsx("em",{children:"No value"}),onClose:n,onClickOutside:n,width:3,children:l.jsxs(H,{direction:"column",height:"fill",children:[l.jsx(Q,{padding:3,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:l.jsxs(Xj,{space:1,children:[l.jsx(sx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(wg.id),label:wg.title,onClick:c,selected:a===wg}),l.jsx(sx,{"aria-controls":"".concat(o,"tabpanel"),fontSize:1,id:"".concat(o,"tab-").concat(Cg.id),label:Cg.title,onClick:u,selected:a===Cg})]})}),l.jsxs(eCe,{"aria-labelledby":"".concat(o,"tab-").concat(i),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[a===wg&&l.jsx(ZOn,{children:l.jsx(P2n,{data:t,isExpanded:lMe,onClick:WOn,search:XOn})}),a===Cg&&l.jsx(lr,{language:"json",tabIndex:0,onKeyDown:qOn,onDoubleClick:Yge,onFocus:Yge,children:JSON.stringify(t,null,2)})]})]})})}var Zge=Object.freeze,JOn=Object.defineProperty,ePn=(e,t)=>Zge(JOn(e,"raw",{value:Zge(t||e.slice())})),Xge;const tPn=P(Q)(Xge||(Xge=ePn([`
  position: relative;
  z-index: 50;
`])));function nPn(e){let{revisionId:t}=e;const{documentId:n,documentType:r}=gr(),{restore:o}=ql(n,r),{navigateIntent:i}=Nl(),s=h.useCallback(()=>{t&&(o.execute(t),i("edit",{id:n,type:r}))},[n,r,i,o,t]);return l.jsx(tPn,{"data-testid":"deleted-document-banner",shadow:1,tone:"transparent",children:l.jsx(eo,{paddingX:4,paddingY:t?2:3,sizing:"border",width:1,children:l.jsxs(H,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(cw,{})}),l.jsxs(H,{align:"center",gap:2,flex:1,marginLeft:3,children:[l.jsx(L,{size:1,children:"This document has been deleted."}),t&&l.jsx(oe,{fontSize:1,padding:2,mode:"bleed",tone:"primary",onClick:s,text:"Restore most recent version"})]})]})})})}var Qge=Object.freeze,rPn=Object.defineProperty,uMe=(e,t)=>Qge(rPn(e,"raw",{value:Qge(t||e.slice())})),Jge,eve;const oPn=P(Q)(Jge||(Jge=uMe([`
  position: relative;
  z-index: 50;
`]))),tve=P(L)(eve||(eve=uMe([`
  & > * {
    overflow: hidden;
    overflow: clip;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
`]))),dMe=h.memo(()=>{var e,t,n,r,o,i;const s=Ni(),{params:a,groupIndex:c,routerPanesState:u,replaceCurrent:d,BackLink:f}=Wc(),p=(e=u[c])==null?void 0:e[0].id,m=u[c-1],v=m==null?void 0:m[0],g=v==null?void 0:v.id,b=!!((t=v==null?void 0:v.params)!=null&&t.rev),x=h.useMemo(()=>(a==null?void 0:a.parentRefPath)&&Tl(a.parentRefPath)||null,[a==null?void 0:a.parentRefPath]),y=xo(()=>{const _=x==null?void 0:x[0];if(!g||!_||!x)return ve({loading:!1});const S=$n(g),E=Tl(_),j=E.findIndex(k=>typeof k=="object"&&"_key"in k);return Wr(ve({loading:!0}),s.unstable_observePathsDocumentPair(S,j===-1?E:E.slice(0,j)).pipe(t8(750),le(k=>{let{draft:T,published:A}=k;var D;return{loading:!1,result:{availability:{draft:T.availability,published:A.availability},refValue:(D=cm(T.snapshot||A.snapshot,x))==null?void 0:D._ref}}})))},[s,g,x],{loading:!0}),w=h.useCallback(()=>{var _;y.loading||(_=y.result)!=null&&_.refValue&&d({id:y.result.refValue,params:a})},[y.loading,y.result,d,a]);return!g||!x||b||y.loading||!((n=y.result)!=null&&n.availability.draft.available)&&!((r=y.result)!=null&&r.availability.published.available)||((o=y.result)==null?void 0:o.refValue)===p?null:l.jsx(oPn,{shadow:1,tone:"caution","data-testid":"reference-changed-banner",children:l.jsx(eo,{paddingX:4,paddingY:2,sizing:"border",width:1,children:l.jsxs(H,{align:"center",children:[l.jsx(L,{size:1,children:l.jsx(Br,{})}),(i=y.result)!=null&&i.refValue?l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(tve,{title:"This reference has changed since you opened it.",size:1,children:"This reference has changed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(oe,{onClick:w,icon:x0,fontSize:1,mode:"ghost",padding:2,space:2,text:"Reload reference"})})]}):l.jsxs(l.Fragment,{children:[l.jsx(M,{flex:1,marginLeft:3,children:l.jsx(tve,{title:"This reference has been removed since you opened it.",size:1,children:"This reference has been removed since you opened it."})}),l.jsx(M,{marginLeft:3,children:l.jsx(oe,{as:f,icon:Di,fontSize:1,mode:"ghost",padding:2,space:2,text:"Close reference"})})]})]})})})});dMe.displayName="ReferenceChangedBanner";var nve=Object.freeze,iPn=Object.defineProperty,sPn=(e,t)=>nve(iPn(e,"raw",{value:nve(t||e.slice())})),rve;const aPn=P(Q)(rve||(rve=sPn([`
  position: relative;
  z-index: 50;
`])));function lPn(e){let{granted:t,requiredPermission:n}=e;var r,o;const i=Yo(),s=((r=i==null?void 0:i.roles)==null?void 0:r.length)!==1,a=cPn(((o=i==null?void 0:i.roles)==null?void 0:o.map(c=>l.jsx("code",{children:c.title},c.name)))||[],", ");return t?null:l.jsx(aPn,{"data-testid":"permission-check-banner",shadow:1,tone:"transparent",children:l.jsx(eo,{paddingX:4,paddingY:3,sizing:"border",width:1,children:l.jsxs(H,{align:"flex-start",children:[l.jsx(L,{size:1,children:l.jsx(cw,{})}),l.jsx(M,{flex:1,marginLeft:3,children:l.jsxs(L,{size:1,children:["Your role",s&&"s"," ",a," ",s?"do":"does"," not have permissions to"," ",n," this document."]})})]})})})}function cPn(e,t){return e.reduce((n,r)=>n===null?[r]:n.concat([t,r]),null)}function uPn(e){const t=h.useRef();return h.useEffect(()=>{t.current=e},[e]),t.current}const dPn=1e3*60*60*24*24;function fPn(e){const t=qo(),n=uPn(e.enabled);h.useEffect(()=>{!n&&e.enabled&&t.push({...e,duration:dPn}),n&&!e.enabled&&t.push({...e,duration:.01})},[e,t,n])}const hPn=e=>e.preventDefault(),pPn=h.forwardRef(function(t,n){var r;const{hidden:o,margins:i}=t,{collapsedFieldSets:s,collapsedPaths:a,displayed:c,editState:u,documentId:d,documentType:f,fieldActions:p,onChange:m,validation:v,ready:g,formState:b,onFocus:x,onBlur:y,onSetCollapsedPath:w,onPathOpen:C,onSetCollapsedFieldSet:_,onSetActiveFieldGroup:S}=gr(),E=ol(),j=CC(d),k=h.useMemo(()=>TZt(),[]),T=(r=u==null?void 0:u.transactionSyncLock)==null?void 0:r.enabled;fPn({id:"sync-lock-".concat(d),status:"warning",enabled:T,title:"Syncing document…",description:"Please hold tight while the document is synced. This usually happens right after the document has been published, and it shouldn't take more than a few seconds"}),h.useEffect(()=>{const $=E.pair.documentEvents(d,f).pipe(Cn(R=>{R.type==="mutation"&&k.publish(mPn(R)),R.type==="rebase"&&k.publish(gPn(R))})).subscribe();return()=>{$.unsubscribe()}},[d,E,f,k]);const A=!!(c!=null&&c._rev);h.useEffect(()=>{A&&k.publish({type:"mutation",patches:[],snapshot:c})},[A]);const[D,I]=h.useState(null);h.useEffect(()=>{g&&!(b!=null&&b.focusPath.length)&&D&&Hp(D)},[g]);const O=h.useCallback($=>{I($),typeof n=="function"?n($):n&&(n.current=$)},[n]);return l.jsx(eo,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:l.jsx(pC,{margins:i,children:l.jsx(M,{as:"form",onSubmit:hPn,ref:O,children:g?b===null?l.jsx(M,{padding:2,children:l.jsx(L,{children:"This form is hidden"})}):l.jsx(ken,{__internal_fieldActions:p,__internal_patchChannel:k,collapsedFieldSets:s,collapsedPaths:a,focusPath:b.focusPath,changed:b.changed,focused:b.focused,groups:b.groups,id:"root",members:b.members,onChange:m,onFieldGroupSelect:S,onPathBlur:y,onPathFocus:x,onPathOpen:C,onSetFieldSetCollapsed:_,onSetPathCollapsed:w,presence:j,readOnly:b.readOnly,schemaType:b.schemaType,validation:v,value:b.value}):l.jsx(sz,{ms:300,children:l.jsxs(H,{align:"center",direction:"column",height:"fill",justify:"center",children:[l.jsx(hr,{muted:!0}),l.jsx(M,{marginTop:3,children:l.jsx(L,{align:"center",muted:!0,size:1,children:"Loading document"})})]})})})})})});function mPn(e){const t=e.mutations.map(n=>n.patch).filter(Boolean);return{type:"mutation",snapshot:e.document,patches:q4(e.origin,t)}}function gPn(e){const t=e.remoteMutations.map(r=>r.patch).filter(Boolean),n=e.localMutations.map(r=>r.patch).filter(Boolean);return{type:"rebase",snapshot:e.document,patches:q4("remote",t).concat(q4("local",n))}}function vPn(){const{activeViewId:e,paneKey:t,views:n}=gr(),r="".concat(t,"tabpanel");return l.jsx(Xj,{space:1,children:n.map((o,i)=>{var s;return l.jsx(yPn,{icon:o.icon,id:"".concat(t,"tab-").concat(o.id),isActive:e===o.id,label:l.jsx(l.Fragment,{children:o.title}),tabPanelId:r,viewId:i===0?null:(s=o.id)!=null?s:null},o.id)})})}function yPn(e){const{isActive:t,tabPanelId:n,viewId:r,...o}=e,{ready:i}=gr(),{setView:s}=Wc(),a=h.useCallback(()=>s(r),[s,r]);return l.jsx(sx,{...o,"aria-controls":n,disabled:!i,fontSize:1,selected:t,onClick:a})}function bPn(){const{connectionState:e,schemaType:t,title:n,value:r}=gr(),o=!!r&&e==="connected",{error:i,value:s}=EB({enabled:o,schemaType:t,value:r});return e!=="connected"?l.jsx(l.Fragment,{}):n?l.jsx(l.Fragment,{children:n}):r?i?l.jsxs(l.Fragment,{children:["Error: ",i.message]}):l.jsx(l.Fragment,{children:(s==null?void 0:s.title)||l.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:"Untitled"})}):l.jsxs(l.Fragment,{children:["New ",(t==null?void 0:t.title)||(t==null?void 0:t.name)]})}const xPn=h.memo(h.forwardRef(function(t,n){const{onMenuAction:r,onPaneClose:o,onPaneSplit:i,menuItems:s,menuItemGroups:a,schemaType:c,timelineStore:u,ready:d,views:f,unstable_languageFilter:p}=gr(),{features:m}=y1(),{index:v,BackLink:g,hasGroupSiblings:b}=Wc(),{actions:x}=ZB(),y=h.useMemo(()=>pRe({actionHandler:r,fieldActions:x,menuItems:s,menuItemGroups:a}),[r,x,a,s]),w=h.useMemo(()=>y.filter(cz),[y]),C=h.useMemo(()=>y.filter(hRe),[y]),_=f.length>1,S=uo(u,I=>I.revTime),{collapsed:E,isLast:j}=gh(),k=j&&!E?-1:0,T=m.splitViews&&i&&f.length>1,A=T&&b,D=!A&&!m.backButton;return l.jsx(lz,{ref:n,loading:!d,title:l.jsx(bPn,{}),tabs:_&&l.jsx(vPn,{}),tabIndex:k,backButton:m.backButton&&v>0&&l.jsx(oe,{as:g,"data-as":"a",icon:lw,mode:"bleed",padding:2}),subActions:l.jsx(V$e,{chunk:S,mode:"rev",placement:"bottom-end"}),actions:l.jsxs(H,{align:"center",gap:1,children:[p.length>0&&l.jsx(l.Fragment,{children:p.map((I,O)=>h.createElement(I,{key:"language-filter-".concat(O),schemaType:c}))}),w.map(I=>l.jsx(fRe,{node:I},I.key)),l.jsx(lRe,{nodes:C},"context-menu"),T&&l.jsx(it,{content:l.jsx(L,{size:1,style:{whiteSpace:"nowrap"},children:"Split pane right"}),padding:2,placement:"bottom",portal:!0,children:l.jsx(oe,{"aria-label":"Split pane right",icon:Y0e,mode:"bleed",onClick:i},"split-pane-button")}),A&&l.jsx(oe,{icon:Di,mode:"bleed",onClick:o,title:"Close split pane"},"close-view-button"),D&&l.jsx(oe,{icon:Di,mode:"bleed",title:"Close pane group",as:g},"close-view-button")]})})}));var ove=Object.freeze,wPn=Object.defineProperty,CPn=(e,t)=>ove(wPn(e,"raw",{value:ove(t||e.slice())})),ive;const _Pn=P(M)({position:"relative"}),SPn=P(_A)(e=>{let{$disabled:t}=e;return t?{height:"100%"}:de(ive||(ive=CPn([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),EPn=function(t){const{footerHeight:n,isInspectOpen:r,rootElement:o,setDocumentPanelPortalElement:i}=t,{activeViewId:s,displayed:a,documentId:c,editState:u,inspector:d,value:f,views:p,ready:m,schemaType:v,permissions:g,isPermissionsLoading:b,isDeleting:x,isDeleted:y,timelineStore:w,formState:C}=gr(),{collapsed:_}=d1(),{collapsed:S}=gh(),E=xm(),{features:j}=y1(),[k,T]=h.useState(null),A=Qf(k),D=h.useRef(null),[I,O]=h.useState(null),$=h.useRef(null),R=f._createdAt?"update":"create",z=h.useMemo(()=>{if(C)return C.groups.find(q=>q.selected)},[C]),B=h.useMemo(()=>p.find(q=>q.id===s)||p[0]||{type:"form"},[s,p]),U=j.splitPanes&&D.current||E.element,W=h.useMemo(()=>_?[(A==null?void 0:A.height)||0,0,n?n+2:2,0]:[0,0,2,0],[_,n,A]),V=B.type!=="form",K=h.useMemo(()=>B.type==="component"&&B.component&&h.createElement(B.component,{document:{draft:(u==null?void 0:u.draft)||null,displayed:a||f,historical:a,published:(u==null?void 0:u.published)||null},documentId:c,options:B.options,schemaType:v}),[B,a,c,u==null?void 0:u.draft,u==null?void 0:u.published,v,f]),te=uo(w,q=>q.lastNonDeletedRevId);h.useEffect(()=>{I!=null&&I.scrollTo&&I.scrollTo(0,0)},[c,I]),h.useEffect(()=>{U&&i(U)},[U,i]);const N=h.useMemo(()=>r?l.jsx(QOn,{value:a||f}):null,[r,a,f]),G=!!(!S&&d);return l.jsxs(l.Fragment,{children:[l.jsx(xPn,{ref:T}),l.jsx(gD,{children:l.jsxs(H,{height:"fill",children:[(j.resizablePanes||!G)&&l.jsx(_Pn,{flex:2,overflow:"hidden",children:l.jsx(ad,{element:U,__unstable_elements:{documentScrollElement:I},children:l.jsx(Bu,{element:I,children:l.jsxs(Vx,{scrollElement:I,containerElement:$,children:[B.type==="form"&&!b&&m&&l.jsxs(l.Fragment,{children:[l.jsx(lPn,{granted:!!(g!=null&&g.granted),requiredPermission:R}),!x&&y&&l.jsx(nPn,{revisionId:te}),l.jsx(dMe,{})]}),l.jsxs(SPn,{$disabled:_||!1,"data-testid":"document-panel-scroller",ref:O,children:[l.jsx(pPn,{hidden:V,margins:W,ref:$},c+(m?"_ready":"_pending")),K]},"".concat(z==null?void 0:z.name,"-").concat(c,"}")),N,l.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),G&&l.jsx(Bu,{element:o,children:l.jsx(y3n,{documentId:c,documentType:v.name,flex:1})})]})})]})},fMe=["left","bottom"],kPn={small:0,medium:1,large:2,full:"auto"};function jPn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(rn,{content:l.jsx(TPn,{dialog:t}),fallbackPlacements:fMe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function TPn(e){const{dialog:t}=e,{cancelButtonIcon:n,cancelButtonText:r,confirmButtonIcon:o,confirmButtonText:i,message:s,onCancel:a,onConfirm:c,tone:u}=t,{isTopLayer:d}=tl(),[f,p]=h.useState(null),m=h.useCallback(()=>{d&&a()},[d,a]),v=h.useCallback(g=>{g.key==="Escape"&&d&&a()},[d,a]);return dr(m,[f]),rs(v),l.jsxs(H,{direction:"column",ref:p,style:{minWidth:320-16,maxWidth:400},children:[l.jsx(M,{flex:1,overflow:"auto",padding:4,children:l.jsx(L,{children:s})}),l.jsx(M,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:l.jsxs(nn,{columns:2,gap:2,children:[l.jsx(oe,{icon:n,onClick:a,mode:"ghost",text:r||"Cancel"}),l.jsx(oe,{icon:o,onClick:c,text:i||"Confirm",tone:u})]})})]})}function APn(e){const{dialog:t}=e,n=h.useId(),r=t.footer&&l.jsx(M,{paddingX:4,paddingY:3,children:t.footer});return l.jsx(Zu,{zOffset:"fullscreen",children:l.jsx(Mi,{__unstable_hideCloseButton:t.showCloseButton===!1,footer:r,header:t.header,id:n,onClose:t.onClose,onClickOutside:t.onClose,width:t.width===void 0?1:kPn[t.width],children:l.jsx(M,{padding:4,children:t.content})})})}function DPn(e){const{dialog:t,referenceElement:n}=e;return l.jsx(rn,{content:l.jsx(IPn,{dialog:t}),fallbackPlacements:fMe,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:n})}function IPn(e){const{dialog:t}=e,{content:n,onClose:r}=t,{isTopLayer:o}=tl(),[i,s]=h.useState(null),a=h.useCallback(()=>{o&&r()},[o,r]),c=h.useCallback(u=>{u.key==="Escape"&&o&&r()},[o,r]);return dr(a,[i]),rs(c),l.jsx("div",{ref:s,children:n})}function sve(e){const{children:t}=e,{element:n,elements:r}=xm(),o=(r==null?void 0:r[_Re])||n;return l.jsx(ad,{element:o,children:t})}function Dz(e){const{dialog:t,referenceElement:n=null}=e,r=h.useId();if(t.type==="confirm")return l.jsx(jPn,{dialog:t,referenceElement:n});if(t.type==="popover")return l.jsx(DPn,{dialog:t,referenceElement:n});if(t.type==="dialog"||!t.type)return l.jsx(sve,{children:l.jsx(APn,{dialog:t})});if(t.type==="custom")return l.jsx(sve,{children:t==null?void 0:t.component});const o=t;return console.warn("Unsupported modal type ".concat(o.type)),l.jsx(Mi,{id:r,onClose:o.onClose,onClickOutside:o.onClose,width:2,children:l.jsx(M,{padding:4,children:o.content||l.jsxs(l.Fragment,{children:["Unexpected modal type (",l.jsx("code",{children:o.type}),")"]})})})}function OPn(e){const{actionStates:t,disabled:n}=e,r=h.useId(),o=h.useRef(null),[i,s]=h.useState(-1),[a,c]=h.useState(null),u=h.useCallback(p=>{s(p)},[]),d=h.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),f=t[i];return l.jsxs(l.Fragment,{children:[l.jsx(on,{id:"".concat(r,"-action-menu"),button:l.jsx(oe,{"data-testid":"action-menu-button","aria-label":"Open document actions",disabled:n,icon:Ja,mode:"ghost",ref:o}),menu:l.jsx(Nt,{padding:1,children:t.map((p,m)=>l.jsx(PPn,{actionState:p,disabled:n,index:m,onAction:u},m))}),popover:d,ref:c}),f&&f.dialog&&l.jsx(Zu,{zOffset:"paneFooter",children:l.jsx(Dz,{dialog:f.dialog,referenceElement:a})})]})}function PPn(e){const{actionState:t,disabled:n,index:r,onAction:o}=e,{onHandle:i}=t,s=h.useCallback(()=>{o(r),i&&i()},[r,o,i]),a=t.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:t.title})});return l.jsx(ze,{"data-testid":"action-".concat(t.label.replace(" ","")),disabled:n||!!t.disabled,onClick:s,padding:0,tone:t.tone,children:l.jsx(it,{content:a,disabled:!a,fallbackPlacements:["left","bottom"],placement:"top",portal:!0,children:l.jsxs(H,{align:"center",paddingX:3,children:[l.jsxs(H,{flex:1,paddingY:3,children:[t.icon&&l.jsx(M,{marginRight:3,children:l.jsxs(L,{children:[h.isValidElement(t.icon)&&t.icon,kr.isValidElementType(t.icon)&&h.createElement(t.icon)]})}),l.jsx(L,{children:t.label})]}),t.shortcut&&l.jsx(M,{marginLeft:3,children:l.jsx(fB,{keys:String(t.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1))})})]})})})}function hMe(e){const{disabled:t,showMenu:n,states:r}=e,[o,...i]=r,[s,a]=h.useState(null),c=h.useMemo(()=>!o||!o.title&&!o.shortcut?null:l.jsxs(H,{padding:2,style:{maxWidth:300},align:"center",children:[l.jsx(L,{size:1,children:o.title}),o.shortcut&&l.jsx(M,{marginLeft:o.title?2:0,children:l.jsx(fB,{keys:String(o.shortcut).split("+").map(u=>u.slice(0,1).toUpperCase()+u.slice(1).toLowerCase())})})]}),[o]);return l.jsxs(H,{children:[o&&l.jsx(Nu,{zOffset:200,children:l.jsx(it,{disabled:!c,content:c,portal:!0,placement:"top",children:l.jsx(ee,{flex:1,children:l.jsx(oe,{"data-testid":"action-".concat(o.label),disabled:t||!!o.disabled,icon:o.icon,onClick:o.onHandle,ref:a,text:o.label,tone:o.tone||"primary"})})})}),n&&i.length>0&&l.jsx(M,{marginLeft:1,children:l.jsx(OPn,{actionStates:i,disabled:t})}),o&&o.dialog&&l.jsx(Dz,{dialog:o.dialog,referenceElement:s})]})}const RPn=h.memo(function(){const{actions:t,connectionState:n,documentId:r,editState:o}=gr();return!t||!o?null:l.jsx(az,{actions:t,actionProps:o,children:i=>{let{states:s}=i;return l.jsx(hMe,{disabled:n!=="connected",showMenu:t.length>1,states:s},r)}})}),$Pn=h.memo(function(){const{connectionState:t,editState:n,timelineStore:r}=gr(),o=uo(r,u=>u.revTime),i=(o==null?void 0:o.id)||"",s=((n==null?void 0:n.draft)||(n==null?void 0:n.published)||{})._rev===i,a=h.useMemo(()=>({...n||{},revision:i}),[n,i]),c=h.useMemo(()=>[uz],[]);return l.jsx(az,{actions:c,actionProps:a,children:u=>{let{states:d}=u;return l.jsx(hMe,{disabled:t!=="connected"||!!s,showMenu:!1,states:d})}})}),MPn={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function FPn(e){let{states:t}=e;return l.jsx(Zt,{space:1,children:t.map((n,r)=>l.jsx(it,{content:n.title&&l.jsx(M,{padding:2,children:l.jsx(L,{size:1,children:n.title})}),disabled:!n.title,placement:"top",portal:!0,children:l.jsx(IL,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:n.color?MPn[n.color]:void 0,style:{whiteSpace:"nowrap"},children:n.label})},String(r)))})}function LPn(){const{badges:e,editState:t}=gr();return!t||!e?null:l.jsx(M2n,{badges:e,badgeProps:t,children:n=>{let{states:r}=n;return l.jsx(FPn,{states:r})}})}var ave=Object.freeze,BPn=Object.defineProperty,NPn=(e,t)=>ave(BPn(e,"raw",{value:ave(t||e.slice())})),lve;const zPn=P(H)(lve||(lve=NPn([`
  cursor: default;
`])));function VPn(e){const{collapsed:t,disabled:n,lastPublished:r,lastUpdated:o,liveEdit:i}=e,s=Qo(r||"",{minimal:!0,agoSuffix:!0}),a=Qo(r||"",{minimal:!0}),c=Qo(o||"",{minimal:!0,agoSuffix:!0}),u=Qo(o||"",{minimal:!0}),d=Qo(o||"",{minimal:!1,agoSuffix:!0}),f=Qo(r||"",{minimal:!1,agoSuffix:!0}),p=i?"Last updated ".concat(d):"Last published ".concat(f);return l.jsx(zPn,{align:"center","data-ui":"SessionLayout",sizing:"border",children:l.jsx(it,{placement:"top",portal:!0,content:l.jsx(ee,{padding:3,space:3,children:l.jsx(L,{size:1,children:i?l.jsxs(l.Fragment,{children:["Last updated"," ",l.jsx("abbr",{"aria-label":o?d:f,children:o?c:s})]}):l.jsxs(l.Fragment,{children:["Last published ",l.jsx("abbr",{"aria-label":f,children:s})]})})}),children:l.jsx(oe,{mode:"bleed",tone:i?"critical":"positive",tabIndex:-1,disabled:n,"aria-label":p,children:l.jsxs(H,{align:"center",children:[l.jsx(M,{marginRight:t?0:3,children:l.jsx(L,{size:2,"aria-hidden":"true",children:i?l.jsx(U0e,{}):l.jsx(b0,{})})}),!t&&l.jsx(L,{size:1,weight:"medium",children:i?l.jsx("abbr",{"aria-label":p,children:o?u:a}):l.jsx("abbr",{"aria-label":p,children:a})})]})})})})}var cve=Object.freeze,HPn=Object.defineProperty,Iz=(e,t)=>cve(HPn(e,"raw",{value:cve(t||e.slice())})),uve,dve,fve;const UPn=P(id.path)(uve||(uve=Iz([`
  transform-origin: center;
`]))),WPn=e=>l.jsx(id.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...e}),qPn=e=>l.jsx(UPn,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...e}),YPn=e=>l.jsx(id.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...e}),GPn=e=>l.jsx(id.path,{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",...e}),KPn=fm(dve||(dve=Iz([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),ZPn=P.g(fve||(fve=Iz([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),KPn),XPn={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},QPn={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},JPn={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},eRn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}},tRn={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:0,transition:{duration:0}},changes:{pathLength:1,transition:{duration:.4,delay:.5}}};function nRn(e){const{status:t}=e;return t?l.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"",children:l.jsxs(id.g,{variants:XPn,initial:t,animate:t,children:[l.jsxs(ZPn,{"data-rotate":t==="changes"?void 0:"",children:[l.jsx(qPn,{variants:JPn,initial:t,animate:t}),l.jsx(WPn,{variants:QPn,initial:t,animate:t})]}),l.jsx(YPn,{variants:eRn,initial:t,animate:t}),l.jsx(GPn,{variants:tRn,initial:t,animate:t})]})}):null}const rRn=re.forwardRef(function(t,n){const{collapsed:r,status:o,lastUpdated:i,...s}=t,a=Qo(i||"",{minimal:!0}),c=Qo(i||"",{minimal:!0,agoSuffix:!0}),u=Qo(i||"",{minimal:!1,agoSuffix:!0}),d=h.useMemo(()=>o==="syncing"?{text:"Saving...",tone:void 0}:o==="changes"?{text:a,tone:"caution"}:o==="saved"?{text:"Saved!",tone:"positive"}:{},[o,a]);return o?l.jsx(it,{placement:"top",portal:!0,disabled:o!=="changes",content:l.jsxs(ee,{padding:3,space:3,children:[l.jsx(L,{size:1,weight:"semibold",children:"Review changes"}),l.jsxs(L,{size:1,muted:!0,children:["Changes saved ",l.jsx("abbr",{"aria-label":u,children:c})]})]}),children:l.jsx(oe,{mode:"bleed",justify:"flex-start",tone:d==null?void 0:d.tone,...s,"data-testid":"review-changes-button",ref:n,"aria-label":"Review changes",children:l.jsxs(H,{align:"center",children:[l.jsx(M,{marginRight:r?0:3,"aria-hidden":"true",children:l.jsx(L,{children:l.jsx(nRn,{status:o})})}),!r&&l.jsx(L,{size:1,weight:"medium",children:d==null?void 0:d.text})]})})}):null}),oRn=re.memo(rRn),iRn=1e3,sRn=3e3,aRn=h.memo(function(){var t;const{changesOpen:n,documentId:r,documentType:o,editState:i,onHistoryClose:s,onHistoryOpen:a,timelineStore:c,value:u}=gr(),d=fPe(r,o),f=u==null?void 0:u._updatedAt,p=(t=i==null?void 0:i.published)==null?void 0:t._updatedAt,m=!!(i!=null&&i.liveEdit),v=!!(i!=null&&i.published),g=!!(i!=null&&i.draft),[b,x]=h.useState(null),y=Qf(b),w=!y||(y==null?void 0:y.width)<300,[C,_]=h.useState(null),S=uo(c,k=>k.onOlderRevision);h.useEffect(()=>{if(C==="syncing"&&!d.isSyncing){const k=setTimeout(()=>_("saved"),iRn);return()=>clearTimeout(k)}if(C==="saved"){const k=setTimeout(()=>_(null),sRn);return()=>clearTimeout(k)}},[C,f,d.isSyncing]),h.useLayoutEffect(()=>{_(null)},[r]),h.useLayoutEffect(()=>{d.isSyncing&&_("syncing")},[d.isSyncing,f]);const E=h.useMemo(()=>l.jsx(oRn,{lastUpdated:f,status:C||(g?"changes":void 0),onClick:n?s:a,disabled:S,selected:n,collapsed:w}),[g,n,s,a,f,S,C,w]),j=h.useMemo(()=>(m||v)&&l.jsx(M,{marginRight:1,children:l.jsx(VPn,{disabled:S,lastPublished:p,lastUpdated:f,liveEdit:m,collapsed:w})}),[w,p,f,m,v,S]);return l.jsxs(H,{align:"center","data-ui":"DocumentSparkline",ref:x,children:[j,l.jsxs(H,{align:"center",flex:1,children:[E,!w&&l.jsx(M,{marginLeft:3,children:l.jsx(LPn,{})})]})]})});var hve=Object.freeze,lRn=Object.defineProperty,cRn=(e,t)=>hve(lRn(e,"raw",{value:hve(t||e.slice())})),pve;const uRn=P(M)(pve||(pve=cRn([`
  min-width: 10em;
  max-width: 16em;
`])));function dRn(e){const{actionsBoxRef:t}=e,{badges:n,timelineStore:r}=gr(),o=uo(r,i=>i.onOlderRevision);return h.useMemo(()=>l.jsx(M,{paddingLeft:2,paddingRight:[2,3],paddingY:2,children:l.jsxs(H,{align:"center",children:[l.jsx(M,{flex:[1,2],children:n&&l.jsx(aRn,{})}),l.jsx(uRn,{flex:1,marginLeft:[1,3],ref:t,children:o?l.jsx($Pn,{}):l.jsx(RPn,{})})]})}),[t,n,o])}function fRn(e){const{actionsBoxElement:t,activeIndex:n,as:r="div",children:o,id:i,onActionStart:s,onKeyDown:a,rootRef:c,states:u,...d}=e,f=u[n],p=h.useCallback(m=>{const v=u.filter(b=>b.shortcut&&bi(b.shortcut,m)),g=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(g.shortcut,'"')),g&&!g.disabled&&g.onHandle){m.preventDefault(),g.onHandle(),s(u.indexOf(g));return}a&&a(m)},[s,a,u]);return h.createElement(r,{id:i,onKeyDown:p,tabIndex:-1,...d,ref:c},[o,f&&f.dialog&&l.jsx(Zu,{zOffset:"paneFooter",children:l.jsx(Dz,{dialog:f.dialog,referenceElement:t})})])}const pMe=re.memo(e=>{const{actionsBoxElement:t,as:n="div",children:r,...o}=e,{actions:i,editState:s}=gr(),[a,c]=h.useState(-1),u=h.useCallback(f=>{c(f)},[]),d=h.useMemo(()=>s&&{...s,onComplete:()=>{},revision:void 0},[s]);return!d||!i?null:l.jsx(az,{actionProps:d,actions:i,children:f=>{let{states:p}=f;return l.jsx(fRn,{...o,activeIndex:a,actionsBoxElement:t,as:n,onActionStart:u,states:p,children:r})}})});pMe.displayName="DocumentActionShortcuts";var mve=Object.freeze,hRn=Object.defineProperty,pRn=(e,t)=>mve(hRn(e,"raw",{value:mve(t||e.slice())})),gve;const vve=["fixed","fixed","absolute"],mRn=P($Wt)(gve||(gve=pRn([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`]))),f$n=h.memo(function(t){const{name:n}=Ln();return l.jsx(TN,{name:t.pane.source||n,children:l.jsx(gRn,{...t})})});function gRn(e){var t;const{pane:n,paneKey:r}=e,{resolveNewDocumentOptions:o}=Ln().document,i=Wc(),s=vRn(n.options,i.params),{documentType:a,isLoaded:c}=hxn(s.id,s.type),u=h.useMemo(()=>o({type:"document",documentId:s.id,schemaType:s.type}),[s.id,s.type,o]),[d,f]=ZN({templateItems:u}),p=c&&!f,m=h.useMemo(()=>p&&a&&s.type!==a?yRn(e,s,a):e,[e,a,p,s]),{ReferenceChildLink:v,handleEditReference:g,groupIndex:b,routerPanesState:x}=i,y=((t=x[b+1])==null?void 0:t[0].params)||{},w=x.length,{parentRefPath:C}=y,_=h.useMemo(()=>C?{path:Tl(C),state:b>=w-1?"none":b>=w-2?"selected":"pressed"}:{path:[],state:"none"},[C,b,w]);return s.type==="*"&&!p?l.jsx(sMe,{flex:2.5,minWidth:320,paneKey:r,title:"Loading document…"}):a?l.jsx(aMe,{...m,children:l.jsx(Ten,{EditReferenceLinkComponent:v,onEditReference:g,initialValueTemplateItems:d,activePath:_,children:l.jsx(bRn,{})})},"".concat(a,"-").concat(s.id)):l.jsx(iMe,{flex:2.5,minWidth:320,paneKey:r,title:l.jsx(l.Fragment,{children:"The document was not found"}),children:l.jsx(ee,{space:4,children:l.jsxs(L,{as:"p",children:["The document type is not defined, and a document with the ",l.jsx("code",{children:s.id})," ","identifier could not be found."]})})})}function vRn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=c1();return h.useMemo(()=>{if(e.type&&e.type!=="*")return e;const r=e.template||t.template,o=r?n.find(s=>s.id===r):void 0,i=o==null?void 0:o.schemaType;return i?{...e,type:i}:e},[e,t.template,n])}function yRn(e,t,n){return{...e,pane:{...e.pane,options:{...t,type:n}}}}function bRn(){const{changesOpen:e,documentType:t,inspector:n,inspectOpen:r,onFocus:o,onPathOpen:i,onHistoryOpen:s,onKeyUp:a,paneKey:c,schemaType:u,value:d}=gr(),{collapsed:f}=d1(),p=VAe(),[m,v]=h.useState(null),[g,b]=h.useState(null),[x,y]=h.useState(null),[w,C]=h.useState(null),_=Qf(g),S=_==null?void 0:_.height,E=h.useCallback(T=>{i(T),o(T)},[i,o]),j=CEn+(n?tF:0),k=wEn+(n?tF:0);return u?l.jsxs(pMe,{actionsBoxElement:x,as:mD,currentMinWidth:j,"data-testid":"document-pane",flex:2.5,id:c,minWidth:k,onKeyUp:a,rootRef:v,children:[l.jsx(h$,{position:vve,zOffset:p.portal,children:l.jsx(H,{direction:"column",flex:1,height:f?void 0:"fill",children:l.jsx(mRn,{"data-testid":"change-connector-root",isReviewChangesOpen:e,onOpenReviewChanges:s,onSetFocus:E,children:l.jsx(EPn,{footerHeight:S||null,isInspectOpen:r,rootElement:m,setDocumentPanelPortalElement:C})})})}),l.jsx(ad,{__unstable_elements:{[_Re]:w},children:l.jsx(h$,{position:vve,zOffset:p.portal,children:l.jsx(_Sn,{ref:b,children:l.jsx(dRn,{actionsBoxRef:y})})})}),l.jsx(ROn,{})]}):l.jsx(iMe,{currentMinWidth:j,flex:2.5,minWidth:k,paneKey:c,title:l.jsxs(l.Fragment,{children:["Unknown document type: ",l.jsx("code",{children:t})]}),tone:"caution",children:l.jsxs(ee,{space:4,children:[t&&l.jsxs(L,{as:"p",children:["This document has the schema type ",l.jsx("code",{children:t}),", which is not defined as a type in the local content studio schema."]}),!t&&l.jsx(L,{as:"p",children:"This document does not exist, and no schema type was specified for it."}),Vc]})})}const yve=100,yF=2e3,mMe={by:[{field:"_updatedAt",direction:"desc"}]},xRn={};function wRn(e){return CA(e).map(t=>({...t.draft||t.published,hasPublished:!!t.published,hasDraft:!!t.draft}))}const CRn=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function gMe(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=e.match(CRn);if(!n)return null;const r=(n[1]||n[2]).trim().replace(/^["']|["']$/g,"");if(r[0]==="$"){const o=r.slice(1),i=t[o];return typeof i=="string"?i:null}return r}function _Rn(e){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(e.trim())}function SRn(e,t){const n=e.by.map(r=>{if(r.mapWith)return r;const o=ERn(t,r.field);return o?jRn(o,"datetime")?{...r,mapWith:"dateTime"}:o.jsonType==="string"?{...r,mapWith:"lower"}:r:r});return n.every((r,o)=>r===e.by[o])?e:{...e,by:n}}function ERn(e,t){const n=Tl(t);let r=e;for(const o of n){if(!r)return;if(typeof o=="string"){r=kRn(r,o);continue}if(!(Mr(o)||Cl(o))||r.jsonType!=="array")return;const[s,a]=r.of||[];if(a||!s)return;if(!Du(s)){r=s;continue}const[c,u]=s.to||[];if(u||!c)return;r=c}return r}function kRn(e,t){if(!("fields"in e))return;const n=e.fields.find(r=>r.name===t);return n?n.type:void 0}function jRn(e,t){let n=e.type;for(;n;){if(n.name===t||!n.type&&n.jsonType===t)return!0;n=n.type}return!1}var bve=Object.freeze,TRn=Object.defineProperty,vMe=(e,t)=>bve(TRn(e,"raw",{value:bve(t||e.slice())})),xve,wve;const ARn=P(M)(xve||(xve=vMe([`
  position: relative;
`]))),DRn=P(M)(wve||(wve=vMe([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),IRn=[...Array(30).keys()];function ORn(e){const{layout:t}=e;return l.jsx(ee,{padding:2,space:1,children:IRn.map(n=>l.jsx(Q,{padding:2,children:l.jsx(fh,{isPlaceholder:!0,layout:t})},n))})}function PRn(e){const{childItemId:t,error:n,filterIsSimpleTypeConstraint:r,hasMaxItems:o,hasSearchQuery:i,isActive:s,isLazyLoading:a,isLoading:c,items:u,layout:d,loadingVariant:f,onListChange:p,onRetry:m,paneTitle:v,searchInputElement:g,showIcons:b}=e,x=jn(),{collapsed:y}=d1(),{collapsed:w,index:C}=gh(),[_,S]=h.useState(!1),E=h.useCallback(()=>{c||a||!_||p()},[a,c,p,_]);h.useEffect(()=>{if(w)return;const A=setTimeout(()=>{S(!0)},0);return()=>{clearTimeout(A)}},[w,u]);const j=h.useCallback((A,D)=>{let{activeIndex:I}=D;const O=$n(A._id),$=t===O,R=!s&&$,z=s&&$,B=I===u.length-1,U=B&&a,W=B&&o;return l.jsxs(l.Fragment,{children:[l.jsx(KSn,{icon:b===!1?!1:void 0,id:O,layout:d,marginBottom:1,pressed:R,schemaType:x.get(A._type),selected:z,value:A}),U&&l.jsx(H,{align:"center",justify:"center",padding:4,children:l.jsx(hr,{muted:!0})}),W&&l.jsx(M,{marginY:1,paddingX:3,paddingY:4,children:l.jsxs(L,{align:"center",muted:!0,size:1,children:["Displaying a maximum of ",yF," documents"]})})]})},[t,s,u.length,d,x,b,o,a]),k=h.useMemo(()=>i?l.jsx(H,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(eo,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:"No results found"})})})}):l.jsx(H,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(eo,{width:1,children:l.jsx(M,{paddingX:4,paddingY:5,children:l.jsx(L,{align:"center",muted:!0,children:r?"No documents of this type":"No matching documents"})})})}),[r,i]),T=h.useMemo(()=>{if(!_)return null;if(n)return l.jsx(H,{align:"center",direction:"column",height:"fill",justify:"center",children:l.jsx(eo,{width:1,children:l.jsxs(ee,{paddingX:4,paddingY:5,space:4,children:[l.jsx(Wo,{as:"h3",children:"Could not fetch list items"}),l.jsxs(L,{as:"p",children:["Error: ",l.jsx("code",{children:n.message})]}),m&&l.jsx(M,{children:l.jsx(oe,{icon:x0,onClick:m,text:"Retry",tone:"primary"})})]})})});if(!c&&u.length===0)return k;if(f==="initial"&&c)return l.jsx(sz,{ms:300,children:l.jsx(ORn,{layout:d})});if(f==="spinner"&&c)return null;const A="".concat(C,"-").concat(w);return l.jsx(ARn,{overflow:"hidden",height:"fill",children:l.jsx(DRn,{children:l.jsx(uh,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,focusRingOffset:-3,inputElement:g,itemHeight:51,items:u,onEndReached:E,onlyShowSelectionWhenActive:!0,overscan:10,padding:2,paddingBottom:1,renderItem:j,wrapAround:!1},A)})})},[w,n,E,C,c,u,d,f,m,j,g,_]);return l.jsx(gD,{overflow:y||f==="initial"?"hidden":"auto",children:T})}const yMe=h.memo(e=>{let{contentAfter:t,index:n,initialValueTemplates:r=[],menuItemGroups:o=[],menuItems:i=[],setLayout:s,setSortOrder:a,title:c}=e;const{features:u}=y1(),{collapsed:d,isLast:f}=gh(),p=f&&!d?-1:0,m=h.useMemo(()=>({setLayout:v=>{let{layout:g}=v;s(g)},setSortOrder:v=>{a(v)}}),[s,a]);return l.jsx(lz,{actions:l.jsx(qSn,{initialValueTemplateItems:r,actionHandlers:m,menuItemGroups:o,menuItems:i}),backButton:u.backButton&&n>0&&l.jsx(oe,{as:q2n,"data-as":"a",icon:lw,mode:"bleed"}),contentAfter:t,tabIndex:p,title:c})});yMe.displayName="DocumentListPaneHeader";function RRn(e){const{client:t,schema:n,sort:r,limit:o,params:i,filter:s,searchQuery:a,staticTypeNames:c}=e,u=r.by,d=r==null?void 0:r.extendedProjection,f=go(()=>t.listen("*[".concat(s,"]"),i,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(ft((v,g)=>g===0&&v.type!=="welcome"?zu(()=>new Error(v.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(v.type,'"'))):ve(v)),oa()),[p,m]=JL(f,v=>v.type==="welcome");return an(p.pipe(ji(1)),m.pipe(cx(1e3,Dl,{leading:!0,trailing:!0}))).pipe(D7(v=>(c?ve(c):t.observable.fetch("array::unique(*[".concat(s,"][]._type)"),i)).pipe(ft(b=>{const x=b.flatMap(E=>n.get(E)||[]),y={filter:s,query:a||"",types:x},w={__unstable_extendedProjection:d,comments:["findability-source: ".concat(a?"list-query":"list")],limit:o,params:i,sort:u},{query:C,params:_}=lDe(y,w),S=()=>t.observable.fetch(C,_);return v.type==="mutation"&&v.visibility!=="query"?Uo(1200).pipe(ft(S)):S()}))))}const $Rn=[],Cve={error:null,onRetry:void 0,result:null},MRn={result:null,error:null};function FRn(e){const{filter:t,params:n,sortOrder:r,searchQuery:o,apiVersion:i}=e,s=mr({...cn,apiVersion:i||cn.apiVersion}),a=jn(),[c,u]=h.useState(Cve),{onRetry:d,error:f,result:p}=c,m=p==null?void 0:p.documents,v=h.useMemo(()=>m?wRn(m):$Rn,[m]),[g,b]=h.useState(!1),[x,y]=h.useState(!1),[w,C]=h.useState(!1),_=h.useMemo(()=>gMe(t,n),[t,n]),S=p===null&&!f,E=(m==null?void 0:m.length)===yF,j=h.useCallback(()=>{S||x||w||C(!0)},[S,x,w]),k=h.useCallback(D=>{var I,O;if(D.error){u(D);return}const $=((O=(I=D.result)==null?void 0:I.documents)==null?void 0:O.length)||0;if(!D.error&&(D==null?void 0:D.result)===null&&w){b(!0);return}if($<yve&&$!==0&&!w&&y(!0),(D==null?void 0:D.result)===null){u(z=>({...z.error?D:z}));return}b(!1),u(D)},[w]),T=h.useMemo(()=>{const D=new Er,I=()=>D.next();return RRn({client:s,filter:t,limit:w?yF:yve,params:n,schema:a,searchQuery:o||"",sort:r||mMe,staticTypeNames:_?[_]:void 0}).pipe(le(R=>({result:{documents:R},error:null})),oi(MRn),Rn(R=>R instanceof ProgressEvent?zu(()=>new Error("Request error")):zu(()=>R)),Rn((R,z)=>Wr(ve({result:null,error:R}),an(Pi(window,"online"),D).pipe(ji(1),ft(()=>z)))),ra((R,z)=>({...R,...z,onRetry:I})))},[s,t,n,a,o,w,r,_]);h.useEffect(()=>{const D=T.subscribe(k);return()=>{D.unsubscribe()}},[k,T]);const A=h.useCallback(()=>{y(!1),b(!1),u(Cve),C(!1)},[]);return h.useEffect(()=>{A()},[A,t,n,r,o]),{error:f,hasMaxItems:E,isLazyLoading:g,isLoading:S,isSearchReady:!f,items:v,onListChange:j,onRetry:d}}var _ve=Object.freeze,LRn=Object.defineProperty,Oz=(e,t)=>_ve(LRn(e,"raw",{value:_ve(t||e.slice())})),Sve,Eve,kve;const bF=[],BRn=fm(Sve||(Sve=Oz([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),NRn=P(uw)(Eve||(Eve=Oz([`
  animation: `,` 500ms linear infinite;
`])),BRn),zRn=P(Q)(kve||(kve=Oz([`
  [data-ui='TextInput'] {
    border-radius: inherit;
  }
`])));function VRn(e){const t=h.useRef(e);return Vu(t.current,e)||(t.current=e),t.current}const HRn=e=>{const{menuItems:t,sortOrderRaw:n,layout:r}=e;return t==null?void 0:t.map(o=>{var i,s,a,c;return(i=o.params)!=null&&i.layout?{...o,selected:r===((s=o.params)==null?void 0:s.layout)}:(a=o==null?void 0:o.params)!=null&&a.by?{...o,selected:Ut(n==null?void 0:n.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||bF)}:{...o,selected:!1}})},h$n=h.memo(function(t){const{childItemId:n,index:r,isActive:o,isSelected:i,pane:s,paneKey:a}=t,c=jn(),{name:u}=Ln(),{defaultLayout:d="default",displayOptions:f,initialValueTemplates:p=bF,menuItemGroups:m,menuItems:v,options:g,title:b}=s,{apiVersion:x,defaultOrdering:y=bF,filter:w}=g,C=VRn(g.params||xRn),_=s.source,S=h.useMemo(()=>gMe(w,C),[w,C]),E=(f==null?void 0:f.showIcons)!==!1,[j,k]=vF(S,"layout",d),[T,A]=h.useState(""),[D,I]=h.useState(""),[O,$]=h.useState(null),R=h.useRef(!1),z=h.useMemo(()=>(y==null?void 0:y.length)>0?{by:y}:mMe,[y]),[B,U]=vF(S,"sortOrder",z),W=S&&B?SRn(B,c.get(S)):B,V=No(W),K=_Rn(w),{error:te,hasMaxItems:N,isLazyLoading:G,isLoading:q,isSearchReady:Z,items:ie,onListChange:ne,onRetry:Y}=FRn({apiVersion:x,filter:w,params:C,searchQuery:T==null?void 0:T.trim(),sortOrder:V}),X=h.useMemo(()=>HRn({menuItems:v,sortOrderRaw:B,layout:j}),[j,v,B]),ae=nT(pe=>pe.pipe(le(be=>be.target.value),Cn(I),e8(be=>be===""?ve(""):Uo(300)),Cn(A)),[]),he=h.useCallback(()=>{A(""),I("")},[]),ce=h.useCallback(pe=>{pe.key==="Escape"&&he()},[he]);h.useEffect(()=>(R.current===!1&&!q&&(R.current=!0),()=>{R.current=!1}),[q]),h.useEffect(()=>{he(),R.current=!1},[a,he]);const xe=h.useMemo(()=>q&&ie.length===0&&R.current?"spinner":"initial",[q,ie.length]),Se=l.jsx(M,{paddingX:2,paddingBottom:2,children:l.jsx(zRn,{radius:4,tone:"transparent",children:l.jsx(Lr,{"aria-label":"Search list",autoComplete:"off",border:!1,clearButton:!!T,disabled:!Z,fontSize:[2,2,1],icon:xe==="spinner"?NRn:ei,onChange:ae,onClear:he,onKeyDown:ce,placeholder:"Search list",radius:2,ref:$,spellCheck:!1,value:D})})});return l.jsx(TN,{name:_||u,children:l.jsxs(mD,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:a,maxWidth:640,minWidth:320,selected:i,children:[rEn,l.jsx(yMe,{contentAfter:Se,index:r,initialValueTemplates:p,menuItemGroups:m,menuItems:X,setLayout:k,setSortOrder:U,title:b}),l.jsx(PRn,{childItemId:n,error:te,filterIsSimpleTypeConstraint:K,hasMaxItems:N,hasSearchQuery:!!T,isActive:o,isLazyLoading:G,isLoading:q,items:ie,layout:j,loadingVariant:xe,onListChange:ne,onRetry:Y,paneTitle:b,searchInputElement:O,showIcons:E},a)]})})}),URn={}.NEXT_PUBLIC_SANITY_API_VERSION||"2023-11-21",WRn={}.NEXT_PUBLIC_SANITY_DATASET,qRn={}.NEXT_PUBLIC_SANITY_PROJECT_ID,YRn={types:[]},GRn={basePath:"/studio",projectId:qRn,dataset:WRn,schema:YRn,plugins:[L3n(),pCn({defaultApiVersion:URn})]};vbn(document.getElementById("sanity"),GRn,{reactStrictMode:!1,basePath:"/"});export{Wo as $,lw as A,oe as B,uh as C,f$n as D,Jj as E,n$n as F,ad as G,c$n as H,Ul as I,u$n as J,j0 as K,sMe as L,TN as M,d$n as N,Nr as O,mD as P,Y2n as Q,s$n as R,lx as S,a$n as T,Ri as U,pD as V,le as W,ln as X,Q as Y,eo as Z,rEn as _,h$n as a,ee as a0,Ht as a1,lr as a2,L as a3,n9 as a4,x0 as a5,H as a6,Br as a7,oi as a8,ra as a9,Mf as aA,Lr as aB,Zt as aC,it as aD,Iu as aE,la as aF,NL as aG,u8e as aH,U0e as aI,mr as aJ,hr as aK,g_e as aL,aw as aM,P2n as aN,dr as aO,rn as aP,IL as aQ,Rv as aR,fe as aS,rt as aa,Jn as ab,fCe as ac,ud as ad,VN as ae,EB as af,Utt as ag,jr as ah,ve as ai,Wr as aj,QL as ak,l$n as al,m1t as am,bl as an,yl as ao,ws as ap,Ie as aq,t1e as ar,re as as,KRn as at,Ept as au,Hu as av,ge as aw,de as ax,$2n as ay,nn as az,kr as b,lz as c,qSn as d,q2n as e,gh as f,M as g,d1 as h,KSn as i,l as j,gD as k,Wt as l,Nl as m,xT as n,vn as o,xt as p,ol as q,h as r,P as s,R8 as t,y1 as u,Ut as v,bi as w,qo as x,jn as y,As as z};
